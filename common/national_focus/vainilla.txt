focus_tree = {
	id = australian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = AST
			has_dlc = "Together for Victory"
			always = no
		}

		#modifier = {
		#	add = 10
		#	original_tag = AST
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no
	
	continuous_focus_position = { x = 50 y = 1000 }

#	focus = {
#		id = AST_
#		icon = GFX_goal_generic_construction
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -1
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = AST_additional_militia_training
		icon = GFX_goal_generic_allies_build_infantry
		x = 2
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = AST_additional_militia_training
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = AST_royal_australian_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = AST_additional_militia_training }
		x = -1
		y = 1
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = AST_royal_australian_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = AST_promote_reservists
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = AST_additional_militia_training }
		x = 1
		y = 1
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = AST_promote_reservists
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = AST_new_general_tt
			hidden_effect = {
				create_corps_commander = {
					name = "Iven Mackay"
					gfx = "GFX_AST_iven_mackay"
					traits = { }
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
			}		
		}
	}

	focus = {
		id = AST_daimler_dingo
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = AST_royal_australian_artillery }
		x = -2
		y = 2
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 1.00
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = AST_hmas_assault
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = AST_royal_australian_artillery focus = AST_promote_reservists }
		x = 0
		y = 2
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = AST_hmas_assault
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = AST_hmas_assault
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
		}
	}

	focus = {
		id = AST_specialize_equipment
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = AST_promote_reservists }
		x = 2
		y = 2
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = AST_specialize_equipment
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = AST_australian_womens_army_service
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = AST_hmas_assault }
		x = -1
		y = 3
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			
			add_ideas = AST_australian_womens_army_service
		}
	}

	focus = {
		id = AST_australian_army_catering_corps
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = AST_hmas_assault }
		x = 0
		y = 4
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_fund_owen_gun_research
				bonus = 3.0
				uses = 1
				technology = tech_logistics_company
				technology = tech_logistics_company2
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
			
			
		}
	}

	focus = {
		id = AST_fund_owen_gun_research
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = AST_hmas_assault }
		x = 1
		y = 3
		relative_position_id = AST_additional_militia_training
		
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_fund_owen_gun_research
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = AST_sentinel_tank_project
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = AST_daimler_dingo }
		x = -2
		y = 4
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_sentinel_tank_project
				bonus = 1.0
				uses = 2
				category = armor
			}
		}
	}

	focus = {
		id = AST_airborne_defence
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = AST_specialize_equipment }
		prerequisite = { focus = AST_volunteer_air_observers_corps }
		x = 2
		y = 4
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_airborne_defence
				bonus = 3.0
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = AST_introduce_unconventional_warfare
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = AST_sentinel_tank_project focus = AST_airborne_defence }
		x = 0
		y = 5
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = AST_introduce_unconventional_warfare
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = AST_z_special_unit
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = AST_introduce_unconventional_warfare }
		x = -1
		y = 6
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_z_special_unit
				bonus = 3.0
				uses = 1
				category = marine_tech
				category = para_tech
			}
		}
	}

	focus = {
		id = AST_m_special_unit
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = AST_introduce_unconventional_warfare }
		x = 1
		y = 6
		relative_position_id = AST_additional_militia_training

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_m_special_unit
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				technology = tech_recon
				technology = tech_recon2
				technology = tech_recon3
				technology = tech_recon4
			}
		}
	}

	############################
	####### AIR SECTION ########
	############################


	focus = {
		id = AST_expand_the_raaf
		icon = GFX_goal_generic_build_airforce
		x = 7
		y = 0
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = AST_expand_the_raaf_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = AST_expand_the_raaf
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_expand_the_raaf_AB
			}
			add_tech_bonus = {
				name = AST_expand_the_raaf
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = AST_cac_boomerang
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = AST_expand_the_raaf }
		x = -1
		y = 1
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_cac_boomerang
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
		}
	}

	focus = {
		id = AST_expand_northern_presence
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = AST_expand_the_raaf }
		x = 0
		y = 2
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = AST_expand_northern_presence_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = AST_expand_northern_presence
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				prioritize = { 521 520 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_expand_the_raaf_AB
			}
			add_tech_bonus = {
				name = AST_expand_northern_presence
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = AST_cac_woomera
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = AST_expand_the_raaf }
		relative_position_id = AST_expand_the_raaf

		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_cac_woomera
				bonus = 3.0
				uses = 1
				category = cat_strategic_bomber
				category = tactical_bomber
				category = naval_air
			}
			add_tech_bonus = {
				name = AST_cac_woomera
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
			}
		}
	}

	focus = {
		id = AST_volunteer_air_observers_corps
		icon = GFX_goal_generic_radar
		prerequisite = { focus = AST_cac_boomerang focus = AST_expand_northern_presence }
		relative_position_id = AST_expand_the_raaf

		x = -1
		y = 3
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = radio
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			add_tech_bonus = {
				name = AST_volunteer_air_observers_corps
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
			random_state = {
				limit = {
					has_state_flag = AST_volunteer_air_observers_corps_radar1
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = AST_volunteer_air_observers_corps_radar2
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = AST_volunteer_air_observers_corps_radar3
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = AST_volunteer_air_observers_corps
				bonus = 1.0
				uses = 1
				category = radar_tech
			}

			if = {
				limit = { has_tech = radio_detection }
				random_owned_controlled_state = {
					prioritize = { 521 }
					limit = {
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = AST_volunteer_air_observers_corps_radar1
				}

				random_owned_controlled_state = {
					prioritize = { 285 }
					limit = {
						NOT = { has_state_flag = AST_volunteer_air_observers_corps_radar1 }
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = AST_volunteer_air_observers_corps_radar2
				}

				random_owned_controlled_state = {
					prioritize = { 520 }
					limit = {
						NOT = { has_state_flag = AST_volunteer_air_observers_corps_radar1 }
						NOT = { has_state_flag = AST_volunteer_air_observers_corps_radar2 }
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = AST_volunteer_air_observers_corps_radar3
				}
				else = {
					set_technology = {
						radio_detection = 1
					}
					effect_tooltip = {
						random_owned_controlled_state = {
							prioritize = { 521 }
							limit = {
								is_in_home_area = yes
							}
							add_building_construction = {
								type = radar_station
								level = 1
								instant_build = yes
							}
						}

						random_owned_controlled_state = {
							prioritize = { 285 }
							limit = {
								NOT = { has_state_flag = AST_volunteer_air_observers_corps_radar1 }
								is_in_home_area = yes
							}
							add_building_construction = {
								type = radar_station
								level = 1
								instant_build = yes
							}
						}
					}
					random_owned_controlled_state = {
						prioritize = { 521 }
						limit = {
							is_in_home_area = yes
							free_building_slots = {
								building = radar_station
								size > 0
							}
						}
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
						set_state_flag = AST_volunteer_air_observers_corps_radar1
					}

					random_owned_controlled_state = {
						prioritize = { 285 }
						limit = {
							NOT = { has_state_flag = AST_volunteer_air_observers_corps_radar1 }
							is_in_home_area = yes
							free_building_slots = {
								building = radar_station
								size > 0
							}
						}
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
						set_state_flag = AST_volunteer_air_observers_corps_radar2
					}
				}
			}
		}
	}

	focus = {
		id = AST_naval_bombers
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = AST_cac_woomera }
		x = 1
		y = 3
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_naval_bombers
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = AST_death_from_down_under
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = AST_volunteer_air_observers_corps }
		x = -1
		y = 5
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = AST_death_from_down_under_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_state = {				
				limit = {
					has_state_flag = AST_death_from_down_under_AA1
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			random_state = {				
				limit = {
					has_state_flag = AST_death_from_down_under_AA2
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			random_state = {				
				limit = {
					has_state_flag = AST_death_from_down_under_AA3
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = AST_death_from_down_under
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_death_from_down_under_AB
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = anti_air_building
						size > 1
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_death_from_down_under_AA1
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = anti_air_building
						size > 1
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_death_from_down_under_AA2
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = anti_air_building
						size > 1
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_death_from_down_under_AA3
			}

			add_tech_bonus = {
				name = AST_death_from_down_under
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = AST_womens_auxilliary_australian_air_force
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = AST_volunteer_air_observers_corps focus = AST_naval_bombers }
		x = 0
		y = 4
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {  }

		completion_reward = {
			air_experience = 50
			set_rule = {
				can_generate_female_aces = yes
			}
		}
	}

	focus = {
		id = AST_dominate_the_skies
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = AST_womens_auxilliary_australian_air_force }
		x = 1
		y = 5
		relative_position_id = AST_expand_the_raaf

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = AST_dominate_the_skies_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = AST_dominate_the_skies
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_dominate_the_skies_AB
			}
			add_tech_bonus = {
				name = AST_expand_the_raaf
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	############################
	###### NAVY SECTION ########
	############################


	focus = {
		id = AST_cockatoo_island_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 11
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = AST_cockatoo_island_shipyards_DY
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 285 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = AST_cockatoo_island_shipyards_DY
			}
		}
	}

	focus = {
		id = AST_protect_overseas_commerce
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = AST_cockatoo_island_shipyards }
		mutually_exclusive = { focus = AST_fly_the_jolly_roger }
		x = -1
		y = 1
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_protect_overseas_commerce
				bonus = 1.0
				uses = 2
				category = fleet_in_being_tree
				category = convoy_defense_tree
			}
		}
	}

	focus = {
		id = AST_fly_the_jolly_roger
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = AST_cockatoo_island_shipyards }
		mutually_exclusive = { focus = AST_protect_overseas_commerce }
		x = 1
		y = 1
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_fly_the_jolly_roger
				bonus = 1.0
				uses = 2
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = AST_scrap_iron_flotilla
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = AST_protect_overseas_commerce focus = AST_fly_the_jolly_roger }
		x = -1
		y = 2
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_scrap_iron_flotilla
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = AST_royal_australian_submarine_service
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = AST_protect_overseas_commerce focus = AST_fly_the_jolly_roger }
		x = 1
		y = 2
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_royal_australian_submarine_service
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = AST_naval_auxiliary_patrol
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = AST_royal_australian_submarine_service focus = AST_scrap_iron_flotilla }
		x = 0
		y = 3
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  }

		completion_reward = {
			add_ideas = AST_naval_auxiliary_patrol
		}
	}

	focus = {
		id = AST_cruisers
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = AST_naval_auxiliary_patrol }
		x = -1
		y = 4
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_cruisers
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = AST_pacific_area_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = AST_naval_auxiliary_patrol }
		x = 1
		y = 4
		relative_position_id = AST_cockatoo_island_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH  }

		completion_reward = {
			add_tech_bonus = {
				name = AST_pacific_area_navy
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
		}
	}


	############################
	##### INDUSTRY SECTION #####
	############################


	focus = {
		id = AST_standard_gauge_railway
		icon = GFX_goal_generic_construct_infrastructure
		x = 14
		y = 0

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_standard_gauge_railway_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			random_state = {
				limit = {
					has_state_flag = AST_standard_gauge_railway_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 285 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_standard_gauge_railway_Inf1
			}

			random_owned_controlled_state = {
				prioritize = { 674 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_standard_gauge_railway_Inf2
			}
		}
	}

	focus = {
		id = AST_industries_assistance_corporation
		icon = GFX_goal_generic_production
		x = 2
		y = 0
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}			
		}
	}

	focus = {
		id = AST_western_australian_government_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = AST_standard_gauge_railway }
		prerequisite = { focus = AST_industries_assistance_corporation }
		x = 1
		y = 1
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_western_australian_government_railways_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					has_state_flag = AST_western_australian_government_railways_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 522 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_western_australian_government_railways_Inf1
			}

			random_owned_controlled_state = {
				prioritize = { 674 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_western_australian_government_railways_Inf2
			}
		}
	}

	focus = {
		id = AST_south_australian_housing_trust
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = AST_western_australian_government_railways }
		x = 0
		y = 2
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_south_australian_housing_trust_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 519 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_south_australian_housing_trust_IC
			}
		}
	}

	focus = {
		id = AST_department_of_supply_and_development
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = AST_western_australian_government_railways }
		x = 2
		y = 2
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_department_of_supply_and_development_AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 285 517 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_department_of_supply_and_development_AF
			}
		}
	}

	focus = {
		id = AST_expand_lithgow_small_arms_factory
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = AST_south_australian_housing_trust }
		x = 0
		y = 3
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_expand_lithgow_small_arms_factory_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 285 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_expand_lithgow_small_arms_factory_AF
			}
		}
	}

	focus = {
		id = AST_allied_works_council
		icon = GFX_goal_generic_production2
		prerequisite = { focus = AST_department_of_supply_and_development }
		prerequisite = { focus = AST_civil_construction_corps }
		x = 2
		y = 3
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_allied_works_council_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = AST_allied_works_council_IC2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {					
					is_in_home_area = yes					
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_allied_works_council_IC1
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes					
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_allied_works_council_IC2
			}
		}
	}

	focus = {
		id = AST_expand_the_northern_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = AST_expand_lithgow_small_arms_factory }
		x = 0
		y = 4
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = AST_expand_the_northern_railway_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 520 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_expand_the_northern_railway_Inf
			}
		}
	}

	focus = {
		id = AST_australian_arms_production
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = AST_allied_works_council }
		x = 2
		y = 4
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = AST_australian_arms_production
		}
	}

	focus = {
		id = AST_uranium_mining
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = AST_expand_the_northern_railway }
		prerequisite = { focus = AST_australian_arms_production }
		x = 1
		y = 5
		relative_position_id = AST_standard_gauge_railway

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = AST_uranium_mining
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	############################
	#### WAR PREP SECTION ######
	############################

	focus = {
		id = AST_establish_advisory_war_council
		icon = GFX_goal_generic_demand_territory
		x = 22
		y = 0

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			OR = {
				threat > 0.20
				has_war = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = AST_national_security_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = AST_establish_advisory_war_council }
		x = -2
		y = 1
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = AST_great_depression_1
				add_idea = AST_great_depression_2
			}
		}
	}

	focus = {
		id = AST_volunteer_defence_corps
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = AST_establish_advisory_war_council }
		x = 2
		y = 1
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = AST_volunteer_defence_corps
		}
	}

	focus = {
		id = AST_civil_construction_corps
		icon = GFX_goal_generic_production2
		prerequisite = { focus = AST_national_security_act }
		x = -4
		y = 2
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = AST_great_depression_2
				add_idea = AST_great_depression_3
			}
		}
	}

	focus = {
		id = AST_army_inventions_directorate
		icon = GFX_focus_research
		prerequisite = { focus = AST_national_security_act }
		x = -2
		y = 2
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = AST_invest_in_victory
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = AST_national_security_act }
		x = 0
		y = 2
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = AST_invest_in_victory
		}
	}

	focus = {
		id = AST_citizen_military_forces
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = AST_volunteer_defence_corps }
		x = 2
		y = 2
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = AST_citizen_military_forces
		}
	}

	focus = {
		id = AST_rats_of_tobruk
		icon = GFX_focus_AST_rats_tobruk
		prerequisite = { focus = AST_volunteer_defence_corps }
		prerequisite = { focus = AST_strengthen_ties_with_uk }
		x = 4
		y = 2
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			#Requires UK at war in Africa
			any_country = {
				has_war_with = ENG
				any_state = {
					is_controlled_by = PREV
					is_on_continent = africa
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  }

		completion_reward = {
			#Starts with recon and engineers
			hidden_effect = {
				if = {
					limit = {
						has_tech = tech_logistics_company
					}
					division_template = {
						name = "Rats of Tobruk"
						division_names_group = AST_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
							infantry = { x = 3 y = 0 }
							infantry = { x = 3 y = 1 }
						}
						support = {
					        recon = { x = 0 y = 0 }
					        engineer = { x = 0 y = 1 }
					        logistics_company = { x = 0 y = 2 }
						}
					}
					else = {
						division_template = {
							name = "Rats of Tobruk"
							division_names_group = AST_INF_01
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
								infantry = { x = 2 y = 2 }
								infantry = { x = 3 y = 0 }
								infantry = { x = 3 y = 1 }
							}
							support = {
						        recon = { x = 0 y = 0 }
						        engineer = { x = 0 y = 1 }
							}
						}
					}
				}

				#Spawn unit in Africa
				if = {
					limit = {
						any_country = {
							is_in_faction_with = AST
							controls_state = 273
						}
						any_country = {
							is_in_faction_with = AST
							controls_state = 552
						}
					}
					load_oob = "AST_TFV_rats_africa"					
					else = {
						if = {
							limit = {
								controls_state = 285
							}
							load_oob = "AST_TFV_rats_australia"
						}
					}
				}
			}
			if = {
				limit = {
					any_country = {
						is_in_faction_with = AST
						controls_state = 273
					}
					any_country = {
						is_in_faction_with = AST
						controls_state = 552
					}
				}
				custom_effect_tooltip = AST_rats_of_tobruk_effect_1
				else = {
					if = {
						limit = {
							controls_state = 285
						}
					}
					custom_effect_tooltip = AST_rats_of_tobruk_effect_2
				}
			}
		}
	}

	focus = {
		id = AST_fight_work_or_perish
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = AST_civil_construction_corps }
		prerequisite = { focus = AST_squash_the_squanderbugs }
		x = -3
		y = 4
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			#if effect is there for the tooltips sake
			if = {
				limit = { has_idea = AST_great_depression_1 }
				remove_ideas = AST_great_depression_1
				add_ideas = AST_all_in
			}
			if = {
				limit = { has_idea = AST_great_depression_2 }
				remove_ideas = AST_great_depression_2
				add_ideas = AST_all_in
				
			}
			if = {
				limit = { has_idea = AST_great_depression_3 }
				swap_ideas = {
					remove_idea = AST_great_depression_3
					add_idea = AST_all_in
				}
			}
		}
	}

	focus = {
		id = AST_research_collaboration
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = AST_fight_work_or_perish }
		prerequisite = { focus = AST_australian_arms_production }
		x = -5
		y = 5
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_other_country = {
					is_in_faction_with = ROOT
					num_of_factories > 50
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = AST_squash_the_squanderbugs
		icon = GFX_focus_AST_squander_bug
		prerequisite = { focus = AST_invest_in_victory }
		x = -2
		y = 3
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = AST_invest_in_victory
				add_idea = AST_invest_in_victory_2
			}
		}
	}

	focus = {
		id = AST_rationing_and_recycling
		icon = GFX_goal_generic_trade
		prerequisite = { focus = AST_invest_in_victory }
		x = 0
		y = 3
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = AST_rationing_and_recycling_alu }
				add_resource = {
					type = aluminium
					amount = 24
				}
			}
			random_state = {
				limit = { has_state_flag = AST_rationing_and_recycling_oil }
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = { is_in_home_area = yes }
				add_resource = {
					type = aluminium
					amount = 24
				}
				set_state_flag = AST_rationing_and_recycling_alu
			}
			random_owned_controlled_state = {
				limit = { is_in_home_area = yes }
				add_resource = {
					type = oil
					amount = 12
				}
				set_state_flag = AST_rationing_and_recycling_oil
			}
		}
	}

	focus = {
		id = AST_classify_aliens
		icon = GFX_goal_generic_defence
		prerequisite = { focus = AST_citizen_military_forces }
		x = 2
		y = 3
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = AST_classify_aliens
			if = {
				limit = {
					has_government = democratic
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
			}
		}
	}

	focus = {
		id = AST_fund_australian_defense_research
		icon = GFX_focus_research
		prerequisite = { focus = AST_rationing_and_recycling }
		prerequisite = { focus = AST_classify_aliens }
		x = 1
		y = 4
		relative_position_id = AST_establish_advisory_war_council

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	############################
	#### GO WITH UK SECTION ####
	############################

	focus = {
		id = AST_support_the_policy_of_appeasement
		icon = GFX_goal_generic_improve_relations
		mutually_exclusive = { focus = AST_never_another_gallipoli }
		x = 28
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				NOT = { ENG = { has_government = democratic } } #less likely to do if ENG not democratic
				factor = 0.5
			}
			modifier = {
				OR = {
					communism > 0.15
					fascism > 0.15
					}
				factor = 0.2
			}
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			ENG = { has_war = no }
		}
		
		bypass = {
			is_subject_of = ENG
			has_war_together_with = ENG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			modify_tech_sharing_bonus = {
 				id = commonwealth_research
 				bonus = 0.03
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = AST_support_the_policy_of_appeasement
				}
			}
		}
	}

	focus = {
		id = AST_strengthen_ties_with_uk
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = AST_support_the_policy_of_appeasement }
		relative_position_id = AST_support_the_policy_of_appeasement
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				ENG = { NOT = { has_government = democratic } }
				factor = 0
			}
		}

		available = {
			is_subject_of = ENG
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			OR = {
				ENG = { has_idea = ENG_george_vi }
				ENG = { has_country_flag = edward_viii_married_wallis_simpson }
			}
		}
		
		bypass = {
			NOT = {
				OR = {
					is_subject_of = ENG
					is_in_faction_with = ENG
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			if = { 
				limit = {
					ENG = { has_idea = ENG_george_vi }
					}
					country_event = { id = tfv_australia.90 }
					}
			if = { 
				limit = {
					ENG = { has_country_flag = edward_viii_married_wallis_simpson } 
					}
					country_event = { id = tfv_australia.92 } 
				}
			}
		}

	focus = {
		id = AST_the_singapore_strategy
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = AST_support_the_policy_of_appeasement }
		x = 1
		y = 1
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 0.2
		}

		available = {
			is_in_faction_with = ENG
			ENG = { has_government = ROOT }
			MAL = {
				is_puppet_of = ENG
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					OR = {
						336 = {
							is_owned_by = MAL
						}
						333 = {
							is_owned_by = MAL
						}
					}
				}
				NOT = {
					MAL = {
						is_puppet_of = ENG
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ENG = {
				country_event = { id = tfv_australia.1 }
			}
		}
	}

	focus = {
		id = AST_adopt_westminster
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = AST_strengthen_ties_with_uk focus = AST_the_singapore_strategy }
		x = 0
		y = 2
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_political_power = 120
			add_autonomy_ratio = {
				value = 0.1
				localization = AST_adopt_westminster
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = AST_arthur_calwell
		}
	}

	focus = {
		id = AST_CSIR
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = AST_adopt_westminster }
		x = -1
		y = 3
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			AST = {
  				modify_tech_sharing_bonus = {
     				id = commonwealth_research
     				bonus = 0.05  
				}
			}
		}
	}

	focus = {
		id = AST_swpa_protector
		icon = GFX_goal_generic_defence
		prerequisite = { focus = AST_adopt_westminster }
		x = 1
		y = 3
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				NOT = { AST = { has_completed_focus = AST_the_singapore_strategy } } #ENG can defend its own stuff!
				factor = 0.2
			}
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			336 = {
				controller = { is_in_faction_with = ROOT }
			}
			333 = {
				controller = { is_in_faction_with = ROOT }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  }

		completion_reward = {
			336 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}

				#Fortify entire coastline
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}

				#border inland bunker
				add_building_construction = {
					type = bunker
					province = 4310
					level = 2
					instant_build = yes
				}

				#Extra fort on naval bases
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}

			}

			333 = {
				#Fortify entire coastline
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}

				#Extra fort on naval bases
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = AST_empire_air_training_scheme
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = AST_CSIR focus = AST_swpa_protector }
		x = -1
		y = 4
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  }

		completion_reward = {
			add_ideas = AST_empire_air_training_scheme
		}
	}

	focus = {
		id = AST_commonwealth_aircraft_corporation
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = AST_CSIR focus = AST_swpa_protector }
		x = 1
		y = 4
		relative_position_id = AST_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {  FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = AST_commonwealth_aircraft_corporation
		}
	}

	############################
	#### LEAVE COMMONWEALTH ####
	############################
	
	focus = {
		id = AST_never_another_gallipoli
		icon = GFX_focus_AST_never_gallipoli
		mutually_exclusive = { focus = AST_support_the_policy_of_appeasement }
		x = 35
		y = 0

		cost = 10

		ai_will_do = {
			factor = 0.5 
			modifier = {
				OR = {
						fascism > 0.25
						communism > 0.25
					}
				factor = 20
			}
			modifier = {
				OR = {
						fascism > 0.45
						communism > 0.45
					}
				factor = 30
			}
			modifier = {
				NOT = { ENG = { has_government = democratic } } 
				factor = 5
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			NOT = { is_subject_of = ENG }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			set_rule = { can_decline_call_to_war = yes }
			add_autonomy_ratio = {
				value = 0.2
				localization = AST_never_another_gallipoli
			}
			hidden_effect = {
				news_event = { id = news.253 hours = 5 }
			}
		}
	}


	############################
	#### GO WITH US SECTION ####
	############################

	focus = {
		id = AST_protect_the_homeland
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = AST_never_another_gallipoli }
		mutually_exclusive = { focus = AST_abandon_the_westminster_system }
		x = -3
		y = 1
		relative_position_id = AST_never_another_gallipoli

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = AST_homeland_defense_tt
			hidden_effect = {
				every_owned_state =	{
					limit = {
						is_controlled_by = ROOT
						is_on_continent = australia
						is_in_home_area = yes
					}
					#Fortify entire coastline
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 2
						instant_build = yes
					}
	
					#Extra fort on naval bases
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = AST_the_swpa_menace
		icon = GFX_goal_generic_trade
		prerequisite = { focus = AST_protect_the_homeland }
		x = -1
		y = 1
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			JAP = {			
				add_opinion_modifier = {
					target = ROOT
					modifier = AST_the_swpa_menace
				}
			}
			USA = {
				add_opinion_modifier = {
					target = JAP
					modifier = AST_the_swpa_menace_boycot_JAP
				}
				add_opinion_modifier = {
					target = JAP
					modifier = AST_the_swpa_menace
				}
			}
			add_opinion_modifier = {
				target = JAP
				modifier = AST_the_swpa_menace_boycot_JAP
			}
			add_opinion_modifier = {
				target = JAP
				modifier = AST_the_swpa_menace
			}
		}
	}

	focus = {
		id = AST_sever_ties_with_uk
		icon = GFX_goal_tfv_sever_ties_with_uk
		prerequisite = { focus = AST_protect_the_homeland }
		x = 1
		y = 1
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = { NOT = { has_government = fascism } }
				has_autonomy_state = autonomy_dominion
			}
			if = {
				limit = { has_government = fascism }
				has_autonomy_state = autonomy_satellite
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			has_war_with = ENG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			OVERLORD = {
				set_autonomy = {
					target = AST
					autonomy_state = autonomy_free
				}
			}
			ENG = { remove_from_faction = ROOT }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = AST_arthur_calwell
			hidden_effect = {
				news_event = { id = news.286 hours = 6}
			}
		}
	}

	focus = {
		id = AST_woo_usa
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = AST_the_swpa_menace }
		prerequisite = { focus = AST_sever_ties_with_uk }
		x = -1
		y = 2
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				is_in_faction = no
				factor = 10 #we're all alone here!
			}
		}

		available = {
			NOT = {
				has_war_with = USA
			}
			USA = { 
				has_government = ROOT
				is_puppet = no
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			OR = {
				USA = { exists = no }
				USA = {
					AND = {
						is_in_faction = yes
						NOT = {
							is_in_faction_with = AST
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = AST_woo_usa
				}
			}
			add_opinion_modifier = {
				target = USA
				modifier = AST_woo_usa
			}
		}
	}

	focus = {
		id = AST_protect_the_dutch_colonies
		icon = GFX_goal_generic_defence
		prerequisite = { focus = AST_sever_ties_with_uk }
		x = 1
		y = 2
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = HOL }
			HOL = { has_capitulated = yes }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			INS = {
				OR = {
					NOT = { is_puppet_of = HOL }
					exists = no
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			HOL = {
				country_event = { id = tfv_australia.10 }
			}
		}
	}

	focus = {
		id = AST_the_south_west_pacific_initiative
		icon = GFX_goal_anschluss
		prerequisite = { focus = AST_woo_usa focus = AST_protect_the_dutch_colonies }
		x = 0
		y = 3
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			is_subject = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = south_west_pacific_initiative
			if = {
				limit = {
					has_completed_focus = AST_protect_the_dutch_colonies
					INS = { is_puppet_of = AST }
				}
				set_country_flag = INS_is_a_puppet
			}
			if = {
				limit = {
					has_completed_focus = AST_woo_usa
					USA = {
						exists = yes
						has_capitulated = no
						is_puppet = no
						has_government = ROOT
						OR = {
							is_in_faction = no
							has_war = no
						}
					}
				}
				USA = {
					country_event = { id = tfv_australia.32 } #Ask USA to join faction
				}
				else = {
					country_event = { id = tfv_australia.31 } #Start faction without asking USA
				}
			}
		}
	}

	focus = {
		id = AST_research_cooperation
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = AST_the_south_west_pacific_initiative }
		x = 0
		y = 4
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
		custom_effect_tooltip = AST_swpi_research_tt
			if = {
				limit = { AST = { is_in_faction_with = USA } }
				add_to_tech_sharing_group = us_research
				USA = { add_to_tech_sharing_group = us_research }
				else = {
					AST = { add_to_tech_sharing_group = swpi_research }
					if = {
						limit = { all_country = { is_in_faction_with = AST } }
						add_to_tech_sharing_group = swpi_research 
						}
					}
			}
		}
	}

	focus = {
		id = AST_preemptive_intervention
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = AST_research_cooperation }
		x = 0
		y = 5
		relative_position_id = AST_protect_the_homeland

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				JAP = { has_government = ROOT }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = JAP
				expire = 0
			}
		}
	}

	############################
	##### FASCIST/COMMUNIST ####
	############################
	
	focus = {
		id = AST_abandon_the_westminster_system
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = AST_never_another_gallipoli }
		mutually_exclusive = { focus = AST_protect_the_homeland }
		x = 3
		y = 1
		relative_position_id = AST_never_another_gallipoli

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {
				OR = {
					communism > 0.2
					fascism > 0.2
					}
				factor = 20
			}
			modifier = {
				OR = {
					communism > 0.4
					fascism > 0.4
					}
				factor = 20
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_popularity = {
				ideology = communism 
				popularity = 0.05
			}
			add_timed_idea = { days = 1095 idea = AST_abandon_the_westminster_system } 
		}
	}

	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = AST_support_the_centre_party
		icon = GFX_goal_support_fascism
		prerequisite = { focus = AST_abandon_the_westminster_system }
		mutually_exclusive = { focus = AST_empower_the_workers }
		x = -2
		y = 1
		relative_position_id = AST_abandon_the_westminster_system

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {
				NOT = { JAP = { has_government = fascism } }
				factor = 0 #let's not go fascist if Japan isn't
			}
			modifier = {
				fascism > 0.3
				factor = 20
			}
		}

		available = {
			compare_autonomy_progress_ratio > 0.55
			if = {
				limit = { not = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism } 
				compare_autonomy_state > autonomy_reichsprotectorate
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			swap_ideas = {
				remove_idea = AST_abandon_the_westminster_system
				add_idea = AST_abandon_the_westminster_system_fascism
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = AST_generic_fascist_demagogue
		}
	}

	focus = {
		id = AST_supply_indonesian_nationalists
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = AST_support_the_centre_party }
		x = -1
		y = 1
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = INS
			INS = { is_subject = yes }
			ROOT = {
				fascism > 0.15
			}
			has_equipment = {
				infantry_equipment > 199
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		select_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = -200
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			#Boosts fascism in Indonesia
			INS = {
				add_timed_idea = { days = 730 idea = AST_indonesian_nationalists } 
			}
			hidden_effect = {
				INS = { country_event = { id = tfv_australia.95 } }
				HOL = { country_event = { id = tfv_australia.95 } }
			}
		}
	}

	focus = {
		id = AST_support_indonesian_uprising
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = AST_supply_indonesian_nationalists }
		x = -1
		y = 2
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = INS
			INS = { is_subject = yes }
			OR = {
				is_subject = no
				AND = {
					compare_autonomy_progress_ratio > 0.75
					if = {
						limit = { not = { has_government = fascism } }
						has_autonomy_state = autonomy_dominion
					}
					if = {
						limit = { has_government = fascism } 
						has_autonomy_state = autonomy_satellite
					}
				}
			}
			fascism > 0.3
			INS = {
				fascism > 0.3
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					INS = { has_civil_war = no }
				}
				INS = { country_event = { id = tfv_australia.96 } }
			}
			add_ideas = AST_support_indonesian_uprising
		}
	}

	focus = {
		id = AST_demand_new_zealand
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = AST_support_the_centre_party focus = AST_empower_the_workers }
		x = 1
		y = 1
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 1.5
		}

		available = {
			OR = {
				has_government = fascism
				has_government = communism
			}
			NOT = { has_war_together_with = ENG }
			NOT = { is_in_faction_with = NZL }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = { is_in_faction_with = ENG }
				ENG = { remove_from_faction = ROOT }
			}
			OVERLORD = {
				set_autonomy = {
					target = AST
					autonomy_state = autonomy_free
				}
			}
			NZL = {
				country_event = { id = tfv_australia.20 }
			}
		}
	}

	focus = {
		id = AST_protect_the_south_west_pacific
		icon = GFX_goal_generic_defence
		prerequisite = { focus = AST_support_indonesian_uprising }
		x = -1
		y = 3
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = { not = { has_government = fascism } }
				has_autonomy_state = autonomy_dominion
			}
			if = {
				limit = { has_government = fascism } 
				has_autonomy_state = autonomy_satellite
			}
			MAL = {
				is_puppet_of = ENG
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {			
			ENG = {
				country_event = { id = tfv_australia.70 }
			}
		}
	}

	focus = {
		id = AST_a_deal_with_japan
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = AST_protect_the_south_west_pacific }
		mutually_exclusive = { focus = AST_our_own_empire }
		x = -1
		y = 4
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 8
			modifier = {
				JAP = { has_capitulated = yes }
				factor = 0
				}
		}

		available = {
			OR = {
				is_subject = no
				AND = {
					if = {
						limit = { not = { has_government = fascism } }
						has_autonomy_state = autonomy_dominion
					}
					if = {
						limit = { has_government = fascism } 
						has_autonomy_state = autonomy_satellite
					}
					compare_autonomy_progress_ratio > 0.8
				}
			}
			NOT = { has_war_together_with = ENG }
			JAP = {
				has_government = ROOT
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			custom_effect_tooltip = AST_deal_with_japan_tt
			if = {
				limit = { is_in_faction_with = ENG }
				ENG = { remove_from_faction = ROOT }
			}
			OVERLORD = {
				set_autonomy = {
					target = AST
					autonomy_state = autonomy_free
				}
			}
			set_rule = { can_create_factions = yes }
			JAP = {
				country_event = { id = tfv_australia.80 }
			}
		}
	}

	focus = {
		id = AST_our_own_empire
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = AST_protect_the_south_west_pacific }
		prerequisite = { focus = AST_demand_new_zealand }
		mutually_exclusive = { focus = AST_a_deal_with_japan }
		x = 1
		y = 4
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				ENG = { has_capitulated = yes }
				factor = 10
			}
			modifier = { #power vacuum in SouthPac
				JAP = { has_capitulated = yes }
				factor = 10
			}
		}

		available = {
			OR = {
				is_subject = no
				AND = {
					if = {
						limit = { not = { has_government = fascism } }
						has_autonomy_state = autonomy_dominion
					}
					if = {
						limit = { has_government = fascism } 
						has_autonomy_state = autonomy_satellite
					}
					compare_autonomy_progress_ratio > 0.8
				}
			}
			NOT = { has_war_together_with = ENG }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			ENG = { remove_from_faction = ROOT }
			OVERLORD = {
				set_autonomy = {
					target = AST
					autonomy_state = autonomy_free
				}
			}
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = AST_japan_tech_sharing
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = AST_a_deal_with_japan }
		x = -1
		y = 5
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			is_in_faction_with = JAP
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_to_tech_sharing_group = japanese_research
			JAP = { add_to_tech_sharing_group = japanese_research }
		}
	}

	focus = {
		id = AST_war_on_japan
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = AST_our_own_empire }
		x = 1
		y = 5
		relative_position_id = AST_support_the_centre_party

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { is_in_faction_with = JAP }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = JAP
				expire = 0
			}
		}
	}


	############################
	### GO COMMUNIST SECTION ###
	############################

	focus = {
		id = AST_empower_the_workers
		icon = GFX_goal_support_communism
		prerequisite = { focus = AST_abandon_the_westminster_system }
		mutually_exclusive = { focus = AST_support_the_centre_party }
		x = 2
		y = 1
		relative_position_id = AST_abandon_the_westminster_system

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {
				communism > 0.3
				factor = 10
			}
		}

		available = {			
			compare_autonomy_progress_ratio > 0.55
			if = {
				limit = { not = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism } 
				compare_autonomy_state > autonomy_reichsprotectorate
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = AST_abandon_the_westminster_system
				add_idea = AST_abandon_the_westminster_system_communism			
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = AST_lance_sharkey
		}
	}

	focus = {
		id = AST_delegation_to_china
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = AST_empower_the_workers }
		x = 0
		y = 1
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			ROOT = {
				communism > 0.3
			}
			event_target:WTT_communist_china = { exists = yes }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			event_target:WTT_communist_china = {
				add_opinion_modifier = {
					target = ROOT
					modifier = AST_delegation_to_china
				}
			}
			add_opinion_modifier = {
				target = event_target:WTT_communist_china
				modifier = AST_delegation_to_china
			}
			event_target:WTT_communist_china = {
				ROOT = {
					add_ai_strategy = {
						type = support
						id = PREV
						value = 100
					}
					add_ai_strategy = {
						type = protect
						id = PREV
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = AST_commitment_to_the_cause
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = AST_delegation_to_china }
		x = 0
		y = 2
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_together_with = ENG }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			ENG = { remove_from_faction = ROOT }
			OVERLORD = {
				set_autonomy = {
					target = AST
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = {
					NOT = { has_war_with = SOV }
				}
				SOV = {
					add_opinion_modifier = {
						target = ROOT
						modifier = AST_commitment_to_the_cause
					}
				}
			}
			if = {
				limit = {
					NOT = { has_war_with = PRC }
				}
				add_opinion_modifier = {
					target = event_target:WTT_communist_china
					modifier = AST_commitment_to_the_cause
				}
			}
			every_other_country = {
				limit = {
					has_government = communism
				}
				ROOT = {
					add_ai_strategy = {
						type = support
						id = PREV
						value = 100
					}
				}
			}
			event_target:WTT_communist_china = {
				ROOT = {
					add_ai_strategy = {
						type = protect
						id = PREV
						value = 100
					}
				}
			}
			add_ai_strategy = {
				type = save_equipment
				id = infantry_equipment
				value = 501
			}
		}
	}

	focus = {
		id = AST_indirect_support
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = AST_commitment_to_the_cause }
		mutually_exclusive = { focus = AST_direct_support }
		x = -1
		y = 3
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {
			has_equipment = {
				infantry_equipment > 499
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {
			PRC = {
				OR = {
					exists = no
					is_puppet = yes
				}
			}
		}
		select_effect = {
			send_equipment = {
				target = event_target:WTT_communist_china
				type = infantry_equipment
				amount = 500
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = { idea = AST_arms_for_the_revolution days = 365 }
		}
	}

	focus = {
		id = AST_direct_support
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = AST_commitment_to_the_cause }
		mutually_exclusive = { focus = AST_indirect_support }
		x = 1
		y = 3
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = AST_direct_support
			
		}
	}

	focus = {
		id = AST_join_comintern
		icon = GFX_goal_support_communism
		prerequisite = { focus = AST_indirect_support focus = AST_direct_support }
		mutually_exclusive = { focus = AST_workers_paradise }
		x = 0
		y = 4
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 8
			modifier = { #let's not tie ourselves to SOV if they are in a bad spot
				SOV = { surrender_progress > 0.75 }
				factor = 0
			}
		}

		available = {
			is_subject = no
			any_other_country = {
				is_major = yes
				has_government = communism
				is_faction_leader = yes
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {

			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					SOV = {
						is_faction_leader = yes
						has_government = communism
					}	
				}
				SOV = {
					country_event = { id = tfv_australia.50 }
				}
			}
			else = {
                get_best_alliance_match_communism_effect = yes
                var:best_leader = {
                    country_event = generic.2
                }
            }
		}
	}

	focus = {
		id = AST_workers_paradise
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = AST_direct_support }
		mutually_exclusive = { focus = AST_join_comintern }
		x = 2
		y = 4
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = AST_research_city_excursions
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = AST_join_comintern }
		x = -1
		y = 5
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = SOV
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SOV = { add_to_tech_sharing_group = comintern_research }
			add_to_tech_sharing_group = comintern_research
		}
	}

	focus = {
		id = AST_nz_puppet
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = AST_workers_paradise focus = AST_join_comintern }
		x = 1
		y = 5
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				NZL = { has_government = democratic } 
				factor = 10
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			NZL = {
				country_event = { id = tfv_australia.60 }
			}
		}
	}

	focus = {
		id = AST_the_threat_against_the_people
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = AST_workers_paradise }
		x = 3
		y = 5
		relative_position_id = AST_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				JAP = { has_government = communism }
				factor = 0
			}
		}

		available = {
			NOT = { is_in_faction_with = JAP }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				target = JAP
				type = puppet_wargoal_focus
				expire = 0 
			}
		}
	}
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

focus_tree = {
	id = bulgarian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = BUL
			has_dlc = "Battle for the Bosporus"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }


#### ##    ## ########  ##     ##  ######  ######## ########  ####    ###    ##          ########  ########     ###    ##    ##  ######  ##     ## 
 ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##    ## ##   ##          ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## 
 ##  ####  ## ##     ## ##     ## ##          ##    ##     ##  ##   ##   ##  ##          ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## 
 ##  ## ## ## ##     ## ##     ##  ######     ##    ########   ##  ##     ## ##          ########  ########  ##     ## ## ## ## ##       ######### 
 ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##    ##  ######### ##          ##     ## ##   ##   ######### ##  #### ##       ##     ## 
 ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##   ##  ##     ## ##          ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## 
#### ##    ## ########   #######   ######     ##    ##     ## #### ##     ## ########    ########  ##     ## ##     ## ##    ##  ######  ##     ## 


	focus = {
		id = BUL_acquire_modern_tools

		icon = GFX_goal_generic_production2
		x = 12
		y = 0
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = BUL_national_industry_01

			add_tech_bonus = {
				name = BUL_acquire_modern_tools
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = BUL_improve_the_road_system

		prerequisite = { focus = BUL_acquire_modern_tools }
		icon = GFX_goal_generic_construction
		relative_position_id = BUL_acquire_modern_tools
		x = -9
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_owned_state = {
				limit = {
					has_state_flag = BUL_initial_bulgarian_state_flag
					NOT = { state = 48 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			48 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = BUL_attract_foreign_capitals

		prerequisite = { focus = BUL_improve_the_road_system }
		icon = GFX_goal_generic_intelligence_exchange
		relative_position_id = BUL_improve_the_road_system
		x = -2
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_invigorate_national_industry }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				add_dynamic_modifier = { modifier = BUL_foreign_industry_dynamic_modifier }
			}
			custom_effect_tooltip = BUL_attract_foreign_capitals_dynamic_modifier_tt

			effect_tooltip = { #This way player always reads a comprehensive tooltip, but all decisions 
				if = {
					limit = {
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = GER decision = BUL_german_industrial_agreements }
				}
				if = {
					limit = {
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ENG decision = BUL_british_industrial_agreements }
				}
				if = {
					limit = {
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = SOV decision = BUL_soviet_industrial_agreements }
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = GER decision = BUL_german_industrial_agreements }
				activate_targeted_decision = { target = ENG decision = BUL_british_industrial_agreements }
				activate_targeted_decision = { target = SOV decision = BUL_soviet_industrial_agreements }
			}
		}
	}

	focus = {
		id = BUL_invigorate_national_industry

		prerequisite = { focus = BUL_improve_the_road_system }
		icon = GFX_focus_generic_industry_1
		relative_position_id = BUL_improve_the_road_system
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_attract_foreign_capitals }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = BUL_national_industry_01
				add_idea = BUL_national_industry_02
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_petrol_ad
			show_ideas_tooltip = BUL_ira
			show_ideas_tooltip = BUL_pirin
			show_ideas_tooltip = BUL_vulkan_cement

			add_ai_strategy = {
				type = building_target
				id = industrial_complex
				value = 17
			}
		}
	}

	focus = {
		id = BUL_expand_sofia_university

		prerequisite = { focus = BUL_attract_foreign_capitals focus = BUL_invigorate_national_industry }
		icon = GFX_focus_research
		relative_position_id = BUL_attract_foreign_capitals
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = BUL_expand_the_tobacco_industry

		prerequisite = { focus = BUL_attract_foreign_capitals }
		prerequisite = { focus = BUL_expand_sofia_university }
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = BUL_expand_sofia_university
		x = -1
		y = 2
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					212 = {
						is_owned_by = BUL
					}
				} 
				212 = { #PLOVDIV
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			add_ideas = BUL_tobacco_exports
		}
	}

	focus = {
		id = BUL_nationalization

		prerequisite = { focus = BUL_expand_the_tobacco_industry }
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		relative_position_id = BUL_expand_the_tobacco_industry
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_utmost_optimization }

		available = {
			NOT = { has_government = democratic }
			NOT = { has_idea = BUL_second_national_catastrophe }
			any_country = {
				OR = {
					tag = GER
					tag = ENG
					tag = SOV
				}
				#BUL_country_can_influence_bulgaria = yes
				custom_trigger_tooltip = {
					tooltip = BUL_industrial_investments_in_bulgaria_flag
					has_country_flag = BUL_industrial_investments_in_bulgaria_flag
				}
			}
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			hidden_effect = {
				remove_dynamic_modifier = { modifier = BUL_foreign_industry_dynamic_modifier }
			}
			custom_effect_tooltip = BUL_nationalization_dynamic_modifier_tt
			add_ideas = BUL_nationalized_industry

			#Opinion Modifiers
			every_country = {
				limit = {
					BUL_country_can_influence_bulgaria = yes
					has_opinion_modifier = BUL_industrial_investments_in_bulgaria
				}
				remove_opinion_modifier = { target = BUL modifier = BUL_industrial_investments_in_bulgaria }

				BUL = { remove_opinion_modifier = { target = PREV modifier = BUL_industrial_investments_in_bulgaria } }
			}		

			every_country = {
				limit = {
					BUL_country_can_influence_bulgaria = yes
					has_country_flag = BUL_industrial_investments_in_bulgaria_flag
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
				}
				country_event = { id = bftb_bulgaria_nationalization.1 hours = 12 random_hours = 12 }
			}
			custom_effect_tooltip = BUL_nationalization_warning_tt

			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_petrol_ad
			show_ideas_tooltip = BUL_ira
			show_ideas_tooltip = BUL_pirin
			show_ideas_tooltip = BUL_vulkan_cement
			custom_effect_tooltip = BUL_nationalization_foreign_designers_tt
		}
	}

	focus = {
		id = BUL_increase_industry_investments

		prerequisite = { focus = BUL_invigorate_national_industry }
		prerequisite = { focus = BUL_expand_sofia_university }
		icon = GFX_focus_generic_industry_2
		relative_position_id = BUL_expand_sofia_university
		x = 1
		y = 1
		cost = 10


		available = {
			num_of_civilian_factories > 16
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = BUL_national_industry_02
				add_idea = BUL_national_industry_03
			}
		}
	}

	focus = {
		id = BUL_utmost_optimization

		prerequisite = { focus = BUL_increase_industry_investments focus = BUL_expand_the_tobacco_industry }
		icon = GFX_focus_generic_industry_3
		relative_position_id = BUL_increase_industry_investments
		x = 0
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_nationalization }

		available = {
			NOT = { has_idea = BUL_second_national_catastrophe }
			num_of_factories > 29
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = { has_completed_focus = BUL_attract_foreign_capitals }
				subtract_from_variable = { BUL_foreign_industry_construction_speed_modifier = -0.05 }
				subtract_from_variable = { BUL_foreign_industry_production_efficiency_modifier = -0.03 }
				custom_effect_tooltip = BUL_utmost_optimization_dynamic_modifier_tt
			}
			else = {
				swap_ideas = {
					remove_idea = BUL_national_industry_03
					add_idea = BUL_national_industry_04
				}
				if = {
					limit = {
						NOT = { has_completed_focus = BUL_invigorate_national_industry }
					}
					custom_effect_tooltip = BUL_utmost_optimization_tt
				}
			}
			BUL_replace_national_industrial_designer = yes
		}
	}

	focus = {
		id = BUL_national_railway_lines

		prerequisite = { focus = BUL_improve_the_road_system }
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = BUL_improve_the_road_system
		x = 2
		y = 2
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_owned_state = {
				limit = {
					OR = {
						has_state_flag = BUL_initial_bulgarian_state_flag
						has_state_flag = BUL_historical_bulgarian_claim_flag
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}				
			}
		}
	}

	focus = {
		id = BUL_steel_plant_in_pernik

		prerequisite = { focus = BUL_national_railway_lines }
		icon = GFX_focus_generic_steel
		relative_position_id = BUL_national_railway_lines
		x = 0
		y = 1
		cost = 10

		available = {
			controls_state = 48
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_mineral_extraction_in_the_rhodopes
				ahead_reduction = 2
			    bonus = 1.0
			    uses = 1
			    category = industry
			}
			48 = {
				add_resource = {
					type = steel
					amount = 6
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}

	focus = {
		id = BUL_mineral_extraction_in_the_rhodopes

		prerequisite = { focus = BUL_steel_plant_in_pernik }
		icon = GFX_goal_generic_construction2
		relative_position_id = BUL_steel_plant_in_pernik
		x = 0
		y = 2
		cost = 10

		available = {
			has_tech = excavation2
			OR = {
				controls_state = 48
				controls_state = 212
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_mineral_extraction_in_the_rhodopes
			    bonus = 1.0
			    uses = 1
			    category = industry
			}
			set_variable = { var = BUL_plovdiv_chromium_duration value = 15 }
			unlock_decision_tooltip = BUL_mineral_extraction_in_the_rhodopes
		}
	}

	focus = {
		id = BUL_uranium_prospecting

		prerequisite = { focus = BUL_mineral_extraction_in_the_rhodopes }
		prerequisite = { focus = BUL_utmost_optimization focus = BUL_nationalization }
		icon = GFX_goal_generic_secret_weapon
		relative_position_id = BUL_utmost_optimization
		x = 1
		y = 1
		cost = 10

		available = {
			has_tech = excavation3
			controls_state = 48
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_uranium_prospecting
			    bonus = 2.0
			    uses = 2
			    category = nuclear
			}
			add_ideas = BUL_buhovo_uranium_mines
			if = { 
				limit = {
					any_allied_country = {
						is_faction_leader = yes
					}
				}
				custom_effect_tooltip = BUL_uranium_prospecting_leader_target_tt
			}
			else_if = {
				limit = {
					is_faction_leader = yes
					any_allied_country = {
						is_major = yes
					}
				}
				custom_effect_tooltip = BUL_uranium_prospecting_major_ally_target_tt
			}
			else = {
				custom_effect_tooltip = BUL_uranium_prospecting_no_target_tt
			}
		}
	}

	focus = {
		id = BUL_georgi_benkovski_aircraft_repair_facilities

		prerequisite = { focus = BUL_acquire_modern_tools }
		icon = GFX_goal_generic_air_production
		relative_position_id = BUL_acquire_modern_tools
		x = -5
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			air_experience = 10
			212 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_ideas = BUL_aircraft_repair_facilities
		}
	}

	focus = {
		id = BUL_pilot_training_program

		prerequisite = { focus = BUL_georgi_benkovski_aircraft_repair_facilities }
		icon = GFX_goal_generic_air_doctrine
		relative_position_id = BUL_georgi_benkovski_aircraft_repair_facilities
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 15
			add_tech_bonus = {
				name = BUL_pilot_training_program
			    bonus = 2.0
			    uses = 2
			    category = air_doctrine
			}
			if = {
				limit = {
					48 = { is_owned_by = BUL }
				}
				48 = {
					add_building_construction = {
						type = air_base 
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					212 = { is_owned_by = BUL }
				}
				212 = {
					add_building_construction = {
						type = air_base 
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_country_flag = BUL_international_pilot_training_program_flag
				}
				add_ideas = BUL_international_pilot_training_program
			}
		}
	}

	focus = {
		id = BUL_negotiate_bulgarian_rearmament

		prerequisite = { focus = BUL_acquire_modern_tools }
		icon = GFX_focus_generic_combined_arms
		relative_position_id = BUL_acquire_modern_tools
		x = 0
		y = 1
		cost = 5

		bypass = {
			hidden_trigger = {
				NOT = { has_idea = BUL_army_restrictions }
			}
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			unlock_decision_category_tooltip = BUL_rearmament
		}
	}

	focus = {
		id = BUL_reorganize_the_military_industry

		prerequisite = { focus = BUL_negotiate_bulgarian_rearmament }
		icon = GFX_focus_generic_tank_production
		relative_position_id = BUL_negotiate_bulgarian_rearmament
		x = 0
		y = 2
		cost = 10

		available = {
			NOT = { has_idea = BUL_army_restrictions }
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_reorganize_the_military_industry
			    bonus = 1.0
			    uses = 1
			    category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = BUL_darzhavna_aeroplanna_rabotilnitsa

		prerequisite = { focus = BUL_pilot_training_program }
		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_goal_generic_air_fighter
		relative_position_id = BUL_pilot_training_program
		x = 0
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_foreign_aircraft_designers }

		available = {
			48 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			48 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = BUL_darzhavna_aeroplanna_rabotilnitsa
			    bonus = 1.0
			    uses = 2
				category = light_air
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_dar
		}
	}

	focus = {
		id = BUL_darzhavna_samoletna_fabrika

		prerequisite = { focus = BUL_darzhavna_aeroplanna_rabotilnitsa }
		icon = GFX_goal_expand_the_luftwaffe
		relative_position_id = BUL_darzhavna_aeroplanna_rabotilnitsa
		x = 0
		y = 1
		cost = 10

		available = {
			801 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			801 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = BUL_darzhavna_samoletna_fabrika
			    bonus = 1.0
			    uses = 2
				category = cas_bomber
				category = naval_bomber
			}
		}
	}

	focus = {
		id = BUL_foreign_aircraft_designers

		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_goal_generic_air_fighter2
		relative_position_id = BUL_darzhavna_aeroplanna_rabotilnitsa
		x = 2
		y = 0
		cost = 5
		mutually_exclusive = { focus = BUL_darzhavna_aeroplanna_rabotilnitsa }

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = GER decision = BUL_aircraft_agreements }
				}
				if = {
					limit = {
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ENG decision = BUL_aircraft_agreements }
				}
				if = {
					limit = {
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = SOV decision = BUL_aircraft_agreements }
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = GER decision = BUL_aircraft_agreements }
				activate_targeted_decision = { target = ENG decision = BUL_aircraft_agreements }
				activate_targeted_decision = { target = SOV decision = BUL_aircraft_agreements }
			}
		}
	}

	focus = {
		id = BUL_kaproni_bulgarski

		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_goal_generic_air_bomber
		relative_position_id = BUL_foreign_aircraft_designers
		x = 2
		y = 0
		cost = 10

		available = {
			212 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			212 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = BUL_kaproni_bulgarski
			    bonus = 1.0
			    uses = 2
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = BUL_darzhavna_voenna_fabrika

		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_goal_generic_construct_mil_factory
		relative_position_id = BUL_reorganize_the_military_industry
		x = 1
		y = 1
		cost = 10

		available = {
			212 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			212 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = BUL_darzhavna_voenna_fabrika
			    bonus = 1.0
			    uses = 2
				category = infantry_weapons
				category = support_tech
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_dvf
		}
	}

	focus = {
		id = BUL_found_dvf_sopot

		prerequisite = { focus = BUL_darzhavna_voenna_fabrika }
		icon = GFX_goal_generic_army_artillery
		relative_position_id = BUL_darzhavna_voenna_fabrika
		x = 0
		y = 1
		cost = 10

		available = {
			212 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			212 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = BUL_found_dvf_sopot
			    bonus = 1.0
			    uses = 2
				category = artillery
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_dvf_sopot
		}
	}

	focus = {
		id = BUL_contract_foreign_companies

		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_focus_generic_license_production
		relative_position_id = BUL_reorganize_the_military_industry
		x = 3
		y = 1
		cost = 5

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = GER decision = BUL_military_agreements }
				}
				if = {
					limit = {
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ENG decision = BUL_military_agreements }
				}
				if = {
					limit = {
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = SOV decision = BUL_military_agreements }
				}
				if = {
					limit = {
						country_exists = ITA
						NOT = { has_war_with = ITA }
						ITA = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ITA decision = BUL_military_agreements }
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = GER decision = BUL_military_agreements }
				activate_targeted_decision = { target = ENG decision = BUL_military_agreements }
				activate_targeted_decision = { target = SOV decision = BUL_military_agreements }
				activate_targeted_decision = { target = ITA decision = BUL_military_agreements }
			}
		}
	}

	focus = {
		id = BUL_rebuild_the_army

		prerequisite = { focus = BUL_reorganize_the_military_industry }
		icon = GFX_focus_generic_little_entente
		relative_position_id = BUL_reorganize_the_military_industry
		x = 5
		y = 1
		cost = 10

		available = {
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_rebuild_the_army
			    bonus = 1.0
			    uses = 2
				category = land_doctrine
			}
			if = {
				limit = { has_idea = BUL_bulgarian_army_02 }
				swap_ideas = {
					remove_idea = BUL_bulgarian_army_02
					add_idea = BUL_bulgarian_army_03
				}
			}
			else = {
				add_ideas = BUL_bulgarian_army_01
			}
			if = {
				limit = { has_idea = disarmed_nation }
				add_ideas = volunteer_only
			}
			if = {
				limit = { has_idea = volunteer_only }
				add_ideas = limited_conscription
			}
		}
	}

	focus = {
		id = BUL_vasil_levsky_national_military_university

		prerequisite = { focus = BUL_rebuild_the_army }
		prerequisite = { focus = BUL_darzhavna_voenna_fabrika }
		icon = GFX_focus_research
		relative_position_id = BUL_found_dvf_sopot
		x = 2
		y = 0
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 15
			navy_experience = 15
			air_experience = 15
			add_tech_bonus = {
				name = BUL_vasil_levsky_national_military_university
			    bonus = 0.75
			    uses = 2
				category = land_doctrine
				category = naval_doctrine
				category = air_doctrine
			}
			add_research_slot = 1
		}
	}

	focus = {
		id = BUL_prussia_of_the_balkans

		prerequisite = { focus = BUL_vasil_levsky_national_military_university }
		prerequisite = { focus = BUL_found_dvf_sopot }
		icon = GFX_focus_BUL_prussia_of_the_balkans
		relative_position_id = BUL_vasil_levsky_national_military_university
		x = 0
		y = 1
		cost = 10

		available = {
			controls_state = 48
			controls_state = 212
			controls_state = 211
			controls_state = 801
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = { has_idea = BUL_bulgarian_army_01 }
				swap_ideas = {
					remove_idea = BUL_bulgarian_army_01
					add_idea = BUL_prussia_of_the_balkans_01
				}
			}
			else_if = {
				limit = { has_idea = BUL_bulgarian_army_03 }
				swap_ideas = {
					remove_idea = BUL_bulgarian_army_03
					add_idea = BUL_prussia_of_the_balkans_01
				}
			}
			else = {
				effect_tooltip = {
					remove_ideas = BUL_bulgarian_army_01
				}
				add_ideas = BUL_prussia_of_the_balkans_01
			}
			BUL_replace_national_aircraft_designer = yes
		}
	}

	focus = {
		id = BUL_national_military_academy

		prerequisite = { focus = BUL_negotiate_bulgarian_rearmament }
		icon = GFX_focus_generic_military_academy
		relative_position_id = BUL_negotiate_bulgarian_rearmament
		x = 7
		y = 1
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				name = BUL_national_military_academy
			    bonus = 1.0
			    uses = 1
				category = land_doctrine
			}
			if = {
				limit = { has_idea = BUL_bulgarian_army_01}
				swap_ideas = {
					remove_idea = BUL_bulgarian_army_01
					add_idea = BUL_bulgarian_army_03
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = BUL_prussia_of_the_balkans }
				}
				add_ideas = BUL_bulgarian_army_02
			}
		}
	}

	focus = {
		id = BUL_war_logistics

		prerequisite = { focus = BUL_national_military_academy }
		icon = GFX_goal_generic_army_motorized
		relative_position_id = BUL_national_military_academy
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_war_logistics
			    bonus = 0.5
			    ahead_reduction = 2
			    uses = 2
				category = support_tech
			}
			add_tech_bonus = {
				name = BUL_war_logistics
			    bonus = 1
			    uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = BUL_defensive_lines

		prerequisite = { focus = BUL_war_logistics }
		icon = GFX_goal_generic_construct_military
		relative_position_id = BUL_war_logistics
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_reinforce_naval_bases }

		available = {
			48 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			48 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 949
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				if = {
					limit = { BUL = { has_tech = radio_detection } }
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = BUL_defensive_lines_tt
			every_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					OR = {
						has_state_flag = BUL_initial_bulgarian_state_flag
						has_state_flag = BUL_historical_bulgarian_claim_flag
					}
					any_neighbor_state = {
						owner = {
							has_added_tension_amount > 0
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
			custom_effect_tooltip = BUL_historical_states_tt
		}
	}

	focus = {
		id = BUL_a_black_sea_fleet

		prerequisite = { focus = BUL_negotiate_bulgarian_rearmament }
		icon = GFX_focus_generic_destroyer
		relative_position_id = BUL_negotiate_bulgarian_rearmament
		x = 12
		y = 1
		cost = 10

		available = {
			NOT = { has_idea = BUL_army_restrictions }
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = BUL_a_black_sea_fleet
			    bonus = 0.75
			    uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = BUL_a_black_sea_fleet
			    bonus = 1.0
			    uses = 2
				category = dd_tech
			}
			if = { 
				limit = { has_dlc = "Man the Guns" }
				set_technology = { coastal_defense_ships = 1 } 
			}

			effect_tooltip = {
				if = {
					limit = {
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ENG decision = BUL_naval_agreements }
				}
				if = {
					limit = {
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = SOV decision = BUL_naval_agreements }
				}
				if = {
					limit = {
						country_exists = ITA
						NOT = { has_war_with = ITA }
						ITA = { BUL_is_valid_subject = yes }
					}
					activate_targeted_decision = { target = ITA decision = BUL_naval_agreements }
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = ENG decision = BUL_naval_agreements }
				activate_targeted_decision = { target = SOV decision = BUL_naval_agreements }
				activate_targeted_decision = { target = ITA decision = BUL_naval_agreements }
			}
		}
	}

	focus = {
		id = BUL_improve_coastal_defenses

		prerequisite = { focus = BUL_a_black_sea_fleet }
		icon = GFX_focus_generic_coastal_fort
		relative_position_id = BUL_a_black_sea_fleet
		x = -3
		y = 1
		cost = 10

		available = {
			211 = {
				is_owned_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			211 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
			}
			if = {
				limit = {
					77 = {
						is_owned_by = BUL
					}
				}
				77 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
					}
				}
			}
			add_tech_bonus = {
				name = BUL_improve_coastal_defenses
			    bonus = 1.0
			    uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = BUL_reinforce_naval_bases

		prerequisite = { focus = BUL_improve_coastal_defenses }
		icon = GFX_goal_generic_fortify_city
		relative_position_id = BUL_improve_coastal_defenses
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_defensive_lines }

		available = {
			any_controlled_state = {
				OR = {
					is_core_of = BUL
					has_state_flag = BUL_historical_bulgarian_claim_flag
				}
				is_coastal = yes
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = BUL_reinforce_naval_bases_tt
			every_controlled_state = {
				limit = {
					OR = {
						is_core_of = BUL
						has_state_flag = BUL_historical_bulgarian_claim_flag
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
						limit_to_victory_point > 0
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
						limit_to_victory_point > 1
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
						limit_to_victory_point > 0
					}
				}
			}
		}
	}

	focus = {
		id = BUL_supremacy_on_the_bosporus

		prerequisite = { focus = BUL_defensive_lines focus = BUL_reinforce_naval_bases }
		icon = GFX_focus_BUL_supremacy_on_the_bosporus
		relative_position_id = BUL_defensive_lines
		x = 1
		y = 2
		cost = 10

		available = {
			NOT = { has_idea = BUL_army_restrictions }
			OR = {
				AND = {
					BUL = {
						has_full_control_of_state = 341 #EDIRNE
						has_full_control_of_state = 797 #ISTANBUL
					}
				}
				AND = {
					is_faction_leader = yes
					any_country = {
						is_in_faction_with = ROOT
						has_full_control_of_state = 341 #EDIRNE
						has_full_control_of_state = 797 #ISTANBUL
					}
				}
				any_country = {
					is_subject_of = ROOT
					has_full_control_of_state = 341 #EDIRNE
					has_full_control_of_state = 797 #ISTANBUL
				}
			}
		}
		
		completion_reward = {
			797 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				if = {
					limit = { BUL = { has_tech = radio_detection } }
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			341 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				#Fortifications in Edirne
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11842
				}
				#Fortifications in Edirne's Naval Base
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 849
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 849
				}
			}
			add_timed_idea = {
				idea = BUL_supremacy_on_the_bosporus
				days = 365
			}
			if = {
				limit = {
					any_country = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}			
						has_full_control_of_state = 341 #EDIRNE
						has_full_control_of_state = 797 #ISTANBUL
					}
				}
				random_country = {
					limit = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}	
						has_full_control_of_state = 341 #EDIRNE
						has_full_control_of_state = 797 #ISTANBUL
					}
					add_timed_idea = {
						idea = BUL_supremacy_on_the_bosporus
						days = 365
					}
				}
			}
		}
	}

	focus = {
		id = BUL_dominance_in_the_black_sea

		prerequisite = { focus = BUL_prussia_of_the_balkans }
		prerequisite = { focus = BUL_supremacy_on_the_bosporus }
		icon = GFX_focus_generic_black_sea_focus
		relative_position_id = BUL_prussia_of_the_balkans
		x = 2
		y = 1
		cost = 10

		available = {
			any_state = {
				BUL_state_is_in_the_black_sea = yes
				controller = {
					NOT = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
			is_subject = no
		}

		bypass = {
			NOT = {
				any_state = {
					BUL_state_is_in_the_black_sea = yes
					controller = {
						NOT = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = BUL_dominance_in_the_black_sea_claims_tt
			every_state = {
				limit = {
					BUL_state_is_in_the_black_sea = yes
					NOT = { is_controlled_by = ROOT }
					NOT = {
						any_country = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
							controls_state = PREV
						}
					}
					NOT = { is_claimed_by = ROOT }
				}
				add_claim_by = ROOT
				set_state_flag = BUL_dominance_in_the_seas_claim_flag
			}
			if = {
			limit = {
					any_other_country = {
						any_controlled_state = {
							BUL_state_is_in_the_black_sea = yes
						}
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				custom_effect_tooltip = BUL_dominance_in_the_black_sea_wargoals_tt
				every_other_country = {
					limit = {
						any_controlled_state = {
							BUL_state_is_in_the_black_sea = yes
						}
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					hidden_effect = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
								expire = 730
							}
						}
					}
				}
			}
			effect_tooltip = {
				activate_mission = BUL_dominance_in_the_black_sea_mission
			}
		}
	}

	focus = {
		id = BUL_dominance_in_the_aegean_sea

		prerequisite = { focus = BUL_dominance_in_the_black_sea }
		icon = GFX_focus_generic_aegean_sea_focus
		relative_position_id = BUL_dominance_in_the_black_sea
		x = -1
		y = 1
		cost = 5

		available = {
			any_state = {
				BUL_state_is_in_the_aegean_sea = yes
				controller = {
					NOT = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
			is_subject = no
		}

		bypass = {
			NOT = {
				any_state = {
					BUL_state_is_in_the_aegean_sea = yes
					controller = {
						NOT = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = BUL_dominance_in_the_aegean_sea_claims_tt
			every_state = {
				limit = {
					BUL_state_is_in_the_aegean_sea = yes
					NOT = { is_controlled_by = ROOT }
					NOT = {
						any_country = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
							controls_state = PREV
						}
					}
					NOT = { is_claimed_by = ROOT }
				}
				add_claim_by = ROOT
				set_state_flag = BUL_dominance_in_the_seas_claim_flag
			}
			if = {
				limit = {
						any_other_country = {
							any_controlled_state = {
								BUL_state_is_in_the_aegean_sea = yes
							}
							NOT = { is_subject_of = ROOT }
							NOT = { is_in_faction_with = ROOT }
						}
					}
				custom_effect_tooltip = BUL_dominance_in_the_black_sea_wargoals_tt
				every_other_country = {
					limit = {
						any_controlled_state = {
							BUL_state_is_in_the_aegean_sea = yes
						}
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					hidden_effect = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
								expire = 730
							}
						}
					}
				}
			}
			effect_tooltip = {
				activate_mission = BUL_dominance_in_the_aegean_sea_mission
			}
		}
	}

	focus = {
		id = BUL_dominance_in_the_adriatic_sea

		prerequisite = { focus = BUL_dominance_in_the_black_sea }
		icon = GFX_focus_generic_adriatic_sea_focus
		relative_position_id = BUL_dominance_in_the_black_sea
		x = 1
		y = 1
		cost = 5

		available = {
			any_state = {
				BUL_state_is_in_the_adriatic_sea = yes
				controller = {
					NOT = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
			is_subject = no
		}

		bypass = {
			NOT = {
				any_state = {
					BUL_state_is_in_the_adriatic_sea = yes
					controller = {
						NOT = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = BUL_dominance_in_the_adriatic_sea_claims_tt
			every_state = {
				limit = {
					BUL_state_is_in_the_adriatic_sea = yes
					NOT = { is_controlled_by = ROOT }
					NOT = {
						any_country = {
							OR = {
								is_in_faction_with = ROOT
								is_subject_of = ROOT
							}
							controls_state = PREV
						}
					}
					NOT = { is_claimed_by = ROOT }
				}
				add_claim_by = ROOT
				set_state_flag = BUL_dominance_in_the_seas_claim_flag
			}
			if = {
				limit = {
					any_other_country = {
						any_controlled_state = {
							BUL_state_is_in_the_adriatic_sea = yes
						}
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				custom_effect_tooltip = BUL_dominance_in_the_black_sea_wargoals_tt
				every_other_country = {
					limit = {
						any_controlled_state = {
							BUL_state_is_in_the_adriatic_sea = yes
						}
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					hidden_effect = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
								expire = 730
							}
						}
					}
				}
			}
			effect_tooltip = {
				activate_mission = BUL_dominance_in_the_adriatic_sea_mission
			}
		}
	}

	focus = {
		id = BUL_bulgaria_on_the_three_seas

		prerequisite = { focus = BUL_dominance_in_the_adriatic_sea }
		prerequisite = { focus = BUL_dominance_in_the_aegean_sea }
		icon = GFX_focus_BUL_bulgaria_on_the_three_seas
		relative_position_id = BUL_dominance_in_the_aegean_sea
		x = 1
		y = 1
		cost = 10

		available = {
			any_controlled_state = {
				BUL_state_is_in_the_black_sea = yes
			}
			any_controlled_state = {
				BUL_state_is_in_the_aegean_sea = yes
			}
			any_controlled_state = {
				BUL_state_is_in_the_adriatic_sea = yes
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 50
			custom_effect_tooltip = BUL_bulgaria_on_the_three_seas_buliding_tt
			every_controlled_state = {
				limit = {
					OR = {
						BUL_state_is_in_the_black_sea = yes
						BUL_state_is_in_the_aegean_sea = yes
						BUL_state_is_in_the_adriatic_sea = yes
					}
					dockyard > 0
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			every_controlled_state = {
				limit = {
					OR = {
						BUL_state_is_in_the_black_sea = yes
						BUL_state_is_in_the_aegean_sea = yes
						BUL_state_is_in_the_adriatic_sea = yes
					}
					naval_base > 0
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
						limit_to_victory_point > 0
					}
				}
			}
		}
	}


	focus = {
		id = BUL_national_submarine_production

		prerequisite = { focus = BUL_a_black_sea_fleet }
		icon = GFX_goal_generic_navy_submarine
		relative_position_id = BUL_a_black_sea_fleet
		x = -1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_national_submarine_production
			    bonus = 1.0
			    uses = 2
			    category = ss_tech
			}
		}
	}

	focus = {
		id = BUL_bulgarian_shipping_chamber

		prerequisite = { focus = BUL_a_black_sea_fleet }
		icon = GFX_goal_generic_navy_cruiser
		relative_position_id = BUL_a_black_sea_fleet
		x = 0
		y = 2
		cost = 10

		available = {
			controls_state = 211
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			211 = {
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
			}
			add_equipment_to_stockpile = {
				type = convoy
				amount = 50
			}
			add_ideas = BUL_bulgarian_shipping_chamber
		}
	}

	focus = {
		id = BUL_strike_from_the_seas

		prerequisite = { focus = BUL_bulgarian_shipping_chamber }
		icon = GFX_goal_generic_amphibious_assault
		relative_position_id = BUL_bulgarian_shipping_chamber
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_a_powerful_bulgarian_navy }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 15
			navy_experience = 15
			add_tech_bonus = {
				name = BUL_strike_from_the_seas
			    bonus = 1.0
			    uses = 2
			    category = marine_tech
			    category = tp_tech
			}
		}
	}

	focus = {
		id = BUL_expand_varna_naval_base

		prerequisite = { focus = BUL_acquire_modern_tools }
		icon = GFX_goal_generic_build_navy
		relative_position_id = BUL_acquire_modern_tools
		x = 15
		y = 2
		cost = 10

		available = {
			controls_state = 211
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 15
			211 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9783
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = BUL_varna_naval_dockyard
		}
	}

	focus = {
		id = BUL_develop_burgas_shipyards

		prerequisite = { focus = BUL_expand_varna_naval_base }
		icon = GFX_goal_generic_construct_naval_dockyard
		relative_position_id = BUL_expand_varna_naval_base
		x = 0
		y = 1
		cost = 10

		available = {
			controls_state = 211
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 15
			211 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9902
				}
			}
		}
	}

	focus = {
		id = BUL_an_aegean_sea_fleet

		prerequisite = { focus = BUL_a_black_sea_fleet }
		prerequisite = { focus = BUL_develop_burgas_shipyards }
		icon = GFX_focus_generic_cruiser2
		relative_position_id = BUL_a_black_sea_fleet
		x = 2
		y = 2
		cost = 10

		available = {
			any_controlled_state = {
				BUL_state_is_in_the_aegean_sea = yes
				dockyard > 0
			}
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = BUL_an_aegean_sea_fleet
			    bonus = 1.0
			    uses = 2
			    category = cl_tech
			    category = ca_tech
			}
			BUL_replace_national_naval_designer = yes

			custom_effect_tooltip = BUL_an_aegean_sea_fleet_tt
			every_controlled_state = {
				limit = {
					BUL_state_is_in_the_aegean_sea = yes
					dockyard > 0
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = BUL_a_powerful_bulgarian_navy

		prerequisite = { focus = BUL_an_aegean_sea_fleet }
		icon = GFX_focus_generic_navy_battleship2
		relative_position_id = BUL_an_aegean_sea_fleet
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_strike_from_the_seas }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = BUL_a_powerful_bulgarian_navy
			    bonus = 1.0
			    uses = 2
			    category = bb_tech
			    category = naval_doctrine
			}
		}
	}

	focus = {
		id = BUL_modern_tactics

		prerequisite = { focus = BUL_strike_from_the_seas focus = BUL_a_powerful_bulgarian_navy }
		icon = GFX_goal_generic_air_naval_bomber
		relative_position_id = BUL_strike_from_the_seas
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = BUL_modern_tactics
			    bonus = 1.0
			    uses = 2
			    category = naval_doctrine
			}
			add_tech_bonus = {
				name = BUL_modern_tactics
			    bonus = 0.75
			    uses = 1
			    category = naval_air
			}
		}
	}


 ######   #######  ##     ## ##     ## ##     ## ##    ## ####  ######  ########    ########  ########     ###    ##    ##  ######  ##     ## 
##    ## ##     ## ###   ### ###   ### ##     ## ###   ##  ##  ##    ##    ##       ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## 
##       ##     ## #### #### #### #### ##     ## ####  ##  ##  ##          ##       ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## 
##       ##     ## ## ### ## ## ### ## ##     ## ## ## ##  ##   ######     ##       ########  ########  ##     ## ## ## ## ##       ######### 
##       ##     ## ##     ## ##     ## ##     ## ##  ####  ##        ##    ##       ##     ## ##   ##   ######### ##  #### ##       ##     ## 
##    ## ##     ## ##     ## ##     ## ##     ## ##   ###  ##  ##    ##    ##       ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## 
 ######   #######  ##     ## ##     ##  #######  ##    ## ####  ######     ##       ########  ##     ## ##     ## ##    ##  ######  ##     ## 


	focus = {
		id = BUL_oppose_the_royal_dictatorship

		icon = GFX_focus_BUL_oppose_the_royal_dictatorship
		relative_position_id = BUL_acquire_modern_tools
		x = 21
		y = 0
		cost = 10
		mutually_exclusive = { focus = BUL_power_to_the_tsar }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_stability = -0.05
			add_ideas = BUL_tsar_boris_negative_01

			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
			custom_effect_tooltip = BUL_oppose_the_royal_dictatorship_tt
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = BUL_ivan_dochev
			show_ideas_tooltip = BUL_dobri_bozhilov_bftb
		}
	}

	focus = {
		id = BUL_appoint_communist_ministers

		prerequisite = { focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_focus_generic_soviet_politics
		relative_position_id = BUL_oppose_the_royal_dictatorship
		x = -2
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_democratic_principles }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_valko_chervenkov

			BUL_bs_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
			custom_effect_tooltip = BUL_appoint_communist_ministers_tt
		}
	}

	focus = {
		id = BUL_the_spanish_struggle

		prerequisite = { focus = BUL_appoint_communist_ministers }
		icon = GFX_focus_intervention_spain_republic
		relative_position_id = BUL_appoint_communist_ministers
		x = -2
		y = 1
		cost = 5

		available = {
			has_civil_war = no
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				}
				else = {
					country_exists = SPD
					NOT = { has_war_with = SPD }
				}
			}
			else = {
				any_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_government = communism
			is_subject = no
		}
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPD = {
					add_opinion_modifier = {
					    target = BUL
					    modifier = BUL_helped_in_civil_war
					}
					add_manpower = 3000
					ROOT = {
						set_variable = { BUL_spanish_tag_aided = PREV }
					}
				}
				add_ai_strategy = {
					type = befriend
					id = SPD
					value = 100
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = SPD
					value = 100
				}
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_opinion_modifier = {
					    target = BUL
					    modifier = BUL_helped_in_civil_war
					}
					add_manpower = 3000
					ROOT = {
						set_variable = { BUL_spanish_tag_aided = PREV }
						add_ai_strategy = {
							type = send_volunteers_desire
							id = PREV
							value = 100
						}
					}
				}
			}
			add_manpower = -3000
			add_ideas = BUL_volunteers_in_spain_republican
			set_rule = { can_send_volunteers = yes }
			custom_effect_tooltip = BUL_the_spanish_struggle_tt
		}
	}

	focus = {
		id = BUL_overthrow_the_tsar

		prerequisite = { focus = BUL_appoint_communist_ministers }
		icon = GFX_goal_tfv_burn_the_royal_portraits
		relative_position_id = BUL_appoint_communist_ministers
		x = -1
		y = 2
		cost = 10

		available = {
			communism > 0.3
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			remove_ideas = BUL_tsar_boris_negative_01
			if = {
				limit = {
					has_idea = BUL_georgi_ivanov_kyoseivanov_bftb
				}
				remove_ideas = BUL_georgi_ivanov_kyoseivanov_bftb
			}

			if = { #Low Stability triggers a Civil War
				limit = {
					has_stability < 0.3
				}
				set_temp_variable = { BUL_communist_cw_opposition = party_popularity@democratic }
				multiply_temp_variable = { BUL_communist_cw_opposition = 0.25 }
				add_to_temp_variable = { BUL_communist_cw_opposition = party_popularity@neutrality }
				add_to_temp_variable = { BUL_communist_cw_opposition = party_popularity@fascism }

				set_politics = {
					ruling_party = communism
				}
				hidden_effect = {
					every_unit_leader = {
						limit = {
							OR = {
								has_id = 1207 #Asen Nikolov
								has_id = 1208 #Konstantin Lukash
							}
							NOT = { has_trait = trait_BUL_zveno_member }
						}
						add_unit_leader_trait = trait_BUL_tsar_loyalist
					}

					start_civil_war = {	
						ideology = neutrality
						size = BUL_communist_cw_opposition
						capital = 48
						states = { 212 }
						keep_unit_leaders_trigger = {
							NOT = {	has_trait = trait_BUL_tsar_loyalist }
						}
					}

					every_unit_leader = {
						limit = {
							has_trait = trait_BUL_tsar_loyalist
						}
						random_other_country = {
							limit = {
								original_tag = BUL
								has_government = neutrality
							}
							PREV = { set_nationality = PREV }
						}
					}

					#Operatives
					if = {
						limit = {
							has_dlc = "La Resistance"
						}
						every_operative = {
							limit = {
								has_trait = trait_BUL_tsar_loyalist
							}
							retire = yes
						}
					}
				}
				custom_effect_tooltip = BUL_depose_the_tsar_cw_tt

				clr_country_flag = BUL_factions_unlocked_flag
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}
			}
			else = {
				add_stability = -0.1
				if = {
					limit = {
						has_country_leader = {
							name = "Boris III"
							ruling_only = yes
						}
					}
					retire_country_leader = yes
				}
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}

				#Separate scopes for tt reasons
				every_unit_leader = {
					limit = {
						is_field_marshal = yes
						has_trait = trait_BUL_tsar_loyalist
					}
					retire = yes
				}
				every_unit_leader = {
					limit = {
						is_field_marshal = no
						has_trait = trait_BUL_tsar_loyalist
					}
					retire = yes
				}
			}

			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes

			custom_effect_tooltip = BUL_potential_civil_war_low_requirement_tt
		}
	}

	focus = {
		id = BUL_abolish_the_tarnovo_constitution

		prerequisite = { focus = BUL_overthrow_the_tsar }
		icon = GFX_focus_renounce_the_treaty_of_trianon
		relative_position_id = BUL_overthrow_the_tsar
		x = -1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_stability = -0.05
			add_political_power = 120
			divide_variable = { BUL_faction_interaction_cost_standard = 2 }
			divide_variable = { BUL_broad_socialist_opression_cost_standard = 2 }

			BUL_zveno_low_loyalty_increase_effect = yes
			custom_effect_tooltip = BUL_reduced_faction_interaction_cost_tt
		}
	}

	focus = {
		id = BUL_unify_the_bourgeois_movement

		prerequisite = { focus = BUL_appoint_communist_ministers }
		icon = GFX_focus_generic_support_the_left_right
		relative_position_id = BUL_appoint_communist_ministers
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 30
			add_stability = 0.05
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			BUL_bs_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_united_front_against_fascism

		prerequisite = { focus = BUL_unify_the_bourgeois_movement }
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		relative_position_id = BUL_unify_the_bourgeois_movement
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}

			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
		}
	}

	focus = {
		id = BUL_the_fatherland_front

		prerequisite = { focus = BUL_united_front_against_fascism }
		icon = GFX_focus_BUL_the_fatherland_front
		relative_position_id = BUL_united_front_against_fascism
		x = 0
		y = 1
		cost = 10

		available = {
			OR = {
				has_country_flag = BUL_bs_destroyed_flag
				has_country_flag = BUL_bs_integrated_flag
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_the_fatherland_front_bzns_support_requirement_tt
					check_variable = { BUL_bzns_loyalty = 50 compare = greater_than }
				}
				has_country_flag = BUL_bzns_destroyed_flag
				has_country_flag = BUL_bzns_integrated_flag
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_the_fatherland_front_zveno_support_requirement_tt
					check_variable = { BUL_zveno_loyalty = 50 compare = greater_than }
				}
				has_country_flag = BUL_zveno_destroyed_flag
				has_country_flag = BUL_zveno_integrated_flag
			}
			OR = {
				NOT = { has_government = communism }
				AND = {
					NOT = { has_war_with = SOV }
					any_country = {
						has_war_with = ROOT
						is_major = yes
						NOT = { has_government = communism }
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			set_party_name = {
				ideology = communism
				long_name = BUL_fatherland_front_party_long
				name = BUL_fatherland_front_party
			}

			set_temp_variable = { BUL_communist_support_from_faction_loyalties = 0.05 } #Base value representing BS
			if = {
				limit = {
					has_country_flag = BUL_bzns_integrated_flag
				}
				add_to_temp_variable = { BUL_communist_support_from_faction_loyalties = 0.1 }
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = BUL_bzns_destroyed_flag }
				}
				add_to_temp_variable = { BUL_communist_support_from_faction_loyalties = 0.05 }
			}
			if = {
				limit = {
					has_country_flag = BUL_zveno_integrated_flag
				}
				add_to_temp_variable = { BUL_communist_support_from_faction_loyalties = 0.1 }
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = BUL_zveno_destroyed_flag }
				}
				add_to_temp_variable = { BUL_communist_support_from_faction_loyalties = 0.05 }
			}
			add_popularity = {
				ideology = communism
				popularity = BUL_communist_support_from_faction_loyalties
			}
			custom_effect_tooltip = BUL_the_fatherland_front_communist_support_tt

			if = {
				limit = {
					has_government = communism
				}
				add_ideas = BUL_fatherland_front_positive
			}
			else = {
				set_country_flag = BUL_player_formed_fatherland_front_flag
			}

			BUL_zveno_medium_loyalty_increase_effect = yes
			BUL_bs_medium_loyalty_increase_effect = yes
			BUL_bzns_medium_loyalty_increase_effect = yes

			country_event = bftb_bulgaria_fatherland_front.1
		}
	}

	focus = {
		id = BUL_full_voting_rights_for_women

		prerequisite = { focus = BUL_the_fatherland_front focus = BUL_form_a_popular_bloc }
		icon = GFX_goal_generic_national_unity
		relative_position_id = BUL_the_fatherland_front
		x = 1
		y = 1
		cost = 10

		available = {
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_dimitrana_ivanova
			custom_effect_tooltip = BUL_full_voting_rights_for_women_ideology_tt
			if = {
				limit = {
					OR = {
						has_government = communism
						has_completed_focus = BUL_appoint_communist_ministers
					}
				}
				set_temp_variable = { BUL_communist_support_from_womens_rights = party_popularity@communism }
				divide_temp_variable = { BUL_communist_support_from_womens_rights = 10 }
				add_popularity = {
					ideology = communism
					popularity = BUL_communist_support_from_womens_rights
				}
				set_temp_variable = { BUL_democratic_support_from_womens_rights = party_popularity@democratic }
				divide_temp_variable = { BUL_democratic_support_from_womens_rights = 3 }
				add_popularity = {
					ideology = democratic
					popularity = BUL_democratic_support_from_womens_rights
				}
			}
			else_if = {
				limit = {
					OR = {
						has_government = democratic
						has_completed_focus = BUL_democratic_principles
					}
				}
				set_temp_variable = { BUL_communist_support_from_womens_rights = party_popularity@communism }
				divide_temp_variable = { BUL_communist_support_from_womens_rights = 3 }
				add_popularity = {
					ideology = communism
					popularity = BUL_communist_support_from_womens_rights
				}
				set_temp_variable = { BUL_democratic_support_from_womens_rights = party_popularity@democratic }
				divide_temp_variable = { BUL_democratic_support_from_womens_rights = 10 }
				add_popularity = {
					ideology = democratic
					popularity = BUL_democratic_support_from_womens_rights
				}
			}
			else = {
				set_temp_variable = { BUL_communist_support_from_womens_rights = party_popularity@communism }
				divide_temp_variable = { BUL_communist_support_from_womens_rights = 3 }
				add_popularity = {
					ideology = communism
					popularity = BUL_communist_support_from_womens_rights
				}
				set_temp_variable = { BUL_democratic_support_from_womens_rights = party_popularity@democratic }
				divide_temp_variable = { BUL_democratic_support_from_womens_rights = 3 }
				add_popularity = {
					ideology = democratic
					popularity = BUL_democratic_support_from_womens_rights
				}
			}
		}
	}

	focus = {
		id = BUL_the_peoples_republic_of_bulgaria

		prerequisite = { focus = BUL_overthrow_the_tsar }
		icon = GFX_focus_BUL_the_peoples_republic_of_bulgaria
		relative_position_id = BUL_overthrow_the_tsar
		x = 0
		y = 2
		cost = 10

		available = {
			communism > 0.4
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_the_peoples_republic_of_bulgaria_bs_support_requirement_tt
					check_variable = { BUL_bs_loyalty = 50 compare = greater_than }
				}
				has_country_flag = BUL_bs_destroyed_flag
				has_country_flag = BUL_bs_integrated_flag
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.1
			if = {
				limit = {
					has_idea = BUL_second_national_catastrophe
				}
				swap_ideas = {
					remove_idea = BUL_second_national_catastrophe
					add_idea = BUL_second_national_catastrophe_02
				}
			}
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				set_politics = {
					ruling_party = communism
				}
			}
			add_political_power = 70

			#Using separate scopes for tooltip reasons
			#Separate scopes for tt reasons
			every_unit_leader = {
				limit = {
					is_field_marshal = yes
					OR = {
						has_id = 1207 #Nikolov
						has_id = 1208 #Lukash
					}
				}
				retire = yes
			}
			every_unit_leader = {
				limit = {
					is_field_marshal = no
					OR = {
						has_id = 1207 #Nikolov
						has_id = 1208 #Lukash
					}
				}
				retire = yes
			}
		}
	}

	focus = {
		id = BUL_soviet_bulgarian_treaty_of_mutual_assistance

		prerequisite = { focus = BUL_the_peoples_republic_of_bulgaria }
		icon = GFX_focus_chi_mission_to_the_soviet_union
		relative_position_id = BUL_the_peoples_republic_of_bulgaria
		x = -2
		y = 1
		cost = 10

		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
			SOV = { 
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = SOV
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			
			if = {
				limit = {
					has_country_flag = BUL_soviet_influence_flag
				}
				modify_country_flag = { flag = BUL_soviet_influence_flag value = 1 }
			}
			else = {
				set_country_flag = { flag = BUL_soviet_influence_flag value = 1 }
			}

			if = {
				limit = {
					has_completed_focus = BUL_attract_foreign_capitals
				}
				custom_effect_tooltip = BUL_approach_soviet_foreign_industry_tt
			}

			if = {
				limit = {
					OR = {
						NOT = { country_exists = SOV }
						has_war_with = SOV
						SOV = { BUL_is_valid_subject = no }
					}
				}
				hidden_effect = {
					activate_targeted_decision = { target = SOV decision = BUL_purchase_artillery }
					activate_targeted_decision = { target = SOV decision = BUL_purchase_military_vehicles }
					activate_targeted_decision = { target = SOV decision = BUL_purchase_aircraft }
					activate_targeted_decision = { target = SOV decision = BUL_purchase_infantry_equipment }
					activate_targeted_decision = { target = SOV decision = BUL_purchase_armor }
					activate_targeted_decision = { target = SOV decision = BUL_purchase_ships }
				}
			}
			else = {
				activate_targeted_decision = { target = SOV decision = BUL_purchase_artillery }
				activate_targeted_decision = { target = SOV decision = BUL_purchase_military_vehicles }
				activate_targeted_decision = { target = SOV decision = BUL_purchase_aircraft }
				activate_targeted_decision = { target = SOV decision = BUL_purchase_infantry_equipment }
				activate_targeted_decision = { target = SOV decision = BUL_purchase_armor }
				activate_targeted_decision = { target = SOV decision = BUL_purchase_ships }
			}

			SOV = {
				country_event = { id = bftb_bulgaria_soviet_influence.1 hours = 8 random_hours = 8 }
			}
			effect_tooltip = {
				custom_effect_tooltip = BUL_soviet_bulgarian_treaty_of_mutual_assistance_tt
				add_opinion_modifier = { 
					target = SOV
					modifier = BUL_strengthened_relations_with_us
				}
				SOV = {
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_strengthened_relations_with_us
					}
					give_guarantee = ROOT
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
				every_country = {
					limit = {
						OR = {
							tag = ENG
							tag = FRA
							tag = GER
						}
						NOT = { is_in_faction_with = SOV }
					}
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_approached_the_ussr
					}
				}
			}

			SOV = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 20
			}
		}
	}

	focus = {
		id = BUL_follow_the_stalinist_doctrine

		prerequisite = { focus = BUL_soviet_bulgarian_treaty_of_mutual_assistance }
		icon = GFX_focus_fra_loyalty_stalin
		relative_position_id = BUL_soviet_bulgarian_treaty_of_mutual_assistance
		x = 0
		y = 4
		cost = 5
		mutually_exclusive = { focus = BUL_balkan_federation_of_socialist_republics }

		bypass = {
			OR = {
				NOT = { country_exists = SOV }
				NOT = { SOV = { has_government = communism } }
				is_in_faction_with = SOV
			}
		}

		available = {
			if = {
				limit = {
					OR = {
						NOT = { country_exists = SOV }
						NOT = { SOV = { has_government = communism } }
						is_in_faction_with = SOV
					}
				}
				#This is intended so that the focus does not look unavailable when it is actually bypassed
			}
			else = {
				SOV = {
					has_government = communism
					is_faction_leader = yes
					is_subject = no
					NOT = { is_justifying_wargoal_against = ROOT }
					NOT = { has_war_with = ROOT }
				}
				SOV = { #Split for easier visualization in the tooltip
					has_opinion	= {
						target = ROOT
						value > 50
					}
				}
				is_in_faction = no
				is_subject = no
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 70			
			SOV = {
				country_event = { id = generic.2 hours = 4 random_hours = 4 }
			}
			if = {
				limit = {
					SOV = { has_war = yes }
				}
				add_war_support = 0.1
			}

			SOV = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = 100
			}
		}
	}

	focus = {
		id = BUL_joint_research_effort

		prerequisite = { focus = BUL_follow_the_stalinist_doctrine }
		icon = GFX_focus_generic_socialist_science
		relative_position_id = BUL_follow_the_stalinist_doctrine
		x = -1
		y = 1
		cost = 10

		available = {
			BUL_is_not_alone_in_faction = yes
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					is_in_faction = yes
					NOT = { is_in_faction_with = SOV }
				}
				add_to_tech_sharing_group = BUL_bulgarian_academy_of_sciences
				every_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_to_tech_sharing_group = BUL_bulgarian_academy_of_sciences
				}
			}
			else = {
				SOV = { add_to_tech_sharing_group = comintern_research }
				add_to_tech_sharing_group = comintern_research
			}
		}
	}

	focus = {
		id = BUL_soviet_military_exercises

		prerequisite = { focus = BUL_joint_research_effort }
		icon = GFX_focus_generic_military_mission
		relative_position_id = BUL_joint_research_effort
		x = 0
		y = 1
		cost = 10

		available = {
			is_in_faction_with = SOV
		}

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = BUL_darzhavna_samoletna_fabrika
			    bonus = 1.0
			    uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
			army_experience = 20
			air_experience = 20
			navy_experience = 20
		}
	}

	focus = {
		id = BUL_soviet_bulgarian_war_industry

		prerequisite = { focus = BUL_soviet_military_exercises }
		icon = GFX_goal_generic_army_tanks
		relative_position_id = BUL_soviet_military_exercises
		x = 0
		y = 1
		cost = 10

		available = {
			is_in_faction_with = SOV
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = BUL_soviet_bulgarian_war_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = BUL_soviet_bulgarian_war_industry_flag }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = BUL_soviet_bulgarian_war_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = BUL_soviet_bulgarian_war_industry_flag }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = { has_state_flag = BUL_soviet_bulgarian_war_industry_flag }
				clr_state_flag = BUL_soviet_bulgarian_war_industry_flag
			}

			custom_effect_tooltip = BUL_soviet_bulgarian_war_industry_research_sharing_tt
			hidden_effect = {
				every_country = {
					limit = {
						is_in_tech_sharing_group = comintern_research
					}
					remove_from_tech_sharing_group = comintern_research
					add_to_tech_sharing_group = BUL_improved_comintern_research
				}
			}

			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				SOV = {
					#Latest Light Tank license
					if = {
						limit = {
							has_tech = advanced_light_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = light_tank_equipment_3
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = improved_light_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = light_tank_equipment_2
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = basic_light_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = light_tank_equipment_1
							}
							cost_factor = 0
						}
					}
					#Latest Medium Tank license
					if = {
						limit = {
							has_tech = advanced_medium_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = medium_tank_equipment_3
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = improved_medium_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = medium_tank_equipment_2
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = basic_medium_tank
							NOT = { has_tech = improved_medium_tank }
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = medium_tank_equipment_1
							}
							cost_factor = 0
						}
					}
					#Latest Heavy Tank license
					if = {
						limit = {
							has_tech = advanced_heavy_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = heavy_tank_equipment_3
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = improved_heavy_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = heavy_tank_equipment_2
							}
							cost_factor = 0
						}
					}
					else_if = {
						limit = {
							has_tech = basic_heavy_tank
						}
						create_production_license = {
							target = BUL
							equipment = {
								type = heavy_tank_equipment_1
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				BUL = {
					add_tech_bonus = {
						name = armor
						bonus = 1.0
						uses = 2
						category = armor
					}
				}
			}
		}
	}

	focus = {
		id = BUL_carry_the_revolution_abroad

		select_effect = {
			random_neighbor_country = {
				limit = {
					BUL_is_balkan_nation = yes
					OR = {
						AND = {
							has_government = communism
							is_in_faction = yes
							NOT = { is_in_faction_with = ROOT }
						}
						NOT = { has_government = communism }
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}	
		}

		prerequisite = { focus = BUL_follow_the_stalinist_doctrine }
		icon = GFX_focus_spr_masters_of_our_own_fate
		relative_position_id = BUL_follow_the_stalinist_doctrine
		x = 1
		y = 1
		cost = 10

		available = {
			has_government = communism
			is_subject = no
		}
		

		completion_reward = {

			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = BUL_carry_the_revolution_abroad_tt
			}

			if = {
				limit = {
					has_completed_focus = BUL_follow_the_stalinist_doctrine
					is_in_faction = no
				}
				set_rule = {
					can_create_factions = yes
				}
			}
			else_if = {
				limit = {
					is_in_faction = yes
				}
				custom_effect_tooltip = BUL_carry_the_revolution_abroad_tt
			}

			if = { #BULGARIA IS PART OF THE COMINTERN
				limit = {
					is_in_faction_with = SOV
					SOV = { is_faction_leader = yes }
				}
				add_war_support = 0.1
				custom_effect_tooltip = BUL_carry_the_revolution_abroad_comintern_invitation_tt
				hidden_effect = {
					every_other_country = { #Independent Balkan commie nations are invited to the Comintern (or wargoal)
						limit = {
							BUL_is_balkan_nation = yes
							has_government = communism
							is_in_faction = no
						}
						country_event = { id = bftb_bulgaria_soviet_influence.4 hours = 4 random_hours = 2 }
					}
				}
			}
			else = { #BULGARIA IS PART OF ANOTHER FACTION (or is not in a faction)
				every_other_country = { #Independent Balkan commie nations receive opinion bonuses with Bulgaria
					limit = {
						BUL_is_balkan_nation = yes
						has_government = communism
						is_in_faction = no
					}
					add_opinion_modifier = {
						target = BUL
						modifier = BUL_balkan_communism
					}
					hidden_effect = {
						add_opinion_modifier = {
							target = BUL
							modifier = BUL_balkan_communism_trade
						}
					}
					BUL = {
						add_opinion_modifier = {
							target = PREV
							modifier = BUL_balkan_communism
						}
						hidden_effect = {
							add_opinion_modifier = {
								target = PREV
								modifier = BUL_balkan_communism_trade
							}
						}
					}
					custom_effect_tooltip = BUL_carry_the_revolution_abroad_alternative_invitation_tt
					if = {
						limit = {
							ROOT = { is_faction_leader = yes }
						}
						hidden_effect = {
							country_event = generic.5
						}
					}
				}
			}

			custom_effect_tooltip = BUL_carry_the_revolution_abroad_wargoals_tt
			#CREATE A WARGOAL AGAINST ANY BALKAN NON COMMUNIST NATION OR COMMUNIST NATION IN ANOTHER FACTION
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
					OR = {
						AND = {
							has_government = communism
							is_in_faction = yes
							NOT = { is_in_faction_with = ROOT }
						}
						NOT = { has_government = communism }
					}
				}
				hidden_effect = {
					add_opinion_modifier = {
						target = BUL
						modifier = BUL_communist_menace
					}
					hidden_effect = {
						add_opinion_modifier = {
							target = BUL
							modifier = BUL_communist_menace_trade
						}
					}
					BUL = {
						create_wargoal = {
							type = annex_everything
							target = PREV
							expire = 730
						}
					}
				}
			}
		}
	}

	focus = {
		id = BUL_liberation_of_the_proletariat

		prerequisite = { focus = BUL_carry_the_revolution_abroad }
		icon = GFX_focus_ger_great_red_menace
		relative_position_id = BUL_carry_the_revolution_abroad
		x = 0
		y = 1
		cost = 10

		available = {
			has_government = communism
			is_subject = no
		}
		
		completion_reward = {
			custom_effect_tooltip = BUL_liberation_of_the_proletariat_tt
			every_other_country = {
				limit = {
					OR = {
						AND = {
							is_major = yes
							capital_scope = { is_on_continent = europe }
						}
						is_neighbor_of = ROOT
					}
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					NOT = { is_in_faction_with = ROOT }
				}
				hidden_effect = {
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
							expire = 730
						}
					}
				}
			}
		}
	}

	focus = {
		id = BUL_the_anti_capitalist_fight

		prerequisite = { focus = BUL_liberation_of_the_proletariat }
		icon = GFX_focus_generic_strike_at_democracy3
		relative_position_id = BUL_liberation_of_the_proletariat
		x = 0
		y = 1
		cost = 10

		available = {
			has_government = communism
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			hidden_effect = {
				every_other_country = {
					limit = {
						is_major = yes
						has_government = democratic
						NOT = { is_in_faction_with = ROOT }
						capital_scope = { is_on_continent = europe }
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
							expire = 730
						}
					}
					BUL_add_hidden_targeted_ns = yes
				}
			}
			custom_effect_tooltip = BUL_the_anti_capitalist_fight_wargoal_tt

			add_timed_idea = {
				idea = BUL_anti_capitalism
				days = 730
			}
			custom_effect_tooltip = BUL_the_anti_capitalist_fight_ns_tt
			every_other_country = {
				limit = {
					is_major = yes
					has_government = democratic
					capital_scope = { is_on_continent = europe }
				}
			}
		}
	}

	focus = {
		id = BUL_united_we_shall_prevail

		prerequisite = { focus = BUL_liberation_of_the_proletariat focus = BUL_balkan_trade_union_secretariat }
		icon = GFX_goal_generic_military_deal
		relative_position_id = BUL_liberation_of_the_proletariat
		x = 2
		y = 1
		cost = 10

		available = {
			if = {
				limit = {
					has_completed_focus = BUL_democratic_principles
				}
				has_government = democratic
				any_country = {
					BUL_is_balkan_nation_no_bulgaria = yes
					is_in_faction_with = ROOT
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_completed_focus = BUL_appoint_communist_ministers
				}
				has_government = communism
				any_country = {
					BUL_is_balkan_nation_no_bulgaria = yes
					is_in_faction_with = ROOT
					has_government = communism
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = BUL_democratic_principles }
					NOT = { has_completed_focus = BUL_appoint_communist_ministers }
				}
				OR = {
					has_government = democratic
					has_government = communism
				}
				any_country = {
					BUL_is_balkan_nation_no_bulgaria = yes
					is_in_faction_with = ROOT
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.15
			if = {
				limit = {
					any_country = {
						BUL_is_balkan_nation = yes
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
				every_country = {
					limit = {
						BUL_is_balkan_nation = yes
						is_in_faction_with = ROOT
						has_government = ROOT
					}
					add_ideas = BUL_the_balkans_united
				}
			}
			else = {
				custom_effect_tooltip = BUL_united_we_shall_prevail_tt
			}
		}
	}

	focus = {
		id = BUL_the_unification_of_the_balkans

		prerequisite = { focus = BUL_united_we_shall_prevail }
		icon = GFX_focus_BUL_the_unification_of_the_balkans
		relative_position_id = BUL_united_we_shall_prevail
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_free_balkan_states }

		available = {
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			if = {
				limit = {
					has_idea = BUL_second_national_catastrophe
				}
				effect_tooltip = {
					remove_ideas = BUL_second_national_catastrophe
				}
			}
			else_if = {
				limit = {
					has_idea = BUL_second_national_catastrophe_02
				}
				remove_ideas = BUL_second_national_catastrophe_02
			}

			#Core Balkan States
			custom_effect_tooltip = BUL_the_unification_of_the_balkans_cores_tt
			every_state = {
				limit = {
					BUL_is_balkan_state = yes
					NOT = { is_core_of = ROOT }
				}
				hidden_effect = {
					ROOT = { add_state_core = PREV }
					if = {
						limit = {
							is_claimed_by = ROOT
						}
						remove_claim_by = ROOT
					}
				}
			}

			#Event for unification
			if = {
				limit = {
					any_other_country = {
						BUL_is_balkan_nation = yes
						is_in_faction_with = ROOT
					}
				}
				every_other_country = {
					limit = {
						BUL_is_balkan_nation = yes
						is_in_faction_with = ROOT
					}
					country_event = { id = bftb_bulgaria_balkan_federation.5 hours = 6 random_hours = 6 }
				}
			}
			else = {
				custom_effect_tooltip = BUL_the_unification_of_the_balkans_event_tt
			}
			
			#Set ideology cosmetic tag to show the appropriate 3D models
			set_country_flag = BUL_ubf_flag
			BUL_set_appropriate_cosmetic_tag = yes

			hidden_effect = {
				news_event = { id = bftb_news.10 hours = 24 random_hours = 4 }
			}
		}
	}

	focus = {
		id = BUL_the_peoples_militia_directorate

		prerequisite = { focus = BUL_the_peoples_republic_of_bulgaria }
		icon = GFX_focus_generic_join_comintern
		relative_position_id = BUL_the_peoples_republic_of_bulgaria
		x = -1
		y = 2
		cost = 10

		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_intelligence_agency = yes
			}
		}
		
		completion_reward = {
			add_stability = 0.05
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = BUL_the_peoples_militia_directorate_lar
			}
			else = {
				add_ideas = BUL_the_peoples_militia_directorate
			}
		}
	}

	focus = {
		id = BUL_purge_the_elites

		prerequisite = { focus = BUL_the_peoples_republic_of_bulgaria }
		icon = GFX_goal_generic_war_with_comintern #GFX_focus_spr_class_war GFX_focus_rom_parties_end
		relative_position_id = BUL_the_peoples_republic_of_bulgaria
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_stability = -0.05
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_political_power = 70
			add_timed_idea = {
				idea = BUL_elites_crushed
				days = 365
			} 

			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
		}
	}

	focus = {
		id = BUL_collectivization_of_the_countryside

		prerequisite = { focus = BUL_purge_the_elites }
		icon = GFX_focus_prc_agrarian_socialism
		relative_position_id = BUL_purge_the_elites
		x = 0
		y = 2
		cost = 10

		available = {
			communism > 0.7
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_collectivization_of_the_countryside_bs_support_requirement_tt
					check_variable = { BUL_bs_loyalty = 70 compare = greater_than }
				}
				has_country_flag = BUL_bs_destroyed_flag
				has_country_flag = BUL_bs_integrated_flag
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = BUL_government_reforms_communists_01
		}
	}

	focus = {
		id = BUL_heavy_industry

		prerequisite = { focus = BUL_collectivization_of_the_countryside }
		icon = GFX_goal_generic_soviet_construction
		relative_position_id = BUL_collectivization_of_the_countryside
		x = 0
		y = 1
		cost = 10

		available = {
			num_of_factories > 30
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = BUL_government_reforms_communists_01
				add_idea = BUL_government_reforms_communists_02
			}
		}
	}

	focus = {
		id = BUL_train_the_youth_wings

		prerequisite = { focus = BUL_the_peoples_republic_of_bulgaria }
		icon = GFX_focus_YUG_pan_slavic_congress #GFX_goal_support_communism
		relative_position_id = BUL_the_peoples_republic_of_bulgaria
		x = 1
		y = 2
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_war_support = 0.05
			add_ideas = BUL_trained_youth_wings
		}
	}

	focus = {
		id = BUL_treaty_of_perpetual_friendship

		prerequisite = { focus = BUL_the_peoples_republic_of_bulgaria }
		icon = GFX_focus_invite_yugoslavia
		relative_position_id = BUL_the_peoples_republic_of_bulgaria
		x = 2
		y = 1
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = YUG }
				YUG = { is_subject = yes }
				YUG = { has_capitulated = yes }
			}
		}

		available = {
			country_exists = YUG
			NOT = { has_war_with = YUG }
			YUG = { 
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = YUG
			}
		}
		
		completion_reward = {
			unlock_decision_category_tooltip = BUL_the_balkan_federation_dream
			YUG = {
				country_event = { id = bftb_bulgaria_yugoslavian_influence.1 hours = 4 random_hours = 4 }
			}
			custom_effect_tooltip = BUL_treaty_of_perpetual_friendship_event_effects_tt
			custom_effect_tooltip = BUL_treaty_of_perpetual_friendship_claims_tt
			effect_tooltip = {
				YUG = {
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_strengthened_relations_with_us
					}
				}
				add_opinion_modifier = { 
					target = YUG
					modifier = BUL_strengthened_relations_with_us
				}

				add_ideas = BUL_balkan_federation_project_propaganda
				YUG = { add_ideas = BUL_balkan_federation_project_propaganda }

				every_country = {
					limit = {
						BUL_country_can_influence_bulgaria = yes
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_in_faction_with = YUG }
					}
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_approached_yugoslavia
					}
				}
			}

			YUG = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = YUG
				value = 20
			}
		}
	}

	focus = {
		id = BUL_balkan_federation_of_socialist_republics

		prerequisite = { focus = BUL_treaty_of_perpetual_friendship }
		icon = GFX_focus_BUL_balkan_federation_of_socialist_republics
		relative_position_id = BUL_treaty_of_perpetual_friendship
		x = 0
		y = 4
		cost = 5
		mutually_exclusive = { focus = BUL_follow_the_stalinist_doctrine }

		available = {
			has_country_flag = BUL_balkan_federation_project_ready_flag
			is_in_faction = no
			has_government = communism
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			
			add_stability = 0.1
			create_faction = BUL_balkan_federation_of_socialist_republics		
			YUG = {
				hidden_effect = {
					country_event = { id = generic.5 hours = 4 random_hours = 4 }
				}
				custom_effect_tooltip = BUL_balkan_federation_of_socialist_republics_faction_tt
			}
			custom_effect_tooltip = BUL_balkan_federation_of_socialist_republics_decisions_tt

			hidden_effect = {
				news_event = { id = bftb_news.9 hours = 8 random_hours = 4 }
			}

			YUG = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = YUG
				value = 100
			}
		}
	}

	focus = {
		id = BUL_bury_the_grudges_of_the_past

		prerequisite = { focus = BUL_balkan_federation_of_socialist_republics focus = BUL_a_balkan_confederation }
		icon = GFX_goal_generic_major_alliance
		relative_position_id = BUL_balkan_federation_of_socialist_republics
		x = 1
		y = 1
		cost = 10

		available = {
			is_subject = no
		}
		
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_idea = BUL_second_national_catastrophe
						has_idea = BUL_second_national_catastrophe_02
					}
				}
				remove_ideas = BUL_second_national_catastrophe_02
			}
			if = {
				limit = {
					has_completed_focus = BUL_democratic_principles
				}
				every_other_country = {
					limit = {
						BUL_is_balkan_nation = yes
						has_government = democratic
						is_in_faction = no
					}
					if = {
						limit = {
							any_owned_state = {
								is_claimed_by = ROOT
							}
						}
						every_owned_state = {
							limit = {
								is_claimed_by = ROOT
							}
							remove_claim_by = ROOT
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = BUL_old_quarrels_left_behind
					}
					hidden_effect = { 
						country_event = generic.5
					}				
					custom_effect_tooltip = BUL_a_balkan_confederation_faction_tt
				}
				custom_effect_tooltip = BUL_bury_the_grudges_of_the_past_explanatory_democratic_tt
			}
			else = {
				every_other_country = {
					limit = {
						BUL_is_balkan_nation = yes
						has_government = communism
						is_in_faction = no
					}
					if = {
						limit = {
							any_owned_state = {
								is_claimed_by = ROOT
							}
						}
						every_owned_state = {
							limit = {
								is_claimed_by = ROOT
							}
							remove_claim_by = ROOT
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = BUL_old_quarrels_left_behind
					}
					hidden_effect = { 
						country_event = generic.5
					}				
					custom_effect_tooltip = BUL_balkan_federation_of_socialist_republics_faction_tt
				}
				custom_effect_tooltip = BUL_bury_the_grudges_of_the_past_explanatory_tt
			}

			hidden_effect = {
				every_other_country = {
					limit = {
						BUL_is_balkan_nation = yes
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 20
						}
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 20
					}
				}
			}
		}
	}

	focus = {
		id = BUL_balkan_trade_union_secretariat

		prerequisite = { focus = BUL_bury_the_grudges_of_the_past }
		icon = GFX_goal_generic_positive_trade_relations
		relative_position_id = BUL_bury_the_grudges_of_the_past
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = BUL_balkan_trade_union_secretariat
			hidden_effect = {
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						BUL_is_balkan_nation = yes
					}
					add_ideas = BUL_balkan_trade_union_secretariat
				}
			}
			custom_effect_tooltip = BUL_balkan_trade_union_secretariat_tt
		}
	}

	focus = {
		id = BUL_defy_moscow

		select_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = SOV
				value = 100
			}
		}

		prerequisite = { focus = BUL_balkan_trade_union_secretariat }
		icon = GFX_focus_ger_strike_at_the_source
		relative_position_id = BUL_balkan_trade_union_secretariat
		x = 0
		y = 1
		cost = 10

		available = {
			country_exists = SOV
			NOT = {	is_in_faction_with = SOV }
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			if = {
				limit = {
					OR = {
						has_completed_focus = BUL_a_balkan_confederation
					}
				}
				create_wargoal = {
					type = topple_government
					target = SOV
				}
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SOV
				}
			}
			add_timed_idea = {
				idea = BUL_defying_moscow
				days = 730
			}
			if = {
				limit = {
					SOV = { has_opinion_modifier = BUL_strengthened_relations_with_us }
				}
				remove_opinion_modifier = {
					target = SOV
					modifier = BUL_strengthened_relations_with_us
				}
				SOV = {
					remove_opinion_modifier = {
						target = ROOT
						modifier = BUL_strengthened_relations_with_us
					}
				}
			}
			if = {
				limit = {
					has_non_aggression_pact_with = SOV
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = no
				}
			}
			if = {
				limit = {
					is_guaranteed_by = SOV
				}
				diplomatic_relation = {
					country = ROOT
					relation = guarantee
					active = no
				}
			}

			add_ai_strategy = {
				type = declare_war
				id = SOV
				value = 50
			}					
		}
	}

	focus = {
		id = BUL_balkan_research_cooperation

		prerequisite = { focus = BUL_bury_the_grudges_of_the_past }
		icon = GFX_focus_research2
		relative_position_id = BUL_bury_the_grudges_of_the_past
		x = -2
		y = 1
		cost = 10

		available = {
			BUL_is_not_alone_in_faction = yes
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_to_tech_sharing_group = BUL_balkan_research_cooperation_program
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = BUL_balkan_research_cooperation_program
			}
		}
	}

	focus = {
		id = BUL_recover_italian_territories

		prerequisite = { focus = BUL_bury_the_grudges_of_the_past }
		icon = GFX_focus_attack_italy
		relative_position_id = BUL_bury_the_grudges_of_the_past
		x = 2
		y = 1
		cost = 10

		available = {
			country_exists = ITA
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			ITA = {
				country_event = { id = bftb_bulgaria_balkan_federation.12 hours = 6 random_hours = 4 }
			}
			if = {
				limit = {
					ITA = {
						OR = {
							has_war_with = ROOT
							any_allied_country = {
								is_in_faction_with = ITA
								has_war_with = ROOT
							}
						}
					}
				}
				custom_effect_tooltip = BUL_recover_italian_territories_ita_will_refuse_tt
			}
		}
	}


########  ######## ##     ##  #######   ######  ########     ###    ######## ####  ######     ########  ########     ###    ##    ##  ######  ##     ## 
##     ## ##       ###   ### ##     ## ##    ## ##     ##   ## ##      ##     ##  ##    ##    ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## 
##     ## ##       #### #### ##     ## ##       ##     ##  ##   ##     ##     ##  ##          ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## 
##     ## ######   ## ### ## ##     ## ##       ########  ##     ##    ##     ##  ##          ########  ########  ##     ## ## ## ## ##       ######### 
##     ## ##       ##     ## ##     ## ##       ##   ##   #########    ##     ##  ##          ##     ## ##   ##   ######### ##  #### ##       ##     ## 
##     ## ##       ##     ## ##     ## ##    ## ##    ##  ##     ##    ##     ##  ##    ##    ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## 
########  ######## ##     ##  #######   ######  ##     ## ##     ##    ##    ####  ######     ########  ##     ## ##     ## ##    ##  ######  ##     ## 


	focus = {
		id = BUL_democratic_principles

		prerequisite = { focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_goal_support_democracy
		relative_position_id = BUL_oppose_the_royal_dictatorship
		x = 3
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_appoint_communist_ministers }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_stability = 0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_stefan_stefanov
			show_ideas_tooltip = BUL_konstantin_muraviev_bftb

			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
		}
	}

	focus = {
		id = BUL_legalize_the_agrarian_party

		prerequisite = { focus = BUL_democratic_principles }
		icon = GFX_goal_generic_improve_relations
		relative_position_id = BUL_democratic_principles
		x = -1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_seek_cooperation_with_the_tsar }

		bypass = {
			has_country_flag = BUL_bzns_integrated_flag
		}

		available = {
			NOT = { has_country_flag = BUL_bzns_destroyed_flag }
			NOT = { has_country_flag = BUL_bzns_media_banned_flag }
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 120
			add_stability = 0.1
			add_war_support = -0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}

			BUL_bzns_medium_loyalty_increase_effect = yes
			BUL_bzns_medium_popularity_increase_effect = yes
			if = {
				limit = {
					NOT = { has_country_flag = BUL_bzns_legalized_flag }
				}
				set_country_flag = BUL_bzns_legalized_flag
				custom_effect_tooltip = BUL_legalize_the_agrarian_party_legalize_bzns_tt
			}

			hidden_effect = {
				if = {
					limit = {
						has_government = democratic
					}
					set_country_leader_ideology = socialism
				}
			}
		}
	}

	focus = {
		id = BUL_form_a_popular_bloc

		prerequisite = { focus = BUL_legalize_the_agrarian_party }
		icon = GFX_goal_generic_demand_territory
		relative_position_id = BUL_legalize_the_agrarian_party
		x = -1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			divide_variable = { BUL_faction_interaction_cost_standard = 2 }
			divide_variable = { BUL_broad_socialist_opression_cost_standard = 2 }
			custom_effect_tooltip = BUL_reduced_faction_interaction_cost_tt

			BUL_bs_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
		}
	}

	focus = {
		id = BUL_abolish_the_monarchy

		prerequisite = { focus = BUL_legalize_the_agrarian_party }
		icon = GFX_focus_rom_handle_king
		relative_position_id = BUL_legalize_the_agrarian_party
		x = 1
		y = 1
		cost = 10

		bypass = {
			has_completed_focus = BUL_legalize_the_agrarian_party
			has_country_flag = BUL_tsar_boris_is_dead_flag
		}

		available = {
			democratic > 0.3
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			remove_ideas = BUL_tsar_boris_negative_01
			if = {
				limit = {
					has_idea = BUL_georgi_ivanov_kyoseivanov_bftb
				}
				remove_ideas = BUL_georgi_ivanov_kyoseivanov_bftb
			}

			

			if = { #Low Stability triggers a Civil War
				limit = {
					has_stability < 0.3
				}
				set_temp_variable = { BUL_democratic_cw_opposition = party_popularity@neutrality }
				multiply_temp_variable = { BUL_democratic_cw_opposition = 0.5 }
				add_to_temp_variable = { BUL_democratic_cw_opposition = party_popularity@fascism }
				
				set_politics = {
					ruling_party = democratic
				}
				hidden_effect = {
					start_civil_war = {	
						ideology = neutrality
						size = BUL_democratic_cw_opposition
						capital = 48
						states = { 212 }
						keep_unit_leaders_trigger = {
							NOT = {	has_trait = trait_BUL_tsar_loyalist }
						}
					}

					every_unit_leader = {
						limit = {
							has_trait = trait_BUL_tsar_loyalist
						}
						random_other_country = {
							limit = {
								original_tag = BUL
								has_government = neutrality
							}
							PREV = { set_nationality = PREV }
						}
					}

					#Operatives
					if = {
						limit = {
							has_dlc = "La Resistance"
						}
						every_operative = {
							limit = {
								has_trait = trait_BUL_tsar_loyalist
							}
							retire = yes
						}
					}
				}
				custom_effect_tooltip = BUL_depose_the_tsar_cw_tt
				clr_country_flag = BUL_factions_unlocked_flag
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}
			}
			else = {
				every_unit_leader = {
					limit = {
						NOT = { has_id = 1204 } #Boydev
						has_trait = trait_BUL_tsar_loyalist
					}
					custom_effect_tooltip = BUL_remove_tsar_loyalist_trait_tt
					remove_unit_leader_trait = trait_BUL_tsar_loyalist
				}
				random_unit_leader = {
					limit = {
						has_id = 1204 #Boydev
					}
					retire = yes
				}

				add_stability = -0.1
				if = {
					limit = {
						has_country_leader = {
							name = "Boris III"
							ruling_only = yes
						}
					}
					retire_country_leader = yes
				}
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}
			}

			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes

			custom_effect_tooltip = BUL_potential_civil_war_low_requirement_tt

			hidden_effect = {
				if = {
					limit = {
						has_government = democratic
					}
					set_cosmetic_tag = BUL_democratic
				}
			}
		}
	}

	focus = {
		id = BUL_seek_cooperation_with_the_tsar

		prerequisite = { focus = BUL_democratic_principles }
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		relative_position_id = BUL_democratic_principles
		x = 1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_legalize_the_agrarian_party }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_stability = 0.05
			swap_ideas = {
				remove_idea = BUL_tsar_boris_negative_01
				add_idea = BUL_tsar_boris_negative_02
			}
			divide_variable = { BUL_faction_interaction_cost_standard = 2 }
			divide_variable = { BUL_broad_socialist_opression_cost_standard = 2 }
			custom_effect_tooltip = BUL_reduced_faction_interaction_cost_tt
		}
	}

	focus = {
		id = BUL_legislative_elections

		prerequisite = { focus = BUL_abolish_the_monarchy focus = BUL_seek_cooperation_with_the_tsar }
		icon = GFX_goal_generic_neutrality_focus
		relative_position_id = BUL_abolish_the_monarchy
		x = 1
		y = 1
		cost = 10

		available = {
			democratic > 0.4
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_the_fatherland_front_bzns_support_requirement_tt
					check_variable = { BUL_bzns_loyalty = 50 compare = greater_than }
				}
				has_country_flag = BUL_bzns_destroyed_flag
				has_country_flag = BUL_bzns_integrated_flag
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_stability = 0.1
			if = {
				limit = {
					has_idea = BUL_second_national_catastrophe
				}
				swap_ideas = {
					remove_idea = BUL_second_national_catastrophe
					add_idea = BUL_second_national_catastrophe_02
				}
			}
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				set_politics = {
					ruling_party = democratic
				}
			}

			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_petorka

		prerequisite = { focus = BUL_seek_cooperation_with_the_tsar }
		icon = GFX_goal_tripartite_pact
		relative_position_id = BUL_seek_cooperation_with_the_tsar
		x = 4
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_ideas = BUL_petorka

			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
		}
	}

	focus = {
		id = BUL_land_reorganization

		prerequisite = { focus = BUL_legislative_elections }
		icon = GFX_focus_generic_the_giant_wakes
		relative_position_id = BUL_legislative_elections
		x = 0
		y = 2
		cost = 10

		available = {
			has_stability > 0.5
			democratic > 0.7
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = BUL_land_reorganization_tt
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = BUL_agrarian_cooperative_movement

		prerequisite = { focus = BUL_land_reorganization }
		icon = GFX_goal_generic_consumer_goods
		relative_position_id = BUL_land_reorganization
		x = -1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_modernize_the_industry }

		available = {
			democratic > 0.8
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_agrarian_cooperative_movement_bzns_support_requirement_tt
					check_variable = { BUL_bzns_loyalty = 80 compare = greater_than }
				}
				has_country_flag = BUL_bzns_destroyed_flag
				has_country_flag = BUL_bzns_integrated_flag
			}
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_war_support = 0.1
			add_ideas = BUL_government_reforms_democratic_01

			BUL_bzns_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_modernize_the_industry

		prerequisite = { focus = BUL_land_reorganization }
		icon = GFX_goal_generic_production
		relative_position_id = BUL_land_reorganization
		x = 1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_agrarian_cooperative_movement }

		available = {
			democratic > 0.8
			OR = {
				custom_trigger_tooltip = {
					tooltip = BUL_modernize_the_industry_bs_support_requirement_tt
					check_variable = { BUL_bs_loyalty = 80 compare = greater_than }
				}
				has_country_flag = BUL_bs_destroyed_flag
				has_country_flag = BUL_bs_integrated_flag
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_ideas = BUL_government_reforms_democratic_02

			BUL_bs_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_the_salonika_agreement

		prerequisite = { focus = BUL_legislative_elections }
		icon = GFX_focus_generic_befriend_greece
		relative_position_id = BUL_legislative_elections
		x = -3
		y = 1
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = GRE }
				GRE = { is_subject = yes }
				GRE = { has_capitulated = yes }
			}
		}

		available = {
			country_exists = GRE
			NOT = { has_war_with = GRE }
			GRE = { 
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = GRE
			}
		}
		
		completion_reward = {
			GRE = {
				country_event = { id = bftb_bulgaria_greek_influence.1 hours = 4 random_hours = 4 }
			}
			custom_effect_tooltip = BUL_the_salonika_agreement_event_effects_tt
			effect_tooltip = {
				GRE = {
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_strengthened_relations_with_us
					}
				}
				add_opinion_modifier = { 
					target = GRE
					modifier = BUL_strengthened_relations_with_us
				}

				every_country = {
					limit = {
						BUL_country_can_influence_bulgaria = yes
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_in_faction_with = GRE }
					}
					add_opinion_modifier = { 
						target = ROOT
						modifier = BUL_approached_greece
					}
				}
			}

			GRE = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = GRE
				value = 20
			}
		}
	}

	focus = {
		id = BUL_a_balkan_confederation

		prerequisite = { focus = BUL_the_salonika_agreement }
		icon = GFX_goal_anschluss
		relative_position_id = BUL_the_salonika_agreement
		x = 0
		y = 4
		cost = 5
		mutually_exclusive = { focus = BUL_join_the_allies focus = BUL_the_fate_of_the_balkans }

		available = {
			has_government = democratic
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.05
			add_political_power = 50
			create_faction = BUL_balkan_federation_democratic
			GRE = {
				hidden_effect = {
					country_event = { id = generic.5 hours = 4 random_hours = 4 }
				}
				custom_effect_tooltip = BUL_a_balkan_confederation_faction_tt
			}
			unlock_decision_category_tooltip = BUL_balkan_confederation

			GRE = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = GRE
				value = 100
			}
		}
	}

	focus = {
		id = BUL_approach_the_united_kingdom

		prerequisite = { focus = BUL_legislative_elections focus = BUL_liberalization_of_trade_policies }
		icon = GFX_focus_chi_british_cooperation
		relative_position_id = BUL_legislative_elections
		x = 3
		y = 1
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = ENG }
				ENG = { is_subject = yes }
				ENG = { has_capitulated = yes }
			}
		}

		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
			ENG = { 
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = ENG
			}
			custom_trigger_tooltip = {
				tooltip = BUL_approach_the_united_kingdom_ferdinand_tt
				NOT = {
					has_country_leader = {
						name = "Ferdinand I"
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			ENG = {
				country_event = { id = bftb_bulgaria_british_influence.1 hours = 4 random_hours = 4 }
			}
			add_opinion_modifier = { 
				target = ENG
				modifier = BUL_strengthened_relations_with_us
			}
			ENG = {
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_strengthened_relations_with_us
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = GER
						tag = ITA
						tag = SOV
					}
					NOT = { is_in_faction_with = ENG }
				}
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_approached_the_uk
				}
			}

			if = {
				limit = {
					has_country_flag = BUL_british_influence_flag
				}
				modify_country_flag = { flag = BUL_british_influence_flag value = 1 }
			}
			else = {
				set_country_flag = { flag = BUL_british_influence_flag value = 1 }
			}

			if = {
				limit = {
					has_completed_focus = BUL_attract_foreign_capitals
				}
				custom_effect_tooltip = BUL_approach_british_foreign_industry_tt
			}
			
			if = {
				limit = {
					OR = {
						NOT = { country_exists = ENG }
						has_war_with = ENG
						ENG = { BUL_is_valid_subject = no }
					}
				}
				hidden_effect = {
					activate_targeted_decision = { target = ENG decision = BUL_purchase_artillery }
					activate_targeted_decision = { target = ENG decision = BUL_purchase_military_vehicles }
					activate_targeted_decision = { target = ENG decision = BUL_purchase_aircraft }
					activate_targeted_decision = { target = ENG decision = BUL_purchase_infantry_equipment }
					activate_targeted_decision = { target = ENG decision = BUL_purchase_armor }
					activate_targeted_decision = { target = ENG decision = BUL_purchase_ships }
				}
			}
			else = {
				activate_targeted_decision = { target = ENG decision = BUL_purchase_artillery }
				activate_targeted_decision = { target = ENG decision = BUL_purchase_military_vehicles }
				activate_targeted_decision = { target = ENG decision = BUL_purchase_aircraft }
				activate_targeted_decision = { target = ENG decision = BUL_purchase_infantry_equipment }
				activate_targeted_decision = { target = ENG decision = BUL_purchase_armor }
				activate_targeted_decision = { target = ENG decision = BUL_purchase_ships }
			}

			ENG = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = ENG
				value = 20
			}
		}
	}

	focus = {
		id = BUL_join_the_allies

		prerequisite = { focus = BUL_approach_the_united_kingdom }
		icon = GFX_goal_generic_alliance
		relative_position_id = BUL_approach_the_united_kingdom
		x = 0
		y = 4
		cost = 5
		mutually_exclusive = { focus = BUL_a_balkan_confederation focus = BUL_the_fate_of_the_balkans focus = BUL_join_the_tripartite_pact }

		bypass = {
			is_in_faction_with = ENG
		}

		available = {
			if = {
				limit = {
					is_in_faction_with = ENG
				}
				#This is intended so that the focus does not look unavailable when it can actually be bypassed
			}
			else = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				ENG = {
					NOT = { has_government = communism }
					is_faction_leader = yes
					is_subject = no
					NOT = { is_justifying_wargoal_against = ROOT }
					NOT = { has_war_with = ROOT }
				}
				ENG = { #Split for easier visualization in the tooltip
					has_opinion	= {
						target = ROOT
						value > 50
					}
				}
				is_in_faction = no
				is_subject = no
				custom_trigger_tooltip = {
					tooltip = BUL_approach_the_united_kingdom_ferdinand_tt
					NOT = {
						has_country_leader = {
							name = "Ferdinand I"
						}
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 70
			ENG = {
				country_event = { id = generic.2 hours = 4 random_hours = 4 }
			}
			if = {
				limit = {
					ENG = {
						has_war = yes
					}
				}
				add_war_support = 0.1
			}

			ENG = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = ENG
				value = 100
			}
		}
	}

	focus = {
		id = BUL_consolidate_the_third_bulgarian_state

		prerequisite = { focus = BUL_join_the_allies focus = BUL_a_balkan_confederation }
		icon = GFX_focus_BUL_consolidate_the_third_bulgarian_state
		relative_position_id = BUL_join_the_allies
		x = -3
		y = 1
		cost = 10

		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_political_power = 70
			add_war_support = 0.05
			add_ideas = BUL_third_bulgarian_state

			if = { #Monarchist path can reach here with basic NS
				limit = {
					has_idea = BUL_second_national_catastrophe
				}
				remove_ideas = BUL_second_national_catastrophe
			}
			else_if = { #Democratic path will have the reduced version of it
				limit = {
					has_idea = BUL_second_national_catastrophe_02
				}
				remove_ideas = BUL_second_national_catastrophe_02
			}
		}
	}

	focus = {
		id = BUL_free_balkan_states

		prerequisite = { focus = BUL_consolidate_the_third_bulgarian_state }
		icon = GFX_focus_BUL_free_balkan_states
		relative_position_id = BUL_consolidate_the_third_bulgarian_state
		x = 0
		y = 3
		cost = 10
		mutually_exclusive = { focus = BUL_the_unification_of_the_balkans }

		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			any_country = {
				BUL_is_balkan_nation_no_bulgaria = yes
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
				}
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			hidden_effect = { #GUARANTEES
				every_country = {
					limit = {
						BUL_is_balkan_nation_no_bulgaria = yes
						OR = {
							is_in_faction = no
							is_in_faction_with = ROOT
						}
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
					ROOT = {
						give_guarantee = PREV
						add_to_variable = { BUL_our_duty_in_the_balkans_consumer_goods_modifier = -0.01 }
						add_to_variable = { BUL_our_duty_in_the_balkans_stability_modifier = 0.05 }
					}
				}
			}
			custom_effect_tooltip = BUL_free_balkan_states_guarantees_tt
			every_country = {
				limit = {
					BUL_is_balkan_nation_no_bulgaria = yes
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
					}
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
			}
			hidden_effect = { #NATIONAL SPIRIT
				add_dynamic_modifier = { modifier = BUL_our_duty_in_the_balkans_dynamic_modifier }
			}
			custom_effect_tooltip = BUL_free_balkan_states_ns_tt

			hidden_effect = { #WARGOALS
				every_country = {
					limit = {
						OR = {
							AND = {
								BUL_is_balkan_nation = yes
								is_in_faction = yes
								NOT = { is_in_faction_with = ROOT }
							}
							AND = {
								BUL_is_balkan_nation = no
								NOT = { is_in_faction_with = ROOT }
								any_controlled_state = {
									BUL_is_balkan_state = yes
									NOT = { is_core_of = PREV }
								}
							}
						}
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = BUL_free_balkan_states_wargoals_tt
			every_country = {
				limit = {
					OR = {
						AND = {
							BUL_is_balkan_nation = yes
							is_in_faction = yes
							NOT = { is_in_faction_with = ROOT }
						}
						AND = {
							BUL_is_balkan_nation = no
							NOT = { is_in_faction_with = ROOT }
							any_controlled_state = {
								BUL_is_balkan_state = yes
								NOT = { is_core_of = PREV }
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = BUL_fight_tyranny

		select_effect = {
			random_neighbor_country = {
				limit = {
					is_major = yes
					has_government = fascism
					capital_scope = { is_on_continent = europe }
					NOT = { is_in_faction_with = ROOT }
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}	
		}

		prerequisite = { focus = BUL_consolidate_the_third_bulgarian_state }
		icon = GFX_focus_generic_anti_fascist_diplomacy
		relative_position_id = BUL_consolidate_the_third_bulgarian_state
		x = 1
		y = 1
		cost = 10

		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			add_ideas = BUL_the_fight_against_tyranny
			hidden_effect = {
				every_country = {
					limit = {
						is_major = yes
						has_government = fascism
						capital_scope = { is_on_continent = europe }
						NOT = { is_in_faction_with = ROOT }
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = BUL_fight_tyranny_wargoals_tt
			if = {
				limit = {
					any_country = {
						is_major = yes
						has_government = fascism
						capital_scope = { is_on_continent = europe }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				custom_effect_tooltip = BUL_fight_tyranny_wargoals_current_tt
				every_country = {
					limit = {
						is_major = yes
						has_government = fascism
						capital_scope = { is_on_continent = europe }
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}

			random_country = {
				limit = {
					is_major = yes
					has_government = fascism
					capital_scope = { is_on_continent = europe }
					NOT = { is_in_faction_with = ROOT }
					is_neighbor_of = ROOT
				}
				ROOT = {
					add_ai_strategy = {
						type = declare_war
						id = PREV
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = BUL_assert_our_claims

		prerequisite = { focus = BUL_join_the_allies }
		icon = GFX_goal_generic_more_territorial_claims
		relative_position_id = BUL_join_the_allies
		x = -1
		y = 1
		cost = 10

		available = {
			is_in_faction_with = ENG
			OR = {
				is_faction_leader = yes
				ENG = { is_faction_leader = yes }
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			custom_effect_tooltip = BUL_assert_our_claims_historical_claims_tt
			if = { #Controlled historical territorial claims are instantly cored
				limit = {
					any_controlled_state = {
						has_state_flag = BUL_historical_bulgarian_claim_flag
						is_fully_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = BUL_assert_our_claims_historical_claims_current_tt
				every_controlled_state = {
					limit = {
						has_state_flag = BUL_historical_bulgarian_claim_flag
						is_fully_controlled_by = ROOT
					}
					hidden_effect = {
						add_core_of = ROOT
					}
				}
			}
			custom_effect_tooltip = BUL_assert_our_claims_enemy_claims_tt
			if = { #Get claims on Balkan states controlled by an enemy and not cored by an ally. Get wargoal against controllers
				limit = {
					any_neighbor_country = {
						any_controlled_state = {
							BUL_is_balkan_state = yes
							NOT = {
								any_country = {
									is_in_faction_with = ROOT
									PREV = { is_core_of = PREV }
								}
							}
						}
						OR = {			
							ROOT = {
								OR = {
									has_war_with = PREV
									any_allied_country = {
										has_war_with = PREV.PREV
									}
								}
							}
							any_allied_country = {
								ROOT = {
									OR = {
										has_war_with = PREV
										any_allied_country = {
											has_war_with = PREV.PREV
										}
									}
								}
							}
						}
					}
				}
				every_neighbor_country = {
					limit = {
					 	any_controlled_state = {
							BUL_is_balkan_state = yes
							NOT = {
								any_country = {
									is_in_faction_with = ROOT
									PREV = { is_core_of = PREV }
								}
							}
						}
						OR = {			
							ROOT = {
								OR = {
									has_war_with = PREV
									any_allied_country = {
										has_war_with = PREV.PREV
									}
								}
							}
							any_allied_country = {
								ROOT = {
									OR = {
										has_war_with = PREV
										any_allied_country = {
											has_war_with = PREV.PREV
										}
									}
								}
							}
						}
					}
					every_controlled_state = { #CLAIMS
						limit = {
							BUL_is_balkan_state = yes
							NOT = {
								any_country = {
									is_in_faction_with = ROOT
									PREV = { is_core_of = PREV }
								}
							}
						}
						add_claim_by = ROOT
					}
					if = {
						limit = {
							ROOT = {
								NOT = {
									has_wargoal_against = {
										target = PREV
										type = annex_everything
									}
								}
							}
						}
						ROOT = { #WARGOAL
							create_wargoal = {
								type = annex_everything
								target = PREV
							}
						}
					}
				}
			}
			if = { #Allied-controlled Bulgarian states are transferred back to Bulgaria
				limit = {
					any_state = {
						has_state_flag = BUL_initial_bulgarian_state_flag
						any_country = {
							is_in_faction_with = ROOT
							NOT = { original_tag = ROOT }
							PREV = { is_fully_controlled_by = PREV }
						}
					}
				}
				ENG = { country_event = { id = bftb_bulgaria_democratic_international_policies.4 hours = 4 random_hours = 2 } }
				custom_effect_tooltip = BUL_assert_our_claims_initial_states_tt
				effect_tooltip = {
					every_state = {
						limit = {
							has_state_flag = BUL_initial_bulgarian_state_flag
							NOT = { is_controlled_by = ROOT }
							controller = {
								is_in_faction_with = ROOT
								has_full_control_of_state = PREV
							}
						}
					}
				}			
			}
		}
	}

	focus = {
		id = BUL_appeal_to_european_capitalists

		prerequisite = { focus = BUL_join_the_allies }
		icon = GFX_focus_mex_privatisation
		relative_position_id = BUL_join_the_allies
		x = 0
		y = 2
		cost = 10

		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			NOT = { has_idea = BUL_nationalized_industry }
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = export_focus
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					NOT = { has_state_flag = BUL_appeal_to_european_capitalists_flag }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = BUL_appeal_to_european_capitalists_flag
			}
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					NOT = { has_state_flag = BUL_appeal_to_european_capitalists_flag }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = BUL_appeal_to_european_capitalists_flag
			}
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					NOT = { has_state_flag = BUL_appeal_to_european_capitalists_flag }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = BUL_appeal_to_european_capitalists_flag
			}
			every_owned_state = {
				limit = {
					has_state_flag = BUL_appeal_to_european_capitalists_flag
				}
				clr_state_flag = BUL_appeal_to_european_capitalists_flag
			}
			if = {
				limit = {
					has_dynamic_modifier = { modifier = BUL_foreign_industry_dynamic_modifier }
				}
				if = {
					limit = {
						check_variable = { BUL_foreign_industry_consumer_goods_modifier = 0.05 compare = less_than_or_equals }
					}
					set_variable = { BUL_foreign_industry_consumer_goods_modifier = 0 }
				}
				else = {
					subtract_from_variable = { BUL_foreign_industry_consumer_goods_modifier = -0.05 }
					
				}
			}
			custom_effect_tooltip = BUL_appeal_to_european_capitalists_cg_tt

			ENG = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
		}
	}

	focus = {
		id = BUL_obliterate_the_bolshevik_threat

		select_effect = {
			random_neighbor_country = {
				limit = {
					is_major = yes	
					has_government = communism	
					NOT = { is_in_faction_with = ROOT }
					capital_scope = { is_on_continent = europe }
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}	
		}

		prerequisite = { focus = BUL_appeal_to_european_capitalists }
		prerequisite = { focus = BUL_consolidate_the_third_bulgarian_state }
		icon = GFX_focus_ger_bulwark_against_bolshevism
		relative_position_id = BUL_appeal_to_european_capitalists
		x = -1
		y = 1
		cost = 10

		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			is_subject = no
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			hidden_effect = {
				every_other_country = {
					limit = {
						is_major = yes	
						has_government = communism	
						NOT = { is_in_faction_with = ROOT }
						capital_scope = { is_on_continent = europe }
					}
					ROOT = {
						create_wargoal = {
							type = topple_government
							target = PREV
							expire = 730
						}
					}
					BUL_add_hidden_targeted_ns = yes
				}
			}
			custom_effect_tooltip = BUL_obliterate_the_bolshevik_threat_wargoal_tt

			add_timed_idea = {
				idea = BUL_the_fight_against_bolshevism
				days = 730
			}
			custom_effect_tooltip = BUL_obliterate_the_bolshevik_threat_wargoal_current_tt
			every_other_country = {
				limit = {
					is_major = yes
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					capital_scope = { is_on_continent = europe }
				}
			}

			random_country = {
				limit = {
					is_major = yes	
					has_government = communism	
					NOT = { is_in_faction_with = ROOT }
					capital_scope = { is_on_continent = europe }
					is_neighbor_of = ROOT
				}
				ROOT = {
					add_ai_strategy = {
						type = declare_war
						id = PREV
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = BUL_research_sharing

		prerequisite = { focus = BUL_join_the_allies }
		icon = GFX_goal_generic_scientific_exchange
		relative_position_id = BUL_join_the_allies
		x = 1
		y = 1
		cost = 10

		available = {
			BUL_is_not_alone_in_faction = yes
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_to_tech_sharing_group = BUL_technological_cooperation_program
			if  = {
				limit = {
					any_other_country = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
				}
				random_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					add_to_tech_sharing_group = BUL_technological_cooperation_program
				}
			}
			else_if = {
				limit = {
					is_faction_leader = yes
					any_other_country = {
						is_in_faction_with = ROOT
					}
				}
				random_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_to_tech_sharing_group = BUL_technological_cooperation_program
				}
			}
		}
	}

	

##     ## ####  ######  ########  #######  ########  ####  ######     ###    ##          ########  ########     ###    ##    ##  ######  ##     ## 
##     ##  ##  ##    ##    ##    ##     ## ##     ##  ##  ##    ##   ## ##   ##          ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## 
##     ##  ##  ##          ##    ##     ## ##     ##  ##  ##        ##   ##  ##          ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## 
#########  ##   ######     ##    ##     ## ########   ##  ##       ##     ## ##          ########  ########  ##     ## ## ## ## ##       ######### 
##     ##  ##        ##    ##    ##     ## ##   ##    ##  ##       ######### ##          ##     ## ##   ##   ######### ##  #### ##       ##     ## 
##     ##  ##  ##    ##    ##    ##     ## ##    ##   ##  ##    ## ##     ## ##          ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## 
##     ## ####  ######     ##     #######  ##     ## ####  ######  ##     ## ########    ########  ##     ## ##     ## ##    ##  ######  ##     ## 


	focus = {
		id = BUL_power_to_the_tsar

		icon = GFX_focus_BUL_power_to_the_tsar
		relative_position_id = BUL_oppose_the_royal_dictatorship
		x = 16
		y = 0
		cost = 10
		mutually_exclusive = { focus = BUL_oppose_the_royal_dictatorship }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_political_power = 50
			add_stability = -0.05
			add_ideas = BUL_tsar_boris_positive_01

			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
			custom_effect_tooltip = BUL_power_to_the_tsar_tt
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = BUL_vasil_kolarov
		}
	}

	focus = {
		id = BUL_condemn_macedonian_organizations

		prerequisite = { focus = BUL_power_to_the_tsar focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_focus_BUL_condemn_macedonian_organizations
		relative_position_id = BUL_power_to_the_tsar
		x = -11
		y = 1
		cost = 5
		mutually_exclusive = { focus = BUL_support_macedonian_organizations }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_threat = -1
			add_stability = 0.1
			add_political_power = 35
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
			custom_effect_tooltip = BUL_condemn_macedonian_organizations_tt
			every_country = {
				limit = {
					BUL_country_seeks_macedonian_stability = yes
				}
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_condemned_imro
				}
			}

			if = {
				limit = {
					has_idea = BUL_army_restrictions
				}
				custom_effect_tooltip = BUL_condemn_macedonian_organizations_rearmament_tt
			}

			hidden_effect = {
				news_event = { id = bftb_news.1 hours = 8 random_hours = 4 }
			}
		}
	}

	focus = {
		id = BUL_support_macedonian_organizations

		prerequisite = { focus = BUL_power_to_the_tsar focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_focus_BUL_support_macedonian_organizations
		relative_position_id = BUL_condemn_macedonian_organizations
		x = 2
		y = 0
		cost = 5

		mutually_exclusive = { focus = BUL_condemn_macedonian_organizations }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_threat = 1
			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
			custom_effect_tooltip = BUL_support_macedonian_organizations_tt
			every_country = {
				limit = {
					BUL_country_seeks_macedonian_stability = yes
				}
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_supported_imro
				}
			}
			#If all Macedonia is already controlled by BUL, update NS and unlock the appropriate decisions
			if = {
				limit = {
					NOT = {
						any_state = {
							BUL_is_macedonian_state = yes
							NOT = { is_fully_controlled_by = ROOT }
						}
					}
				}
				hidden_effect = {
					set_country_flag = { flag = BUL_support_imro_flag value = 3 }
				}
				if = {
					limit = {
						has_idea = BUL_imro_01
					}
					swap_ideas = {
						remove_idea = BUL_imro_01
						add_idea = BUL_imro_05
					}
				}
				else_if = {
					limit = {
						has_idea = BUL_imro_04
					}
					swap_ideas = {
						remove_idea = BUL_imro_04
						add_idea = BUL_imro_05
					}
				}
			}
			if = {
				limit = {
					has_idea = BUL_army_restrictions
				}
				custom_effect_tooltip = BUL_support_macedonian_organizations_rearmament_tt
			}
			set_country_flag = { flag = BUL_rearmament_flag value = 2 } #Unlock Pressure to Lift Arms Restrictions decision

			hidden_effect = {
				news_event = { id = bftb_news.2 hours = 8 random_hours = 4 }
			}
		}
	}

	focus = {
		id = BUL_dissolve_the_military_union

		prerequisite = { focus = BUL_power_to_the_tsar focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_focus_BUL_destroy_the_zveno
		relative_position_id = BUL_condemn_macedonian_organizations
		x = 4
		y = 0
		cost = 5

		mutually_exclusive = { focus = BUL_cooperate_with_the_zveno }

		available = {
			NOT = {	has_country_flag = BUL_zveno_destroyed_flag } #Zveno is not destroyed
			hidden_trigger = {
				NOT = { has_country_flag = BUL_zveno_coup_flag } #Zveno CW has not started
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_stability = 0.15
			add_ideas = BUL_zveno_ns
			BUL_zveno_high_loyalty_decrease_effect = yes
			BUL_zveno_medium_popularity_decrease_effect = yes
			custom_effect_tooltip = BUL_dissolve_the_military_union_tt
			custom_effect_tooltip = BUL_dissolve_the_military_union_zveno_coup_tt
		}
	}

	focus = {
		id = BUL_cooperate_with_the_zveno

		prerequisite = { focus = BUL_power_to_the_tsar focus = BUL_oppose_the_royal_dictatorship }
		icon = GFX_focus_BUL_cooperate_with_the_zveno
		relative_position_id = BUL_condemn_macedonian_organizations
		x = 6
		y = 0
		cost = 5

		mutually_exclusive = { focus = BUL_dissolve_the_military_union }

		available = {
			NOT = {	has_country_flag = BUL_zveno_destroyed_flag } #Zveno is not destroyed
			hidden_trigger = {
				NOT = { has_active_mission = BUL_impending_zveno_coup }	#Zveno coup mission is not ongoing
				NOT = { has_country_flag = BUL_zveno_coup_flag } #Zveno CW has not started
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_zveno_low_popularity_increase_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes
			custom_effect_tooltip = BUL_cooperate_with_the_zveno_tt
			custom_effect_tooltip = BUL_cooperate_with_the_zveno_coup_tt
		}
	}

	focus = {
		id = BUL_the_tsars_regime

		prerequisite = { focus = BUL_power_to_the_tsar }
		icon = GFX_focus_generic_monarchy_1
		relative_position_id = BUL_power_to_the_tsar
		x = -3
		y = 2
		cost = 10

		mutually_exclusive = { focus = BUL_appoint_right_wing_ministers }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_political_power = 70
			add_stability = -0.05
			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_restrained_paramilitary_organizations

		prerequisite = { focus = BUL_the_tsars_regime focus = BUL_democratic_principles }
		icon = GFX_goal_demand_sudetenland
		relative_position_id = BUL_the_tsars_regime
		x = -4
		y = 1
		cost = 10

		mutually_exclusive = { focus = BUL_ban_far_right_organizations }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_war_support = 0.1
			add_ideas = BUL_paramilitary_organizations
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
			BUL_nsm_low_popularity_increase_effect = yes
			custom_effect_tooltip = BUL_restrained_paramilitary_organizations_tt
		}
	}

	focus = {
		id = BUL_ban_far_right_organizations

		prerequisite = { focus = BUL_the_tsars_regime focus = BUL_democratic_principles }
		icon = GFX_focus_eng_move_to_secure_the_dominions
		relative_position_id = BUL_restrained_paramilitary_organizations
		x = -2
		y = 0
		cost = 5

		mutually_exclusive = { focus = BUL_restrained_paramilitary_organizations }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			add_stability = 0.1
			add_war_support = -0.05
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_high_loyalty_decrease_effect = yes
			BUL_nsm_medium_popularity_decrease_effect = yes
			custom_effect_tooltip = BUL_ban_far_right_organizations_tt
		}
	}

	focus = {
		id = BUL_restore_the_tarnovo_constitution

		prerequisite = { focus = BUL_the_tsars_regime }
		icon = GFX_focus_hol_the_foundations_of_defense
		relative_position_id = BUL_the_tsars_regime
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			add_political_power = 70
			BUL_zveno_low_loyalty_decrease_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_freedom_of_press

		prerequisite = { focus = BUL_restore_the_tarnovo_constitution }
		icon = GFX_focus_generic_treaty
		relative_position_id = BUL_restore_the_tarnovo_constitution
		x = 0
		y = 1
		cost = 10

		available = {
			BUL_has_freedom_of_press = yes
			BUL_has_banned_faction_media = no
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			set_country_flag = BUL_freedom_of_press_flag
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_political_power = 120
			add_stability = 0.1
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
			if = {
				limit = {
					NOT = { has_completed_focus = BUL_crush_the_communists }
					NOT = { has_country_flag = BUL_bs_destroyed_flag }
				}
				custom_effect_tooltip = BUL_freedom_of_press_tt
			}
			custom_effect_tooltip = BUL_freedom_of_press_ban_faction_media_tt
		}
	}

	focus = {
		id = BUL_promote_bulgarian_nationalism

		prerequisite = { focus = BUL_the_tsars_regime focus = BUL_appoint_right_wing_ministers }
		icon = GFX_focus_BUL_promote_bulgarian_nationalism
		relative_position_id = BUL_the_tsars_regime
		x = 3
		y = 2
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_political_power = 70
			add_stability = 0.05
			add_war_support = 0.05
		}
	}

	focus = {
		id = BUL_crush_the_communists

		prerequisite = { focus = BUL_the_tsars_regime focus = BUL_appoint_right_wing_ministers }
		icon = GFX_focus_spr_crush_the_revolution
		relative_position_id = BUL_the_tsars_regime
		x = 4
		y = 1
		cost = 5

		available = {
			NOT = { has_country_flag = BUL_bs_legalized_flag }
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = communism
				popularity = -0.10
			}
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_high_loyalty_decrease_effect = yes
			BUL_bs_medium_popularity_decrease_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes

			#Reduce Oppress Broad Socialists decisions cost
			divide_variable = { BUL_broad_socialist_opression_cost_standard = 2 }
			custom_effect_tooltip = BUL_reduced_communist_oppression_cost_tt

			#Stability impact
			hidden_effect = {
				set_variable = { stability_impact = BUL_bs_popularity }
				divide_variable = { stability_impact = 1000 }
				add_to_variable = { stability_impact = party_popularity@communism }
				multiply_variable = { stability_impact = -1 }
				add_stability = stability_impact
			}
			custom_effect_tooltip = BUL_stability_impact_tt
			custom_effect_tooltip = BUL_crush_the_communists_tt
			if = {
				limit = {
					NOT = { has_completed_focus = BUL_appoint_right_wing_ministers }
				}
				custom_effect_tooltip = BUL_crush_the_communists_no_cooperation_tt
			}
		}
	}

	focus = {
		id = BUL_illusions_of_a_non_partisan_system

		prerequisite = { focus = BUL_the_tsars_regime }
		prerequisite = { focus = BUL_promote_bulgarian_nationalism }

		icon = GFX_focus_usa_voter_registration_act
		relative_position_id = BUL_the_tsars_regime
		x = 0
		y = 3
		cost = 10

		available = {
			democratic > 0.20
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_stability = 0.1
			swap_ideas = {
				remove_idea = BUL_tsar_boris_positive_01
				add_idea = BUL_tsar_boris_positive_02
			}
			divide_variable = { BUL_faction_interaction_cost_standard = 2 }
			divide_variable = { BUL_broad_socialist_opression_cost_standard = 2 }
			custom_effect_tooltip = BUL_reduced_faction_interaction_cost_tt
		}
	}

	focus = {
		id = BUL_limited_womens_suffrage

		prerequisite = { focus = BUL_promote_bulgarian_nationalism }

		icon = GFX_focus_generic_concessions
		relative_position_id = BUL_illusions_of_a_non_partisan_system
		x = 2
		y = 0
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = ROOT
				popularity = 0.15
			}
			if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
			}
			else = {
				add_popularity = {
					ideology = neutrality
					popularity = 0.05
				}
			}
			add_stability = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_dimitrana_ivanova
		}
	}

	focus = {
		id = BUL_found_the_brannik

		prerequisite = { focus = BUL_promote_bulgarian_nationalism }

		icon = GFX_focus_BUL_found_the_brannik
		relative_position_id = BUL_promote_bulgarian_nationalism
		x = 0
		y = 2
		cost = 10

		mutually_exclusive = { focus = BUL_depose_the_tsar }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_ideas = BUL_brannik
		}
	}

	focus = {
		id = BUL_bulgarian_irredentism

		prerequisite = { focus = BUL_promote_bulgarian_nationalism focus = BUL_the_path_towards_a_greater_bulgaria }

		icon = GFX_goal_generic_territory_or_war
		relative_position_id = BUL_promote_bulgarian_nationalism
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_threat = 1
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = BUL_second_national_catastrophe
				add_idea = BUL_bulgarian_irredentism
			}
		}
	}

	focus = {
		id = BUL_strengthen_the_royal_dictatorship

		prerequisite = { focus = BUL_illusions_of_a_non_partisan_system }

		icon = GFX_goal_generic_political_pressure
		relative_position_id = BUL_illusions_of_a_non_partisan_system
		x = 0
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_plot_against_boris }

		available = {
			neutrality > 0.7
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			swap_ideas = {
				remove_idea = BUL_tsar_boris_positive_02
				add_idea = BUL_tsar_boris_positive_03
			}
			add_to_variable = { BUL_faction_low_increase = 5 }
			add_to_variable = { BUL_faction_medium_increase = 5 }
			add_to_variable = { BUL_faction_high_increase = 5 }
			add_to_variable = { BUL_faction_low_decrease = -5 }
			add_to_variable = { BUL_faction_medium_decrease = -5 }
			add_to_variable = { BUL_faction_high_decrease = -5 }
			custom_effect_tooltip = BUL_improved_faction_effects_tt
			
			BUL_halve_faction_management_decision_times = yes
			custom_effect_tooltip = BUL_reduced_faction_interaction_cooldown_tt
		}
	}

	focus = {
		id = BUL_war_industry

		prerequisite = { focus = BUL_strengthen_the_royal_dictatorship }
		prerequisite = { focus = BUL_found_the_brannik }

		icon = GFX_goal_generic_small_arms #GFX_goal_generic_army_artillery2
		relative_position_id = BUL_found_the_brannik
		x = 0
		y = 2
		cost = 10

		available = {
			has_war = yes
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			48 = {
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 949
				}
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = BUL_war_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = BUL_war_industry_flag }
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { has_state_flag = BUL_war_industry_flag }
				clr_state_flag = BUL_war_industry_flag
			}
			if = {
				limit = {
					NOT = { has_idea = tot_economic_mobilisation }
					NOT = { has_idea = war_economy }
				}
				add_ideas = war_economy
			}
			if = {
				limit = {
					NOT = { has_idea = scraping_the_barrel }
					NOT = { has_idea = all_adults_serve }
					NOT = { has_idea = service_by_requirement }
				}
				add_ideas = service_by_requirement
			}
		}
	}

	focus = {
		id = BUL_liberalization_of_trade_policies

		prerequisite = { focus = BUL_illusions_of_a_non_partisan_system focus = BUL_petorka }

		icon = GFX_goal_generic_trade
		relative_position_id = BUL_illusions_of_a_non_partisan_system
		x = -2
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = BUL_liberal_trade_policies
		}
	}

	focus = {
		id = BUL_plot_against_boris

		prerequisite = { focus = BUL_liberalization_of_trade_policies }

		dynamic = yes

		icon = GFX_focus_BUL_plot_against_boris
		relative_position_id = BUL_liberalization_of_trade_policies
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_strengthen_the_royal_dictatorship }

		bypass = {
			has_country_flag = BUL_tsar_boris_is_dead_flag
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = BUL_tsar_boris_is_dead_flag }
				}
				unlock_decision_category_tooltip = BUL_plot_against_boris_dec_cat
			}
		}
	}

	focus = {
		id = BUL_the_return_of_ferdinand_i

		prerequisite = { focus = BUL_plot_against_boris }

		icon = GFX_focus_BUL_the_return_of_ferdinand
		relative_position_id = BUL_plot_against_boris
		x = -1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_form_a_regency_council }

		available = {
			has_country_flag = BUL_tsar_boris_is_dead_flag
			BUL_has_abolished_monarchy = no
			NOT = { is_in_faction_with = ENG }
			NOT = { is_in_faction_with = FRA }
			OR = {
				is_faction_leader = yes
				is_in_faction = no
				AND = {
					any_country = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
						NOT = { has_government = communism }
						NOT = { has_government = democratic }
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			hidden_effect = { #Store Former leader for loc purposes
				if = {
					limit = {
						has_country_leader = {
							name = "Georgi Kyoseivanov"
							ruling_only = yes
						}
					}
					set_variable = { BUL_former_leader_before_ferdinand = 1 } # 1 = Kyoseivanov
				}
				else_if = {
					limit = {
						has_country_leader = {
							name = "Bogdan Filov"
							ruling_only = yes
						}
					}
					set_variable = { BUL_former_leader_before_ferdinand = 2 } # 2 = Filov
				}
				else_if = {
					limit = {
						has_country_leader = {
							name = "Nikola Mushanov"
							ruling_only = yes
						}
					}
					set_variable = { BUL_former_leader_before_ferdinand = 3 } # 3 = Mushanov
				}
				else_if = {
					limit = {
						has_country_leader = {
							name = "Hristo Lukov"
							ruling_only = yes
						}
					}
					set_variable = { BUL_former_leader_before_ferdinand = 4 } # 4 = Lukov
				}
				else_if = {
					limit = {
						has_country_leader = {
							name = "Aleksandar Tsankov"
							ruling_only = yes
						}
					}
					set_variable = { BUL_former_leader_before_ferdinand = 5 } # 5 = Tsankov
				}
			}

			set_country_flag = BUL_the_return_of_ferdinand_flag
			set_party_name = {
				ideology = neutrality
				long_name = BUL_ferdinand_loyalists_party_long
				name = BUL_ferdinand_loyalists_party
			}
			create_country_leader = {
				name = "Ferdinand I"
				desc = "POLITICS_FERDINAND_I_DESC"
				picture = GFX_portrait_bul_ferdinand_i
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					dreams_of_a_new_byzantium
				}
			}
			if = {
				limit = {
					NOT = { has_government = neutrality }
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			if = { 
				limit = {
					num_subjects > 0
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = BUL_ferdinands_puppet
				}
			}
			BUL = {
				custom_effect_tooltip = BUL_the_return_of_ferdinand_opinion_tt
			}
			every_other_country = {
				limit = {
					OR = {
						tag = GRE
						tag = YUG
						tag = ROM
						tag = TUR
					}
					NOT = { is_subject_of = ROOT }
					NOT = {	is_in_faction_with = ROOT }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = BUL_ferdinand_is_back
				}
				hidden_effect = {
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = BUL_old_enemies
						}
					}
				}
			}

			hidden_effect = {
				news_event = { id = bftb_news.4 hours = 8 random_hours = 4 }
			}
		}
	}

	focus = {
		id = BUL_amend_old_grudges

		prerequisite = { focus = BUL_the_return_of_ferdinand_i }

		icon = GFX_goal_generic_occupy_states_ongoing_war
		relative_position_id = BUL_the_return_of_ferdinand_i
		x = 0
		y = 1
		cost = 10

		available = {
			has_country_leader = {
				name = "Ferdinand I" 
				ruling_only = yes
			}
			OR = {
				country_exists = ENG
				country_exists = FRA
				country_exists = YUG
				country_exists = GRE
				country_exists = ROM
				country_exists = TUR
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					country_exists = ENG
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = ENG
					}
				}
			}
			if = {
				limit = {
					country_exists = FRA
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = FRA
					}
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							original_tag = YUG
							original_tag = GRE
							original_tag = ROM
							original_tag = TUR
						}
					}
					ROOT = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = BUL_amend_old_grudges_balkan_targets_tt
			every_country = {
				limit = {
					OR = {
						original_tag = YUG
						original_tag = GRE
						original_tag = ROM
						original_tag = TUR
					}
				}
			}
		}
	}

	focus = {
		id = BUL_form_a_regency_council

		prerequisite = { focus = BUL_plot_against_boris }

		icon = GFX_focus_BUL_form_a_regency_council
		relative_position_id = BUL_plot_against_boris
		x = 1
		y = 2
		cost = 10
		mutually_exclusive = { focus = BUL_the_return_of_ferdinand_i }

		available = {
			has_country_flag = BUL_tsar_boris_is_dead_flag
			BUL_has_abolished_monarchy = no
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.1
			add_political_power = 70
			country_event = { id = bftb_bulgaria_tsar_boris.3 hours = 12 random_hours = 6 }
			custom_effect_tooltip = BUL_form_a_regency_council_tt
		}
	}

	focus = {
		id = BUL_the_fate_of_the_balkans

		prerequisite = { focus = BUL_form_a_regency_council focus = BUL_the_return_of_ferdinand_i focus = BUL_military_dictatorship }

		icon = GFX_focus_BUL_the_fate_of_the_balkans
		relative_position_id = BUL_form_a_regency_council
		x = 0
		y = 2
		cost = 5
		mutually_exclusive = { focus = BUL_join_the_tripartite_pact focus = BUL_join_the_allies focus = BUL_a_balkan_confederation }

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			OR = {
				is_in_faction = no
				has_war = no
			}
			is_subject = no
		}
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
			set_rule = {
				can_join_factions = no
			}
			create_faction = BUL_greater_bulgarian_federation
			add_timed_idea = {
				idea = BUL_the_fate_of_the_balkans
				days = 365
			}
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
					NOT = { has_non_aggression_pact_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { is_subject_of = ROOT }
					is_neighbor_of = ROOT
				}
				add_timed_idea = {
					idea = BUL_the_bulgarian_threat
					days = 365
				}
			}
			unlock_decision_category_tooltip = BUL_the_fate_of_the_balkans_dec_cat
		}
	}

	focus = {
		id = BUL_nationalist_propaganda

		prerequisite = { focus = BUL_the_fate_of_the_balkans }

		icon = GFX_goal_generic_propaganda
		relative_position_id = BUL_the_fate_of_the_balkans
		x = 1
		y = 1
		cost = 10

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			if = {
				limit = {
					has_idea = BUL_the_fate_of_the_balkans
				}
				#Add more days to Toppling Giants NS
				modify_timed_idea = {
					idea = BUL_the_fate_of_the_balkans
					days = 365
				}
				#Add the appropriate (ideology) Nationalist Propaganda NS
				if = {
					limit = {
						has_government = neutrality
					}
					add_timed_idea = {
						idea = BUL_nationalist_propaganda
						days = 365
					}
				}
				else = {
					add_timed_idea = {
						idea = BUL_nationalist_propaganda_fascism
						days = 365
					}
				}
			}
			else = { #No Toppling Giants NS means a weaker Nationalist Propaganda NS
				#Add the appropriate (ideology) Nationalist Propaganda NS
				if = {
					limit = {
						has_government = neutrality
					}
					add_timed_idea = {
						idea = BUL_nationalist_propaganda_weak
						days = 365
					}
				}
				else = {
					add_timed_idea = {
						idea = BUL_nationalist_propaganda_weak_fascism
						days = 365
					}
				}
				custom_effect_tooltip = BUL_nationalist_propaganda_combo_tt
			}
		}
	}

	focus = {
		id = BUL_toppling_giants

		select_effect = {
			random_neighbor_country = {
				limit = {
					is_major = yes
					NOT = { is_in_faction_with = ROOT }
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		prerequisite = { focus = BUL_the_fate_of_the_balkans }

		icon = GFX_goal_generic_major_war
		relative_position_id = BUL_the_fate_of_the_balkans
		x = -1
		y = 1
		cost = 10

		available = {
			any_country = {
				is_major = yes
				is_neighbor_of = ROOT
				NOT = { is_in_faction_with = ROOT }
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			if = {
				limit = {
					any_country = {
						is_major = yes
						is_neighbor_of = ROOT
						NOT = { is_in_faction_with = ROOT }
					}
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							is_major = yes
							is_neighbor_of = ROOT
							NOT = { is_in_faction_with = ROOT }
						}
						ROOT = {
							create_wargoal = {
								type = puppet_wargoal_focus
								target = PREV
							}
						}
					}
				}
				custom_effect_tooltip = BUL_toppling_giants_wargoal_1_tt
				every_other_country = {
					limit = {
						is_major = yes
						is_neighbor_of = ROOT
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}
			else = {
				custom_effect_tooltip = BUL_toppling_giants_wargoal_2_tt
			}

			hidden_effect = {
				every_other_country = {
					limit = {
						is_major = yes
						NOT = { is_in_faction_with = ROOT }
						is_neighbor_of = ROOT
						capital_scope = { is_on_continent = europe }
					}
					BUL_add_hidden_targeted_ns = yes
				}
			}
			add_timed_idea = {
				idea = BUL_toppling_giants
				days = 730
			}
			if = {
				limit = {
					any_other_country = {
						is_major = yes
						NOT = { is_in_faction_with = ROOT }
						is_neighbor_of = ROOT
						capital_scope = { is_on_continent = europe }
					}
				}
				custom_effect_tooltip = BUL_toppling_giants_ns_targets_tt
				every_other_country = {
					limit = {
						is_major = yes
						NOT = { is_in_faction_with = ROOT }
						is_neighbor_of = ROOT
						capital_scope = { is_on_continent = europe }
					}
				}
			}

			random_country = {
				limit = {
					is_major = yes
					is_neighbor_of = ROOT
					NOT = { is_in_faction_with = ROOT }
				}
				ROOT = {
					add_ai_strategy = {
						type = declare_war
						id = PREV
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = BUL_bulgarian_academy_of_sciences

		prerequisite = { focus = BUL_the_fate_of_the_balkans }

		icon = GFX_focus_research2
		relative_position_id = BUL_the_fate_of_the_balkans
		x = 3
		y = 1
		cost = 10

		available = {
			BUL_is_not_alone_in_faction = yes
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_to_tech_sharing_group = BUL_bulgarian_academy_of_sciences
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = BUL_bulgarian_academy_of_sciences
			}
		}
	}

	focus = {
		id = BUL_guardians_of_the_balkans

		prerequisite = { focus = BUL_nationalist_propaganda }

		icon = GFX_focus_BUL_guardians_of_the_balkans
		relative_position_id = BUL_nationalist_propaganda
		x = 0
		y = 1
		cost = 10

		available = {
			is_subject = no
		}
		
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						any_controlled_state = {
							BUL_is_balkan_state = yes
						}
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_guaranteed_by = ROOT }
						NOT = { has_non_aggression_pact_with = ROOT }
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
			custom_effect_tooltip = BUL_guardians_of_the_balkans_wargoal_tt
			every_other_country = {
				limit = {
					any_controlled_state = {
						BUL_is_balkan_state = yes
					}
					NOT = { is_in_faction_with = ROOT }
					NOT = { is_guaranteed_by = ROOT }
					NOT = { has_non_aggression_pact_with = ROOT }
				}
			}
			if = {
				limit = {
					has_idea = BUL_the_fate_of_the_balkans
				}
				remove_ideas = BUL_the_fate_of_the_balkans
			}
			else = {
				custom_effect_tooltip = BUL_guardians_of_the_balkans_remove_ns_tt
			}
			add_ideas = BUL_guardians_of_the_balkans
			if = {
				limit = {
					num_subjects > 0
					any_country = {
						is_subject_of = ROOT
						BUL_is_balkan_nation = yes
					}
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						BUL_is_balkan_nation = yes
					}
					add_ideas = BUL_defender_of_the_balkans
				}
			}
			else = {
				custom_effect_tooltip = BUL_guardians_of_the_balkans_subject_ns_tt
				effect_tooltip = {
					add_ideas = BUL_defender_of_the_balkans
				}
			}
		}
	}

	focus = {
		id = BUL_consolidate_dominance_of_the_seas

		prerequisite = { focus = BUL_guardians_of_the_balkans focus = BUL_join_the_allies }

		icon = GFX_goal_generic_navy_battleship
		relative_position_id = BUL_guardians_of_the_balkans
		x = -3
		y = 1
		cost = 10

		available = {
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_war_support = 0.05
			navy_experience = 50
			add_tech_bonus = {
				name = BUL_consolidate_dominance_of_the_seas
			    bonus = 1
			    uses = 2
				category = naval_doctrine
			}
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				set_state_flag = BUL_consolidate_dominance_of_the_seas_flag
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = BUL_consolidate_dominance_of_the_seas_flag }
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				random_owned_state = {
					limit = {
						has_state_flag = BUL_consolidate_dominance_of_the_seas_flag
					}
					clr_state_flag = BUL_consolidate_dominance_of_the_seas_flag
				}
			}
		}
	}


########    ###     ######   ######  ####  ######  ########    ########  ########     ###    ##    ##  ######  ##     ## 
##         ## ##   ##    ## ##    ##  ##  ##    ##    ##       ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## 
##        ##   ##  ##       ##        ##  ##          ##       ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## 
######   ##     ##  ######  ##        ##   ######     ##       ########  ########  ##     ## ## ## ## ##       ######### 
##       #########       ## ##        ##        ##    ##       ##     ## ##   ##   ######### ##  #### ##       ##     ## 
##       ##     ## ##    ## ##    ##  ##  ##    ##    ##       ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## 
##       ##     ##  ######   ######  ####  ######     ##       ########  ##     ## ##     ## ##    ##  ######  ##     ## 


	focus = {
		id = BUL_appoint_right_wing_ministers

		prerequisite = { focus = BUL_power_to_the_tsar }
		icon = GFX_focus_generic_diplomatic_treaty
		relative_position_id = BUL_power_to_the_tsar
		x = 4
		y = 2
		cost = 10

		mutually_exclusive = { focus = BUL_the_tsars_regime }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_political_power = 70
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = BUL_nikola_zhekov
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
			custom_effect_tooltip = BUL_appoint_right_wing_ministers_tt
		}
	}

	focus = {
		id = BUL_the_path_towards_a_greater_bulgaria

		prerequisite = { focus = BUL_appoint_right_wing_ministers }
		icon = GFX_focus_generic_strike_at_democracy1
		relative_position_id = BUL_appoint_right_wing_ministers
		x = -2
		y = 2
		cost = 10

		available = {
			fascism > 0.3
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_war_support = 0.05
			#Change economy law to the next one
			if = {
				limit = {
					has_idea = civilian_economy
				}
				add_ideas = low_economic_mobilisation
			}
			else_if = {
				limit = {
					has_idea = low_economic_mobilisation
				}
				add_ideas = partial_economic_mobilisation
			}
			else_if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				add_ideas = war_economy
			}
			else_if = {
				limit = {
					has_idea = war_economy
				}
				add_ideas = tot_economic_mobilisation
			}
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_depose_the_tsar

		prerequisite = { focus = BUL_the_path_towards_a_greater_bulgaria }
		prerequisite = { focus = BUL_bulgarian_irredentism }
		icon = GFX_focus_rom_abdicate
		relative_position_id = BUL_the_path_towards_a_greater_bulgaria
		x = 0
		y = 2
		cost = 10

		mutually_exclusive = { focus = BUL_found_the_brannik }

		available = {
			fascism > 0.4
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			remove_ideas = BUL_tsar_boris_positive_01
			if = {
				limit = {
					has_idea = BUL_georgi_ivanov_kyoseivanov_bftb
				}
				remove_ideas = BUL_georgi_ivanov_kyoseivanov_bftb
			}

			if = { #Low Stability triggers a Civil War
				limit = {
					has_stability < 0.3
				}
				set_temp_variable = { BUL_fascist_cw_opposition = party_popularity@neutrality }
				multiply_temp_variable = { BUL_fascist_cw_opposition = 0.25 }
				add_to_temp_variable = { BUL_fascist_cw_opposition = party_popularity@democratic }
				add_to_temp_variable = { BUL_fascist_cw_opposition = party_popularity@communism }
				set_politics = {
					ruling_party = fascism
				}
				hidden_effect = { #Generates undesired "Politics will change" tooltip
					every_unit_leader = {
						limit = {
							OR = {
								has_id = 1207 #Asen Nikolov
								has_id = 1208 #Konstantin Lukash
							}
							NOT = { has_trait = trait_BUL_zveno_member }
						}
						add_unit_leader_trait = trait_BUL_tsar_loyalist
					}

					start_civil_war = {	
						ideology = neutrality
						size = BUL_fascist_cw_opposition
						capital = 48
						states = { 212 }
						keep_unit_leaders_trigger = {
							NOT = {	has_trait = trait_BUL_tsar_loyalist }
						}
					}

					every_unit_leader = {
						limit = {
							has_trait = trait_BUL_tsar_loyalist
						}
						random_other_country = {
							limit = {
								original_tag = BUL
								has_government = neutrality
							}
							PREV = { set_nationality = PREV }
						}
					}

					#Operatives
					if = {
						limit = {
							has_dlc = "La Resistance"
						}
						every_operative = {
							limit = {
								has_trait = trait_BUL_tsar_loyalist
							}
							retire = yes
						}
					}
				}
				custom_effect_tooltip = BUL_depose_the_tsar_cw_tt
				clr_country_flag = BUL_factions_unlocked_flag
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}
			}
			else = {
				random_unit_leader = {
					limit = {
						has_id = 1204 #Boydev
					}
					retire = yes
				}
				every_unit_leader = {
					limit = {
						NOT = { has_id = 1204 } #Boydev
						has_trait = trait_BUL_tsar_loyalist
					}
					custom_effect_tooltip = BUL_remove_tsar_loyalist_trait_tt
					remove_unit_leader_trait = trait_BUL_tsar_loyalist
				}
				if = {
					limit = {
						has_country_leader = {
							name = "Boris III"
						}
					}
					retire_country_leader = yes
				}
				create_country_leader = {
					name = "Georgi Kyoseivanov"
					desc = "POLITICS_GEORGI_KYOSEIVANOV_DESC"
					picture = GFX_portrait_bul_georgi_kyoseivanov
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						incompetent_leader
					}
				}
				add_stability = -0.1
			}

			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bs_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_decrease_effect = yes

			custom_effect_tooltip = BUL_potential_civil_war_low_requirement_tt
		}
	}

	focus = {
		id = BUL_military_dictatorship

		prerequisite = { focus = BUL_depose_the_tsar }
		icon = GFX_goal_generic_political_pressure
		relative_position_id = BUL_depose_the_tsar
		x = 0
		y = 3
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_political_power = 70
			add_war_support = 0.05
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			if = {
				limit = {
					NOT = { has_government = fascism }
				}
				set_politics = {
					ruling_party = fascism
				}
			}
			add_ideas = BUL_military_dictatorship
		}
	}

	focus = {
		id = BUL_support_the_spanish_coup

		prerequisite = { focus = BUL_appoint_right_wing_ministers }
		icon = GFX_focus_intervention_spain_nationalists
		relative_position_id = BUL_appoint_right_wing_ministers
		x = -1
		y = 1
		cost = 5

		available = {
			has_civil_war = no
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				country_exists = SPA
				NOT = { has_war_with = SPA }
			}
			else = {
				any_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			is_subject = no
		}
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					add_opinion_modifier = {
					    target = BUL
					    modifier = BUL_helped_in_civil_war
					}
					add_manpower = 3000
					ROOT = {
						set_variable = { BUL_spanish_tag_aided = PREV }
					}
				}
				add_ai_strategy = {
					type = befriend
					id = SPA
					value = 100
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = SPA
					value = 100
				}
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = neutrality
							has_government = fascism
						}
					}
					add_opinion_modifier = {
					    target = BUL
					    modifier = BUL_helped_in_civil_war
					}
					add_manpower = 3000
					ROOT = {
						set_variable = { BUL_spanish_tag_aided = PREV }
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
						add_ai_strategy = {
							type = send_volunteers_desire
							id = PREV
							value = 100
						}
					}
				}
			}
			add_manpower = -3000
			add_ideas = BUL_volunteers_in_spain_nationalist
			set_rule = { can_send_volunteers = yes }
			custom_effect_tooltip = BUL_support_the_spanish_coup_tt
		}
	}

	focus = {
		id = BUL_allow_far_right_organizations

		prerequisite = { focus = BUL_appoint_right_wing_ministers }
		icon = GFX_goal_generic_dangerous_deal
		relative_position_id = BUL_appoint_right_wing_ministers
		x = 0
		y = 2
		cost = 10

		available = {
			NOT = { has_country_flag = BUL_nsm_media_banned_flag }
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_political_power = 70
			add_war_support = 0.05
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_stability = -0.05
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_medium_loyalty_increase_effect = yes
			BUL_nsm_medium_popularity_increase_effect = yes

			if = {
				limit = {
					NOT = { has_country_flag = BUL_nsm_legalized_flag }
				}
				set_country_flag = BUL_nsm_legalized_flag
				custom_effect_tooltip = BUL_allow_far_right_organizations_tt
			}		
		}
	}

	focus = {
		id = BUL_integrate_the_ratniks

		prerequisite = { focus = BUL_allow_far_right_organizations }
		icon = GFX_focus_secret_rearmament
		relative_position_id = BUL_allow_far_right_organizations
		x = 0
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_ideas = BUL_ratniks
			BUL_bs_low_loyalty_decrease_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_economic_protectionism

		prerequisite = { focus = BUL_appoint_right_wing_ministers }
		icon = GFX_focus_generic_self_management
		relative_position_id = BUL_appoint_right_wing_ministers
		x = 1
		y = 1
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			add_ideas = BUL_government_reforms_fascists_01
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_industrial_autarky

		prerequisite = { focus = BUL_economic_protectionism }
		icon = GFX_goal_reichsautobahn
		relative_position_id = BUL_economic_protectionism
		x = 1
		y = 1
		cost = 10

		available = {
			num_of_factories > 20
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			swap_ideas = {
				remove_idea = BUL_government_reforms_fascists_01
				add_idea = BUL_government_reforms_fascists_02
			}
			BUL_zveno_low_loyalty_increase_effect = yes
			BUL_bzns_low_loyalty_decrease_effect = yes
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}

	focus = {
		id = BUL_corporatism

		prerequisite = { focus = BUL_industrial_autarky }
		prerequisite = { focus = BUL_cooperation_with_italy }
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		relative_position_id = BUL_industrial_autarky
		x = 0
		y = 5
		cost = 10

		available = {
			num_of_factories > 30
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS}
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				set_state_flag = BUL_corporatism_flag
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					NOT = { has_state_flag = BUL_corporatism_flag }
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				random_owned_state = {
					limit = {
						has_state_flag = BUL_corporatism_flag
					}
					clr_state_flag = BUL_corporatism_flag
				}
			}
			swap_ideas = {
				remove_idea = BUL_government_reforms_fascists_02
				add_idea = BUL_government_reforms_fascists_03
			}
			BUL_nsm_low_loyalty_increase_effect = yes
		}
	}
	
	focus = {
		id = BUL_approach_germany

		prerequisite = { focus = BUL_bulgarian_irredentism }

		icon = GFX_focus_chi_mission_to_germany
		relative_position_id = BUL_bulgarian_irredentism
		x = 2
		y = 2
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = GER }
				GER = { is_subject = yes }
				GER = { has_capitulated = yes }
			}
		}

		available = {
			country_exists = GER
			NOT = { has_war_with = GER }
			GER = { 
				NOT = { is_justifying_wargoal_against = ROOT }
			}
			GER = {
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = GER
			}
		}

		cancel_if_invalid = yes
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			add_opinion_modifier = { 
				target = GER
				modifier = BUL_strengthened_relations_with_us
			}
			GER = {
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_strengthened_relations_with_us
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = FRA
						tag = SOV
					}
					NOT = { is_in_faction_with = GER }
				}
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_approached_germany
				}
			}

			custom_effect_tooltip = available_political_advisor
			if = {
				limit = {
					has_government = fascism
				}
				show_ideas_tooltip = BUL_bogdan_filov_fascism
			}
			else = {
				show_ideas_tooltip = BUL_bogdan_filov
			}
			
			if = {
				limit = {
					has_country_flag = BUL_german_influence_flag
				}
				modify_country_flag = { flag = BUL_german_influence_flag value = 1 }
			}
			else = {
				set_country_flag = { flag = BUL_german_influence_flag value = 1 }
			}

			if = {
				limit = {
					has_completed_focus = BUL_attract_foreign_capitals
				}
				custom_effect_tooltip = BUL_approach_germany_foreign_industry_tt
			}
			
			if = {
				limit = {
					OR = {
						NOT = { country_exists = GER }
						has_war_with = GER
						GER = { BUL_is_valid_subject = no }
					}
				}
				hidden_effect = {
					activate_targeted_decision = { target = GER decision = BUL_purchase_artillery }
					activate_targeted_decision = { target = GER decision = BUL_purchase_military_vehicles }
					activate_targeted_decision = { target = GER decision = BUL_purchase_aircraft }
					activate_targeted_decision = { target = GER decision = BUL_purchase_infantry_equipment }
					activate_targeted_decision = { target = GER decision = BUL_purchase_armor }
				}
			}
			else = {
				activate_targeted_decision = { target = GER decision = BUL_purchase_artillery }
				activate_targeted_decision = { target = GER decision = BUL_purchase_military_vehicles }
				activate_targeted_decision = { target = GER decision = BUL_purchase_aircraft }
				activate_targeted_decision = { target = GER decision = BUL_purchase_infantry_equipment }
				activate_targeted_decision = { target = GER decision = BUL_purchase_armor }
			}

			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = GER
								AND = {
									NOT = { is_in_faction_with = GER }
									NOT = { tag = BUL }
								}
							}
						}
						has_state_flag = BUL_historical_bulgarian_claim_flag
					}
				}
				unlock_decision_tooltip = BUL_demand_our_historical_claims
			}

			hidden_effect = {
				news_event = { id = bftb_news.11 hours = 8 random_hours = 4 }
			}

			GER = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 20
			}
		}
	}

	focus = {
		id = BUL_cooperation_with_italy

		prerequisite = { focus = BUL_approach_germany }

		icon = GFX_focus_befriend_italy
		relative_position_id = BUL_approach_germany
		x = 1
		y = 1
		cost = 10

		bypass = {
			OR = {
				NOT = { country_exists = ITA }
				ITA = { is_subject = yes }
				ITA = { has_capitulated = yes }
			}
		}

		available = {
			NOT = { has_war_with = ITA }
			ITA = { 
				NOT = { is_justifying_wargoal_against = ROOT }
				has_opinion	= {
					target = ROOT
					value > 24
				}
			}
			OR = {
				is_in_faction = no
				is_in_faction_with = ITA
			}
		}

		cancel_if_invalid = yes
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			ITA =  { country_event = { id = bftb_bulgaria_italian_influence.1 hours = 6 random_hours = 2 } } #Research Sharing 

			add_opinion_modifier = { 
				target = ITA
				modifier = BUL_strengthened_relations_with_us
			}
			ITA = {
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_strengthened_relations_with_us
				}
			}
			every_country = {
				limit = {
					BUL_country_can_influence_bulgaria = yes
					NOT = { is_in_faction_with = ITA }
					NOT = { has_government = ITA }
				}
				add_opinion_modifier = { 
					target = BUL
					modifier = BUL_approached_italy
				}
			}

			if = {
				limit = {
					OR = {
						NOT = { country_exists = ITA }
						has_war_with = ITA
						ITA = { BUL_is_valid_subject = no }
					}
				}
				hidden_effect = {
					activate_targeted_decision = { target = ITA decision = BUL_purchase_artillery }
					activate_targeted_decision = { target = ITA decision = BUL_purchase_military_vehicles }
					activate_targeted_decision = { target = ITA decision = BUL_purchase_aircraft }
					activate_targeted_decision = { target = ITA decision = BUL_purchase_infantry_equipment }
					activate_targeted_decision = { target = ITA decision = BUL_purchase_armor }
					activate_targeted_decision = { target = ITA decision = BUL_purchase_ships }
				}
			}
			else = {
				activate_targeted_decision = { target = ITA decision = BUL_purchase_artillery }
				activate_targeted_decision = { target = ITA decision = BUL_purchase_military_vehicles }
				activate_targeted_decision = { target = ITA decision = BUL_purchase_aircraft }
				activate_targeted_decision = { target = ITA decision = BUL_purchase_infantry_equipment }
				activate_targeted_decision = { target = ITA decision = BUL_purchase_armor }
				activate_targeted_decision = { target = ITA decision = BUL_purchase_ships }
			}

			ITA = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = ITA
				value = 20
			}
		}
	}

	focus = {
		id = BUL_join_the_tripartite_pact

		prerequisite = { focus = BUL_approach_germany }

		dynamic = yes

		icon = GFX_goal_support_fascism
		relative_position_id = BUL_approach_germany
		x = 0
		y = 4
		cost = 5
		mutually_exclusive = { focus = BUL_the_fate_of_the_balkans focus = BUL_join_the_allies }

		bypass = {
			is_in_faction_with = GER
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		available = {
			if = {
				limit = {
					is_in_faction_with = GER
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				#This is intended so that the focus does not look unavailable when it can actually be bypassed
			}
			else = {
				threat > 0.35
				OR = {
					AND = {
						GER = { is_faction_leader = yes }
						NOT = { is_justifying_wargoal_against = ROOT }
						NOT = { has_war_with = ROOT }
					}
					AND = {
						ITA = {
							is_faction_leader = yes
							is_in_faction_with = GER
							NOT = { is_justifying_wargoal_against = ROOT }
							NOT = { has_war_with = ROOT }
						}
					}
				}			
				OR = {
					AND = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
						GER = { has_government = fascism }
					}
					AND = {
						has_government = neutrality
						GER = { has_government = neutrality }
					}
				}
				is_in_faction = no
				is_subject = no
			}
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_government = fascism
						GER = { has_government = fascism }
					}
				}
				#Using separate scopes for tooltip reasons
				if = {
					limit = {
						has_unit_leader = 1203
					}
					random_unit_leader = {
						limit = {
							has_id = 1203 #Hadzhipetkov
						}
						retire = yes
					}
				}
				if = {
					limit = {
						has_unit_leader = 1204
					}
					random_unit_leader = {
						limit = {
							has_id = 1204 #Boydev
						}
						retire = yes
					}
				}			
			}
			GER = { country_event = { id = generic.2 hours = 4 random_hours = 2 } }
			custom_effect_tooltip = BUL_join_the_tripartite_pact_tt
			if = {
				limit = {
					any_state = {
						BUL_is_balkan_state = yes
						has_state_flag = BUL_bulgarian_claim_warranted_flag
					}
				}
				custom_effect_tooltip = BUL_join_the_tripartite_pact_warranted_claims_tt
				every_state = {
					limit = {
						BUL_is_balkan_state = yes
						has_state_flag = BUL_bulgarian_claim_warranted_flag
					}
				}
			}

			GER = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = 100
			}

			add_ai_strategy = { #We want to garrison our potentially newly-acquired territorial claims
				type = garrison
				value = 25
			}
		}
	}

	focus = {
		id = BUL_peaceful_development

		prerequisite = { focus = BUL_join_the_tripartite_pact }

		icon = GFX_goal_generic_position_armies
		relative_position_id = BUL_join_the_tripartite_pact
		x = 0
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_total_war }

		bypass = {
			has_war = yes
		}

		available = {
			if = {
				limit = {
					has_war = yes
				}
				#This is intended so that the focus does not look unavailable when it can actually be bypassed
			}
			has_war = no
		}
		
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			add_stability = 0.1
			add_war_support = -0.1
			custom_effect_tooltip = BUL_peaceful_development_tt

			add_ai_strategy = { #We really want to garrison all these territorial gains
				type = garrison
				value = 50
			}
		}
	}

	focus = {
		id = BUL_military_secrets_sharing

		prerequisite = { focus = BUL_join_the_tripartite_pact }

		icon = GFX_goal_tfv_generic_tech_sharing
		relative_position_id = BUL_join_the_tripartite_pact
		x = -2
		y = 1
		cost = 10

		available = {
			BUL_is_not_alone_in_faction = yes
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_to_tech_sharing_group = BUL_axis_research
			GER = {add_to_tech_sharing_group = BUL_axis_research}
			if = { 
				limit = { is_faction_leader = yes }
				every_country = {
					limit = {
						is_in_faction_with = BUL
					}
					add_to_tech_sharing_group = BUL_axis_research
				}
			}
			else = {
				every_country = {
					limit = {
						is_in_faction_with = BUL
						OR = {
							is_major = yes
							is_faction_leader = yes
						}
					}
					add_to_tech_sharing_group = BUL_axis_research
				}
			}
		}
	}

	focus = {
		id = BUL_bulgarian_administration_of_the_balkans

		prerequisite = { focus = BUL_peaceful_development focus = BUL_nationalist_propaganda }

		icon = GFX_focus_BUL_bulgarian_administration_of_the_balkans
		relative_position_id = BUL_join_the_tripartite_pact
		x = -4
		y = 2
		cost = 20

		available = {
			any_state = {
				has_state_flag = BUL_historical_bulgarian_claim_flag
				is_fully_controlled_by = BUL
			}
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			custom_effect_tooltip = BUL_bulgarian_administration_of_the_balkans_decisions_tt
			custom_effect_tooltip = BUL_bulgarian_administration_of_the_balkans_cores_tt
			if = {
				limit = {
					has_full_control_of_state = 106
					106 = { NOT = { is_core_of = ROOT } }
				}
				106 = { set_state_flag = BUL_bulgarian_reintegration_campaign_flag }
				add_state_core = 106
			}
			if = {
				limit = {
					has_full_control_of_state = 803
					803 = { NOT = { is_core_of = ROOT } }
				}
				803 = { set_state_flag = BUL_bulgarian_reintegration_campaign_flag }
				add_state_core = 803
			}
			if = {
				limit = {
					has_full_control_of_state = 77
					77 = { NOT = { is_core_of = ROOT } }
				}
				77 = { set_state_flag = BUL_bulgarian_reintegration_campaign_flag }
				add_state_core = 77
			}
			custom_effect_tooltip = BUL_historical_states_tt

			hidden_effect = {
				news_event = { id = bftb_news.5 hours = 8 random_hours = 4 }
			}

			add_ai_strategy = { #We really want to garrison all these territorial gains
				type = garrison
				value = 75
			}
		}
	}

	focus = {
		id = BUL_restore_the_bulgarian_patriarchate

		prerequisite = { focus = BUL_bulgarian_administration_of_the_balkans }

		icon = GFX_focus_BUL_restore_the_bulgarian_patriarchate
		relative_position_id = BUL_bulgarian_administration_of_the_balkans
		x = 0
		y = 1
		cost = 10

		available = {
			has_stability > 0.50
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_ideas = BUL_bulgarian_patriarchate_restored

			hidden_effect = {
				news_event = { id = bftb_news.6 hours = 8 random_hours = 4 }
			}
		}
	}

	focus = {
		id = BUL_total_war

		select_effect = {
			if = {
				limit = {
					any_allied_country = {
						has_war_with = ROM
					}
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = ROM
					value = 100
				}
			}
		}

		prerequisite = { focus = BUL_join_the_tripartite_pact }

		icon = GFX_goal_generic_attack_allies
		relative_position_id = BUL_join_the_tripartite_pact
		x = 2
		y = 1
		cost = 10
		mutually_exclusive = { focus = BUL_peaceful_development }

		available = {
			has_government = fascism
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_war_support = 0.1
			add_stability = -0.1
			add_ideas = BUL_total_war

			#If ROM is not an ally, then Bulgaria can go for it
			if = {
				limit = {
					ROM = {
						NOT = { is_in_faction_with = ROOT }
					}
				}
				#Romanian controlled states are claimed by Bulgaria
				ROM = {
					every_owned_state = {
						limit = {
							is_fully_controlled_by = ROM
						}
						add_claim_by = ROOT
					}
				}
				if = {
					limit = {
						NOT = { has_war_with = ROM }
					}
					create_wargoal = {
						type = annex_everything
						target = ROM
						expire = 180
					}
					custom_effect_tooltip = BUL_total_war_wargoal_expires_tt
				}
			}
			
			custom_effect_tooltip = BUL_total_war_join_wars_tt
			#Join other wars except for the Soviets
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = BUL
				}
				random_enemy_country = {
					limit = {
						NOT = { has_war_with = ROOT }
						NOT = { tag = SOV }
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = PREV.PREV
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}

			add_ai_strategy = {
				type = conquer
				id = ROM
				value = 100
			}
		}
	}

	focus = {
		id = BUL_the_eastern_front

		select_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = SOV
				value = 100
			}
		}

		prerequisite = { focus = BUL_total_war }

		icon = GFX_focus_attack_soviet
		relative_position_id = BUL_total_war
		x = 1
		y = 1
		cost = 10

		available = {
			any_allied_country = {
				has_war_with = SOV
			}
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			#WS bonus based on Fascism Supp
			custom_effect_tooltip = BUL_the_eastern_front_ws_tt
			set_temp_variable = { BUL_ws_from_fascism = party_popularity@fascism }
			divide_temp_variable = { BUL_ws_from_fascism = 5 }
			add_war_support = BUL_ws_from_fascism

			#Stability penalty based on Communism Supp
			custom_effect_tooltip = BUL_the_eastern_front_stab_tt
			if = {
				limit = {
					SOV = { has_government = communism }
				}
				set_temp_variable = { BUL_stab_penalty_from_ideology = party_popularity@communism }
			}
			else_if = {
				limit = {
					SOV = { has_government = democratic }
				}
				set_temp_variable = { BUL_stab_penalty_from_ideology = party_popularity@democratic }
			}
			else_if = {
				limit = {
					SOV = { has_government = neutrality }
				}
				set_temp_variable = { BUL_stab_penalty_from_ideology = party_popularity@neutrality }
			}
			divide_temp_variable = { BUL_stab_penalty_from_ideology = -2 }
			add_stability = BUL_stab_penalty_from_ideology

			#Improve NS
			swap_ideas = {
				remove_idea = BUL_total_war
				add_idea = BUL_total_war_02
			}

			#Join war against SOV
			if = {
				limit = {
					any_allied_country = {
						is_faction_leader = yes
						has_war_with = SOV
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = ROOT
						has_war_with = SOV
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = PREV
							enemy = SOV
							hostility_reason = asked_to_join
						}
					}
				}
			}
			else = {
				random_other_country = {
					limit = {
						is_in_faction_with = ROOT
						has_war_with = SOV
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = PREV
							enemy = SOV
							hostility_reason = asked_to_join
						}
					}
				}
			}
			#Tooltip
			if = {
				limit = {
					NOT = {
						any_allied_country = {
							has_war_with = SOV
						}
					}
				}
				custom_effect_tooltip = BUL_the_eastern_front_join_war_tt
			}

			add_ai_strategy = {
				type = declare_war
				id = SOV
				value = 100
			}
		}
	}

	focus = {
		id = BUL_the_third_bulgarian_empire

		select_effect = {
			if = {
				limit = {
					NOT = { is_in_faction_with = TUR }
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = TUR
					value = 100
				}
			}
		}

		prerequisite = { focus = BUL_total_war focus = BUL_bulgarian_administration_of_the_balkans }

		icon = GFX_focus_BUL_the_third_bulgarian_empire
		relative_position_id = BUL_total_war
		x = -1
		y = 2
		cost = 10

		available = {
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			set_rule = {
				can_create_factions = yes
			}
			random_owned_state = {
				prioritize = { 48 212 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						infrastructure < 9
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						infrastructure < 10
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					any_owned_state = {
						is_core_of = ROOT
						has_state_flag = BUL_historical_bulgarian_claim_flag
					}
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						has_state_flag = BUL_historical_bulgarian_claim_flag
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					set_state_flag = BUL_imperial_industrial_upgrade_flag
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							infrastructure < 10
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						has_state_flag = BUL_historical_bulgarian_claim_flag
						NOT = { has_state_flag = BUL_imperial_industrial_upgrade_flag }
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					set_state_flag = BUL_imperial_industrial_upgrade_flag
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							infrastructure < 10
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						has_state_flag = BUL_historical_bulgarian_claim_flag
						NOT = { has_state_flag = BUL_imperial_industrial_upgrade_flag }
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							infrastructure < 10
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				every_owned_state = {
					limit = {
						has_state_flag = BUL_imperial_industrial_upgrade_flag
					}
					clr_state_flag = BUL_imperial_industrial_upgrade_flag
				}
			}
			else = {
				custom_effect_tooltip = BUL_the_third_bulgarian_empire_tt
			}

			if = {
				limit = {
					NOT = { has_wargoal_against = TUR }
					NOT = { is_in_faction_with = TUR }
				}
				create_wargoal = {
					type = annex_everything
					target = TUR
				}
			}

			#Set ideology cosmetic tag to show the appropriate 3D models
			set_country_flag = BUL_tbe_flag
			BUL_set_appropriate_cosmetic_tag = yes

			hidden_effect = {
				news_event = { id = bftb_news.7 hours = 8 random_hours = 4 }
			}

			add_ai_strategy = {
				type = declare_war
				id = TUR
				value = 100
			}
		}
	}

}
focus_tree = {
	id = canadian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = CAN
			has_dlc = "Together for Victory"
			always = no
		}

		#modifier = {
		#	add = 10
		#	original_tag = CAN
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no



#	focus = {
#		id = CAN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}




	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = CAN_rowell_sirois_commission
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 0

		cost = 10

		ai_will_do = {
			factor = 24
			modifier = {
				factor = 3
				has_completed_focus = CAN_crown_corporations
			}
		}

		available = {
		
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = CAN_crown_corporations
		icon = GFX_goal_generic_construct_civ_factory
		x = 3
		y = 0
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 3
				has_completed_focus = CAN_rowell_sirois_commission
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CAN_c_d_howe
		}
	}


	focus = {
		id = CAN_national_housing_act
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = CAN_rowell_sirois_commission }
		prerequisite = { focus = CAN_crown_corporations }
		x = 2
		y = 1
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_national_housing_act_IC
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_national_housing_act_IC
			}
		}
	}


	focus = {
		id = CAN_dollar_a_year_men
		icon = GFX_goal_generic_construction
		prerequisite = { focus = CAN_national_housing_act}
		x = 2
		y = 2
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_dollar_a_year_men
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = CAN_canada_pacific_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CAN_rowell_sirois_commission }
		x = 0
		y = 2
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_canada_pacific_railway_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 473 471 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_canada_pacific_railway_Inf
			}
		}
	}

	focus = {
		id = CAN_maritime_colonial_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CAN_canada_pacific_railway }
		x = 0
		y = 3
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_maritime_colonial_railway_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_maritime_colonial_railway_Inf
			}
		}
	}

	focus = {
		id = CAN_retool_angus_shops
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CAN_canada_pacific_railway }
		prerequisite = { focus = CAN_bits_and_pieces_program }
		x = 2
		y = 3
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_retool_angus_shops_AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 285 517 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_retool_angus_shops_AF
			}
		}
	}

	focus = {
		id = CAN_imperial_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = CAN_retool_angus_shops }
		x = 2
		y = 4
		relative_position_id = CAN_rowell_sirois_commission

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {
			controls_state = 470
			controls_state = 471
			controls_state = 472
			controls_state = 683
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			470 = {
				add_resource = {
					type = oil
					amount = 2
				}
			}
			471 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
			472 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
			683 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
	}


	############################
	#### WAR PREP SECTION ######
	############################

	focus = {
		id = CAN_defence_of_canada_regulations
		icon = GFX_goal_generic_construct_military
		x = 8
		y = 0

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			threat > 0.2
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { has_government = democratic }
				add_ideas = CAN_defence_of_canada_regulations_democratic
			}
			if = {
				limit = { has_government = communism }
				add_ideas = CAN_defence_of_canada_regulations_communism
			}
			if = {
				limit = { has_government = fascism }
				add_ideas = CAN_defence_of_canada_regulations_fascism
			}
		}
	}

	focus = {
		id = CAN_war_bonds
		icon = GFX_goal_generic_consumer_goods
		x = -2
		y = 0
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			has_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CAN_war_bonds_1
		}
	}

	focus = {
		id = CAN_department_of_munitions_and_supply
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CAN_crown_corporations }
		prerequisite = { focus = CAN_defence_of_canada_regulations }
		prerequisite = { focus = CAN_war_bonds }
		x = -3
		y = 1
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_department_of_munitions_and_supply_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_department_of_munitions_and_supply_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_department_of_munitions_and_supply_AF1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_department_of_munitions_and_supply_AF2
			}
		}
	}

	focus = {
		id = CAN_national_resources_mobilization_act
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CAN_defence_of_canada_regulations }
		x = -1
		y = 1
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = CAN_national_resources_mobilization_act
		}
	}

	focus = {
		id = CAN_wartime_prices_and_trade_board
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = CAN_defence_of_canada_regulations }
		x = 2
		y = 1
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CAN_wartime_prices_and_trade_board
		}
	}

	focus = {
		id = CAN_bits_and_pieces_program
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CAN_department_of_munitions_and_supply }
		x = -4
		y = 2
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CAN_bits_and_pieces_program
		}
	}

	focus = {
		id = CAN_fund_the_national_research_council
		icon = GFX_focus_research
		prerequisite = { focus = CAN_department_of_munitions_and_supply focus = CAN_national_resources_mobilization_act }
		x = -1
		y = 2
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 75
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = CAN_mine_the_shield
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CAN_national_resources_mobilization_act }
		x = 1
		y = 2
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_canada_wheat_board
			}
		}

		available = {

		}
		
		bypass = {
			NOT = {
				any_owned_state = {
					is_in_home_area = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 471 472 683 }
				limit = {
					is_in_home_area = yes
				}
				add_resource = {
					type = steel
					amount = 2
				}
			}
			random_owned_controlled_state = {
				prioritize = { 471 472 683 }
				limit = {
					is_in_home_area = yes
				}
				add_resource = {
					type = steel
					amount = 2
				}
			}
			random_owned_controlled_state = {
				prioritize = { 471 472 683 }
				limit = {
					is_in_home_area = yes
				}
				add_resource = {
					type = chromium
					amount = 3
				}
			}
		}
	}

	focus = {
		id = CAN_canada_wheat_board
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CAN_wartime_prices_and_trade_board }
		x = 3
		y = 2
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_mine_the_shield
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_great_depression_1
				add_idea = CAN_great_depression_2		
			}
		}
	}

	focus = {
		id = CAN_victory_aircraft_limited
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CAN_department_of_munitions_and_supply }
		x = -2
		y = 3
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_john_inglis_and_company
			}
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_victory_aircraft_limited_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_victory_aircraft_limited_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 276 682 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_victory_aircraft_limited_AF1
			}
			random_owned_controlled_state = {
				prioritize = { 276 682 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_victory_aircraft_limited_AF2
			}
		}
	}

	focus = {
		id = CAN_alberta_coal_towns
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAN_mine_the_shield }
		prerequisite = { focus = CAN_canada_wheat_board }		
		x = 2
		y = 3
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_alberta_coal_towns_IC
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 470 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				set_state_flag = CAN_alberta_coal_towns_IC
			}
		}
	}

	focus = {
		id = CAN_commit_to_the_war
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = CAN_canada_wheat_board }
		x = 4
		y = 3
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = CAN_commit_to_the_war
		}
	}

	focus = {
		id = CAN_john_inglis_and_company
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CAN_bits_and_pieces_program }
		x = -4
		y = 4
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_victory_aircraft_limited
			}
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_john_inglis_and_company_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_john_inglis_and_company_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 276 682 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_john_inglis_and_company_AF1
			}
			random_owned_controlled_state = {
				prioritize = { 276 682 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_john_inglis_and_company_AF2
			}
		}
	}

	focus = {
		id = CAN_polymer_corporation
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = CAN_victory_aircraft_limited focus = CAN_fund_the_national_research_council }
		x = -1
		y = 4
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = synth_oil_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = synthetic_refinery
						size < 0
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			if = {
				limit = { has_country_flag = CAN_polymer_corporation_unlock }
				set_technology = { synth_oil_experiments = 1 }
				else = {					
					add_tech_bonus = {
						name = CAN_polymer_corporation
						ahead_reduction = 2
						bonus = 1.0
						uses = 1
						category = synth_resources
					}
				}				
			}
			random_state = {
				limit = {
					has_state_flag = CAN_polymer_corporation_1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_polymer_corporation_2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_tech = synth_oil_experiments }
				}
				set_technology = { synth_oil_experiments = 1 }
				set_country_flag = CAN_polymer_corporation_unlock
				effect_tooltip = {
					random_owned_controlled_state = {
						prioritize = { 682 }
						limit = {
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
						set_state_flag = CAN_polymer_corporation_1
					}
					random_owned_controlled_state = {
						prioritize = { 276 }
						limit = {
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
						set_state_flag = CAN_polymer_corporation_2
					}
				}
				else = {
					add_tech_bonus = {
						name = CAN_polymer_corporation
						ahead_reduction = 2
						bonus = 1.0
						uses = 1
						category = synth_resources
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 682 }
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_polymer_corporation_1
			}
			random_owned_controlled_state = {
				prioritize = { 276 }
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_polymer_corporation_2
			}
		}
	}

	focus = {
		id = CAN_national_steel_car
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CAN_alberta_coal_towns }
		mutually_exclusive = { focus = CAN_send_in_the_zombies }
		x = 1
		y = 4
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_if_day
			}
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_national_steel_car_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_national_steel_car_IC2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_national_steel_car_IC1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_national_steel_car_IC2
			}
		}
	}

	focus = {
		id = CAN_send_in_the_zombies
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CAN_commit_to_the_war }
		mutually_exclusive = { focus = CAN_national_steel_car }
		x = 3
		y = 4
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = CAN_send_in_the_zombies
		}
	}

	focus = {
		id = CAN_if_day
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CAN_john_inglis_and_company }
		prerequisite = { focus = CAN_victory_aircraft_limited }
		x = -2
		y = 5
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_national_steel_car
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_war_bonds_1
				add_idea = CAN_war_bonds_2
			}
		}
	}

	focus = {
		id = CAN_defense_research_grants
		icon = GFX_focus_research
		prerequisite = { focus = CAN_john_inglis_and_company }
		prerequisite = { focus = CAN_if_day }
		x = -3
		y = 6
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			num_of_factories > 50
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = CAN_uranium_mining
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = CAN_polymer_corporation focus = CAN_national_steel_car }
		x = 0
		y = 5
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_uranium_mining
				bonus = 1.0
				uses = 2
				category = nuclear
			}	
		}
	}

	focus = {
		id = CAN_long_branch_arsenal
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = CAN_send_in_the_zombies }
		x = 2
		y = 5
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_long_branch_arsenal
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = CAN_independent_command
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = CAN_send_in_the_zombies }
		prerequisite = { focus = CAN_red_deer_training_camp }
		x = 4
		y = 5
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 20
			add_tech_bonus = {
				name = CAN_independent_command
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CAN_forced_quebec_conscription
		icon = GFX_goal_tfv_can_forced_quebec_conscription 
		prerequisite = { focus = CAN_long_branch_arsenal focus = CAN_independent_command }
		mutually_exclusive = { focus =  CAN_compromise_with_quebec }
		x = 2
		y = 6
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			remove_ideas = CAN_conscription_crisis
			custom_effect_tooltip = "CAN_ANGERED_WORKERS"
			
			# Opens up the MTTH events tfv_canada.50 - tfv_canada.53
		}
	}

	focus = {
		id = CAN_compromise_with_quebec
		icon = GFX_goal_tfv_can_compromise_with_quebec
		prerequisite = { focus = CAN_long_branch_arsenal focus = CAN_independent_command }
		mutually_exclusive = { focus =  CAN_forced_quebec_conscription }
		x = 4
		y = 6
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_conscription_crisis
				add_idea = CAN_conscription_crisis_mended
			}
		}
	}

	focus = {
		id = CAN_war_fueled_economy
		icon = GFX_goal_generic_trade
		prerequisite = { focus = CAN_national_steel_car }
		prerequisite = { focus = CAN_if_day }
		x = 1
		y = 7
		relative_position_id = CAN_defence_of_canada_regulations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			remove_ideas = CAN_great_depression_2
			random_state = {
				limit = {
					has_state_flag = CAN_war_fueled_economy_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_war_fueled_economy_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_war_fueled_economy_AF3
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			remove_ideas = CAN_great_depression_2
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_war_fueled_economy_AF1
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_war_fueled_economy_AF2
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_war_fueled_economy_AF3
			}
		}
	}


	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = CAN_army_modernization
		icon = GFX_goal_generic_army_doctrines
		x = 15
		y = 0

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5 
			add_tech_bonus = {
				name = CAN_army_modernization
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CAN_canadian_infantry_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = CAN_army_modernization }
		x = -1
		y = 1
		relative_position_id = CAN_army_modernization

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_canadian_infantry_corps
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = CAN_cmp_truck
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = CAN_army_modernization }
		x = 1
		y = 1
		relative_position_id = CAN_army_modernization

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_cmp_truck
				ahead_reduction = 2
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = CAN_the_walkie_talkie
		icon = GFX_goal_generic_radar
		prerequisite = { focus = CAN_canadian_infantry_corps focus = CAN_cmp_truck }
		x = 0
		y = 2
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_walkie_talkie
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = CAN_the_walkie_talkie
				bonus = 1.0
				uses = 1
				technology = tech_signal_company
				technology = tech_signal_company2
				technology = tech_signal_company3
				technology = tech_signal_company4
			}
		}
	}

	focus = {
		id = CAN_royal_regiment_of_canadian_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = CAN_canadian_infantry_corps }
		x = -1
		y = 3
		relative_position_id = CAN_army_modernization

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_royal_regiment_of_canadian_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = CAN_a_motorized_army
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CAN_cmp_truck }
		x = 1
		y = 3
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_a_motorized_army
				bonus = 1.0
				uses = 1
				category = motorized_equipment
				technology = tech_field_hospital
				technology = tech_field_hospital2
				technology = tech_field_hospital3
				technology = tech_field_hospital4
				technology = tech_logistics_company
				technology = tech_logistics_company2
				technology = tech_logistics_company3
				technology = tech_logistics_company4
				technology = tech_signal_company
				technology = tech_signal_company2
				technology = tech_signal_company3
				technology = tech_signal_company4
			}
		}
	}

	focus = {
		id = CAN_red_deer_training_camp
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CAN_royal_regiment_of_canadian_artillery focus = CAN_a_motorized_army }
		x = -2
		y = 4
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = CAN_red_deer_training_camp
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CAN_1st_canadian_parachute_battalion
		icon = GFX_goal_generic_special_forces 
		prerequisite = { focus = CAN_the_plan focus = CAN_a_motorized_army }
		x = 2
		y = 4
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_1st_canadian_parachute_battalion
				bonus = 3.0
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = CAN_the_black_devils
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CAN_red_deer_training_camp }
		x = -1
		y = 5
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_black_devils
				bonus = 1.00
				uses = 1
				category = marine_tech
				category = para_tech
			}
		}
	}

	focus = {
		id = CAN_the_rocky_mountain_rangers
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CAN_red_deer_training_camp }
		x = 1
		y = 5
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_rocky_mountain_rangers
				bonus = 1.00
				uses = 1
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = CAN_the_valentine_tank
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CAN_red_deer_training_camp }
		x = 0
		y = 6
		relative_position_id = CAN_army_modernization 

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_valentine_tank
				bonus = 1.0
				uses = 1
				category = armor
			}
			add_tech_bonus = {
				name = CAN_the_valentine_tank
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				category = cat_light_armor
			}
		}
	}


	############################
	#### GO WITH UK SECTION ####
	############################

	focus = {
		id = CAN_strengthen_the_commonwealth_ties
		mutually_exclusive = { focus = CAN_patriation }
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 21
		y = 0

		cost = 10

		ai_will_do = {
			factor = 9
			modifier = {
				democratic < 0.5
				factor = 0.5
			}
		}

		available = {
			ENG = { has_government = ROOT }
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
   			modify_tech_sharing_bonus = {
         		id = commonwealth_research
         		bonus = 0.03
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CAN_strengthen_the_commonwealth_ties
				}
			}
		}
	}

	focus = {
		id = CAN_shadow_factories
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CAN_strengthen_the_commonwealth_ties }
		x = -2
		y = 1
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {
			threat > 0.05
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CAN_shadow_factories_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_shadow_factories_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_shadow_factories_AF3
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_shadow_factories_AF1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_shadow_factories_AF2
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CAN_shadow_factories_AF3
			}
		}
	}

	focus = {
		id = CAN_montreal_laboratory_collaboration
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = CAN_strengthen_the_commonwealth_ties }
		x = 0
		y = 1
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {
			is_in_faction_with = ENG
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			CAN = {
   				 modify_tech_sharing_bonus = {
        			id = commonwealth_research
        			bonus = 0.05  
    			}
			}
		}
	}

	focus = {
		id = CAN_the_plan
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CAN_shadow_factories }
		x = -2
		y = 2
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_supply_the_empire
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CAN_the_plan
		}
	}

	focus = {
		id = CAN_camp_x
		icon = GFX_goal_generic_intelligence_exchange 
		prerequisite = { focus = CAN_montreal_laboratory_collaboration focus = CAN_permanent_joint_defense_board }
		x = 0
		y = 2
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_the_plan
			}
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_tech_bonus = {
					name = CAN_camp_x
					bonus = 1.0
					uses = 1
					category = encryption_tech
					category = decryption_tech
				}
			}
			else = {
				hidden_effect = {
					set_technology = { lar_decryption_bonus_tech = 1 }
				}
				custom_effect_tooltip = lar_decryption_bonus_tt
			}
		}
	}

	focus = {
		id = CAN_supply_the_empire
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CAN_the_plan}
		prerequisite = { focus = CAN_camp_x }
		x = -1
		y = 3
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_supply_the_empire
				bonus = 1.0
				uses = 3
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
		}
	}

	focus = {
		id = CAN_aluminium_company_of_canada
		icon = GFX_goal_generic_positive_trade_relations 
		prerequisite = { focus = CAN_supply_the_empire }
		x = -2
		y = 4
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 682
			controls_state = 466
			controls_state = 468
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			682 = {
				add_resource = {
					type = aluminium
					amount = 20
				}
			}
			466 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
			468 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}
	}

	focus = {
		id = CAN_turner_valley_oilfield
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = CAN_supply_the_empire }
		x = 0
		y = 4
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 470
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			470 = {
				add_resource = {
					type = oil
					amount = 36
				}
			}
		}
	}


	############################
	#### LEAVE COMMONWEALTH ####
	############################

	focus = {
		id = CAN_patriation
		icon = GFX_goal_tfv_sever_ties_with_uk #GFX_goal_generic_demand_territory
		mutually_exclusive = { focus = CAN_strengthen_the_commonwealth_ties }
		x = 2
		y = 0
		relative_position_id = CAN_strengthen_the_commonwealth_ties

		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				OR = {
					communism > 0.15
					fascism > 0.15
					}
				factor = 2.5
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {			
			add_ideas = CAN_patriation
			ENG = {
				add_opinion_modifier = { target = CAN modifier = CAN_patriation_mod }
			}

			hidden_effect = {
				news_event = { id = news.251 hours = 3 }
			}
		}
	}


	############################
	#### GO WITH US SECTION ####
	############################
	focus = {
		id = CAN_permanent_joint_defense_board
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = CAN_patriation }
		mutually_exclusive = { focus = CAN_burn_the_royal_portraits }
		mutually_exclusive = { focus = CAN_swastika_clubs }
		x = 0
		y = 1
		relative_position_id = CAN_patriation

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				democratic > 0.6
				factor = 2
			}
			modifier = {
				democratic < 0.4
				factor = 0.5
			}
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = USA
				is_justifying_wargoal_against = USA
				has_wargoal_against = USA
				has_war_together_with = ENG
			}
			USA = { has_government = ROOT }			
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ENG = { remove_from_faction = ROOT }
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CAN_permanent_joint_defense_board
				}
			}
			add_opinion_modifier = {
				target = USA
				modifier = CAN_permanent_joint_defense_board
			}
			give_guarantee = USA
		}
	}

	focus = {
		id = CAN_north_american_alliance
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CAN_permanent_joint_defense_board }
		x = 0
		y = 1
		relative_position_id = CAN_permanent_joint_defense_board

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			is_in_faction_with = USA
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					USA = {
						has_government = ROOT
						NOT = { is_faction_leader = yes }
					}
				}
				USA = {
					country_event = { id = tfv_canada.1 }
				}
			}
		}
	}

	focus = {
		id = CAN_habakkuk_carrier
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = CAN_north_american_alliance }
		x = -1
		y = 2
		relative_position_id = CAN_permanent_joint_defense_board

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_habakkuk_carrier
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = CAN_refuge_for_scientists
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = CAN_north_american_alliance }
		x = 1
		y = 2
		relative_position_id = CAN_permanent_joint_defense_board

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {
			is_in_faction_with = USA
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
		USA = {
			add_to_tech_sharing_group = us_research
		}
		add_to_tech_sharing_group = us_research
		}
	}


	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = CAN_swastika_clubs
		icon = GFX_goal_support_fascism
		prerequisite = { focus = CAN_patriation }
		mutually_exclusive = { focus = CAN_burn_the_royal_portraits }
		mutually_exclusive = { focus = CAN_permanent_joint_defense_board }
		x = 4
		y = 1
		relative_position_id = CAN_patriation

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				fascism > 0.25
				factor = 2
			}
			modifier = {
				fascism > 0.35
				factor = 4
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_autonomy_ratio = {
				value = 0.1
				localization = CAN_swastika_clubs
			}
			add_ideas = CAN_swastika_clubs
		}
	}

	focus = {
		id = CAN_support_the_blue_shirts
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = CAN_swastika_clubs }
		x = 0
		y = 1
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_government = fascism
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_swastika_clubs
				add_idea = CAN_swastika_clubs_2
			}
		}
	}

	focus = {
		id = CAN_join_germany
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CAN_support_the_blue_shirts }
		mutually_exclusive = { focus = CAN_support_a_synarchist_baja }
		x = -1
		y = 2
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				GER = { surrender_progress > 0.5 }
				factor = 0 #nopenopenopenope
			}
		}

		available = {
			has_government = fascism
			GER = { has_government = fascism }

			NOT = {
				has_war_with = GER
				is_justifying_wargoal_against = GER
				has_wargoal_against = GER
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			is_in_faction_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			GER = { 
				country_event = { id = tfv_canada.20 }
			}
		}
	}

	focus = {
		id = CAN_support_a_synarchist_baja
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = CAN_support_the_blue_shirts }
		mutually_exclusive = { focus = CAN_join_germany }
		x = 1
		y = 2
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = CAN_swastika_clubs_skewer
				remove_idea = CAN_swastika_clubs_2
			}
			MEX = {
				add_timed_idea = { idea = synarchist_support_surge days = 720 }
			}
		}
	}

	focus = {
		id = CAN_pinion_the_eagle
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CAN_join_germany }
		x = -1
		y = 3
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					any_neighbor_state = {
						controller = { NOT = { is_in_faction_with = CAN } }
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_coastal = yes
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CAN_skewer_the_eagle
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = CAN_support_a_synarchist_baja }
		x = 1
		y = 3
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_government = fascism
			any_country = {
				original_tag = MEX
				has_government = fascism
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			random_country = {
				limit = {
					original_tag = MEX
					has_government = fascism
				}
				country_event = { id = tfv_canada.40 }
			}
		}
	}

	focus = {
		id = CAN_defence_scheme_no_1
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = CAN_skewer_the_eagle focus = CAN_pinion_the_eagle }
		x = -1
		y = 4
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			USA = {
				NOT = { is_subject_of = CAN }
			}
			NOT = { is_in_faction_with = USA }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_wargoal = {
				type = annex_everything
				target = USA
				expire = 0
			}
		}
	}

	focus = {
		id = CAN_demand_labrador_and_newfoundland
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = CAN_skewer_the_eagle focus = CAN_pinion_the_eagle }
		x = 1
		y = 4
		relative_position_id = CAN_swastika_clubs

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			ENG = {
				country_event = { id = tfv_canada.60 }
			}
		}
	}


	############################
	### GO COMMUNIST SECTION ###
	############################

	focus = {
		id = CAN_burn_the_royal_portraits
		icon = GFX_goal_tfv_burn_the_royal_portraits #GFX_goal_support_communism
		prerequisite = { focus = CAN_patriation }
		mutually_exclusive = { focus = CAN_swastika_clubs }
		mutually_exclusive = { focus = CAN_permanent_joint_defense_board }
		x = 8
		y = 1
		relative_position_id = CAN_patriation

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				communism > 0.2
				factor = 2
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_autonomy_ratio = {
				value = 0.1
				localization = CAN_burn_the_royal_portraits
			}
			add_ideas = CAN_communist_ideals
		}
	}

	focus = {
		id = CAN_communist_labor_total_war_committee
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = CAN_burn_the_royal_portraits }
		x = 0
		y = 1
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {			
			is_subject = no
			has_government = communism
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_communist_ideals
				add_idea = CAN_communist_ideals_2
			}
		}
	}

	focus = {
		id = CAN_defence_scheme_no_2
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CAN_communist_labor_total_war_committee }
		mutually_exclusive = { focus = CAN_supply_the_red_army }
		x = -1
		y = 2
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				USA = { has_war_with = JAP }
				USA = { has_wargoal_against = JAP }
				JAP = { has_wargoal_against = USA }
				USA = { is_justifying_wargoal_against = JAP }
				JAP = { is_justifying_wargoal_against = USA }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					any_neighbor_state = {
						controller = { NOT = { is_in_faction_with = CAN } }
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_coastal = yes
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CAN_supply_the_red_army
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = CAN_communist_labor_total_war_committee }
		mutually_exclusive = { focus = CAN_defence_scheme_no_2 }
		x = 1
		y = 2
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				SOV = { 
					has_war = yes 
					has_government = communism
				}
				factor = 3
			}
			modifier = {
				SOV = { 
					has_government = communism
					surrender_progress > 0.3
					 }
				factor = 10
			}
		}

		available = {
			NOT = {
				has_war_with = SOV
				is_justifying_wargoal_against = SOV
				has_wargoal_against = SOV
			}
			SOV = {
				exists = yes
				has_government = communism
			}
			has_equipment = {
				infantry_equipment > 499
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		select_effect = {
			send_equipment = {
				target = SOV
				type = infantry_equipment
				amount = 500
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CAN_supply_the_red_army
				}
			}
			add_opinion_modifier = {
				target = SOV
				modifier = CAN_supply_the_red_army
			}
			add_ai_strategy = {
				type = support
				id = SOV
				value = 200
			}
			every_country = {
				limit = {
					NOT = { has_government = communism }
				}
				add_opinion_modifier = {
					target = PREV
					modifier = CAN_supply_the_red_army_trade
				}
			}
		}
	}

	focus = {
		id = CAN_canada_united
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CAN_defence_scheme_no_2 }
		x = -1
		y = 3
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = CAN_join_comintern
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CAN_supply_the_red_army }
		x = 1
		y = 3
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {			
			is_subject = no
			has_government = communism
			any_other_country = {
				is_major = yes
				has_government = communism
				is_faction_leader = yes
			}

			NOT = {
				has_war_with = SOV
				is_justifying_wargoal_against = SOV
				has_wargoal_against = SOV
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
					}
				}
				SOV = { 
					country_event = { id = tfv_canada.10 }
				}
			}
			else = {
                get_best_alliance_match_communism_effect = yes
                var:best_leader = {
                    country_event = generic.2
                }
            }
		}
	}

	focus = {
		id = CAN_support_the_world_revolution
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = CAN_canada_united focus = CAN_join_comintern }
		x = 0
		y = 4
		relative_position_id = CAN_burn_the_royal_portraits

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = CAN_communist_ideals_2
				add_idea = CAN_communist_ideals_3
			}
		}
	}


	############################
	####### AIR SECTION ########
	############################

	focus = {
		id = CAN_rcaf_station_borden
		icon = GFX_goal_generic_build_airforce
		x = 35
		y = 0

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = CAN_rcaf_station_borden_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = CAN_rcaf_station_borden
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_rcaf_station_borden_AB
			}
			add_tech_bonus = {
				name = CAN_rcaf_station_borden
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = CAN_we_have_the_hurricane
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CAN_rcaf_station_borden }
		x = -1
		y = 1
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_we_have_the_hurricane
				bonus = 1.0
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
		}
	}

	focus = {
		id = CAN_the_pacific_coast_air_defence_radar_system
		icon = GFX_goal_generic_radar
		prerequisite = { focus = CAN_rcaf_station_borden }
		x = 1
		y = 1
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_tech = radio
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			add_tech_bonus = {
				name = CAN_the_pacific_coast_air_defence_radar_system
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
			random_state = {
				limit = {
					has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar2
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar3
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_pacific_coast_air_defence_radar_system
				bonus = 1.0
				uses = 1
				category = radar_tech
			}

			if = {
				limit = { has_tech = radio_detection }
				random_owned_controlled_state = {
					prioritize = { 473 }
					limit = {
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1
				}

				random_owned_controlled_state = {
					limit = {
						NOT = { has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1 }
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar2
				}

				random_owned_controlled_state = {
					limit = {
						NOT = { has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1 }
						NOT = { has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar2 }
						is_in_home_area = yes
						free_building_slots = {
							building = radar_station
							size > 0
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					set_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar3
				}
				else = {
					set_technology = {
						radio_detection = 1
					}
					effect_tooltip = {
						random_owned_controlled_state = {
							prioritize = { 473 }
							limit = {
								is_in_home_area = yes
							}
							add_building_construction = {
								type = radar_station
								level = 1
								instant_build = yes
							}
						}

						random_owned_controlled_state = {
							limit = {
								NOT = { state = 473 }
								NOT = { has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1 }
								is_in_home_area = yes
							}
							add_building_construction = {
								type = radar_station
								level = 1
								instant_build = yes
							}
						}
					}
					random_owned_controlled_state = {
						prioritize = { 473 }
						limit = {
							is_in_home_area = yes
							free_building_slots = {
								building = radar_station
								size > 0
							}
						}
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
						set_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1
					}

					random_owned_controlled_state = {
						limit = {
							NOT = { has_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar1 }
							is_in_home_area = yes
							free_building_slots = {
								building = radar_station
								size > 0
							}
						}
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
						set_state_flag = CAN_the_pacific_coast_air_defence_radar_system_radar2
					}
				}
			}
		}
	}

	focus = {
		id = CAN_commonwealth_air_training_plan
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = CAN_the_pacific_coast_air_defence_radar_system focus = CAN_we_have_the_hurricane }
		x = 0
		y = 2
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			air_experience = 25
			random_state = {
				limit = {
					has_state_flag = CAN_commonwealth_air_training_plan_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = CAN_commonwealth_air_training_plan
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = CAN_commonwealth_air_training_plan_AB
			}
			add_tech_bonus = {
				name = CAN_commonwealth_air_training_plan
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = CAN_fund_fairchilds_development
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = CAN_commonwealth_air_training_plan }
		x = -1
		y = 3
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_cookie_carriers
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_fund_fairchilds_development
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				category = cas_bomber
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CAN_fairchild_aircraft_ltd
		}
	}

	focus = {
		id = CAN_cookie_carriers
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = CAN_commonwealth_air_training_plan }
		x = 1
		y = 3
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = CAN_fund_fairchilds_development
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_cookie_carriers
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CAN_handley_page
		}
	}

	focus = {
		id = CAN_the_sabre_project
		icon = GFX_focus_rocketry
		prerequisite = { focus = CAN_cookie_carriers }
		prerequisite = { focus = CAN_fund_fairchilds_development }
		x = 0
		y = 4
		relative_position_id = CAN_rcaf_station_borden

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_the_sabre_project
				ahead_reduction = 2
				uses = 2
				category = rocketry
				category = jet_technology
			}
		}
	}


	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = CAN_halifax_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 39
		y = 0

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = CAN_halifax_shipyards_DY
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 464 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = CAN_halifax_shipyards_DY
			}
		}
	}

	focus = {
		id = CAN_destroyer_effort
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = CAN_halifax_shipyards }
		x = 0
		y = 1
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_destroyer_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = CAN_light_cruiser_effort
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = CAN_destroyer_effort }
		x = -1
		y = 2
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_light_cruiser_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cl_tech
			}
		}
	}

	focus = {
		id = CAN_heavy_cruiser_effort
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = CAN_destroyer_effort }
		x = 1
		y = 2
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CAN_heavy_cruiser_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ca_tech
			}
		}
	}

	focus = {	
		id = CAN_escort_fleet
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = CAN_light_cruiser_effort }
		mutually_exclusive = { focus = CAN_fleet_in_being }
		x = -1
		y = 3
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				has_war_with = GER
				factor = 2
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = CAN_escort_fleet
				bonus = 1.0
				uses = 2
				category = convoy_defense_tree
			}
		}
	}

	focus = {
		id = CAN_fleet_in_being
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = CAN_light_cruiser_effort }
		mutually_exclusive = { focus = CAN_escort_fleet }
		x = 1
		y = 3
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = CAN_fleet_in_being
				bonus = 1.0
				uses = 2
				category = cat_fleet_in_being
			}			
		}
	}

	focus = {
		id = CAN_degauss_ship_hulls
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = CAN_escort_fleet focus = CAN_fleet_in_being }
		x = -1
		y = 4
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = CAN_degauss_ship_hulls
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						has_tech = degaussing
					}
					add_tech_bonus = {
						name = CAN_degauss_ship_hulls
						bonus = 0.5
						uses = 1
						category = naval_mines
					}
					else = {
						set_technology = {
						    degaussing = 1
						}
					}
				}
			}
		}
	}

	focus = {
		id = CAN_trade_fleet
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = CAN_escort_fleet focus = CAN_fleet_in_being }
		x = 1
		y = 4
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CAN_trade_fleet			
		}
	}

	focus = {
		id = CAN_united_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = CAN_trade_fleet focus = CAN_degauss_ship_hulls }
		x = 0
		y = 5
		relative_position_id = CAN_halifax_shipyards

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = CAN_united_shipyards_DY
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = CAN_united_shipyards_DY
			}
		}
	}

}		
focus_tree = {
	id = china_nationalist_focus
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CHI
			has_dlc = "Waking the Tiger"
			always = no
		}
	}
	

	default = no

	continuous_focus_position = { x = 20 y = 1000 }

#	focus = {
#		id = CHI_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}
	shared_focus = CHI_invite_foreign_investors

	focus = {
		id = CHI_three_principles_of_the_people
		icon = GFX_goal_generic_national_unity
		x = 5
		y = 0

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
		
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = CHI_welfare
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = CHI_three_principles_of_the_people }
		x = -4
		y = 1
		relative_position_id = CHI_three_principles_of_the_people

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			CHI_hyper_inflation_level_up = yes
		}
	}

	focus = {
		id = CHI_refugee_relief_agency
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = CHI_welfare }
		x = -1
		y = 1
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			CHI_hyper_inflation_level_up = yes
		}
	}

	focus = {
		id = CHI_land_tax_reform
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = CHI_welfare }
		x = 1
		y = 1
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			has_hyper_inflation = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_CHI_INFLATION }
		completion_reward = {
			CHI_hyper_inflation_level_down = yes 
		}
	}

	focus = {
		id = CHI_new_life_movement
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_refugee_relief_agency }
		x = -1
		y = 3
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_unemployment_assistance
		icon = GFX_goal_generic_production
		prerequisite = { focus = CHI_land_tax_reform }
		x = 1
		y = 3
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {			
			add_war_support = 0.1
			CHI_hyper_inflation_level_up = yes
		}
	}

	focus = {
		id = CHI_free_hospitals
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = CHI_new_life_movement }
		prerequisite = { focus = CHI_unemployment_assistance }
		x = 0
		y = 4
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			CHI_hyper_inflation_level_up = yes
		}
	}

	focus = {
		id = CHI_rural_schooling
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = CHI_free_hospitals }
		x = 0
		y = 5
		relative_position_id = CHI_welfare

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			amount_research_slots < 5
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
			CHI_hyper_inflation_level_up = yes
		}
	}

	focus = {
		id = CHI_democracy
		icon = GFX_goal_support_democracy
		prerequisite = { focus = CHI_three_principles_of_the_people }
		x = 0
		y = 1
		relative_position_id = CHI_three_principles_of_the_people

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = CHI_constitutional_reform
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = CHI_democracy }
		x = -1
		y = 1
		relative_position_id = CHI_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_republicanism
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_constitutional_reform }
		x = -1
		y = 1
		relative_position_id = CHI_constitutional_reform

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			every_country = {
				limit = {
					is_major = yes
					has_government = democratic
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = CHI_republicanism
				}
			}
		}
	}

	focus = {
		id = CHI_inter_party_coordination_council
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CHI_constitutional_reform }
		prerequisite = { focus = CHI_executive_yuan }
		x = 1
		y = 1
		relative_position_id = CHI_constitutional_reform

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_inter_party_coordination_council
		}
	}

	focus = {
		id = CHI_judicial_yuan
		icon = GFX_goal_generic_defence
		prerequisite = { focus = CHI_republicanism }
		prerequisite = { focus = CHI_inter_party_coordination_council }
		x = 1
		y = 1
		relative_position_id = CHI_republicanism

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_control_yuan
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = CHI_judicial_yuan }
		prerequisite = { focus = CHI_legislative_yuan }
		x = 1
		y = 1
		relative_position_id = CHI_judicial_yuan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_examination_yuan
		icon = GFX_focus_chi_examination_yuan
		prerequisite = { focus = CHI_control_yuan }
		x = 0
		y = 1
		relative_position_id = CHI_control_yuan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_ideas = CHI_ineffective_bureaucracy
		}
	}

	focus = {
		id = CHI_executive_yuan
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CHI_democracy }
		x = 1
		y = 1
		relative_position_id = CHI_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = CHI_executive_yuan
		}
	}

	focus = {
		id = CHI_legislative_yuan
		icon = GFX_focus_chi_legislative_yuan
		prerequisite = { focus = CHI_executive_yuan }
		prerequisite = { focus = CHI_inter_party_coordination_council }
		x = 0
		y = 2
		relative_position_id = CHI_executive_yuan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				remove_idea = CHI_executive_yuan
				add_idea = CHI_legislative_yuan
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_kwong_jiang
		}
	}

	focus = {
		id = CHI_nationalism
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_three_principles_of_the_people }
		x = 4
		y = 1
		relative_position_id = CHI_three_principles_of_the_people

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_foreign_threats
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = CHI_nationalism }
		mutually_exclusive = { focus = CHI_prioritize_the_interior }
		x = -1
		y = 1
		relative_position_id = CHI_nationalism

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_prioritize_the_interior
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = CHI_nationalism }
		mutually_exclusive = { focus = CHI_foreign_threats }
		x = 1
		y = 1
		relative_position_id = CHI_nationalism

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				AND = {
					MAN = {	exists = no }
					PRC = { exists = no }
				}
				factor = 0
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = CHI_united_front
		icon = GFX_focus_chi_united_front
		prerequisite = { focus = CHI_foreign_threats }
		x = 0
		y = 1
		relative_position_id = CHI_foreign_threats

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			is_in_faction = no
		}

		bypass = {
			is_in_faction_with = PRC
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			CHI = {
				set_rule = { can_create_factions = yes }
				create_faction = chinese_united_front
			}
			PRC = {
				country_event = generic.5
			}
		}
	}

	focus = {
		id = CHI_pick_a_fight_with_japan
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = CHI_united_front focus = CHI_anti_communism }
		x = 1
		y = 1
		relative_position_id = CHI_united_front

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				JAP = {
					has_government = democratic
				}
				factor = 0
			}
		}

		available = {
			NOT = { is_in_faction_with = JAP }
		}

		bypass = {
			OR = {
				has_war_with = JAP
				has_war_with = MAN
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = {
					MAN = {
						OR = {
							is_in_faction_with = JAP
							is_puppet_of = JAP
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = MAN
					expire = 0
				}
				else = {
					create_wargoal = {
						type = annex_everything
						target = JAP
						expire = 0
					}	
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.35 days = 1}
			}
		}
	}

	focus = {
		id = CHI_anti_communism
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = CHI_prioritize_the_interior }
		x = 0
		y = 1
		relative_position_id = CHI_prioritize_the_interior

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_government = communism }
			any_country = {
				OR = {
					tag = YUN
					tag = SIK
					tag = GXC
					tag = SHX
					tag = XSM
					tag = TIB
					tag = PRC
				}
				has_government = communism
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = PRC
				NOT = { 
					any_country = {
						OR = {
							tag = YUN
							tag = SIK
							tag = GXC
							tag = SHX
							tag = XSM
							tag = TIB
							tag = PRC
						}
						has_government = communism
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {		
				limit = {
					SIK = {
						has_government = communism
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SIK
					expire = 0
				}
			}
			if = {		
				limit = {
					TIB = {
						has_government = communism
					}
				}
				create_wargoal = {
					type = annex_everything
					target = TIB
					expire = 0
				}
			}
			if = {
				limit = {
					PRC = {
						has_government = communism
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PRC
						expire = 0
					}
				}
			}
			if = {
				limit = {
					YUN = {
						has_government = communism
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = YUN
						expire = 0
					}
				}
			}
			if = {
				limit = {
					SHX = {
						has_government = communism
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = SHX
						expire = 0
					}
				}
			}
			if = {
				limit = {
					GXC = {
						has_government = communism
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = GXC
						expire = 0
					}
				}
			}
			if = {
				limit = {
					XSM = {
						has_government = communism
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = XSM
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = CHI_subjugate_the_warlords
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = CHI_prioritize_the_interior }
		x = 1
		y = 2
		relative_position_id = CHI_prioritize_the_interior

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			GXC = {
				OR = {
					exists = no
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
			YUN = {
				OR = {
					exists = no
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
			SHX = {
				OR = {
					exists = no
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
			XSM = {
				OR = {
					exists = no
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
			SIK = {
				OR = {
					exists = no
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						tag = GXC
						tag = YUN
						tag = SHX
						tag = XSM
						tag = SIK
					}
				}
				country_event = { id = wtt_china.1 }
			}
			unlock_decision_category_tooltip = CHI_integrate_the_warlords
		}
	}

	focus = {
		id = CHI_war_of_resistance
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CHI_pick_a_fight_with_japan }
		x = 0
		y = 1
		relative_position_id = CHI_pick_a_fight_with_japan

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = {
				has_idea = CHI_army_corruption_1
			}		
		}

		bypass = {
			has_offensive_war_with = JAP
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_war_of_resistance
		}
	}

	focus = {
		id = CHI_industrial_evacuations
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_war_of_resistance }
		x = -2
		y = 1
		relative_position_id = CHI_war_of_resistance

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			unlock_decision_category_tooltip = CHI_industrial_evacuations			
			set_variable = { var = CHI_industrial_evacuations_amount_factor value = 0.75 } #Ratio for how many building are moved. Change CHI_industrial_evacuations_add_AF and CHI_industrial_evacuations_add_IC if you change the value
		}
	}

	focus = {
		id = CHI_war_of_national_liberation
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = CHI_war_of_resistance }
		x = 0
		y = 1
		relative_position_id = CHI_war_of_resistance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_idea = CHI_army_corruption_2
			}
			has_defensive_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_idea = CHI_war_of_resistance
				}
				swap_ideas = {
					remove_idea = CHI_war_of_resistance
					add_idea = CHI_war_of_resistance_2
				}
				else = {
					add_ideas = CHI_war_of_national_liberation
				}
			}
		}
	}

	focus = {
		id = CHI_scorched_earth_tactics
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = CHI_war_of_resistance }
		x = 2
		y = 1
		relative_position_id = CHI_war_of_resistance

		cost = 5

		ai_will_do = {
			factor = 4
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = CHI_scorched_earth_tactics
		}
	}

	focus = {
		id = CHI_war_of_anti_imperialism
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = CHI_war_of_national_liberation }
		x = 0
		y = 1
		relative_position_id = CHI_war_of_national_liberation

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_war_with = JAP
				has_war_with = MAN
			}
			has_country_flag = CHI_lessons_of_war_completed
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_war_of_anti_imperialism
		}
	}

	focus = {
		id = CHI_forced_conscription
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = CHI_scorched_earth_tactics }
		x = 0
		y = 1
		relative_position_id = CHI_scorched_earth_tactics

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				has_manpower > 1000000
				factor = 0
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = CHI_forced_conscription
		}
	}

	focus = {
		id = CHI_dare_to_die_corps
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CHI_forced_conscription }
		x = 0
		y = 2
		relative_position_id = CHI_scorched_earth_tactics

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = CHI_50_cheaper_force_attack
		}
	}

	focus = {
		id = CHI_military_affairs_commission
		icon = GFX_focus_secret_rearmament
		x = 10
		y = 0
		relative_position_id = CHI_three_principles_of_the_people

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_military_affairs_commission
		}
	}

	focus = {
		id = CHI_fortify_shanghai
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CHI_military_affairs_commission }
		x = -2
		y = 1
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 613
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 613 }
				613 = { # Shanghai
					set_building_level = {
						type = bunker
						province = {
							id = 11913 #Nanjing
							id = 11982 #Nothing
							id = 10076 #Airbase
							id = 12052
							id = 7014 #Shanghai
						}
						level = 2
						instant_build = yes
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 3
								building = bunker
							}
						}
						set_building_level = {
							type = bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 3
							instant_build = yes
						}
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 2
								building = coastal_bunker
							}
						}
						set_building_level = {
							type = coastal_bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 2
							instant_build = yes
						}
					}					
				}

				#If not full control, only add forts in provinces bordering the enemy
				#Only time to throw up some emergency stuff
				else = {
					613 = {
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_border = yes
							}
							level = 1
							instant_build = yes
						}
					}

				}
			}
		}
	}

	focus = {
		id = CHI_the_chinese_hindenburg_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CHI_fortify_shanghai }
		x = -2
		y = 2
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 613
				}
			}
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 606
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 613 }
				613 = { # Shanghai
					set_building_level = {
						type = bunker
						province = {
							id = 11913 #Nanjing
							id = 11982 #Nothing
							id = 10076 #Airbase
							id = 12052
							id = 7014 #Shanghai
						}
						level = 3
						instant_build = yes
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 4
								building = bunker
							}
						}
						set_building_level = {
							type = bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 4
							instant_build = yes
						}
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 3
								building = coastal_bunker
							}
						}
						set_building_level = {
							type = coastal_bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 3
							instant_build = yes
						}
					}					
				}

				#If not full control, only add forts in provinces bordering the enemy
				#Only time to throw up some emergency stuff
				else = {
					613 = {
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_border = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 606 }
				606 = { # Anhui
					set_building_level = {
						type = bunker
						province = {
							id = 1099
							id = 1171
							id = 11937
							id = 10044
						}
						level = 2
						instant_build = yes
					}								
				}

				#If not full control, only add forts in provinces bordering the enemy
				#Only time to throw up some emergency stuff
				else = {
					606 = {
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_border = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 600 }
				600 = { # Jiangxi
					set_building_level = {
						type = bunker
						province = {
							id = 1153
						}
						level = 2
						instant_build = yes
					}								
				}
			}
		}
	}

	focus = {
		id = CHI_army_reform
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = CHI_military_affairs_commission }
		x = 0
		y = 1
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = CHI_army_reform
		}
	}

	focus = {
		id = CHI_bureau_of_investigation_and_statistics
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = CHI_military_affairs_commission }
		x = 2
		y = 1
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_dai_li
		}
	}

	focus = {
		id = CHI_60_divisions_plan
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = CHI_army_reform }
		x = 0
		y = 2
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			unlock_decision_tooltip = CHI_60_divisions_plan
		}
	}

	focus = {
		id = CHI_whampoa_military_academy
		icon = GFX_focus_chi_whampoa_military_academy
		prerequisite = { focus = CHI_bureau_of_investigation_and_statistics }
		x = 2
		y = 2
		relative_position_id = CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_army_leader = {
				add_planning = 1
			}
			add_ideas = CHI_whampoa_military_academy
		}
	}

	focus = {
		id = CHI_unified_industrial_planning
		icon = GFX_goal_generic_construction
		x = 7
		y = 0
		relative_position_id =  CHI_military_affairs_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = CHI_unified_industrial_planning
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	focus = {
		id = CHI_expand_the_academica_sinica
		icon = GFX_focus_research
		prerequisite = { focus = CHI_unified_industrial_planning }
		x = -2
		y = 1
		relative_position_id = CHI_unified_industrial_planning

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			OR = {			
				has_war = no
				has_stability > 0.7
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = CHI_chemical_research_institute
		icon = GFX_focus_research
		prerequisite = { focus = CHI_expand_the_academica_sinica }
		x = 0
		y = 1
		relative_position_id = CHI_expand_the_academica_sinica

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 74
			amount_research_slots < 5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {			
			add_research_slot = 1
		}
	}

	focus = {
		id = CHI_rural_reconstruction_movement
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_unified_industrial_planning }
		x = 0
		y = 1
		relative_position_id = CHI_unified_industrial_planning

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			has_full_control_of_state = 607
			has_full_control_of_state = 602
			has_full_control_of_state = 605
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			607 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			602 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			605 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = CHI_mining_commission
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CHI_rural_reconstruction_movement }
		x = 0
		y = 1
		relative_position_id = CHI_rural_reconstruction_movement

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			CHI_hyper_inflation_level_up = yes
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = CHI_mining_commission			
		}
	}

	focus = {
		id = CHI_taiyuan_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CHI_mining_commission }
		x = -2
		y = 1
		relative_position_id = CHI_mining_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 615
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			CHI_hyper_inflation_level_up = yes
			615 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}			
			}
		}
	}

	focus = {
		id = CHI_develop_the_hanyan_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CHI_mining_commission }
		x = 0
		y = 1
		relative_position_id = CHI_mining_commission

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			CHI_hyper_inflation_level_up = yes
			random_state = {
				limit = {
					has_state_flag = CHI_develop_the_hanyan_arsenal_AF
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			CHI_hyper_inflation_level_up = yes
			random_owned_controlled_state = {
				prioritize = { 620 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = CHI_develop_the_hanyan_arsenal_AF
			}
		}
	}

	focus = {
		id = CHI_financial_policy
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = CHI_unified_industrial_planning }
		x = 2
		y = 1
		relative_position_id = CHI_unified_industrial_planning

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_t_v_soong
		}
	}

	focus = {
		id = CHI_price_controls
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = CHI_financial_policy }
		x = 0
		y = 1
		relative_position_id = CHI_financial_policy

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			has_hyper_inflation = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_CHI_INFLATION }
		completion_reward = {
			CHI_hyper_inflation_level_down = yes
		}
	}

	focus = {
		id = CHI_grain_tax
		icon = GFX_goal_generic_trade
		prerequisite = { focus = CHI_price_controls }
		x = 2
		y = 1
		relative_position_id = CHI_price_controls

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_ideas = CHI_grain_tax
		}
	}

	focus = {
		id = CHI_reform_the_national_bank
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = CHI_price_controls }
		x = 0
		y = 1
		relative_position_id = CHI_price_controls

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_hyper_inflation = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_CHI_INFLATION }
		completion_reward = {
			CHI_hyper_inflation_level_down = yes
		}
	}

	focus = {
		id = CHI_forced_loans
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = CHI_reform_the_national_bank }
		x = 0
		y = 1
		relative_position_id = CHI_reform_the_national_bank

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_hyper_inflation = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_CHI_INFLATION }
		completion_reward = {
			unlock_decision_tooltip = CHI_forced_loans
		}
	}

}
#	shared_focus = {
#		id = CHI_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}


shared_focus = {
	id = CHI_invite_foreign_investors 
	icon = GFX_focus_generic_concessions
	x = 40
	y = 0
	offset = {
		x = -6
		y = 0
		trigger = {
			tag = PRC
		}
	}
	offset = {
		x = -16
		y = 0
		trigger = {
			 tag = MAN 
		}
	}

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {

	}

	bypass = {
		
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_offsite_building = { type = industrial_complex level = 2 }
	}
}
shared_focus = {
	id = CHI_mission_to_germany
	icon = GFX_focus_chi_mission_to_germany
	prerequisite = { focus = CHI_invite_foreign_investors }
	x = -10
	y = 1
	relative_position_id = CHI_invite_foreign_investors
	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
		modifier = {
			factor = 10
			has_country_flag = GER_befriended_by_germany_flag
		}
	}

	available = {
		OR = {
			has_government = neutrality
			GER = { has_government = ROOT }
			GER_will_support = yes
		}
		NOT = {
			has_war_with = GER
		}
		NOT = { has_global_flag = falkenhausen_recalled }
	}

	bypass = {
		is_in_faction_with = GER
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_mission_to_germany
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
	}
}

shared_focus = {
	id = CHI_give_falkenhausen_citizenship
	icon = GFX_focus_generic_diplomatic_treaty
	prerequisite = { focus = CHI_mission_to_germany }
	x = -1
	y = 1
	relative_position_id = CHI_mission_to_germany

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		NOT = { has_global_flag = falkenhausen_recalled }
		GER_will_support = yes
	}

	bypass = {
		custom_trigger_tooltip = { 
			tooltip = falkenhausen_tt
			any_other_country = {
				any_army_leader = {
					has_id = 603
				}
			}	
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = available_chief_of_army
		show_ideas_tooltip = CHI_alexander_von_falkenhausen
		create_corps_commander = {
			name = "Alexander von Falkenhausen"
			gfx = GFX_portrait_chi_alexander_von_falkenhausen
			skill = 3
			attack_skill = 2
			defense_skill = 2
			planning_skill = 3
			logistics_skill = 3
			id = 603
			traits = { infantry_officer }
		}
	}
}

shared_focus = {
	id = CHI_chinese_general_staff
	icon = GFX_goal_generic_axis_build_infantry
	prerequisite = { focus = CHI_give_falkenhausen_citizenship }
	prerequisite = { focus = CHI_closer_ties_with_germany }
	x = 0
	y = 1
	relative_position_id = CHI_give_falkenhausen_citizenship

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		NOT = { has_idea = CHI_incompetent_officers }
		NOT = { has_global_flag = falkenhausen_recalled }
		if = {
			limit = {
				NOT = {
					OR = {
						has_government = neutrality
						GER = {
							has_government = ROOT
						}
					}
				}
			}
			GER_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		every_army_leader = {
			add_planning = 1
		}
		add_ideas = CHI_chinese_general_staff
	}
}

shared_focus = {
	id = CHI_wargaming_division
	icon = GFX_goal_generic_position_armies
	prerequisite = { focus = CHI_chinese_general_staff }
	x = -1
	y = 1
	relative_position_id = CHI_chinese_general_staff

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		NOT = { has_global_flag = falkenhausen_recalled }
		GER_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_ideas = CHI_wargaming_division
		add_tech_bonus = {
			name = CHI_wargaming_division
			bonus = 1.0
			uses = 1
			category = land_doctrine
		}
	}
}

shared_focus = {
	id = CHI_closer_ties_with_germany
	icon = GFX_goal_generic_improve_relations
	prerequisite = { focus = CHI_mission_to_germany }
	mutually_exclusive = { focus = CHI_rapprochement_with_soviet_union }
	x = 1
	y = 1
	relative_position_id = CHI_mission_to_germany

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		NOT = { has_war_with = GER }
		NOT = { has_global_flag = falkenhausen_recalled }
		GER_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_offsite_building = { type = industrial_complex level = 1 }
	}
}

shared_focus = {
	id = CHI_purchase_tanks
	icon = GFX_goal_generic_army_tanks
	prerequisite = { focus = CHI_closer_ties_with_germany focus = CHI_rapprochement_with_soviet_union }
	x = 1
	y = 1
	relative_position_id = CHI_closer_ties_with_germany

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			GER_will_support = yes
			SOV_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = CHI_purchase_tanks_tt
		hidden_effect = {
			if = {
				limit = {
					not = {
						has_tech = gwtank
					}
				}
				set_technology = { gwtank = 1 }
			}
			if = {
				limit = {
					has_completed_focus = CHI_closer_ties_with_germany
				}
				add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 100 producer = GER }
			}
			if = {
				limit = {
					has_completed_focus = CHI_rapprochement_with_soviet_union
				}
				add_equipment_to_stockpile = { type = light_tank_equipment_1 amount = 100 producer = SOV }
			}
		}
	}
}

shared_focus = {
	id = CHI_chinese_panzers
	icon = GFX_goal_generic_production2
	prerequisite = { focus = CHI_purchase_tanks }
	prerequisite = { focus = CHI_closer_ties_with_germany }
	x = -2
	y = 1
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		GER_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_tech_bonus = {
			name = CHI_chinese_panzers
			bonus = 1.0
			uses = 1
			category = armor
		}
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = german_chinese_tank_designer
	}
}

shared_focus = {
	id = CHI_tank_plant
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = CHI_chinese_panzers }
	x = -2
	y = 3
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		GER_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	complete_tooltip = {
		random_state = {
			limit = {
				has_state_flag = CHI_tank_plant_AF
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = CHI_tank_plant_AF
		}
	}
}

shared_focus = {
	id = CHI_experimental_mechanised_unit
	icon = GFX_goal_generic_cavalry
	prerequisite = { focus = CHI_purchase_tanks }
	x = 0
	y = 2
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		capital_scope = { is_fully_controlled_by = ROOT }
		has_tech = motorised_infantry
		OR = {
			GER_will_support = yes
			SOV_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = CHI_experimental_mechanised_unit_effect
		hidden_effect = {
			if = {
				limit = {
					tag = CHI
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = CHI_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = PRC
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = PRC_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = YUN
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = YUN_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = GXC
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = GXC_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = SHX
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = SHX_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = XSM
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = XSM_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = SIK
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = SIK_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			if = {
				limit = {
					tag = MAN
				}
				division_template = {
					name = "Experimental Mechanised Division"
					division_names_group = MAN_MEC_01
					priority = 2
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
			
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 1 y = 3 }
					}
					support = {
						
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"200. Mechanised Division\" division_template = \"Experimental Mechanised Division\" start_experience_factor = 1.0" 
					owner = ROOT
				}
			}			
		}
	}
}

shared_focus = {
	id = CHI_combined_arms_warfare
	icon = GFX_goal_generic_army_doctrines
	prerequisite = { focus = CHI_experimental_mechanised_unit }
	x = 0
	y = 4
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
	}

	available = {
		OR = {
			GER_will_support = yes
			SOV_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_combined_arms_warfare
			bonus = 1.0
			uses = 1
			category = cat_mechanized_equipment
		}
	}
}

shared_focus = {
	id = CHI_hire_soviet_designer
	icon = GFX_goal_generic_soviet_construction
	prerequisite = { focus = CHI_purchase_tanks }
	prerequisite = { focus = CHI_rapprochement_with_soviet_union }
	x = 2
	y = 1
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
	}

	available = {
		SOV_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_tech_bonus = {
			name = CHI_hire_soviet_designer
			bonus = 1.0
			uses = 1
			category = armor
		}
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = morozov_design_bureau
	}
}

shared_focus = {
	id = CHI_joint_tank_development
	icon = GFX_goal_generic_scientific_exchange
	prerequisite = { focus = CHI_hire_soviet_designer }
	x = 2
	y = 3
	relative_position_id = CHI_purchase_tanks

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
	}

	available = {
		SOV_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		SOV = { add_to_tech_sharing_group = CHI_joint_tank_development }
		add_to_tech_sharing_group = CHI_joint_tank_development
	}
}

shared_focus = {
	id = CHI_mission_to_the_soviet_union
	icon = GFX_focus_chi_mission_to_the_soviet_union
	prerequisite = { focus = CHI_invite_foreign_investors }
	x = 4
	y = 0
	relative_position_id = CHI_mission_to_germany

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			has_government = neutrality
			SOV = { has_government = ROOT }
			SOV_will_support = yes
		}
		not = {
			has_War_with = SOV
		}
	}

	bypass = {
		is_in_faction_with = SOV
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		SOV = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_mission_to_the_soviet_union
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
	}
}

shared_focus = {
	id = CHI_rapprochement_with_soviet_union
	icon = GFX_goal_support_communism
	prerequisite = { focus = CHI_mission_to_the_soviet_union }
	mutually_exclusive = { focus = CHI_closer_ties_with_germany }
	x = -1
	y = 1
	relative_position_id = CHI_mission_to_the_soviet_union

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		SOV_will_support = yes
	}

	bypass = {
		OR = {
			has_non_aggression_pact_with = SOV
			is_in_faction_with = SOV
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		diplomatic_relation = {
			country = SOV
			relation = non_aggression_pact
			active = yes
		}
	}
}

shared_focus = {
	id = CHI_invite_soviet_advisers
	icon = GFX_focus_generic_soviet_politics
	prerequisite = { focus = CHI_mission_to_the_soviet_union }
	x = 1
	y = 1
	relative_position_id = CHI_mission_to_the_soviet_union

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		SOV_will_support = yes	
	}

	bypass = {
		custom_trigger_tooltip = {
			tooltip = soviet_advisers_tt
			any_other_country = {
				any_army_leader = {
					has_id = 600
				}
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		create_corps_commander = {
			name = "Aleksandr Cherepanov"
			gfx = GFX_portrait_sov_aleksandr_cherepanov 
			skill = 3
			attack_skill = 3
			defense_skill = 3
			planning_skill = 2
			logistics_skill = 2
			id = 600
		}
	}
}

shared_focus = {
	id = CHI_the_soviet_volunteer_group
	icon = GFX_goal_demand_sudetenland
	prerequisite = { focus = CHI_invite_soviet_advisers }
	x = 0
	y = 1
	relative_position_id = CHI_invite_soviet_advisers

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		SOV_will_support = yes
	}

	bypass = {
		any_other_country = {
			has_completed_focus = CHI_the_soviet_volunteer_group
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		SOV = { country_event = wtt_china_shared.11 }
	}
}

shared_focus = {
	id = CHI_reach_out_to_france
	icon = GFX_focus_chi_reach_out_to_france
	mutually_exclusive = { focus = CHI_british_cooperation }
	prerequisite = { focus = CHI_invite_foreign_investors }
	x = 5
	y = 0
	relative_position_id = CHI_mission_to_the_soviet_union

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			has_government = neutrality
			FRA = { has_government = ROOT }
			FRA_will_support = yes
		}
		not = {
			has_war_with = FRA
		}
	}

	bypass = {
		
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		FRA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_reach_out_to_france
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
	}
}

shared_focus = {
	id = CHI_small_arms_expertise
	icon = GFX_focus_secret_rearmament
	prerequisite = { focus = CHI_reach_out_to_france }
	x = -2
	y = 1
	relative_position_id = CHI_reach_out_to_france

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		FRA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_small_arms_expertise
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
	}
}

shared_focus = {
	id = CHI_elite_mountaineers
	icon = GFX_goal_generic_allies_build_infantry
	prerequisite = { focus = CHI_invite_soviet_advisers focus = CHI_small_arms_expertise }
	x = 0
	y = 1
	relative_position_id = CHI_small_arms_expertise

	cost = 10

	ai_will_do = {
		factor = 2
		modifier = {
			factor = 0.1
			NOT = {
				has_tech = tech_mountaineers # Wait for the full benefit
			}
		}
		modifier = {
			factor = 4
			tag = PRC
		}
	}

	available = {
		OR = {
			FRA_will_support = yes
			SOV_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {		
		add_ideas = CHI_elite_mountaineers
		add_tech_bonus = {
			name = CHI_elite_mountaineers
			bonus = 1.0
			uses = 1
			category = mountaineers_tech
		}
		if = {
			limit = {
				has_tech = tech_mountaineers
			}
			custom_effect_tooltip = CHI_free_mountain_template_tt
			division_template = {
				name = "Chinese Mountain Division"
				division_names_group = CHI_MNT_01
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
		
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
		
					mountaineers = { x = 2 y = 0 }
					artillery_brigade = { x = 2 y = 1 }
					artillery_brigade = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
		}
	}
}

shared_focus = {
	id = CHI_heavy_weapons
	icon = GFX_goal_generic_army_artillery2
	prerequisite = { focus = CHI_elite_mountaineers }
	x = 0
	y = 2
	relative_position_id = CHI_small_arms_expertise
	
	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC
		}
	}

	available = {
		OR = {
			FRA_will_support = yes
			SOV_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_heavy_weapons
			bonus = 1.0
			uses = 1
			category = artillery
		}
	}
}


shared_focus = {
	id = CHI_guarantee_the_hanoi_route
	icon = GFX_goal_generic_intelligence_exchange
	prerequisite = { focus = CHI_reach_out_to_france }
	x = 0
	y = 1
	relative_position_id = CHI_reach_out_to_france

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			FRA = {
				has_war = yes
			}
			factor = 0
		}
	}

	available = {
		all_other_country = { NOT = { has_completed_focus = CHI_guarantee_the_hanoi_route } }
		FRA_will_support = yes
		325 = { #Yunnan
			CONTROLLER = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		671 = { #Tonkin
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = FRA
					is_subject_of = FRA
				}
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		671 = { #Tonkin
			set_state_flag = CHI_needed_for_hanoi_route
		}
		325 = { #Yunnan
			set_state_flag = CHI_needed_for_hanoi_route
		}	
		set_variable = { CHI_hanoi_route_current_level = 3 }
		add_offsite_building = { type = arms_factory level = 3 }
	}
}

shared_focus = {
	id = CHI_construction_battalions
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = CHI_guarantee_the_hanoi_route focus = CHI_burma_road }
	x = 1
	y = 1
	relative_position_id = CHI_guarantee_the_hanoi_route

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			FRA_will_support = yes
			ENG_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_ideas = CHI_construction_battalions
		add_tech_bonus = {
			name = CHI_construction_battalions
			bonus = 1.0
			uses = 1
			category = engineers_tech
		}
	}
}

shared_focus = {
	id = CHI_french_military_mission
	icon = GFX_goal_generic_defence
	prerequisite = { focus = CHI_guarantee_the_hanoi_route }
	x = 0
	y = 3
	relative_position_id = CHI_reach_out_to_france

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		FRA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		air_experience = 25
		if = {
			limit = {
				NOT = {
					any_other_country = {
						any_army_leader = {
							has_id = 604
						}
					}
				}
			}
			create_corps_commander = {
				name = "Charles Berger"
				gfx = GFX_europe_generic_land_1
				attack_skill = 2
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 3
				id = 604
				skill = 3
			}
		}
		else_if = {
			limit = {
				NOT = {
					any_other_country = {
						any_army_leader = {
							has_id = 605
						}
					}
				}
			}
			create_corps_commander = {
				name = "Jean Beauton"
				gfx = GFX_europe_generic_land_2
				attack_skill = 2
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 3
				id = 605
				skill = 3
			}
		}
		else_if = {
			limit = {
				NOT = {
					any_other_country = {
						any_army_leader = {
							has_id = 606
						}
					}
				}
			}
			create_corps_commander = {
				name = "Thierry BÃ©nÃ©dicte"
				gfx = GFX_europe_generic_land_3
				attack_skill = 2
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 3
				id = 606
				skill = 3
			}
		}
	}
}

shared_focus = {
	id = CHI_french_drill
	icon = GFX_goal_generic_build_tank
	prerequisite = { focus = CHI_heavy_weapons }
	prerequisite = { focus = CHI_french_military_mission }
	x = 0
	y = 5
	relative_position_id = CHI_reach_out_to_france

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		FRA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		every_army_leader = {
			add_defense = 1
		}
		add_ideas = CHI_french_drill		
	}
}

shared_focus = {
	id = CHI_modern_logistics
	icon = GFX_goal_generic_army_motorized
	prerequisite = { focus = CHI_french_drill focus = CHI_ledo_road }
	x = 1
	y = 1
	relative_position_id = CHI_french_drill

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			FRA_will_support = yes
			ENG_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		every_army_leader = {
			add_logistics = 1
		}
		add_ideas = CHI_modern_logistics
		add_tech_bonus = {
			name = CHI_modern_logistics
			bonus = 1.0
			uses = 1
			technology = tech_field_hospital
			technology = tech_field_hospital2
			technology = tech_field_hospital3
			technology = tech_field_hospital4
			technology = tech_logistics_company
			technology = tech_logistics_company2
			technology = tech_logistics_company3
			technology = tech_logistics_company4
		}
	}
}

shared_focus = {
	id = CHI_renegotiate_the_unequal_treaties
	icon = GFX_focus_renounce_the_treaty_of_trianon
	prerequisite = { focus = CHI_modern_logistics focus = CHI_combined_arms_warfare focus = CHI_naval_aviation } 
	x = 0
	y = 1
	relative_position_id = CHI_modern_logistics

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = PRC			
		}
	}

	available = {
	}

	bypass = {
		NOT = { has_idea = CHI_nine_power_treaty }

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		remove_ideas = CHI_nine_power_treaty
	}
}

shared_focus = {
	id = CHI_one_china_policy
	icon = GFX_focus_chi_one_china_policy
	prerequisite = { focus = CHI_renegotiate_the_unequal_treaties }
	x = -3
	y = 1
	relative_position_id = CHI_renegotiate_the_unequal_treaties

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			num_of_factories < 50
			factor = 0
		}
	}

	available = {

	}

	bypass = {
		if = {
			limit = { NOT = { original_tag = CHI } }
			CHI = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = PRC } }
			PRC = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = GXC } }
			GXC = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = YUN } }
			YUN = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = SHX } }
			SHX = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = XSM } }
			XSM = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
		if = {
			limit = { NOT = { original_tag = SIK } }
			SIK = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					ROOT = { has_wargoal_against = PREV }
				}
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				any_other_country = {
					is_literally_china = yes
					is_in_faction_with = ROOT
				} 
			} 
			remove_from_faction = ROOT
		}
		hidden_effect = {
			news_event = { id = wtt_news.46 days = 3 }
		}
		every_other_country = {
			limit = {
				is_literally_china = yes
				NOT = { has_war_with = ROOT }
				NOT = { is_subject_of = ROOT }
				NOT = { ROOT = { has_wargoal_against = PREV } }
				NOT = { tag = ROOT }
			}
			ROOT = {
				create_wargoal = {
					type = annex_everything
					target = PREV
					expire = 0
				}
			}
		}
	}
}

shared_focus = {
	id = CHI_integrate_tibet
	icon = GFX_goal_generic_improve_relations
	prerequisite = { focus = CHI_one_china_policy }
	mutually_exclusive = { focus = CHI_conquer_tibet }
	x = -1
	y = 1
	relative_position_id = CHI_one_china_policy

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		NOT = { is_in_faction_with = TIB }
	}

	bypass = {
		NOT = { country_exists = TIB }
		TIB = { is_subject_of = ROOT }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		TIB = { country_event = wtt_china.10 }
	}
}

shared_focus = {
	id = CHI_conquer_tibet
	icon = GFX_goal_generic_demand_territory
	prerequisite = { focus = CHI_one_china_policy }
	mutually_exclusive = { focus = CHI_integrate_tibet }
	x = 1
	y = 1
	relative_position_id = CHI_one_china_policy

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			any_country = {
				is_major = yes
				is_in_faction_with = TIB
			}
			factor = 0
		}
	}

	available = {
	}

	bypass = {
		OR = {
			NOT = { country_exists = TIB }	
			has_war_with = TIB
			has_wargoal_against = TIB
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				322 = { is_owned_and_controlled_by = TIB }
			}
			ROOT = {
				create_wargoal = {
					type = take_state_focus
					target = TIB
					expire = 0
					generator = { 322 }
				}
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = TIB				
				expire = 0
			}
		}
	}
}

shared_focus = {
	id = CHI_renounce_the_mcmahon_line
	icon = GFX_goal_generic_major_war
	prerequisite = { focus = CHI_integrate_tibet focus = CHI_conquer_tibet }
	mutually_exclusive = { focus = CHI_indian_cooperation }
	x = 0
	y = 2
	relative_position_id = CHI_one_china_policy

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {
		owns_state = 434
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_state_claim = 434
	}
}

shared_focus = {
	id = CHI_demand_mongolia
	icon = GFX_goal_generic_air_doctrine
	prerequisite = { focus = CHI_renounce_the_mcmahon_line }
	x = 0
	y = 3
	relative_position_id = CHI_one_china_policy

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			any_country = {
				is_major = yes
				is_in_faction_with = MON
			}
			factor = 0
		}
	}

	available = {
		not = {
			is_in_faction_with = MON
		}
	}

	bypass = {
		OR = {
			NOT = { country_exists = MON }
			has_war_with = MON
			has_wargoal_against = MON
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				330 = { is_owned_and_controlled_by = MON }
			}
			ROOT = {
				create_wargoal = {
					type = take_state_focus
					target = MON
					expire = 0
					generator = { 330 }
				}
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = MON				
				expire = 0
			}
		}
	}
}

shared_focus = {
	id = CHI_anti_imperialism
	icon = GFX_goal_generic_military_deal
	prerequisite = { focus = CHI_renegotiate_the_unequal_treaties }
	mutually_exclusive = { focus = CHI_imperial_legacy }
	x = 0
	y = 1
	relative_position_id = CHI_renegotiate_the_unequal_treaties

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		is_subject = no
		NOT = { has_government = fascism }
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_war_support = 0.1

	}
}

shared_focus = {
	id = CHI_guidance_and_support
	icon = GFX_goal_generic_forceful_treaty
	prerequisite = { focus = CHI_anti_imperialism }
	x = 1
	y = 1
	relative_position_id = CHI_anti_imperialism

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_owned_state = {
			OR = {
				is_core_of = VIN
				is_core_of = CAM
				is_core_of = LAO
			}
			is_fully_controlled_by = ROOT
		}
	}

	bypass = {
		country_exists = VIN
		country_exists = CAM
		country_exists = LAO
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		release_autonomy = {
			target = VIN
			autonomy_state = autonomy_puppet
			freedom_level=0.5
		}
		release_autonomy = {
			target = CAM
			autonomy_state = autonomy_puppet
			freedom_level=0.5
		}
		release_autonomy = {
			target = LAO
			autonomy_state = autonomy_puppet
			freedom_level=0.5
		}
	}
}

shared_focus = {
	id = CHI_commit_to_korean_independence
	icon = GFX_goal_generic_national_unity
	prerequisite = { focus = CHI_guidance_and_support }
	x = 1
	y = 2
	relative_position_id = CHI_anti_imperialism

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {
		OR = {
		country_exists = KOR
			527 = {
				CONTROLLER = {
					NOT = { tag = ROOT }
					is_in_faction_with = ROOT
				}
			}
			525 = {
				CONTROLLER = {
					NOT = { tag = ROOT }
					is_in_faction_with = ROOT
				}
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				OR = {
					527 = { is_owned_and_controlled_by = ROOT }
					525 = { is_owned_and_controlled_by = ROOT }
				}
			}
			activate_mission_tooltip = CHI_release_korea
		}
		else = {
			527 = {
				CONTROLLER = {
					ROOT = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							expire = 0
							generator = { 527 }
						}
					}
				}
			}
			#Don't give wargoal on same country twice
			if = {
				limit = {
					NOT = { 525 = { CONTROLLER = { controls_state = 527 } } }
				}
				525 = {
					CONTROLLER = {
						ROOT = {
							create_wargoal = {
								type = take_state_focus
								target = PREV
								expire = 0
								generator = { 525 }
							}
						}
					}
				}
			}
		}
	}
}

shared_focus = {
	id = CHI_indian_cooperation
	icon = GFX_goal_generic_improve_relations
	prerequisite = { focus = CHI_anti_imperialism }
	mutually_exclusive = { focus = CHI_renounce_the_mcmahon_line }
	x = -1
	y = 2
	relative_position_id = CHI_anti_imperialism

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			is_faction_leader = yes
			RAJ = { is_subject = yes }
		}
		RAJ = { NOT = { has_war_with = ROOT } }		
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				ROOT = { is_faction_leader = yes }
				RAJ = { is_subject = no }
			}
			RAJ = { country_event = { id = generic.5 } }
		}
		else = {
			RAJ = { country_event = wtt_china_shared.1 }
		}
	}
}

shared_focus = {
	id = CHI_influence_mongolia
	icon = GFX_goal_generic_neutrality_focus
	prerequisite = { focus = CHI_indian_cooperation }
	x = 0
	y = 1
	relative_position_id = CHI_indian_cooperation

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			is_faction_leader = yes
			MON = { is_subject = yes }
		}
		MON = { NOT = { has_war_with = ROOT } }	
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				ROOT = { is_faction_leader = yes }
				MON = { is_subject = no }
			}
			MON = { country_event = { id = generic.5 } }
		}
		else = {
			MON = { country_event = wtt_china_shared.1 }
		}
	}
}

shared_focus = {
	id = CHI_imperial_legacy
	icon = GFX_focus_generic_support_the_left_right
	prerequisite = { focus = CHI_renegotiate_the_unequal_treaties }
	mutually_exclusive = { focus = CHI_anti_imperialism }
	x = 3
	y = 1
	relative_position_id = CHI_renegotiate_the_unequal_treaties

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = 0.1
	}
}

shared_focus = {
	id = CHI_overlordship_over_indochina
	icon = GFX_goal_generic_position_armies
	prerequisite = { focus = CHI_imperial_legacy }
	x = 0
	y = 1
	relative_position_id = CHI_imperial_legacy

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {
		controls_state = 671
		controls_state = 670
		controls_state = 286
		controls_state = 741
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		every_other_country = {
			limit = {
				OR = {
					owns_state = 671
					owns_state = 670
					owns_state = 286
					owns_state = 741
					controls_state = 671
					controls_state = 670
					controls_state = 286
					controls_state = 741
				}
			}
			ROOT = {
				create_wargoal = {
					type = take_state_focus
					target = PREV
					expire = 0
					generator = { 671 670 286 741 } #TODO_WTT_CODE - ignore states that are not owned or controlled by country
				}
			}
		}
		activate_mission_tooltip = CHI_overlordship_over_indochina
		hidden_effect = {
			news_event = { id = wtt_news.47 days = 3}
		}
	}
}

shared_focus = {
	id = CHI_dominate_japan
	icon = GFX_focus_AST_war_japan
	prerequisite = { focus = CHI_imperial_legacy }
	x = 2
	y = 1
	relative_position_id = CHI_imperial_legacy

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		NOT = { has_war_with = JAP }
		NOT = { is_subject_of = JAP }
	}

	bypass = {
		JAP = { is_subject_of = ROOT }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		JAP = { country_event = { id = wtt_china.10 } }
	}
}

shared_focus = {
	id = CHI_secure_the_peninsula
	icon = GFX_focus_generic_strike_at_democracy1
	prerequisite = { focus = CHI_overlordship_over_indochina }
	x = 0
	y = 2
	relative_position_id = CHI_imperial_legacy

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			527 = {
				CONTROLLER = {
					NOT = { tag = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
			}
			525 = {
				CONTROLLER = {
					NOT = { tag = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		527 = {
			CONTROLLER = {
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						expire = 0
						generator = { 527 }
					}
				}
			}
		}
		#Don't give wargoal on same country twice
		if = {
			limit = {
				NOT = {
					525 = {
						CONTROLLER = {
							OR = {
								controls_state = 527
								tag = ROOT								
							}
						}
					}
				}
			}
			525 = {
				CONTROLLER = {
					ROOT = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							expire = 0
							generator = { 525 }
						}
					}
				}
			}
		}
	}
}

shared_focus = {
	id = CHI_british_cooperation
	icon = GFX_focus_chi_british_cooperation
	mutually_exclusive = { focus = CHI_reach_out_to_france }
	prerequisite = { focus = CHI_invite_foreign_investors }
	x = 2
	y = 0
	relative_position_id = CHI_reach_out_to_france

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
		modifier = {
			factor = 10
			has_country_flag = ENG_influenced_by_britain_flag
		}
	}

	available = {
		OR = {
			has_government = neutrality
			ENG = { has_government = ROOT }
			ENG_will_support = yes
		}
		not = {
			has_War_with = ENG
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		ENG = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_british_cooperation
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
	}
}

shared_focus = {
	id = CHI_burma_road
	icon = GFX_goal_generic_army_motorized
	prerequisite = { focus = CHI_british_cooperation }
	x = 0
	y = 1
	relative_position_id = CHI_british_cooperation

	cost = 10

	ai_will_do = {
		factor = 1		
		modifier = {
			factor = 4
			tag = CHI
		}
		modifier = {
			RAJ = {
				exists = yes
				NOT = {
					is_in_faction_with = ENG
				}
			}
			factor = 0
		}
	}

	available = {
		OR = {
			is_subject = no
			is_subject_of = ENG
		}
		all_other_country = { NOT = { has_completed_focus = CHI_burma_road } }
		ENG_will_support = yes
		325 = { #Yunnan
			CONTROLLER = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		288 = { #Burma
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = ENG
					is_subject_of = ENG
				}				
			}
		}
		640 = { #Mandalay
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = ENG
					is_subject_of = ENG
				}				
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		288 = { #Burma
			set_state_flag = CHI_needed_for_burma_road
		}
		325 = { #Yunnan
			set_state_flag = CHI_needed_for_burma_road
		}
		640 = { #Mandalay
			set_state_flag = CHI_needed_for_burma_road
		}
		set_variable = { CHI_burma_road_current_level = 2 }
		add_offsite_building = { type = arms_factory level = 2 }
	}
}

shared_focus = {
	id = CHI_ledo_road
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = CHI_burma_road }
	prerequisite = { focus = CHI_the_hump }
	x = 0
	y = 5
	relative_position_id = CHI_british_cooperation

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
		modifier = {
			RAJ = {
				exists = yes
				NOT = {
					is_in_faction_with = ENG
				}
			}
			factor = 0
		}
	}

	available = {
		OR = {
			is_subject = no
			is_subject_of = ENG
		}
		all_other_country = { NOT = { has_completed_focus = CHI_ledo_road } }
		ENG_will_support = yes
		325 = { #Yunnan
			CONTROLLER = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		432 = { #Assam
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = ENG
					is_subject_of = ENG
				}				
			}
		}
		640 = { #Mandalay
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = ENG
					is_subject_of = ENG
				}				
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		432 = { #Assam
			set_state_flag = CHI_needed_for_ledo_road
		}
		325 = { #Yunnan
			set_state_flag = CHI_needed_for_ledo_road
		}
		640 = { #Mandalay
			set_state_flag = CHI_needed_for_ledo_road
		}
		set_variable = { CHI_ledo_road_current_level = 1 }
		add_offsite_building = { type = arms_factory level = 1 }
	}
}

shared_focus = {
	id = CHI_fighter_purchases
	icon = GFX_goal_generic_build_airforce
	prerequisite = { focus = CHI_british_cooperation focus = CHI_mission_to_the_us }
	x = 3
	y = 1
	relative_position_id = CHI_british_cooperation

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			AND = {
				has_completed_focus = CHI_british_cooperation
				ENG_will_support = yes
			}
			AND = {
				has_completed_focus = CHI_mission_to_the_us
				USA_will_support = yes
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = CHI_purchase_fighters_tt
		hidden_effect = {
			if = {
				limit = {
					not = {
						has_tech = early_fighter
					}
				}
				set_technology = { early_fighter = 1 }
			}
			if = {
				limit = {
					has_completed_focus = CHI_british_cooperation
					not = { has_war_with = ENG }
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = ENG }
			}
			if = {
				limit = {
					has_completed_focus = CHI_mission_to_the_us
					not = { has_war_with = USA }
				}
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 50 producer = USA }
			}
		}
	}
}

shared_focus = {
	id = CHI_camco
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = CHI_fighter_purchases }
	x = 0
	y = 1
	relative_position_id = CHI_fighter_purchases

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			AND = {
				has_completed_focus = CHI_british_cooperation
				ENG_will_support = yes
			}
			AND = {
				has_completed_focus = CHI_mission_to_the_us
				USA_will_support = yes
			}
		}
		is_subject = no
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = CHI_camco_1
	}
}

shared_focus = {
	id = CHI_local_fighter_production
	icon = GFX_goal_generic_air_fighter2
	prerequisite = { focus = CHI_burma_road }
	prerequisite = { focus = CHI_camco }
	x = -2
	y = 2
	relative_position_id = CHI_fighter_purchases

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		has_idea = CHI_camco_1
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = CHI_camco_2
	}
}

shared_focus = {
	id = CHI_local_bomber_production
	icon = GFX_goal_generic_air_bomber
	prerequisite = { focus = CHI_local_fighter_production }
	x = 0
	y = 1
	relative_position_id =  CHI_local_fighter_production

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		has_idea = CHI_camco_2
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = CHI_camco_3
	}
}

shared_focus = {
	id = CHI_the_hump
	icon = GFX_goal_generic_air_production
	prerequisite = { focus = CHI_camco }
	prerequisite = { focus = CHI_hire_chennault }
	x = 1
	y = 3
	relative_position_id = CHI_fighter_purchases

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
		modifier = {
			RAJ = {
				exists = yes
				NOT = {
					is_in_faction_with = ENG
				}
			}
			factor = 0
		}
	}

	available = {
		OR = {
			is_subject = no
			is_subject_of = ENG
		}
		all_other_country = { NOT = { has_completed_focus = CHI_the_hump } }
		OR = {
			AND = {
				has_completed_focus = CHI_british_cooperation
				ENG_will_support = yes
			}
			AND = {
				has_completed_focus = CHI_mission_to_the_us
				USA_will_support = yes
			}
		}
		601 = { #Xikang
			CONTROLLER = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		434 = { #Arunachal Pradesh
			CONTROLLER = {
				NOT = { has_war_with = ROOT }
				OR = {
					original_tag = ENG
					is_subject_of = ENG
				}				
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {		
		434 = { #Arunachal Pradesh
			set_state_flag = CHI_needed_for_the_hump
		}
		601 = { #Xikang
			set_state_flag = CHI_needed_for_the_hump
		}	
		set_variable = { CHI_the_hump_current_level = 1 }
		add_offsite_building = { type = arms_factory level = 1 }
	}
}

shared_focus = {
	id = CHI_chinese_expeditionary_force
	icon = GFX_goal_generic_alliance
	prerequisite = { focus = CHI_the_hump }
	x = 0
	y = 1
	relative_position_id = CHI_the_hump

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		NOT = { USA = { has_country_flag = joseph_stilwell_sent_to_china } }
		USA_will_support = yes
		USA = {
			has_civil_war = no
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		USA = {
			country_event = wtt_china_shared.12
		}
	}
}

shared_focus = {
	id = CHI_the_chu_x_po
	icon = GFX_goal_generic_air_fighter
	prerequisite = { focus = CHI_camco }
	x = 0
	y = 1
	relative_position_id = CHI_camco

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		NOT = { has_tech = fighter3 }
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_tech_bonus = {
			name = CHI_the_chu_x_po
			ahead_reduction = 2
			technology = fighter3				
		}
	}
}

shared_focus = {
	id = CHI_mission_to_the_us
	icon = GFX_focus_chi_mission_to_the_us
	prerequisite = { focus = CHI_invite_foreign_investors }
	x = 8
	y = 0
	mutually_exclusive = { focus = CHI_collaboration_with_the_japanese }
	relative_position_id = CHI_british_cooperation

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		OR = {
			USA_will_support = yes
			has_government = neutrality
			USA = { has_government = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		USA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_mission_to_the_us
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
		USA = { unlock_decision_tooltip = USA_support_the_anti_fascist_war }
		custom_effect_tooltip = CHI_mission_to_the_us_soong_us_decision
	}
}

shared_focus = {
	id = CHI_hire_chennault
	icon = GFX_focus_generic_military_mission
	prerequisite = { focus = CHI_mission_to_the_us }
	x = -3
	y = 3
	relative_position_id = CHI_mission_to_the_us

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		USA_will_support = yes
		is_subject = no
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = available_theorist
		show_ideas_tooltip = CHI_claire_lee_chennault_air_theorist
		custom_effect_tooltip = available_chief_of_airforce
		show_ideas_tooltip = CHI_claire_lee_chennault_air_chief
	}
}

shared_focus = {
	id = CHI_invite_the_flying_tigers
	icon = GFX_focus_chi_flying_tigers
	prerequisite = { focus = CHI_hire_chennault }
	x = 1
	y = 1
	relative_position_id = CHI_hire_chennault

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		USA_will_support = yes
		is_subject = no
	}

	bypass = {
		any_other_country = {
			has_completed_focus = CHI_invite_the_flying_tigers
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		USA = {
			country_event = wtt_china_shared.10
		}
	}
}

shared_focus = {
	id = CHI_sino_american_cooperative_organization
	icon = GFX_focus_generic_paratrooper
	prerequisite = { focus = CHI_invite_the_flying_tigers }
	x = 1
	y = 2
	relative_position_id = CHI_hire_chennault

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			tag = CHI
		}
	}

	available = {
		USA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_sino_american_cooperative_organization
			bonus = 1.0
			uses = 2
			category = recon_tech
			category = para_tech
		}
	}
}

shared_focus = {
	id = CHI_light_cruiser_project
	icon = GFX_goal_generic_navy_cruiser
	prerequisite = { focus = CHI_mission_to_the_us }
	prerequisite = { focus = CHI_order_destroyers }
	x = 0
	y = 3
	relative_position_id = CHI_mission_to_the_us

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		USA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_light_cruiser_project
			bonus = 1.0
			uses = 1
			category = cl_tech
		}
	}
}

shared_focus = {
	id = CHI_heavy_cruiser_project
	icon = GFX_goal_generic_navy_battleship
	prerequisite = { focus = CHI_light_cruiser_project }
	x = 0
	y = 2
	relative_position_id = CHI_light_cruiser_project

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		USA_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_heavy_cruiser_project
			bonus = 1.0
			uses = 1
			category = ca_tech
		}
	}
}

shared_focus = {
	id = CHI_naval_aviation
	icon = GFX_goal_generic_navy_carrier
	prerequisite = { focus = CHI_heavy_cruiser_project focus = CHI_coastal_patrol_planes }
	x = 1
	y = 1
	relative_position_id = CHI_heavy_cruiser_project

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			USA_will_support = yes
			JAP_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_naval_aviation
			bonus = 1.0
			uses = 2
			category = cv_tech
		}
		activate_mission_tooltip = CHI_build_a_carrier
	}
}

shared_focus = {
	id = CHI_carrier_air_wing
	icon = GFX_goal_generic_occupy_start_war
	prerequisite = { focus = CHI_naval_aviation }
	x = 0
	y = 1
	relative_position_id = CHI_naval_aviation

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			USA_will_support = yes
			JAP_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_naval_aviation
			bonus = 1.0
			uses = 2
			category = naval_air
		}
	}
}

shared_focus = {
	id = CHI_investment_into_shipbuilding
	icon = GFX_goal_generic_construct_naval_dockyard
	prerequisite = { focus = CHI_mission_to_the_us focus = CHI_collaboration_with_the_japanese }
	x = 1
	y = 1
	relative_position_id = CHI_mission_to_the_us

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_state = {
			is_controlled_by = ROOT
			is_coastal = yes
		}
		OR = {
			USA_will_support = yes
			JAP_will_support = yes
		}
	}

	complete_tooltip = {
		navy_experience = 25
		random_state = {
			limit = {
				has_state_flag = CHI_investment_into_shipbuilding_DY
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}

	completion_reward = {
		navy_experience = 25
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
			set_state_flag = CHI_investment_into_shipbuilding_DY
		}
	}
}

shared_focus = {
	id = CHI_order_destroyers
	icon = GFX_goal_generic_navy_anti_submarine
	prerequisite = { focus = CHI_investment_into_shipbuilding }
	x = 0
	y = 1
	relative_position_id = CHI_investment_into_shipbuilding

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			USA_will_support = yes
			JAP_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_order_destroyers
			bonus = 1.0
			uses = 2
			category = dd_tech
		}
	}
}

shared_focus = {
	id = CHI_train_marines
	icon = GFX_goal_generic_amphibious_assault
	prerequisite = { focus = CHI_order_destroyers }
	x = 0
	y = 3
	relative_position_id = CHI_investment_into_shipbuilding

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			USA_will_support = yes
			JAP_will_support = yes
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_ideas = CHI_train_marines
		add_tech_bonus = {
			name = CHI_train_marines
			bonus = 1.0
			uses = 1
			category = marine_tech
		}
	}
}

shared_focus = {
	id = CHI_collaboration_with_the_japanese
	icon = GFX_focus_chi_collaboration_with_the_japanese
	prerequisite = { focus = CHI_invite_foreign_investors }
	mutually_exclusive = { focus = CHI_mission_to_the_us }
	x = 2
	y = 0
	relative_position_id = CHI_mission_to_the_us

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			JAP = { has_government = ROOT }
			JAP_will_support = yes
		}
		NOT = { has_wargoal_against = JAP }
		NOT = { has_war_with = JAP }
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		JAP = {
			add_opinion_modifier = {
				target = ROOT
				modifier = CHI_collaboration_with_the_japanese
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = protect
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 100
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 100
			}
		}
	}
}

shared_focus = {
	id = CHI_modern_submarines
	icon = GFX_goal_generic_navy_submarine
	prerequisite = { focus = CHI_collaboration_with_the_japanese }
	prerequisite = { focus = CHI_order_destroyers }
	x = 0
	y = 3
	relative_position_id = CHI_collaboration_with_the_japanese

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		JAP_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_modern_submarines
			bonus = 1.0
			uses = 1
			category = ss_tech
		}
	}
}

shared_focus = {
	id = CHI_coastal_patrol_planes
	icon = GFX_goal_generic_air_naval_bomber
	prerequisite = { focus = CHI_modern_submarines }
	x = 0
	y = 2
	relative_position_id = CHI_modern_submarines

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		JAP_will_support = yes
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_tech_bonus = {
			name = CHI_coastal_patrol_planes
			bonus = 1.0
			uses = 1
			category = naval_bomber
		}
	}
}
focus_tree = {
	id = china_warlord_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			OR = {
				tag = YUN
				tag = SIK
				tag = GXC
				tag = SHX
				tag = XSM
			}
			always = no
			has_dlc = "Waking the Tiger"
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1350 }

#	focus = {
#		id = CHI_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	focus = {
		id = CHI_secure_internal_politics
		icon = GFX_goal_generic_major_alliance
		x = 6
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			warlord_rule_all_parties = yes
		}
	}

	#########################
	##### Nationalists ######
	#########################

	focus = {
		id = CHI_cooperation_with_the_nationalists
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = CHI_secure_internal_politics }
		mutually_exclusive = { focus = CHI_cooperation_with_the_communists focus = CHI_opposition }
		x = -5
		y = 1
		relative_position_id = CHI_secure_internal_politics

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					original_tag = GXC
					original_tag = YUN
					original_tag = XSM
				}
			}
		}

		available = {
			OR = {
				is_subject = no
				is_subject_of = event_target:WTT_current_china_leader
			}
			NOT = { has_war_with = CHI }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = CHI_cooperation_with_the_nationalists_effect_tooltip
			CHI = { add_opinion_modifier = { modifier = CHI_cooperation_with_the_nationalists_positive target = ROOT } }
			PRC = { add_opinion_modifier = { modifier = CHI_cooperation_with_the_nationalists_negative target = ROOT } }
		}
	}

	focus = {
		id = CHI_anti_opposition_campaigns
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_cooperation_with_the_nationalists focus = CHI_cooperation_with_the_communists }
		x = 3
		y = 1
		relative_position_id = CHI_cooperation_with_the_nationalists

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip
			if = {
				limit = {
					AND = {
						has_completed_focus = CHI_cooperation_with_the_nationalists
						NOT = { any_other_country = { has_completed_focus = CHI_cooperation_with_the_communists } }
					}
				}
				custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip_no_communists
			}
			if = {
				limit = {			
					AND = {
						has_completed_focus = CHI_cooperation_with_the_communists
						NOT = { any_other_country = { has_completed_focus = CHI_cooperation_with_the_nationalists } }
					}
				}
				custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip_no_nationalists
			}
		}

		completion_reward = {
			custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip
			if = {
				limit = {
					AND = {
						has_completed_focus = CHI_cooperation_with_the_nationalists
						NOT = { any_other_country = { has_completed_focus = CHI_cooperation_with_the_communists } }
					}
				} 
				custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip_no_communists
			}
			if = {
				limit = {			
					AND = {
						has_completed_focus = CHI_cooperation_with_the_communists
						NOT = { any_other_country = { has_completed_focus = CHI_cooperation_with_the_nationalists } }
					}
				}
				custom_effect_tooltip = CHI_anti_opposition_campaigns_effect_tooltip_no_nationalists
			}
		}
	}

	focus = {
		id = CHI_technological_cooperation
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = CHI_cooperation_with_the_nationalists }		
		x = -1
		y = 1
		relative_position_id = CHI_cooperation_with_the_nationalists

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						CHI = { is_in_tech_sharing_group = CHI_technological_cooperation_tech_group } }
				}
				CHI = { add_to_tech_sharing_group = CHI_technological_cooperation_tech_group }
			}
			add_to_tech_sharing_group = CHI_technological_cooperation_tech_group
		}
	}

	focus = {
		id = CHI_new_model_province
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_cooperation_with_the_nationalists }		
		x = 1
		y = 1
		relative_position_id = CHI_cooperation_with_the_nationalists

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_root_out_corruption
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = CHI_new_model_province }
		mutually_exclusive = { focus = CHI_embrace_the_opium_trade }
		x = -1
		y = 1
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = PRC_government_corruption
		}
	}

	focus = {
		id = CHI_embrace_the_opium_trade
		icon = GFX_goal_generic_trade
		prerequisite = { focus = CHI_new_model_province }
		mutually_exclusive = { focus = CHI_root_out_corruption }
		x = 1
		y = 1
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_embrace_the_opium_trade
		}
	}

	focus = {
		id = CHI_land_reform
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = CHI_root_out_corruption }
		x = -2
		y = 2
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1 
			}
		}
	}

	focus = {
		id = CHI_reform_the_administration
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_root_out_corruption focus = CHI_embrace_the_opium_trade }
		x = 0
		y = 2
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = CHI_ineffective_bureaucracy_warlord
		}
	}

	focus = {
		id = CHI_join_the_republican_government
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = CHI_land_reform focus = CHI_reform_the_administration }
		x = -1
		y = 3
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = is_not_supporting_someone_in_political_struggle
				NOT = {
					any_country = {
						ROOT = { has_country_flag = warlord_supports_@PREV }
					}
				}
			}
			is_subject = no
			NOT = { has_war_with = CHI }
			if = {
				limit = {
					WTT_not_taking_over_national_leadership = no				
				}
				WTT_not_taking_over_national_leadership = yes
			}
			if = {
				limit = {
					WTT_not_china_leader_refused_to_give_up_national_leadership = no
				}
				WTT_not_china_leader_refused_to_give_up_national_leadership = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = enable_power_struggle
			WTT_setup_political_struggle = yes
			WTT_add_ROOT_to_political_struggle = yes
		}
	}

	focus = {
		id = CHI_power_struggle
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CHI_join_the_republican_government }
		x = -1
		y = 4
		relative_position_id = CHI_new_model_province

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			OR = {
				WTT_has_politcal_support_points_30 = yes
				WTT_is_ROOT_current_leader_of_china = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			load_focus_tree = china_nationalist_focus
			set_cosmetic_tag = CHI_warlord_leader
			every_state = {
				limit = {
					is_core_of = CHI
				}
				add_core_of = ROOT
			}
		}
	}	

	#######################
	##### Communists ######
	#######################

	focus = {
		id = CHI_cooperation_with_the_communists
		icon = GFX_focus_chi_cooperation_with_the_communists
		prerequisite = { focus = CHI_secure_internal_politics }
		mutually_exclusive = { focus = CHI_cooperation_with_the_nationalists focus = CHI_opposition }
		x = 0
		y = 1
		relative_position_id = CHI_secure_internal_politics

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				OR = {
					original_tag = SHX
					original_tag = SIK
				}
			}
		}

		available = {
			OR = {
				is_subject = no
				is_subject_of = event_target:WTT_communist_china
			}
			NOT = { has_war_with = PRC }
			NOT = { has_war_with = SOV }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = CHI_cooperation_with_the_communists_effect_tooltip
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CHI_cooperation_with_the_communists_positive
				}
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 100
				}
			}
			PRC = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CHI_cooperation_with_the_communists_positive
				}
			}
			CHI = {
				add_opinion_modifier = {
					target = ROOT
					modifier = CHI_cooperation_with_the_communists_negative
				}
			}
		}
	}

	focus = {
		id = CHI_land_redistribution
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = CHI_cooperation_with_the_communists }		
		x = 0
		y = 1
		relative_position_id = CHI_cooperation_with_the_communists

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1 
			}
		}
	}

	focus = {
		id = CHI_ideological_education
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = CHI_land_redistribution }
		x = -1
		y = 1
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			if = {
				limit = { is_subject = yes }
				OVERLORD = { has_government = communism }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = CHI_ideological_education days = 1095 }
		}
	}

	focus = {
		id = CHI_land_value_tax
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = CHI_land_redistribution }
		x = 1
		y = 1
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_land_value_tax
		}
	}

	focus = {
		id = CHI_judiciary_reforms
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = CHI_ideological_education }
		x = -1
		y = 2
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = PRC_government_corruption
		}
	}

	focus = {
		id = CHI_communist_administrators
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = CHI_land_value_tax }
		x = 1
		y = 2
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = CHI_ineffective_bureaucracy_warlord
		}
	}

	focus = {
		id = CHI_join_the_chinese_soviet
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = CHI_judiciary_reforms focus = CHI_communist_administrators }
		x = 0
		y = 3
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				event_target:WTT_communist_china = {
					is_ai = no
				}
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			communism > 0.4
			if = {
				limit = { NOT = { tag = SIK } }
				any_neighbor_country = {
					tag = event_target:WTT_communist_china
				}
			}			
			NOT = { has_war_with = PRC }
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }			
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_politics = { ruling_party = communism elections_allowed = no }
			add_opinion_modifier = { target = SOV modifier = CHI_join_the_chinese_soviet }
			SOV = { add_opinion_modifier = { target = ROOT modifier = CHI_join_the_chinese_soviet } }

			if = {
				limit = {
					event_target:WTT_communist_china = {
						NOT = { is_in_faction_with = ROOT }
						is_in_faction = no
					}
				}
				event_target:WTT_communist_china = {
					set_rule = { can_create_factions = yes }
					create_faction = CHI_the_peoples_front
					add_to_faction = event_target:WTT_communist_china
					add_to_faction = ROOT
					country_event = wtt_warlord_vs_prc.35
				}
			}
		}
	}

	focus = {
		id = CHI_the_yanan_incident
		icon = GFX_goal_support_communism
		prerequisite = { focus = CHI_join_the_chinese_soviet }
		x = 0
		y = 4
		relative_position_id = CHI_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			has_opinion = {
				target = SOV
				value > 50
			}
			is_subject = no
			NOT = { has_war_with = PRC }
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = CHI_the_yanan_incident_effect_tt
			save_event_target_as = warlord
			add_ideas = PRC_soviet_tribute_1
			SOV = { country_event = { id = wtt_warlord_vs_prc.1 } }
		}
	}

	#############################
	##### Opposition/Share ######
	#############################

	focus = {
		id = CHI_opposition
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CHI_secure_internal_politics }
		mutually_exclusive = { focus = CHI_cooperation_with_the_communists focus = CHI_cooperation_with_the_nationalists }
		x = 5
		y = 1
		relative_position_id = CHI_secure_internal_politics

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			CHI = { add_opinion_modifier = { modifier = CHI_opposition target = ROOT } }
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						is_literally_china = yes
					}
				}
				OVERLORD = {
					set_autonomy = { target = ROOT autonomy_state = autonomy_free }
					create_wargoal = {
						target = ROOT
						type = puppet_wargoal_focus
						expire = 0
					}
				}
			}
			if = {
				limit = { is_faction_leader = yes }
				every_country = {
					limit = { is_literally_china = yes }
					ROOT = { remove_from_faction = PREV }
				}
			}
			else_if = {
				limit = { any_country = { is_in_faction_with = ROOT is_literally_china = yes } }				
				random_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					remove_from_faction = ROOT
				}
			}
					
		}
	}

	focus = {
		id = CHI_institute_cross_border_raids
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_opposition }		
		x = 0
		y = 1
		relative_position_id = CHI_opposition

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = CHI_institute_cross_border_raids_effect_tooltip
			set_country_flag = CHI_institute_cross_border_raids
		}
	}


	focus = {
		id = CHI_public_works
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_cooperation_with_the_communists focus = CHI_opposition }
		x = -1
		y = 2
		relative_position_id = CHI_opposition

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_public_works
		}
	}

	focus = {
		id = CHI_labor_reform
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CHI_public_works }
		x = -1
		y = 1
		relative_position_id = CHI_public_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = CHI_labor_reform
		}
	}

	focus = {
		id = CHI_rural_militias
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CHI_public_works }
		x = 1
		y = 1
		relative_position_id = CHI_public_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = CHI_rural_militias
		}
	}

	focus = {
		id = CHI_war_taxes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = CHI_opposition }
		x = 3
		y = 1
		relative_position_id = CHI_opposition

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_war_taxes
		}
	}

	focus = {
		id = CHI_seek_japanese_support
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = { focus = CHI_war_taxes }
		x = -2
		y = 1
		relative_position_id = CHI_war_taxes

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			NOT = { has_war_with = JAP }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = CHI_seek_japanese_support
		}
	}

	focus = {
		id = CHI_personal_leadership
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = CHI_war_taxes }
		x = 0
		y = 1
		relative_position_id = CHI_war_taxes

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = { ROOT = { tag = GXC } }
				create_field_marshal = {
					name = "Li Zongren"
					gfx = GFX_portrait_li_zongren
					traits = { infantry_officer } # Many warlord battles as a junior commander
					skill = 3
					attack_skill = 2
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 2					
				}
			}
			else_if = {
				limit = { ROOT = { tag = YUN } }
				create_field_marshal = {
					name = "Long Yun"
					gfx = GFX_portrait_yun_long_yun				
					traits = { war_hero } # Fought in the Xinhai Revolution, showed personal bravery fighting Japan
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
			else_if = {
				limit = { ROOT = { tag = SHX } }
				create_field_marshal = {
					name = "Yan Xishan"
					gfx = GFX_portrait_yan_xishan
					traits = { career_officer infantry_officer } # Educated at officer schools in China and Japan
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
			else_if = {
				limit = { ROOT = { tag = XSM } }
				create_field_marshal = {
					name = "Ma Bufang"
					gfx = GFX_portrait_xsm_ma_bufang
					traits = { cavalry_officer } # Raised 30,000 Muslim Cavalrymen
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
			else_if = {
				limit = { ROOT = { tag = SIK } }
				create_field_marshal = {
					name = "Sheng Shicai"
					gfx = GFX_portrait_sheng_shicai
					traits = { politically_connected } # Studied political economy, played Stalin and Chiang against one another
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
		}
	}

	focus = {
		id = CHI_cult_of_personality
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_war_taxes }
		x = 2
		y = 1
		relative_position_id = CHI_war_taxes

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_provoke_border_clashes
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_personal_leadership }
		mutually_exclusive = { focus = CHI_defensive_posture }
		x = -1
		y = 1
		relative_position_id = CHI_personal_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = CHI_provoke_border_clashes_effect_tooltip
			set_country_flag = CHI_provoke_border_clashes
		}
	}

	focus = {
		id = CHI_defensive_posture
		icon = GFX_goal_generic_defence
		prerequisite = { focus = CHI_personal_leadership }
		mutually_exclusive = { focus = CHI_provoke_border_clashes }
		x = 1
		y = 1
		relative_position_id = CHI_personal_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_defensive_posture
		}
	}

	focus = {
		id = CHI_rapid_mobilization
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = CHI_provoke_border_clashes focus = CHI_defensive_posture }
		x = 0
		y = 2
		relative_position_id = CHI_personal_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		}

		completion_reward = {
			add_ideas = CHI_rapid_mobilization	
		}
	}

	focus = {
		id = CHI_proclaim_rival_government
		icon = GFX_focus_chi_proclaim_rival_government
		prerequisite = { focus = CHI_rural_militias }
		prerequisite = { focus = CHI_rapid_mobilization }
		x = 1
		y = 2
		relative_position_id = CHI_rural_militias

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_state = {
				limit = {
					is_core_of = CHI
				}
				add_core_of = ROOT
			}
			#Switch to dominant ideology or split into 2 focus
			if = {
				limit = {
					OR = {
						has_government = communism
						communism > 0.5
					}
					NOT = { neutrality > 0.5 }
				}
				load_focus_tree = china_communist_focus
			}
			else = {
				load_focus_tree = china_nationalist_focus
			}
		}
	}

	#####################
	##### Industry ######
	#####################

	focus = {
		id = CHI_industrial_investment
		icon = GFX_goal_generic_construct_civ_factory
		x = 12
		y = 0
		relative_position_id = CHI_secure_internal_politics

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CHI_industrial_investment_IC
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_industrial_investment_IC
			}
		}
	}

	focus = {
		id = CHI_public_education_reform
		icon = GFX_focus_research
		prerequisite = { focus = CHI_industrial_investment }
		x = -2
		y = 1
		relative_position_id = CHI_industrial_investment

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = CHI_local_arms_production
		icon = GFX_goal_generic_production
		prerequisite = { focus = CHI_industrial_investment }
		x = 0
		y = 1
		relative_position_id = CHI_industrial_investment

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = CHI_local_arms_production_AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_local_arms_production_AF
			}
		}
	}

	focus = {
		id = CHI_long_term_economic_planning
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CHI_local_arms_production }
		x = 0
		y = 2
		relative_position_id = CHI_industrial_investment

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_long_term_economic_planning
		}
	}

	focus = {
		id = CHI_local_arms_development
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = CHI_local_arms_production }
		x = 2
		y = 2
		relative_position_id = CHI_industrial_investment

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = CHI_local_arms_development
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = CHI_heavy_weapons_development
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = CHI_local_arms_development }
		x = 2
		y = 3
		relative_position_id = CHI_industrial_investment

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = CHI_heavy_weapons_development
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

}
focus_tree = {
	id = czech_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = CZE
			has_dlc = "Death or Dishonor"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1100 }

#	focus = {
#		id = CZE_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id =
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	############################
	##### Fortification focuses#
	############################

	focus = {
		id = CZE_fortification_studies
		icon = GFX_goal_generic_construct_military
		x = 3
		y = 0

		cost = 10

		ai_will_do = {
			factor = 200			
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = CZE_fortification_focus
		}
	}

	focus = {
		id = CZE_fallback_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CZE_fortification_studies }
		x = -2
		y = 1
		relative_position_id = CZE_fortification_studies

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
				factor = 0.5
				is_in_faction_with = GER
			}
		}

		available = {
			CZE = { controls_state = 9 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 5
			9 = {
				add_building_construction = { type = bunker province = 6440 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 6418 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 6592 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 9414 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 3462 level = 3 instant_build = yes }
			}
		}
	}

	focus = {
		id = CZE_sudeten_1
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CZE_fortification_studies }
		x = 0
		y = 1
		relative_position_id = CZE_fortification_studies

		cost = 10

		ai_will_do = {
			factor = 90
			modifier = {
				factor = 0.5
				is_in_faction_with = GER
			}
			modifier = {
				factor = 1.5
				is_in_faction = no
			}
		}

		available = {
			CZE = { controls_state = 69 }
		}

		bypass = {
			NOT = {			
				69 = {
					any_province_building_level = {
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
						building = bunker
						level < 3
					}
				}
				9 = {
					any_province_building_level = {
						province = {
							id = 445
							id = 494
							limit_to_border = yes
						}
						building = bunker
						level < 3
					}
				}
				74 = {
					any_province_building_level = {
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
						}
						building = bunker
						level < 3
					}
				}
				70 = {
					any_province_building_level = {
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
						}
						building = bunker
						level < 3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			army_experience = 5
			if = {
				limit = { controls_state = 69 }
				69 = {
					set_building_level = {
						type = bunker
						level = 3
						province = {
							all_provinces = yes
							limit_to_border = yes
							level < 3
						}
					}
				}
			}

			if = {
				limit = { controls_state = 9 }
				9 = {
					set_building_level = {
						type = bunker
						level = 3
						province = {
							id = 445
							id = 494
							limit_to_border = yes
							level < 3
						}
					}
				}
			}

			if = {
				limit = { controls_state = 74 }
				74 = {
					set_building_level = {
						type = bunker
						level = 3
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
							level < 3
						}
					}
				}
			}

			if = {
				limit = { controls_state = 70 }
				70 = {
					set_building_level = {
						type = bunker
						level = 3
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
							level < 3
						}
					}
				}
			}
			swap_ideas = {
				add_idea = CZE_fortification_focus2
				remove_idea = CZE_fortification_focus
			}	
		}
	}

	focus = {
		id = CZE_sudeten_2
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CZE_sudeten_1 }
		x = 0
		y = 1
		relative_position_id = CZE_sudeten_1

		cost = 10

		ai_will_do = {
			factor = 90
			modifier = {
				factor = 0.5
				is_in_faction_with = GER
			}
			modifier = {
				factor = 1.5
				is_in_faction = no
			}
		}

		available = {
			CZE = { controls_state = 69 }
		}

		bypass = {
			NOT = {			
				69 = {
					any_province_building_level = {
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
						building = bunker
						level < 5
					}
				}
				9 = {
					any_province_building_level = {
						province = {
							id = 445
							id = 494
							limit_to_border = yes
						}
						building = bunker
						level < 5
					}
				}
				74 = {
					any_province_building_level = {
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
						}
						building = bunker
						level < 5
					}
				}
				70 = {
					any_province_building_level = {
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
						}
						building = bunker
						level < 5
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			army_experience = 5
			if = {
				limit = { controls_state = 69 }
				69 = {
					set_building_level = {
						type = bunker
						level = 5
						province = {
							all_provinces = yes
							limit_to_border = yes
							level < 5
						}
					}
				}
			}

			if = {
				limit = { controls_state = 9 }
				9 = {
					set_building_level = {
						type = bunker
						level = 5
						province = {
							id = 445
							id = 494
							limit_to_border = yes
							level < 5
						}
					}
				}
			}

			if = {
				limit = { controls_state = 74 }
				74 = {
					set_building_level = {
						type = bunker
						level = 5
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
							level < 5
						}
					}
				}
			}

			if = {
				limit = { controls_state = 70 }
				70 = {
					set_building_level = {
						type = bunker
						level = 5
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
							level < 5
						}
					}
				}
			}
			swap_ideas = {
				add_idea = CZE_fortification_focus3
				remove_idea = CZE_fortification_focus2
			}	
		}
	}

	focus = {
		id = CZE_sudeten_3
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CZE_sudeten_2 }
		x = 0
		y = 2
		relative_position_id = CZE_sudeten_1

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0.5
				is_in_faction_with = GER
			}
			modifier = {
				factor = 1.5
				is_in_faction = no
			}
		}

		available = {
			CZE = { controls_state = 69 }
		}

		bypass = {
			NOT = {			
				69 = {
					any_province_building_level = {
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
						building = bunker
						level < 7
					}
				}
				9 = {
					any_province_building_level = {
						province = {
							id = 445
							id = 494
							limit_to_border = yes
						}
						building = bunker
						level < 7
					}
				}
				74 = {
					any_province_building_level = {
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
						}
						building = bunker
						level < 7
					}
				}
				70 = {
					any_province_building_level = {
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
						}
						building = bunker
						level < 7
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			army_experience = 5
			if = {
				limit = { controls_state = 69 }
				69 = {
					set_building_level = {
						type = bunker
						level = 7
						province = {
							all_provinces = yes
							limit_to_border = yes
							level < 7
						}
					}
				}
			}

			if = {
				limit = { controls_state = 9 }
				9 = {
					set_building_level = {
						type = bunker
						level = 7
						province = {
							id = 445
							id = 494
							limit_to_border = yes
							level < 7
						}
					}
				}
			}

			if = {
				limit = { controls_state = 74 }
				74 = {
					set_building_level = {
						type = bunker
						level = 7
						province = {
							id = 421
							id = 6485
							id = 3414
							id = 3583
							limit_to_border = yes
							level < 7
						}
					}
				}
			}

			if = {
				limit = { controls_state = 70 }
				70 = {
					set_building_level = {
						type = bunker
						level = 7
						province = {
							id = 9539
							id = 9692
							limit_to_border = yes
							level < 7
						}
					}
				}
			}
			swap_ideas = {
				add_idea = CZE_fortification_focus4
				remove_idea = CZE_fortification_focus3
			}	
		}
	}

	focus = {
		id = CZE_hungarian_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CZE_sudeten_2 }
		x = -2
		y = 2
		relative_position_id = CZE_sudeten_1

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
				factor = 0.5
				is_in_faction_with = GER
			}
			modifier = {
				factor = 0.5
				is_in_faction_with = HUN
			}
			modifier = {
				factor = 0.5
				HUN = { exists = no }
			}
		}

		available = {
			CZE = { controls_state = 664 }
			CZE = { controls_state = 73 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {       
			army_experience = 5
			664 = {
				add_building_construction = { type = bunker province = 3565 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 3716 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 6561 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 6573 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 9537 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 11679 level = 3 instant_build = yes }
			}
			
			73 = {
				add_building_construction = { type = bunker province = 11691 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 3548 level = 3 instant_build = yes }
			}
		}
	}

	focus = {
		id = CZE_polish_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CZE_sudeten_2 }
		x = 2
		y = 2
		relative_position_id = CZE_sudeten_1

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.25
				is_in_faction_with = POL
			}
		}

		available = {
			CZE = { controls_state = 71 }
			CZE = { controls_state = 72 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 5
			72 = {
				add_building_construction = { type = bunker province = 9567 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 9551 level = 2 instant_build = yes }
			}
			71 = {      
				add_building_construction = { type = bunker province = 581 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 3550 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 3581 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 6604 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 11554 level = 2 instant_build = yes }
			}
		}
	}

	focus = {
		id = CZE_internal_redoubts
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CZE_fortification_studies }
		x = 2
		y = 1
		relative_position_id = CZE_fortification_studies

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 70 }
			CZE = { controls_state = 75 }
			CZE = { controls_state = 664 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 5
			664 = {
				add_building_construction = { type = bunker province = 6573 level = 2 instant_build = yes }
			}
			70 = {
				add_building_construction = { type = bunker province = 9692 level = 2 instant_build = yes }
			}
			75 = {
				add_building_construction = { type = bunker province = 3569 level = 2 instant_build = yes }
			}
			9 = {
				add_building_construction = { type = bunker province = 6418 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 11542 level = 3 instant_build = yes }
			}
		}
	}

	###################################
	######## INDUSTRIAL LEGACY ########
	###################################

	focus = {
		id = CZE_industrial_legacy
		icon = GFX_goal_generic_construct_civ_factory
		x = 6
		y = 0
		relative_position_id = CZE_fortification_studies

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CZE_industrial_legacy_idea
		}
	}

	focus = {
		id = CZE_favor_czechs_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CZE_industrial_legacy }
		mutually_exclusive = { focus = CZE_balanced_1 }
		x = -2
		y = 1
		relative_position_id = CZE_industrial_legacy

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 75 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			75 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_favor_czechs_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CZE_favor_czechs_1 }
		x = 0
		y = 1
		relative_position_id = CZE_favor_czechs_1

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 75 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			75 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_favor_czechs_3
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CZE_favor_czechs_2 }
		x = 0
		y = 2
		relative_position_id = CZE_favor_czechs_1

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 75 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			75 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_balanced_1
		icon = GFX_goal_generic_construction
		prerequisite = { focus = CZE_industrial_legacy }
		mutually_exclusive = { focus = CZE_favor_czechs_1 }
		x = 0
		y = 1
		relative_position_id = CZE_industrial_legacy

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 0.5
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 0.5
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 70 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			70 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_balanced_2
		icon = GFX_goal_generic_construction
		prerequisite = { focus = CZE_balanced_1 }
		x = 0
		y = 1
		relative_position_id = CZE_balanced_1

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 71 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			71 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_balanced_3
		icon = GFX_goal_generic_construction
		prerequisite = { focus = CZE_balanced_2 }
		x = 0
		y = 2
		relative_position_id = CZE_balanced_1

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			CZE = { controls_state = 9 }
			CZE = { controls_state = 73 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			9 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			73 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_united_population
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CZE_balanced_3 }
		x = 0
		y = 3
		relative_position_id = CZE_balanced_1

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

		completion_reward = {
			if = {
				limit = { has_idea = CZE_divided_nation }
				remove_ideas = CZE_divided_nation
			}
		}
	}

	focus = {
		id = CZE_arms_exports_1
		icon = GFX_goal_generic_production
		prerequisite = { focus = CZE_industrial_legacy }
		x = 2
		y = 1
		relative_position_id = CZE_industrial_legacy

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
				factor = 2
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = CZE_export_focus1
		}
	}

	focus = {
		id = CZE_arms_exports_2
		icon = GFX_goal_generic_production
		prerequisite = { focus = CZE_arms_exports_1 }
		x = 0
		y = 1
		relative_position_id = CZE_arms_exports_1

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 2
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = { remove_idea = CZE_export_focus1 add_idea = CZE_export_focus2  }
		}
	}

	focus = {
		id = CZE_arms_exports_3
		icon = GFX_goal_generic_production
		prerequisite = { focus = CZE_arms_exports_2 }
		x = 0
		y = 2
		relative_position_id = CZE_arms_exports_1

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 2
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = { remove_idea = CZE_export_focus2 add_idea = CZE_export_focus3 }
		}
	}

	##################################
	######## POLITICAL DIRECTION #####
	##################################

	focus = {
		id = CZE_political_direction
		icon = GFX_goal_generic_intelligence_exchange
		x = 8
		y = 0
		relative_position_id = CZE_industrial_legacy

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = CZE_go_left
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = CZE_political_direction }
		mutually_exclusive = { focus = CZE_democratic_bastion focus = CZE_go_right }
		x = -2
		y = 1
		relative_position_id = CZE_political_direction

		cost = 10

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 0
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 0
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 120
			#allow communist reformer
			# relations changes
			every_other_country = {
				limit = { 
					has_government = communism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier =  FRA_leftist_rhetoric_communism
				}
			}
			every_other_country = {
				limit = { 
					has_government = democratic
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = FRA_leftist_rhetoric_democratic
				}
			}
			every_other_country = {
				limit = { 
					has_government = fascism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier = FRA_leftist_rhetoric_fascism
				}
			}
		}
	}

	focus = {
		id = CZE_czech_socialism
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = CZE_communist_support }
		x = -2
		y = 3
		relative_position_id = CZE_go_left

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

		completion_reward = {
			if = {
				limit = { has_idea = CZE_divided_nation }
				remove_ideas = CZE_divided_nation
			}
			add_ideas = CZE_czech_socialism
			add_political_power = 120
		}
	}

	focus = {
		id = CZE_communism_with_a_human_face
		icon = GFX_goal_support_communism
		prerequisite = { focus = CZE_czech_socialism }
		x = 0
		y = 1
		relative_position_id = CZE_czech_socialism

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = CZE_communism_with_a_human_face
		}
	}

	focus = {
		id = CZE_communist_support
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = CZE_go_left }
		x = 0
		y = 1
		relative_position_id = CZE_go_left

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			communism > 0.2
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = communist_influence
		}
	}

	focus = {
		id = CZE_join_comintern
		icon = GFX_goal_support_communism
		prerequisite = { focus = CZE_communist_support }
		x = 0
		y = 2
		relative_position_id = CZE_go_left

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			communism > 0.3
			SOV = {
				has_government = communism 
			}
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = CZE
				}
			}
		}

		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			SOV = { country_event = { hours = 1 id = czech.1 } }
		}
	}

	focus = {
		id = CZE_the_romanian_question
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = CZE_join_comintern }
		x = 0
		y = 3
		relative_position_id = CZE_go_left

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = { hours = 1 id = czech.4 } }
		}
	}

	focus = {
		id = CZE_the_polish_division
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = CZE_the_romanian_question }
		x = 0
		y = 4
		relative_position_id = CZE_go_left

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = { hours = 1 id = czech.7 } }
		}
	}

	focus = {
		id = CZE_democratic_bastion
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = CZE_political_direction }
		mutually_exclusive = { focus = CZE_go_right focus = CZE_go_left }
		x = 0
		y = 1
		relative_position_id = CZE_political_direction

		cost = 10

		ai_will_do = {
			factor = 90
			modifier = {
				factor = 0
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_political_power = 200
			add_ideas = CZE_democratic_bastion
		}
	}

	focus = {
		id = CZE_beacon_of_liberty
		icon = GFX_goal_support_democracy
		prerequisite = { focus = CZE_democratic_bastion }
		x = 0
		y = 1
		relative_position_id = CZE_democratic_bastion

		cost = 2

		ai_will_do = {
			factor = 70
		}

		available = {
			democratic > 0.7
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			swap_ideas = { remove_idea = CZE_democratic_bastion add_idea = CZE_beacon_of_liberty }
		}
	}

	focus = {
		id = CZE_defensive_preparations
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = CZE_beacon_of_liberty }
		x = 0
		y = 3
		relative_position_id = CZE_democratic_bastion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			threat > 0.1
		}

		bypass = {
			OR = {
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = extensive_conscription
		}
	}

	focus = {
		id = CZE_bonus_research_slot_1
		icon = GFX_focus_research
		prerequisite = { focus = CZE_the_romanian_question focus = CZE_defensive_preparations focus = CZE_the_polish_question }
		x = 0
		y = 5
		relative_position_id = CZE_democratic_bastion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			num_of_factories > 34
			amount_research_slots < 5
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
	}

	focus = {
		id = CZE_go_right
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = CZE_political_direction }
		mutually_exclusive = { focus = CZE_democratic_bastion focus = CZE_go_left }
		x = 2
		y = 1
		relative_position_id = CZE_political_direction

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 3
				has_completed_focus = CZE_german_leanings
			}
			modifier = {
				factor = 0
				has_completed_focus = CZE_trust_in_the_west
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			#allow nazi leader
			every_other_country = {
				limit = { 
					has_government = fascism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier =  FRA_right_wing_rhetoric_fascism
				}
			}
			every_other_country = {
				limit = { 
					has_government = democratic
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = FRA_right_wing_rhetoric_democratic
				}
			}
			every_other_country = {
				limit = { 
					has_government = communism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier = FRA_right_wing_rhetoric_communism
				}
			}
		}
	}

	focus = {
		id = CZE_czech_fascism
		icon = GFX_goal_support_fascism
		prerequisite = { focus = CZE_go_right }
		x = 0
		y = 1
		relative_position_id = CZE_go_right

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			fascism > 0.35
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_timed_idea = { idea = CZE_czech_fascism days = 1095 }
		}
	}

	focus = {
		id = CZE_aggressive_wars
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = CZE_czech_fascism }
		x = 0
		y = 2
		relative_position_id = CZE_go_right

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			fascism > 0.5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_army_of_aggression_focus
		}
	}

	focus = {
		id = CZE_the_polish_question
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = CZE_aggressive_wars focus = CZE_german_puppet }
		x = -1
		y = 4
		relative_position_id = CZE_go_right

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			GER = { country_event = { hours = 1 id = czech.10 } }
		}
	}

	focus = {
		id = CZE_exclude_the_slovaks
		icon = GFX_goal_generic_propaganda
		mutually_exclusive = { focus = CZE_national_fascism }
		prerequisite = { focus = CZE_czech_fascism }
		x = 2
		y = 2
		relative_position_id = CZE_go_right

		cost = 5

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {
			fascism > 0.6
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_idea = CZE_divided_nation
				}
				remove_ideas = CZE_divided_nation
				add_timed_idea = { idea = CZE_czech_fascism_idea days = 1095 }
			}
			if = {
				limit = {
					NOT = { has_idea = CZE_divided_nation }
				}
				add_timed_idea = { idea = CZE_czech_fascism_idea days = 1095 }
			}
			country_event = { days = 6 random_days = 5 id = czech.14 }			
		}
	}
	
	focus = {
		id = CZE_national_fascism
		icon = GFX_goal_generic_propaganda
		mutually_exclusive = { focus = CZE_exclude_the_slovaks }
		prerequisite = { focus = CZE_czech_fascism }
		x = 4
		y = 2
		relative_position_id = CZE_go_right

		cost = 15

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {
			fascism > 0.6
			NOT = {
				has_idea = CZE_divided_nation
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CZE_national_fascism_idea
		}
	}
	
	focus = {
		id = CZE_german_minor_ally
		icon = GFX_goal_generic_dangerous_deal
		mutually_exclusive = { focus = CZE_german_ally focus = CZE_german_puppet }
		prerequisite = { focus = CZE_exclude_the_slovaks focus = CZE_national_fascism }
		x = 4
		y = 3
		relative_position_id = CZE_go_right

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				has_completed_focus = CZE_german_leanings
			}
		}

		available = {
			is_in_faction = no
			GER = { has_government = fascism }
			GER = { exists = yes }
			GER = { is_subject = no }
			has_army_manpower = { size > 249999 } 
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = CZE_german_minor_ally_tt
			hidden_effect = {
				GER = {
					set_autonomy = { target = CZE autonomy_state = autonomy_satellite }
				}
			}
		}
	}

	focus = {
		id = CZE_german_ally
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = CZE_exclude_the_slovaks focus = CZE_national_fascism }
		mutually_exclusive = { focus = CZE_german_puppet focus = CZE_german_minor_ally }
		x = 2
		y = 3
		relative_position_id = CZE_go_right

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_in_faction = no
			GER = { has_government = fascism }
			GER = { exists = yes }
			GER = { is_subject = no }
			has_army_manpower = { size > 299999 } 
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = CZE
				}
			}
		}

		bypass = {
			is_in_faction_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			GER = { country_event = { hours = 1 id = czech.16 } }
		}
	}

	#######################################
	######### STRATEGY DECISIONS ##########
	#######################################
	
	focus = {
		id = CZE_strategy_decisions
		icon = GFX_goal_generic_position_armies
		x = 12
		y = 0
		relative_position_id = CZE_political_direction

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 150
		}
	}

	focus = {
		id = CZE_german_leanings
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CZE_strategy_decisions }
		mutually_exclusive = { focus = CZE_trust_in_the_west focus = CZE_an_entente_of_our_own }
		x = -2
		y = 1
		relative_position_id = CZE_strategy_decisions

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 0
				has_completed_focus = CZE_go_left
			}
			modifier = {
				factor = 0
				has_completed_focus = CZE_democratic_bastion
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			 GER = { add_opinion_modifier = { target = CZE modifier = CZE_german_leanings } }
		}
	}

	focus = {
		id = CZE_german_puppet
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = CZE_deliver_sudetenland }
		mutually_exclusive = { focus = CZE_german_ally focus = CZE_german_minor_ally }
		x = -2
		y = 3
		relative_position_id = CZE_german_leanings

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			GER = { exists = yes }
			GER = { is_subject = no }
		}

		bypass = {
			is_subject_of = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			GER = { country_event = { hours = 1 id = czech.19 } }
		}
	}

	focus = {
		id = CZE_hungarian_situation
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = CZE_german_puppet focus = CZE_aggressive_wars }
		x = -7
		y = 4
		relative_position_id = CZE_german_leanings
		
		will_lead_to_war_with = HUN

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			NOT = {
				is_in_faction_with = HUN
			}
			HUN = { exists = yes }
		}

		bypass = {
			HUN = { exists = no }
			HUN = { is_subject_of = CZE}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = HUN
				expire = 0
			}
		}
	}

	focus = {
		id = CZE_deliver_sudetenland
		icon = GFX_focus_CZE_german_puppet 
		prerequisite = { focus = CZE_german_leanings }
		x = 0
		y = 1
		relative_position_id = CZE_german_leanings

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			GER = { exists = yes }
			GER = { is_subject = no }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			GER = { country_event = { hours = 1 id = czech.22 } }
		}
	}

	focus = {
		id = CZE_german_technology
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = CZE_deliver_sudetenland }
		x = 0
		y = 2
		relative_position_id = CZE_german_leanings

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			GER = { exists = yes }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = CZE_german_millitary_cooperation_focus
		}
	}

	focus = {
		id = CZE_trust_in_the_west
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = CZE_strategy_decisions }
		mutually_exclusive = { focus = CZE_german_leanings focus = CZE_an_entente_of_our_own }
		x = 0
		y = 1
		relative_position_id = CZE_strategy_decisions

		cost = 10

		ai_will_do = {
			factor = 90
			modifier = {
				factor = 0
				has_completed_focus = CZE_go_right
			}
			modifier = {
				factor = 2
				has_completed_focus = CZE_go_left
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			ENG = {
				add_opinion_modifier = { 
						target = ROOT 
						modifier =  CZE_trust_in_the_west
				}
			}
			FRA = {
				add_opinion_modifier = { 
					target = ROOT 
					modifier =  CZE_trust_in_the_west
				}
			
			}
			diplomatic_relation = {
				country = YUG
				relation = guarantee
				active = no
			}
			ROM = {
				diplomatic_relation = {
					country = CZE
					relation = guarantee
					active = no
				}
			}
		}
	}

	focus = {
		id = CZE_doctrinal_innovation
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = CZE_trust_in_the_west }
		x = 0
		y = 2
		relative_position_id = CZE_trust_in_the_west

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 3.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CZE_bonus_research_slot_2
		icon = GFX_focus_research
		prerequisite = { focus = CZE_doctrinal_innovation }
		x = 0
		y = 1
		relative_position_id = CZE_doctrinal_innovation

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			num_of_factories > 34
		}

		bypass = {
			NOT = { amount_research_slots < 5 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt	
		}
	}

	focus = {
		id = CZE_secret_weapons
		icon = GFX_goal_generic_radar
		prerequisite = { focus = CZE_bonus_research_slot_2 }
		mutually_exclusive = { focus = CZE_nukes }
		x = -1
		y = 2
		relative_position_id = CZE_doctrinal_innovation

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 3
				category = electronics
				category = jet_technology
				category = rocketry
			}
		}
	}

	focus = {
		id = CZE_nukes
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = CZE_bonus_research_slot_2 }
		mutually_exclusive = { focus = CZE_secret_weapons }
		x = 1
		y = 2
		relative_position_id = CZE_doctrinal_innovation

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = nuclear_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = nuclear
			}
		}
	}

	focus = {
		id = CZE_an_entente_of_our_own
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = CZE_strategy_decisions }
		mutually_exclusive = { focus = CZE_trust_in_the_west focus = CZE_german_leanings }
		x = 3
		y = 1
		relative_position_id = CZE_strategy_decisions

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			is_in_faction = no
		}

		bypass = {
			is_in_faction_with = FRA
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = "CZE_little_entente"
		}
	}

	focus = {
		id = CZE_invite_yugoslavia
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CZE_an_entente_of_our_own }
		x = -1
		y = 1
		relative_position_id = CZE_an_entente_of_our_own

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			YUG = { is_in_faction = no }
			YUG = { exists = yes }
			YUG = { is_subject = no }

			CZE = { is_faction_leader = yes }
		}

		bypass = {
			OR = {
				YUG = {
					is_in_faction = yes
				}
				is_in_faction_with = FRA
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			YUG = { country_event = { hours = 1 id = czech.25 } }
		}
	}

	focus = {
		id = CZE_invite_romania
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = CZE_an_entente_of_our_own }
		x = 1
		y = 1
		relative_position_id = CZE_an_entente_of_our_own

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			ROM = { is_in_faction = no }
			ROM = { exists = yes }
			ROM = { is_subject = no }			
			CZE = { is_faction_leader = yes }
		}

		bypass = {
			OR = {
				ROM = {
					is_in_faction = yes
				}
				is_in_faction_with = FRA
			}
		}	

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			ROM = { country_event = { hours = 1 id = czech.28 } }
		}
	}

	focus = {
		id = CZE_faction_tech_sharing
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = CZE_invite_yugoslavia focus = CZE_invite_romania }
		x = -1
		y = 2
		relative_position_id = CZE_an_entente_of_our_own

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 1.5
				has_completed_focus = CZE_invite_romania
			}
			modifier = {
				factor = 1.5
				has_completed_focus = CZE_invite_yugoslavia
			}
		}

		available = {
			is_in_faction = yes
			is_faction_leader = yes
		}

		bypass = {
			is_in_faction = yes
			is_faction_leader = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = little_entente_research_group
			every_country = {
				limit = {
					is_in_faction_with = CZE
				}
				add_to_tech_sharing_group = little_entente_research_group
			}
		}
	}

	focus = {
		id = CZE_security_council
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = CZE_invite_yugoslavia focus = CZE_invite_romania }
		x = 1
		y = 2
		relative_position_id = CZE_an_entente_of_our_own

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 1.5
				has_completed_focus = CZE_invite_romania
			}
			modifier = {
				factor = 1.5
				has_completed_focus = CZE_invite_yugoslavia
			}
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CZE_planning_bonus
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_ideas = CZE_planning_bonus
			}
		}
	}

	focus = {
		id = CZE_deal_with_hungary
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = CZE_security_council }
		mutually_exclusive = { focus = CZE_rapprochement_with_hungary }
		x = 0
		y = 1
		relative_position_id = CZE_security_council

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			NOT = {
				is_in_faction_with = HUN
			}
			HUN = { exists = yes }
			HUN = { is_subject = no }
		}

		bypass = {
			HUN = { exists = no }
			HUN = { is_subject_of = CZE }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = HUN
				expire = 0
			}
		}
	}

	focus = {
		id = CZE_deal_with_bulgaria
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = CZE_security_council }
		x = 2
		y = 1
		relative_position_id = CZE_security_council

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {
			NOT = {
				is_in_faction_with = BUL
			}
			BUL = { exists = yes }
			BUL = { is_subject = no }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BUL
				expire = 0
			}
		}
	}

	focus = {
		id = CZE_rapprochement_with_hungary
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = CZE_security_council }
		mutually_exclusive = { focus = CZE_deal_with_hungary }
		x = -2
		y = 1
		relative_position_id = CZE_security_council

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			NOT = {
				is_in_faction_with = HUN
			}
			HUN = { exists = yes }
			HUN = { is_subject = no }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			HUN = { country_event = { hours = 1 id = czech.32 } }
		}
	}

	focus = {
		id = CZE_czechoslovak_legion
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = CZE_strategy_decisions }
		x = 5
		y = 1
		relative_position_id = CZE_strategy_decisions

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = {
				can_send_volunteers = yes
			}
			add_ideas = foreign_expeditions_focus
		}
	}
	#######################################
	##### MILITARY RESEARCH INSTITUTE #####	
	#######################################

	focus = {
		id = CZE_military_research_institute
		icon = GFX_focus_CZE_military_research_institute
		x = 11
		y = 0
		relative_position_id = CZE_strategy_decisions

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 10
		}
	}

	focus = {
		id = CZE_mountain_bonus
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CZE_military_research_institute }
		x = -3
		y = 1
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = cze_mountain_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = CZE_inf_and_artillery_advancement
		icon = GFX_goal_rhineland
		prerequisite = { focus = CZE_military_research_institute }
		x = -1
		y = 1
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_inf_and_artillery_advancement
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = CZE_support_bonus
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = CZE_mountain_bonus }
		x = -3
		y = 2
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_support_bonus #@#
				bonus = 1.0
				uses = 2
				category = support_tech	
			}
			add_tech_bonus = {
				name = CZE_support_bonus #@#
				bonus = 1.0
				uses = 1
				technology = support_weapons2
				technology = support_weapons3
			}
		}
	}

	focus = {
		id = CZE_inf_and_artillery_advancement_2
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = CZE_inf_and_artillery_advancement }
		x = -1
		y = 2
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_inf_and_artillery_advancement_2 #@#
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = CZE_doctrine_bonus
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = CZE_support_bonus }
		prerequisite = { focus = CZE_inf_and_artillery_advancement_2 }
		x = -2
		y = 3
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CZE_motorization_scheme
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = CZE_military_research_institute }
		x = 1
		y = 1
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 3.0
				technology = motorised_infantry
			}
		}
	}

	focus = {
		id = CZE_armour_bonus_1
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CZE_military_research_institute }
		x = 3
		y = 1
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = CZE_mechanization
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CZE_motorization_scheme }
		x = 1
		y = 2
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_mechanization #@#
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = CZE_armour_bonus_ii
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CZE_armour_bonus_1 }
		x = 3
		y = 2
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = CZE_doctrine_bonus_2
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = CZE_mechanization }
		prerequisite = { focus = CZE_armour_bonus_ii }
		x = 2
		y = 3
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = CZE_war_college
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CZE_doctrine_bonus }
		prerequisite = { focus = CZE_doctrine_bonus_2 }
		x = 0
		y = 4
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = CZE_war_college_idea
			if = {
				limit = {
					NOT = { amount_research_slots > 4 }
				}
				add_research_slot = 1
				custom_effect_tooltip = CZE_war_college_effect_tt
			}
		}
	}

	#######################################
	####### AERONAUTICAL INSTITUTE ########	
	#######################################

	focus = {
		id = CZE_military_aeronautical_institute
		icon = GFX_focus_CZE_military_aeronautical_institute
		x = 8
		y = 0
		relative_position_id = CZE_military_research_institute

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			air_experience = 10
		}
	}

	focus = {
		id = CZE_import_foreign_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CZE_military_aeronautical_institute }
		x = -2
		y = 1
		relative_position_id = CZE_military_aeronautical_institute

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_import_foreign_fighters #@#
				bonus = 1.0
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = CZE_light_fighter_focus
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = CZE_import_foreign_fighters }
		mutually_exclusive = { focus = CZE_heavy_fighter_focus }
		x = -1
		y = 1
		relative_position_id = CZE_import_foreign_fighters

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_light_fighter_focus #@#
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = CZE_heavy_fighter_focus
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CZE_import_foreign_fighters }
		mutually_exclusive = { focus = CZE_light_fighter_focus }
		x = 1
		y = 1
		relative_position_id = CZE_import_foreign_fighters

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_heavy_fighter_focus #@#
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = CZE_air_is_our_sea
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = CZE_military_aeronautical_institute }
		x = 0
		y = 1
		relative_position_id = CZE_military_aeronautical_institute

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CZE_air_focus
		}
	}

	focus = {
		id = CZE_rule_the_air
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = CZE_air_is_our_sea }
		prerequisite = { focus = CZE_light_fighter_focus focus = CZE_heavy_fighter_focus }
		prerequisite = { focus = CZE_tac_focus focus = CZE_cas_focus }
		x = 0
		y = 3
		relative_position_id = CZE_military_aeronautical_institute

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 1.0
				uses = 3
				category = air_doctrine
			}
		}
	}

	focus = {
		id = CZE_import_foreign_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = CZE_military_aeronautical_institute }
		x = 2
		y = 1
		relative_position_id = CZE_military_aeronautical_institute

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_import_foreign_bombers #@#
				bonus = 1.0
				uses = 1
				category = cas_bomber
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = CZE_cas_focus
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = CZE_import_foreign_bombers }
		mutually_exclusive = { focus = CZE_tac_focus }
		x = -1
		y = 1
		relative_position_id = CZE_import_foreign_bombers

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_cas_focus #@#
				bonus = 1.0
				uses = 1
				category = cas_bomber
			}
		}
	}

	focus = {
		id = CZE_tac_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = CZE_import_foreign_bombers }
		mutually_exclusive = { focus = CZE_cas_focus }
		x = 1
		y = 1
		relative_position_id = CZE_import_foreign_bombers

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CZE_tac_focus #@#
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
		}
	}

	#######################################
	######### ACCESS TO THE SEA ###########	
	#######################################

	focus = {
		id = CZE_access_to_the_sea
		icon = GFX_goal_generic_occupy_states_coastal
		x = 7
		y = 0
		relative_position_id = CZE_military_aeronautical_institute

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			navy_experience = 25
		}
	}

	focus = {
		id = CZE_sudden_shipyard
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = CZE_access_to_the_sea }
		x = -2
		y = 1
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			navy_experience = 10
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = dockyard
										size > 2
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = CZE_shipbuilding_legacy
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = CZE_access_to_the_sea }
		x = 0
		y = 1
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CZE_naval_focus
		}
	}

	focus = {
		id = CZE_battleship_catchup_1
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = CZE_shipbuilding_legacy }
		x = 2
		y = 2
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = CZE_destroyer_catchup_1
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = CZE_shipbuilding_legacy }
		x = -2
		y = 2
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = dd_tech
			}
		}
	}

	focus = {
		id = CZE_cruiser__catchup_1
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = CZE_shipbuilding_legacy }
		x = 0
		y = 2
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = CZE_raiding_focus
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = CZE_destroyer_catchup_1 }
		prerequisite = { focus = CZE_cruiser__catchup_1 }
		mutually_exclusive = { focus = CZE_capital_focus }
		x = -1
		y = 3
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = naval_doc_bonus
				bonus = 1.0
				uses = 2
				category = cat_trade_interdiction
			}
		}
	}

	focus = {
		id = CZE_capital_focus
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = CZE_cruiser__catchup_1 }
		prerequisite = { focus = CZE_battleship_catchup_1 }
		mutually_exclusive = { focus = CZE_raiding_focus }
		x = 1
		y = 3
		relative_position_id = CZE_access_to_the_sea

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = naval_doc_bonus
				bonus = 1.0
				uses = 2
				category = cat_fleet_in_being
			}
		}
	}

}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = british_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ENG
			always = no
		}
	}
	default = no

	focus = {
		id = crypto_bomb_focus
		available = {
				has_war_with = GER
				POL = {
					NOT = { is_in_faction_with = GER } #We assume POL will help vs Germany unless they are allied to them
				}
			}
		
		bypass = {
			OR = {
				AND = {
					has_war_with = GER
					POL = {
							is_in_faction_with = GER # If POL is in GER's faction, no help for us
						}
				}
				AND = {
					has_war = yes
					is_in_faction_with = USA
				}
				GER = { exists = no }
			}
		}
		
		icon = GFX_focus_generic_cryptologic_bomb
		x = 0
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1.0
					uses = 3
					category = decryption_tech
					category = computing_tech
				}
			}
			else = {
				hidden_effect = {
					set_technology = { lar_decryption_bonus_tech = 1 }
				}
				custom_effect_tooltip = lar_decryption_bonus_tt
			}
		}
	}
	
	focus = {
		id = tizard_mission_focus
		available = {				
			has_government = democratic
			any_other_country = {
				has_war_with = ROOT
				NOT = { has_government = democratic }
				num_of_factories > 30
			}
			NOt = {
				has_war_with = USA
			}
			USA = { 
				has_government = ROOT
				has_war = no
				NOT = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = isolation
					}
				}
			}
			
		} 
		prerequisite = { focus = crypto_bomb_focus }
		prerequisite = { focus = radar_focus }
		icon = GFX_goal_generic_scientific_exchange
		x = 0
		y = 3
		relative_position_id = crypto_bomb_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			USA = {
				country_event = britain.1
			}
		}
	}
	focus = {
		id = maud_focus
		available = { is_in_faction_with = USA }
		prerequisite = { focus = tizard_mission_focus }
		icon = GFX_focus_wonderweapons
		x = 0
		y = 1
		relative_position_id = tizard_mission_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = maud_focus
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}
	
	
	focus = {
		id = limited_rearmament_focus
		icon = GFX_goal_generic_build_tank
		x = 5
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_limited_rearmament_focus_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_limited_rearmament_focus_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_limited_rearmament_focus_2IC
			}
		}
	}
	focus = {
		id = ENG_motorized_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = { 			
		}
		icon = GFX_goal_generic_army_motorized
		x = 0
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}
	focus = {
		id = ENG_tank_focus
		prerequisite = { focus = ENG_motorized_focus }
		icon = GFX_goal_generic_army_tanks
		x = 0
		y = 1
		relative_position_id = ENG_motorized_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}
	
	focus = {
		id = air_defense_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.05
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.05
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes
		available_if_capitulated = yes

		icon = GFX_goal_generic_construct_military
		x = -4
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = air_defense_focus_bypass_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = anti_air_building
							size > 0
						}
					}
				}
			}
		}

		complete_tooltip = {
			air_experience = 25
			if = {
				limit = { has_country_flag = air_defense_focus_built_max }
				custom_effect_tooltip = air_defense_focus_tt			
			}
			if = {
				limit = { NOT = { has_country_flag = air_defense_focus_built_max } }
				every_state = {
					limit = { has_state_flag = ENG_air_defense_focus_built_2 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			air_experience = 25
			if = {
				limit = {
					NOT = {
						OR = {
							123 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							125 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							127 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
						}
					}
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
							OR = {
								region = 1
								region = 2
								region = 3
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}			
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
			}
			if = {
				limit = {
					NOT = {
						OR = {
							123 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							125 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							127 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}						
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}						
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
			}			
			if = {
				limit = {
					OR = {
						123 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
						125 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
						127 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
					}
				}
				custom_effect_tooltip = air_defense_focus_tt
				hidden_effect = {
					123 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					125 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					127 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					set_country_flag = air_defense_focus_built_max
				}
			}
		}
	}

	focus = {
		id = radar_focus
		prerequisite = { focus = air_defense_focus }
		icon = GFX_goal_generic_radar
		x = 0
		y = 1
		relative_position_id = air_defense_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = radar_focus
				bonus = 1.0
				uses = 3
				category = radar_tech
			}
		}
	}
	
	focus = {
		id = shadow_scheme_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.05
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.05
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes
		available_if_capitulated = yes
		
		icon = GFX_goal_generic_construct_mil_factory
		x = -2
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			custom_effect_tooltip = shadow_scheme_focus_tt
			add_ideas = wartime_industry_focus	
		}
	}

	focus = {
		id = uk_industrial_focus
		text = industrial_effort
		prerequisite = { focus = shadow_scheme_focus }
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 1
		relative_position_id = shadow_scheme_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	focus = {
		id = uk_extra_tech_slot
		text = extra_tech_slot
		icon = GFX_focus_research
		prerequisite = { focus = uk_industrial_focus }
		x = 0
		y = 1
		relative_position_id = uk_industrial_focus
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = general_rearmament_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.1 
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.1 
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_consumer_goods
		x = 4
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			add_ideas = british_austerity_idea
		}
	}

	focus = {
		id = ENG_special_air_service
		prerequisite = { focus = general_rearmament_focus }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_special_air_service
		x = 0
		y = 1
		relative_position_id = general_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = ENG_special_air_service_idea
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_david_stirling
		}
	}
	
	focus = {
		id = royal_ordinance_focus
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					any_other_country = {
						has_war_with = ROOT
						num_of_factories > 30
					}
					GER = {
						has_completed_focus = GER_rhineland
					}
					threat > 0.2
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					any_other_country = {
						has_war_with = ROOT
						num_of_factories > 30
					}
					GER = {
						has_completed_focus = GER_rhineland
					}
					threat > 0.2
					NOT = { has_government = democratic }
				}
			}
		} #at war with major or ger in rhineland or high threat
		prerequisite = { focus = uk_industrial_focus }
		icon = GFX_goal_generic_construct_mil_factory
		x = -1
		y = 2
		relative_position_id = uk_industrial_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		continue_if_invalid = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				NOT = {
					any_owned_state = {
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = royal_ordinance_focus_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
		}
	}
	
	focus = {
		id = uk_small_arms_focus
		prerequisite = { focus = royal_ordinance_focus }
		icon = GFX_goal_generic_production2
		x = 1
		y = 1
		relative_position_id = royal_ordinance_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = british_arms_discount
		}
	}
	focus = {
		id = UK_secret_focus
		prerequisite = { focus = royal_ordinance_focus }
		prerequisite = { focus = maud_focus }
		icon = GFX_goal_generic_secret_weapon
		x = -1
		y = 1
		relative_position_id = royal_ordinance_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 1.0
				uses = 2
				category = electronics
			}
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 1.0
				uses = 2
				category = rocketry
			}
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}
	focus = {
		id = air_rearmament_focus
		prerequisite = { focus = general_rearmament_focus }
		icon = GFX_goal_generic_air_doctrine
		x = -2
		y = 1
		relative_position_id = general_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 3
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = air_focus_bypass_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
			}
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = air_rearmament_focus_2AirBase }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}		
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 1
							}
							OR = {
								region = 1
								region = 2
								region = 3
							}
						}			
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
			}
		}
	}

	focus = {
		id = ENG_chiefs_of_staff_committee
		prerequisite = { focus = air_rearmament_focus }
		prerequisite = { focus = naval_rearmament_focus }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_chiefs_of_staff_committee
		x = 2
		y = 1
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			army_experience = 10
			navy_experience = 10
			air_experience = 10
			add_ideas = ENG_chiefs_of_staff_committee_idea
		}
	}

	focus = {
		id = fighter_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_generic_air_fighter
		x = -1
		y = 2
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = fighter_command_focus
				bonus = 1.0
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	focus = {
		id = bomber_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_generic_air_bomber
		x = 0
		y = 1
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = bomber_command_focus
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
	}
	focus = {
		id = coastal_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_generic_air_naval_bomber
		x = 1
		y = 2
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = coastal_command_focus
				bonus = 1.0
				uses = 2
				category = naval_bomber
				category = cas_bomber
			}
		}
	}
	focus = {
		id = aircraft_production_focus
		prerequisite = { focus = fighter_command_focus focus = bomber_command_focus focus = coastal_command_focus }
		icon = GFX_goal_generic_air_production
		x = 1
		y = 1
		relative_position_id = fighter_command_focus
		cost = 10
		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = british_fighter_discount
		}
	}
	focus = {
		id = uk_jet_focus
		prerequisite = { focus = aircraft_production_focus }
		icon = GFX_goal_generic_build_airforce
		x = 0
		y = 1
		relative_position_id = aircraft_production_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = uk_jet_focus
				bonus = 1.0
				uses = 4
				category = jet_technology
			}
		}
	}
	focus = {
		id = naval_rearmament_focus
		prerequisite = { focus = general_rearmament_focus }
		icon = GFX_goal_generic_construct_naval_dockyard 
		x = 2
		y = 1
		relative_position_id = general_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = naval_effort_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_naval_rearmament_focus_1dockyard }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = ENG_naval_rearmament_focus_1dockyard
			}
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = ENG_naval_rearmament_focus_1dockyard
			}
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = ENG_naval_rearmament_focus_1dockyard
			}
		}
	}

	focus = {
		id = ENG_anti_non_contact_committee
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_goal_generic_occupy_states_coastal
		x = 2
		y = 1
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_anti_non_contact_committee
				bonus = 1.0
				uses = 1
				category = naval_minelaying
			}
			add_tech_bonus = {
				name = ENG_anti_non_contact_committee
				bonus = 1.0
				uses = 2
				category = naval_minesweeping
			}
		}
	}

	focus = {
		id = ENG_secure_the_imperial_shipping_routes
		prerequisite = { focus = naval_rearmament_focus }
		prerequisite = { focus = uk_service_focus }
		icon = GFX_focus_generic_cruiser2
		x = 4
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_secure_the_imperial_shipping_routes
				bonus = 1.0
				uses = 2
				category = cl_tech
			}
			add_ideas = ENG_secure_the_imperial_shipping_routes
		}
	}

	focus = {
		id = uk_destroyer_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_focus_generic_destroyer
		x = -1
		y = 2
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 2
				category = dd_tech
			}
		}
	}

	focus = {
		id = ENG_a_s_warfare
		prerequisite = { focus = uk_destroyer_focus }
		icon = GFX_goal_generic_navy_anti_submarine
		x = 0
		y = 2
		relative_position_id = uk_destroyer_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		allow_branch = {
			has_dlc = "Man the Guns"
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_asw_warfare
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = asw_tech
			}	
		}
	}

	focus = {
		id = uk_convoy_focus
		prerequisite = { focus = uk_destroyer_focus }
		icon = GFX_goal_generic_navy_cruiser
		x = -1
		y = 1
		relative_position_id = uk_destroyer_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = british_convoy_discount
		}
	}

	focus = {
		id = ENG_anti_submarine_training_school
		prerequisite = { focus = uk_convoy_focus }
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 2
		offset = {
			x = 0
			y = -1
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_convoy_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_anti_submarine_training_school
				bonus = 1.0
				uses = 2
				category = convoy_defense_tree
			}
			add_ideas = ENG_anti_submarine_training_school
		}
	}

	focus = {
		id = uk_waves_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 1
		y = 2
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = uk_waves_focus
				bonus = 1.0
				uses = 3
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = uk_carrier_focus
		prerequisite = { focus = uk_waves_focus }
		mutually_exclusive = { focus = uk_battleship_focus }
		icon = GFX_goal_generic_navy_carrier
		x = -1
		y = 1
		relative_position_id = uk_waves_focus
		cost = 10
		ai_will_do = {
			factor = 0.25
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = uk_carrier_focus
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
			
		}
	}
	focus = {
		id = uk_battleship_focus
		prerequisite = { focus = uk_waves_focus }
		mutually_exclusive = { focus = uk_carrier_focus }
		icon = GFX_goal_generic_navy_battleship
		x = 1
		y = 1
		relative_position_id = uk_waves_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = uk_battleship_focus
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}
	focus = {
		id = uk_amphibious_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 1
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes	
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = uk_amphibious_focus
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = uk_amphibious_focus
				bonus = 1.0
				uses = 2
				category = tp_tech
			}
		}
	}

	focus = {
		id = ENG_expand_the_repair_yards
		prerequisite = { focus = uk_battleship_focus focus = uk_carrier_focus }
		icon = GFX_goal_generic_production
		x = -1
		y = 1
		relative_position_id = uk_battleship_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_expand_the_repair_yards_2dockyard }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_expand_the_repair_yards_2dockyard
			}
			add_ideas = ENG_expand_the_repair_yards
		}
	}

	focus = {
		id = ENG_vanguard
		prerequisite = { focus = uk_battleship_focus }
		icon = GFX_focus_generic_navy_battleship2
		x = 0
		y = 2
		relative_position_id = uk_battleship_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {
			date > 1944.1.1
			has_tech = advanced_ship_hull_heavy
			has_full_control_of_state = 133
			#has_tech = improved_heavy_battery
			#has_tech = dp_secondary_battery
			#has_tech = antiair5
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			create_equipment_variant = {
				name = "Vanguard"
				type = ship_hull_heavy_4
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_3
					fixed_ship_anti_air_slot = ship_anti_air_4
					fixed_ship_fire_control_system_slot = ship_fire_control_system_3
					fixed_ship_radar_slot = ship_radar_3
					fixed_ship_engine_slot = heavy_ship_engine_4
					fixed_ship_secondaries_slot = dp_ship_secondaries
					fixed_ship_armor_slot = ship_armor_bb_3
					front_1_custom_slot = ship_heavy_battery_3
					mid_1_custom_slot = ship_anti_air_4
					mid_2_custom_slot = dp_ship_secondaries
					mid_3_custom_slot = ship_airplane_launcher_2
					rear_1_custom_slot = ship_heavy_battery_3
				}
			}
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				133 = {
					custom_effect_tooltip = ENG_vanguard_tt_hms
				}
				hidden_effect = { load_oob = "ENG_vanguard_hms" }
			}
			if = {
				limit = {
					has_government = communism
				}
				133 = {
					custom_effect_tooltip = ENG_vanguard_tt_communism
				}
				hidden_effect = { load_oob = "ENG_vanguard_communist" }
			}
		}
	}
	
	#focus = {
	#	id = uk_embargo_focus
	#	available = { threat > 0.1 }
	#	icon = GFX_goal_support_democracy
	#	x = 12
	#	y = 0
	#	cost = 10
	#	ai_will_do = {
	#		factor = 1
	#	}	
	#	completion_reward = {
	#		every_other_country = {
	#			limit = { NOT = { has_government = democratic } }
	#			add_opinion_modifier = { target = ENG modifier = minor_sanctions }
	#			add_opinion_modifier = { target = ENG modifier = minor_sanctions_relations } 
	#		}
	#	}
	#}

	### EMPIRE ###

	focus = {
		id = uk_empire_focus 
		mutually_exclusive = { focus = ENG_revisit_colonial_policy }
		available = {
			NOT = { has_government = communism }
			num_subjects > 0
		} 
		icon = GFX_goal_generic_national_unity
		x = 28
		y = 0
		offset = {
			x = -2
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
		}	

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
		}
	}
	focus = {
		id = uk_service_focus 
		prerequisite = { focus = uk_empire_focus }
		available = {
			
		} 
		icon = GFX_goal_generic_position_armies
		x = -2
		y = 1
		offset = {
			x = 2
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_empire_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			navy_experience = 25
			air_experience = 25
			add_ideas = ENG_service_overseas_idea
		}
	}
	focus = {
		id = uk_mediterranean_focus 
		prerequisite = { focus = uk_service_focus }
		available = {
			447 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		} 
		icon = GFX_goal_generic_construct_military
		x = 5
		y = 1
		relative_position_id = uk_service_focus
		cost = 10
		completion_reward = {
			if = {
				limit = {
					has_idea = ENG_fortify_the_empire_1
				}
				swap_ideas = {
					remove_idea = ENG_fortify_the_empire_1
					add_idea = ENG_fortify_the_empire_2
				}
			}
			if = {
				limit = {
					NOT = { has_idea = ENG_fortify_the_empire_1 }
					NOT = { has_idea = ENG_fortify_the_empire_2 }
				}
				add_ideas = ENG_fortify_the_empire_1
			}
			447 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = uk_rock_focus 
		prerequisite = { focus = uk_mediterranean_focus }
		mutually_exclusive = { focus = uk_spain_focus }
		available = {
			118 = { is_owned_and_controlled_by = ENG }
		} 
		icon = GFX_goal_generic_construct_military
		x = -3
		y = 1
		relative_position_id = uk_mediterranean_focus
		cost = 10
		completion_reward = {
			118 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = uk_spain_focus
		prerequisite = { focus = uk_mediterranean_focus }
		mutually_exclusive = { focus = uk_rock_focus }

		available = {
			any_other_country = {
				original_tag = SPR
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} #SPA/SPR not in a faction
		#prerequisite = { focus = uk_carrier_focus }
		icon = GFX_goal_generic_demand_territory
		x = -1
		y = 1
		relative_position_id = uk_mediterranean_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			# + relations with SPA/SPR - they become more democratic and like fascist/commies less
			if = {
				limit = {
					has_government = democratic
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = democratic }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = democratic_leanings_bad }
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = fascism }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = fascism_leanings_bad }
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
					NOT = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = fascism }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = neutrality_leanings_bad }
					}
				}
			}
			hidden_effect = {
				news_event = { hours = 5 id = news.224 }
			}
		}
	}

	focus = {
		id = uk_protect_suez
		prerequisite = { focus = uk_mediterranean_focus }
		icon = GFX_goal_generic_defence
		x = 0
		y = 2
		relative_position_id = uk_mediterranean_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available = {
			447 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		# Needs province based trigger to work properly
		#bypass = {
		#	447 = {
		#		free_building_slots = {
		#			building = coastal_bunker
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = naval_base
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = air_base
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = bunker
		#			size < 1
		#		}
		#	}
		#}

		completion_reward = {
			447 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 1071
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_balkan_strategy
		prerequisite = { focus = uk_protect_suez }
		prerequisite = { focus = uk_malta_focus }
		icon = GFX_goal_generic_improve_relations
		available = {
			has_government = democratic
		}
		bypass = {
			NOT = {
				country_exists = YUG
				country_exists = GRE
				country_exists = ROM
				country_exists = BUL
				country_exists = HUN
			}
		}
		x = 1
		y = 1
		relative_position_id = uk_protect_suez
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = YUG
						tag = GRE
						tag = ROM
					}
					NOT = {
						OR = {
							AND = {
								is_in_faction_with = GER
								GER = { has_government = fascism }
							}
							AND = {
								is_in_faction_with = ITA
								ITA = { has_government = fascism }
							}
							GRE = { 
								has_country_flag = GRE_britain_rebuffed
							}
						}
					}
				}
				country_event = { id = generic.19 }
				add_offsite_building = { type = arms_factory level = 2 }
			}
			YUG = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			GRE = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			ROM = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			BUL = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_bad } }
			HUN = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_bad } }
			hidden_effect = {
				news_event = {
					hours = 6 id = news.228
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				country_event = {
					id = DOD_yugoslavia.40
					days = 5
				}
			}
		}
	}

	focus = {
		id = uk_sanction_italy_focus
		available = {
			ITA = {
				ENG_focus_available_embargo_sanction = yes
			}	
		}
		bypass = {
			has_war_with = ITA
		}
		prerequisite = { focus = uk_balkan_strategy }
		icon = GFX_goal_generic_trade
		x = 0
		y = 1
		relative_position_id = uk_balkan_strategy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			ITA = {
				add_opinion_modifier = { target = ENG modifier = embargo }
				add_opinion_modifier = { target = ENG modifier = sanctions_relations } 
			}
		}
	}
	focus = {
		id = ENG_war_with_italy
		available = {
			has_offensive_war = no
			ITA = {
				ENG_focus_available_war = yes
			}	
		}
		bypass = {
			has_war_with = ITA
		}
		will_lead_to_war_with = ITA
		prerequisite = { focus = uk_sanction_italy_focus }
		icon = GFX_focus_attack_italy
		x = 0
		y = 1
		relative_position_id = uk_sanction_italy_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
				expire = 0
			} 
		}
	}	

	focus = {
		id = uk_turkey_focus
		prerequisite = { focus = uk_protect_suez }
		mutually_exclusive = { focus = uk_greece_focus }
		available = {
			TUR = {
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} #TUR not in a faction
		#prerequisite = { focus = uk_battleship_focus }
		icon = GFX_goal_generic_political_pressure
		x = -3
		y = 1
		relative_position_id = uk_protect_suez
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			# + relations with TUR - they become more democratic and like fascist/commies less
			if = {
				limit = { has_government = democratic }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = democratic }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = democratic_leanings_bad }
				}
			}
			if = {
				limit = { has_government = fascism }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = fascism }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = fascism_leanings_bad }
				}
			}
			if = {
				limit = { has_government = neutrality }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = neutrality }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = neutrality_leanings_bad }
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.225 }
			}
		}
	}
	focus = {
		id = uk_greece_focus 
		prerequisite = { focus = uk_protect_suez } 
		mutually_exclusive = { focus = uk_turkey_focus }
		available = {
			GRE = {
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} 
		icon = GFX_goal_generic_political_pressure
		x = -1
		y = 1
		relative_position_id = uk_protect_suez
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = { has_government = democratic }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = democratic }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = democratic_leanings_bad }
				}
			}
			if = {
				limit = { has_government = fascism }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = fascism }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = fascism_leanings_bad }
				}
			}
			if = {
				limit = { has_government = neutrality }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = neutrality }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = neutrality_leanings_bad }
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.226 }
			}
		}
	}
	focus = {
		id = uk_malta_focus 
		prerequisite = { focus = uk_mediterranean_focus }
		available = {
			116 = { is_owned_and_controlled_by = ENG }
		}		
		icon = GFX_goal_generic_construct_military
		x = 2
		y = 2
		relative_position_id = uk_mediterranean_focus
		cost = 10

		available_if_capitulated = yes

		# Needs province based trigger to work properly
		#bypass = {
		#	116 = {
		#		free_building_slots = {
		#			building = coastal_bunker
		#			size < 2
		#		}
		#		free_building_slots = {
		#			building = air_base
		#			size < 1
		#		}
		#	}
		#}

		completion_reward = {
			116 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 12003
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	### DECOLONIZATION ###

	focus = {
		id = ENG_revisit_colonial_policy
		mutually_exclusive = { focus = uk_empire_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = { 
			is_subject = no
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 33
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = ENG_global_defense
					has_country_leader = {
					    name = "Winston Churchill"
					    ruling_only = yes
					}
				}
			}
		}	
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = -0.05
			add_popularity = { ideology = communism popularity = 0.05 }
			add_political_power = 80
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			hidden_effect = { news_event = { id = mtg_news.14 days = 1 } }
		}
	}

	focus = {
		id = ENG_guide_the_colonies
		prerequisite = { focus = ENG_revisit_colonial_policy }
		available = { 
			is_subject = no
			num_subjects > 0
		}
		bypass = {
			num_subjects < 1
		}

		continue_if_invalid = yes

		icon = GFX_focus_chi_british_cooperation
		x = 3
		y = 1
		relative_position_id = ENG_revisit_colonial_policy
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_political_power = 60
			CAN = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			AST = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			NZL = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			MAL = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_2
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
		}
	}

	focus = {
		id = ENG_towards_dominion_independence
		prerequisite = { focus = ENG_guide_the_colonies }
		available = { 
			is_subject = no
			OR = {
				CAN = { is_subject_of = ENG }
				SAF = { is_subject_of = ENG }
				AST = { is_subject_of = ENG }
				NZL = { is_subject_of = ENG }
			}
		}
		bypass = {
			OR = {
				AND = {
					CAN = { is_subject = no }
					SAF = { is_subject = no }
					AST = { is_subject = no }
					NZL = { is_subject = no }
				}
				has_completed_focus = ENG_bring_the_dominions_back_into_the_fold
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_tfv_sever_ties_with_uk
		x = -1
		y = 1
		relative_position_id = ENG_guide_the_colonies
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 100
			add_manpower = 100000
			CAN = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			AST = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			NZL = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
		}
	}

	focus = {
		id = ENG_foundations_for_an_indian_state
		prerequisite = { focus = ENG_towards_dominion_independence }
		available = { 
			is_subject = no
			RAJ = { is_subject_of = ENG }
		}
		bypass = {
			RAJ = { is_subject = no }
		}

		continue_if_invalid = yes

		icon = GFX_focus_RAJ_all_india_forward_bloc
		x = -1
		y = 1
		relative_position_id = ENG_towards_dominion_independence
		cost = 10
		ai_will_do = {
			factor = 1
		}	

		complete_tooltip = {
			RAJ = {
				every_state = {
					limit = { has_state_flag = ENG_foundations_for_an_indian_state_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_political_power = 60
			RAJ = {
				if = {
					limit = { is_subject_of = ENG }
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_raj_1
					hidden_effect = { country_event = { id = mtg_britain.19 hours = 6 } }
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_core_of = PREV
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						set_state_flag = ENG_foundations_for_an_indian_state_2IC
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_core_of = PREV
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						set_state_flag = ENG_foundations_for_an_indian_state_2IC
					}
				}

			}
		}
	}

	focus = {
		id = ENG_the_three_nation_solution
		prerequisite = { focus = ENG_foundations_for_an_indian_state }
		available = { 
			is_subject = no
			RAJ = { is_subject_of = ENG }
		}
		bypass = {
		}

		continue_if_invalid = yes

		icon = GFX_focus_RAJ_two_nation_theory
		x = 1
		y = 1
		relative_position_id = ENG_foundations_for_an_indian_state
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			RAJ = {
				if = {
					limit = {
						has_full_control_of_state = 444
						has_full_control_of_state = 443
						has_full_control_of_state = 445
						has_full_control_of_state = 440
						has_full_control_of_state = 442
						has_full_control_of_state = 441
						has_full_control_of_state = 430
					}
					effect_tooltip = {
						add_opinion_modifier = { target = ENG modifier = ENG_three_nation_solution }
						release = BAN
						ENG = { set_autonomy = { target = BAN autonomy_state = autonomy_colony } }
						BAN = {
							add_ideas = ENG_guided_by_britain_raj_1
							hidden_effect = {
								set_politics = {
									ruling_party = democratic
									last_election = "1936.1.1"
									election_frequency = 48
									elections_allowed = yes
								}
								set_popularities = {
									democratic = 65
									fascism = 10
									communism =  2
									neutrality = 23
								}
								every_other_country = {
									limit = {
										has_war_with = ENG
									}
									BAN = {
										add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
									}
								}
							}
						}
						release = PAK
						ENG = { set_autonomy = { target = PAK autonomy_state = autonomy_colony } }
						PAK = {
							add_ideas = ENG_guided_by_britain_raj_1
							hidden_effect = {
								set_politics = {
									ruling_party = neutrality
									last_election = "1935.11.14"
									election_frequency = 48
									elections_allowed = no
								}
								set_popularities = {
									democratic = 17
									fascism = 2
									communism = 1
									neutrality = 80
								}
								every_other_country = {
									limit = {
										has_war_with = ENG
									}
									PAK = {
										add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
									}
								}
							}
						}
					}
					hidden_effect = {
						country_event = { id = mtg_britain.20 hours = 6 }
					}
				}
			}
		}
	}

	focus = {
		id = ENG_towards_indian_independence
		prerequisite = { focus = ENG_foundations_for_an_indian_state }
		available = { 
			is_subject = no
			RAJ = { is_subject_of = ENG }
		}
		bypass = {
			OR = {
				RAJ = { is_subject = no }
				has_completed_focus = ENG_reclaim_the_jewel_in_the_crown
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_tfv_sever_ties_with_uk
		x = 0
		y = 2
		relative_position_id = ENG_foundations_for_an_indian_state
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 150
			add_manpower = 150000
			RAJ = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_RAJ_1
					add_idea = ENG_guided_by_britain_RAJ_2
				}
				hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 } }
			}
			if = {
				limit = {
					country_exists = PAK
				}
				PAK = {
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 } }
				}
			}
			if = {
				limit = {
					country_exists = BAN
				}
				BAN = {
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 } }
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					RAJ = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					BAN = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = BAN autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					PAK = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = PAK autonomy_state = autonomy_dominion }
			}
			RAJ = {
				drop_cosmetic_tag = yes
				retire_country_leader = yes
			}
		}
	}

	focus = {
		id = ENG_withdraw_from_contested_territories
		prerequisite = { focus = ENG_guide_the_colonies }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 659
				has_full_control_of_state = 326
				has_full_control_of_state = 332
				has_full_control_of_state = 331
				has_full_control_of_state = 119
				has_full_control_of_state = 118
			}
		}
		bypass = {
			NOT = {
				OR = {
					owns_state = 659
					owns_state = 326
					owns_state = 332
					owns_state = 331
					owns_state = 119
					owns_state = 118
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		relative_position_id = ENG_guide_the_colonies
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_stability = -0.15
			add_manpower = 25000
			if = {
				limit = {
					has_full_control_of_state = 659
				}
				YEM = {
					transfer_state = 659
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 326
				}
				event_target:WTT_current_china_leader = {
					transfer_state = 326
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 332
				}
				CAN = {
					transfer_state = 332
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 331
				}
				CAN = {
					transfer_state = 331
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 299
					has_full_control_of_state = 720
				}
				ARG = {
					transfer_state = 299
					299 = { add_core_of = ARG }
					transfer_state = 720
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 119
				}
				IRE = {
					transfer_state = 119
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 118
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						if = {
							limit = {
								country_exists = SPD
							}
							tag = SPD
						}
						else_if = {
							limit = {
								country_exists = SPA
							}
							tag = SPA
						}
						else_if = {
							limit = {
								country_exists = SPB
							}
							tag = SPB
						}
						else_if = {
							limit = {
								country_exists = SPC
							}
							tag = SPC
						}
					}
					transfer_state = 118
					118 = { add_core_of = PREV }
					if = {
						limit = {
							NOT = { has_global_flag = scw_over }
						}
						every_other_country = {
							limit = {
								original_tag = SPR
								exists = yes
							}
							118 = { add_core_of = PREV }
						}
					}
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_mediterranean
		prerequisite = { focus = ENG_withdraw_from_contested_territories }
		available = { 
			is_subject = no
			OR = {
			has_full_control_of_state = 116
			has_full_control_of_state = 183
		}
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 116
					owns_state = 183
		}
			}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management
		x = -1
		y = 1
		relative_position_id = ENG_withdraw_from_contested_territories
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 25
			add_manpower = 10000
			if = {
				limit = {
					has_full_control_of_state = 116
				}
				release = MLT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 183
				}
				release = CYP
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = CYP
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						CYP = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_africa
		prerequisite = { focus = ENG_self_government_for_the_mediterranean }
		available = { 
			is_subject = no
			OR = {
			has_full_control_of_state = 767
			has_full_control_of_state = 551
			has_full_control_of_state = 549
			has_full_control_of_state = 269
			has_full_control_of_state = 548
			has_full_control_of_state = 547
			has_full_control_of_state = 546
			has_full_control_of_state = 771
			has_full_control_of_state = 770
			has_full_control_of_state = 545
			has_full_control_of_state = 542
			has_full_control_of_state = 558
			has_full_control_of_state = 274
			has_full_control_of_state = 700
			has_full_control_of_state = 701
		}
		}

		bypass = {
			NOT = {
				AND = {
					owns_state = 767
					owns_state = 551
					owns_state = 549
					owns_state = 269
					owns_state = 548
					owns_state = 547
					owns_state = 546
					owns_state = 771
					owns_state = 770
					owns_state = 545
					owns_state = 542
					owns_state = 558
					owns_state = 274
					owns_state = 700
					owns_state = 701
		}
			}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management
		x = 0
		y = 2
		relative_position_id = ENG_self_government_for_the_mediterranean
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 100
			add_manpower = 100000
			if = {
				limit = {
					has_full_control_of_state = 767
					has_full_control_of_state = 551
					has_full_control_of_state = 549
				}
				release = SUD
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SUD autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SUD
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SUD = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 269
				}
				release = SOM
				if = {
					limit = {
						SOM = { is_subject = no }
					}
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = { target = SOM autonomy_state = autonomy_dominion }
					}
					if = {
						limit = {
							NOT = { has_dlc = "Together for Victory" }
						}
						puppet = SOM
					}
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SOM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 548
				}
				release = UGA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = UGA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = UGA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						UGA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 547
				}
				release = KEN
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = KEN autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = KEN
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						KEN = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 546
				}
				release = TZN
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = TZN autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = TZN
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						TZN = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 771
				}
				release = ZAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ZAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ZAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ZAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 770
				}
				release = MLW
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLW autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLW
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLW = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 545
				}
				release = ZIM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ZIM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ZIM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ZIM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 542
				}
				release = BOT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BOT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BOT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BOT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 558
				}
				release = NGA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = NGA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = NGA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						NGA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 274
				}
				release = GHA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GHA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GHA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GHA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 700
				}
				release = SIE
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SIE autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SIE
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SIE = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 701
				}
				release = GAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_middle_east
		prerequisite = { focus = ENG_withdraw_from_contested_territories }
		available = { 
			is_subject = no
			OR = {
			has_full_control_of_state = 454
			has_full_control_of_state = 455
			has_full_control_of_state = 453
			has_full_control_of_state = 452
			has_full_control_of_state = 447
			has_full_control_of_state = 446
			has_full_control_of_state = 457
			has_full_control_of_state = 456
			has_full_control_of_state = 656
			has_full_control_of_state = 765
			has_full_control_of_state = 658
		}
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 454
					owns_state = 455
					owns_state = 453
					owns_state = 452
					owns_state = 447
					owns_state = 446
					owns_state = 457
					owns_state = 456
					owns_state = 656
					owns_state = 765
					owns_state = 658
			}
		}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management
		x = 1
		y = 1
		relative_position_id = ENG_withdraw_from_contested_territories
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 50
			add_manpower = 50000
			if = {
				limit = {
					has_full_control_of_state = 454
					date < 1939.01.01
				}
				release = PAL
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = PAL autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = PAL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						PAL = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 454
					date > 1939.01.01
				}
				release = ISR
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ISR autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ISR
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ISR = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 455
				}
				release = JOR
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = JOR autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = JOR
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						JOR = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 453
					has_full_control_of_state = 452
					has_full_control_of_state = 447
					has_full_control_of_state = 446
					has_full_control_of_state = 457
					has_full_control_of_state = 456
				}
				release = EGY
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = EGY autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = EGY
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						EGY = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 656
				}
				release = KUW
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = KUW autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = KUW
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						KUW = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 765
				}
				release = QAT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = QAT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = QAT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						QAT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 658
				}
				release = UAE
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = UAE autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = UAE
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						UAE = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_americas
		prerequisite = { focus = ENG_self_government_for_the_middle_east }
		available = { 
			is_subject = no
			OR = {
			has_full_control_of_state = 311
			has_full_control_of_state = 690
			has_full_control_of_state = 693
			has_full_control_of_state = 689
			has_full_control_of_state = 691
			has_full_control_of_state = 692
			has_full_control_of_state = 308
			has_full_control_of_state = 687
		}
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 311
					owns_state = 690
					owns_state = 693
					owns_state = 689
					owns_state = 691
					owns_state = 692
					owns_state = 308
					owns_state = 687
		}
			}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_the_middle_east
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 50
			add_manpower = 50000
			if = {
				limit = {
					has_full_control_of_state = 311
				}
				release = BLZ
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BLZ autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BLZ
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BLZ = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 690
					has_full_control_of_state = 693
				}
				release = BAH
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BAH autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BAH
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BAH = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 689
				}
				release = JAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = JAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = JAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						JAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 691
				}
				release = TRI
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = TRI autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = TRI
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						TRI = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 692
					has_full_control_of_state = 308
				}
				release = BAS
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BAS autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BAS
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BAS = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 687
				}
				release = GYA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GYA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GYA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GYA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_asia
		prerequisite = { focus = ENG_self_government_for_the_americas }
		available = { 
			is_subject = no
			OR = {
			has_full_control_of_state = 422
			has_full_control_of_state = 281
			has_full_control_of_state = 636
			has_full_control_of_state = 643
			has_full_control_of_state = 639
			has_full_control_of_state = 725
			has_full_control_of_state = 711
			has_full_control_of_state = 712
			OR = {
				RAJ = {
					is_subject_of = ENG
					has_full_control_of_state = 640
					has_full_control_of_state = 288
				}
				RAJ = { NOT = { is_subject_of = ENG } }
				ENG = {
					has_full_control_of_state = 640
					has_full_control_of_state = 288
				}
			}
		}
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 422
					owns_state = 281
					owns_state = 636
					owns_state = 643
					owns_state = 639
					owns_state = 725
					owns_state = 711
					owns_state = 712
					OR = {
						RAJ = {
							is_subject_of = ENG
							owns_state = 640
							owns_state = 288
		}
						RAJ = { is_subject = no }
						ENG = {
							owns_state = 640
							owns_state = 288
						}
					}
				}
			}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_the_americas
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 75
			add_manpower = 75000
			if = {
				limit = {
					has_full_control_of_state = 422
				}
				release = SRL
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SRL autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SRL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SRL = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 281
				}
				release = MLD
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLD autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLD
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLD = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 636
					has_full_control_of_state = 643
					has_full_control_of_state = 639
					has_full_control_of_state = 725
				}
				release = FIJ
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = FIJ autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = FIJ
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						FIJ = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					RAJ = {
						has_full_control_of_state = 640
						has_full_control_of_state = 288
						is_subject = yes
					}
				}
				RAJ = { release = BRM }
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BRM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BRM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BRM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					MAL = {
						is_subject_of = ENG
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = MAL autonomy_state = autonomy_dominion }
			}
			MAL = {
				drop_cosmetic_tag = yes
				retire_country_leader = yes
			}
			RAJ = {
				transfer_state = 733
			}
			AST = {
				transfer_state = 711
				transfer_state = 712
			}
		}
	}

	focus = {
		id = ENG_decolonization
		prerequisite = { focus = ENG_self_government_for_africa }
		prerequisite = { focus = ENG_self_government_for_asia }
		prerequisite = { focus = ENG_towards_indian_independence }
		available = { 
			is_subject = no
		}
		bypass = {
			num_subjects < 1
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_decolonization
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_africa
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY}
		completion_reward = {
			set_global_flag = ENG_decolonized
			add_stability = 0.1
			add_popularity = { ideology = communism popularity = 0.05 }
			add_political_power = 100
			add_manpower = 100000
			every_other_country = {
				limit = {
					is_subject_of = ENG
					has_idea = ENG_guided_by_britain_2
				}
				remove_ideas = ENG_guided_by_britain_2
				if = {
					limit = {
						NOT = { has_country_flag = ENG_remain_as_puppet }
					}
					ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_free } }
					if = {
						limit = {
							NOT = { surrender_progress > 0.1 }
						}
						random = {
							chance = 75
							every_enemy_country = {
								limit = {
									has_war_with = PREV
								}
								white_peace = PREV
							}
							leave_faction = yes
							remove_from_tech_sharing_group = commonwealth_research
							set_country_flag = ENG_decolonization_left_faction
							add_ai_strategy = {
								type = alliance
								id = "ENG"
								value = -200
							}
							if = {
								limit = {
									original_tag = CAN
								}
								drop_cosmetic_tag = yes
							}
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					has_idea = ENG_guided_by_britain_raj_2
				}
				remove_ideas = ENG_guided_by_britain_raj_2
				if = {
					limit = {
						NOT = { has_country_flag = ENG_remain_as_puppet }
					}
					ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_free } }
					if = {
						limit = {
							NOT = { surrender_progress > 0.1 }
						}
						random = {
							chance = 75
							every_enemy_country = {
								limit = {
									has_war_with = PREV
								}
								white_peace = PREV
							}
							leave_faction = yes
							remove_from_tech_sharing_group = commonwealth_research
							set_country_flag = ENG_decolonization_left_faction
							add_ai_strategy = {
								type = alliance
								id = "ENG"
								value = -200
							}
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							ENG = { has_completed_focus = ENG_the_three_nation_solution }
							OR = {
								has_idea = RAJ_marginalized_muslim_community
								has_idea = RAJ_marginalized_muslim_community_angry
							}
						}
						remove_ideas = RAJ_marginalized_muslim_community
						remove_ideas = RAJ_marginalized_muslim_community_angry
						add_ideas = RAJ_marginalized_muslim_community_happy
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					NOT = {
						OR = {
							tag = CAN
							tag = SAF
							tag = RAJ
							tag = AST
							tag = NZL
							tag = MAL
						}
					}
					OR = {
						has_government = ROOT
						has_government = neutrality
					}
				}
				ROOT = {
					set_autonomy = { target = PREV autonomy_state = autonomy_free }
				}
				if = {
					limit = {
						NOT = { surrender_progress > 0.1 }
					}
					random = {
						chance = 50
						every_enemy_country = {
							limit = {
								has_war_with = PREV
							}
							white_peace = PREV
						}
						leave_faction = yes
						set_country_flag = ENG_decolonization_left_faction
						add_ai_strategy = {
							type = alliance
							id = "ENG"
							value = -200
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					NOT = {
						OR = {
							tag = CAN
							tag = SAF
							tag = RAJ
							tag = AST
							tag = NZL
							tag = MAL
						}
					}
					NOT = {
						OR = {
							has_government = ROOT
							has_government = neutrality
						}
					}
				}
				ROOT = {
					set_autonomy = { target = PREV autonomy_state = autonomy_free }
				}
				if = {
					limit = {
						NOT = { surrender_progress > 0.1 }
					}
					random = {
						chance = 50
						every_enemy_country = {
							limit = {
								has_war_with = PREV
							}
							white_peace = PREV
						}
						leave_faction = yes
						set_country_flag = ENG_decolonization_left_faction
						add_ai_strategy = {
							type = alliance
							id = "ENG"
							value = -200
						}
					}
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = CAN }
					NOT = { is_in_faction_with = SAF }
					NOT = { is_in_faction_with = RAJ }
					NOT = { is_in_faction_with = AST }
					NOT = { is_in_faction_with = NZL }
				}
				remove_from_tech_sharing_group = commonwealth_research
			}
			if = {
				limit = {
					has_war = yes
				}
				if = {
					limit = {
						CAN = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					CAN = { create_faction = ENG_coalition_of_free_commonwealth_states }
				}
				else_if = {
					limit = {
						AST = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					AST = { create_faction = ENG_coalition_of_free_commonwealth_states }
				}
				else_if = {
					limit = {
						RAJ = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					RAJ = { create_faction = ENG_coalition_of_free_commonwealth_states }
				}
				else_if = {
					limit = {
						SAF = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					SAF = { create_faction = ENG_coalition_of_free_commonwealth_states }
				}
				else_if = {
					limit = {
						NZL = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					NZL = { create_faction = ENG_coalition_of_free_commonwealth_states }
				}
				else_if = {
					limit = {
						NOT = {
							CAN = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							AST = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							RAJ = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							SAF = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							NZL = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
					}
					random_other_country = {
						limit = {
							NOT = {
								OR = {
									tag = CAN
									tag = SAF
									tag = RAJ
									tag = AST
									tag = NZL
								}
							}
							has_country_flag = ENG_decolonization_left_faction
						}
						create_faction = ENG_coalition_of_free_commonwealth_states
					}
				}
				every_other_country = {
					limit = {
						has_country_flag = ENG_decolonization_left_faction
					}
					random_other_country = {
						limit = {
							has_country_flag = ENG_decolonization_left_faction
							is_faction_leader = yes
						}
						add_to_faction = PREV
					}
				}
			}
			clr_country_flag = ENG_switched_to_communism_civil_war_flag
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			hidden_effect = { news_event = { id = mtg_news.15 days = 1 } }
		}
	}

	### END OF DECOLONIZATION ###
	
	focus = {
		id = uk_colonial_focus 
		prerequisite = { focus = uk_service_focus }
		icon = GFX_focus_research2
		x = -5
		y = 1
		relative_position_id = uk_service_focus
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = { ENG_colonial_elite }
		}
	}

	focus = {
		id = uk_asia_focus 
		prerequisite = { focus = uk_colonial_focus }
		
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		icon = GFX_goal_generic_construct_civilian
		x = -4
		y = 1
		relative_position_id = uk_colonial_focus
		cost = 10

		available_if_capitulated = yes

		bypass = {
			336 = {
				free_building_slots = {
					building = dockyard
					size < 1
					include_locked = yes
				}				
			}
			326 = {
				free_building_slots = {
					building = industrial_complex
					size < 1
					include_locked = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = ENG_fortify_the_empire_1
				}
				swap_ideas = {
					remove_idea = ENG_fortify_the_empire_1
					add_idea = ENG_fortify_the_empire_2
				}
			}
			if = {
				limit = {
					NOT = { has_idea = ENG_fortify_the_empire_1 }
					NOT = { has_idea = ENG_fortify_the_empire_2 }
				}
				add_ideas = ENG_fortify_the_empire_1
			}
			336 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
						OWNER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
					} 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			326 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
						OWNER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = uk_burma_focus
		prerequisite = { focus = uk_asia_focus } 
		available = {
			CHI = { 
				has_war_with = JAP 
				NOT = { has_war_with = ENG }
			}
			JAP = { NOT = { is_in_faction_with = ENG } }
		}

		bypass = {
			CHI = { exists = no }
		}

		icon = GFX_goal_generic_construct_infrastructure
		x = -2
		y = 1
		relative_position_id = uk_asia_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			640 = {
				free_building_slots = {
					building = infrastructure
					size < 1
				}
			}
			325 = {
				free_building_slots = {
					building = infrastructure
					size < 1
				}
			}
			601 = {
				free_building_slots = {
					building = infrastructure
					size < 2
				}
				free_building_slots = {
					building = air_base
					size < 1
				}
				free_building_slots = {
					building = arms_factory
					size < 1
					include_locked = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			640 = {
				if = {
					limit = { 
						OR = { 
							ENG = { controls_state = 640 }
							any_other_country = {
								is_in_faction_with = ENG
								controls_state = 640
							} 
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			325 = {
				if = {
					limit = { 
					OR = { 
							CHI = { controls_state = 325 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 640
							} 
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			601 = {
				if = {
					limit = { 
						OR = { 
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							} 
						} }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			add_war_support = 0.05
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				unlock_decision_tooltip = CHI_expand_the_burma_road
			}
			CHI = {
				add_opinion_modifier = { target = ENG modifier = burma_road_good } 
				country_event = britain.4
			}
			YUN = {
				add_opinion_modifier = { target = ENG modifier = burma_road_good } 
				country_event = britain.5
			}
			JAP = {
				add_opinion_modifier = { target = ENG modifier = burma_road_bad } 
			} 
		}
	}
	focus = {
		id = uk_sanction_japan_focus
		available = {
			JAP = { 
				ENG_focus_available_embargo_sanction = yes
			}	
			has_government = democratic
		}
		bypass = {
			has_war_with = JAP
		}
		prerequisite = { focus = uk_burma_focus }
		icon = GFX_goal_generic_trade
		x = 0
		y = 2
		relative_position_id = uk_burma_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			JAP = {
				add_opinion_modifier = { target = ENG modifier = embargo }
				add_opinion_modifier = { target = ENG modifier = sanctions_relations } 
			}
		}
	}
	focus = {
		id = ENG_war_with_japan
		available = {
			has_offensive_war = no
			JAP = {
				ENG_focus_available_war = yes
			}	
			has_government = democratic
		}
		bypass = {
			has_war_with = JAP
		}
		will_lead_to_war_with = JAP
		prerequisite = { focus = uk_sanction_japan_focus }
		prerequisite = { focus = peninsular_focus }
		prerequisite = { focus = hk_air_focus }
		icon = GFX_focus_attack_japan
		x = 2
		y = 1
		relative_position_id = uk_sanction_japan_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			} 
		}
	}


	focus = {
		id = singapore_focus
		prerequisite = { focus = uk_asia_focus }
		icon = GFX_goal_generic_fortify_city
		x = 0
		y = 1
		relative_position_id = uk_asia_focus
		cost = 10

		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = { 
			navy_experience = 25
			336 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 12299
					instant_build = yes
				}
				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = singapore_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = sp_landward_forts_focus
		prerequisite = { focus = singapore_focus }
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = singapore_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}


		available_if_capitulated = yes

		bypass = {
			336 = {
				free_building_slots = {
					building = anti_air_building
					size < 2
				}
			}
		}

		completion_reward = {
			336 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = bunker
					level = 4
					province = 12299
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = sp_landward_forts_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = peninsular_focus
		prerequisite = { focus = sp_landward_forts_focus }
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		relative_position_id = sp_landward_forts_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			336 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 7329
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 4310
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 7342
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = peninsular_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = hongkong_focus
		prerequisite = { focus = uk_asia_focus }
		icon = GFX_goal_generic_fortify_city
		x = 2
		y = 1
		relative_position_id = uk_asia_focus
		cost = 10
		ai_will_do = {
			factor = 0.25
		}
		available = { 
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			326 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 10062
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = hk_landward_forts_focus
		prerequisite = { focus = hongkong_focus }
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = hongkong_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available = {
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			326 = { 
				free_building_slots = {
					building = anti_air_building
					size < 2
				}
			}
		}

		completion_reward = { 
			326 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = bunker
					level = 4
					province = 10062
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2				
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = hk_air_focus
		prerequisite = { focus = hk_landward_forts_focus }
		icon = GFX_goal_generic_construct_civilian
		x = 0
		y = 1
		relative_position_id = hk_landward_forts_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available = {
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			326 = { 
				free_building_slots = {
					building = anti_air_building
					size < 2
				} 
				free_building_slots = {
					building = air_base
					size < 2
				}
			}
		}
		completion_reward = {
			326 = {
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = uk_china_focus 
		prerequisite = { focus = hk_air_focus  }
		available = {
			CHI = { exists = yes }
			has_government = democratic
		} 
		cancel = {
			CHI = { exists = no }
		}
		icon = GFX_goal_generic_improve_relations
		x = 0
		y = 1
		relative_position_id = hk_air_focus
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			event_target:WTT_current_china_leader = {
				add_offsite_building = { type = arms_factory level = 2 }
				add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
				add_timed_idea = { idea = democratic_influence days = 1095 }
				country_event = { id = generic.1 }
				set_country_flag = ENG_influenced_by_britain_flag
			}
			every_other_country = {
				limit = { 
					NOT = { has_government = democratic }
					num_of_factories > 30
				}
				add_opinion_modifier = { target = CHI modifier = democratic_leanings_bad }
			}
		}
	}
	
	focus = {
		id = uk_commonwealth_focus 
		prerequisite = { focus = uk_colonial_focus }
		available = {
			OR = {
				any_country = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
			}
		}
		bypass = {
			CAN = {
				exists = no
			}
			SAF = {
				exists = no
			}
			RAJ = {
				exists = no
			}
			AST = {
				exists = no
			}
			NZL = {
				exists = no
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
						is_core_of = RAJ
					}
					NOT = { state = 320 }
					NOT = { state = 321 }
					OWNER = {
						NOT = { tag = ENG }
					}
				}
			}
		}
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 4
		y = 1
		relative_position_id = uk_colonial_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			random_country = {
				limit = {
					original_tag = CAN
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
		}
	}

	focus = {
		id = ENG_british_commonwealth_air_training_plan
		prerequisite = { focus = uk_commonwealth_focus }
		icon = GFX_goal_generic_air_fighter2
		x = -1
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 10
		ai_will_do = {
			factor = 3
		}

		available = {
			OR = {
				CAN = { is_in_faction_with = ENG }
				SAF = { is_in_faction_with = ENG }
				RAJ = { is_in_faction_with = ENG }
				AST = { is_in_faction_with = ENG }
				NZL = { is_in_faction_with = ENG }
			}
		}

		bypass = {
		}

		completion_reward = {
			add_ideas = ENG_british_commonwealth_air_training_plan
			every_country = {
				limit = {
					is_subject_of = ROOT
					NOT = { original_tag = SAF }
				}
				add_ideas = ENG_british_commonwealth_air_training_plan
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = ENG_joint_air_training_scheme
				}
			}
		}
	}

	focus = {
		id = uk_india_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = RAJ
				is_in_faction_with = ROOT
			}
		} 
		icon = GFX_goal_generic_construct_civ_factory
		x = -3
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 10

		available_if_capitulated = yes

		bypass = {
			RAJ = {
				custom_trigger_tooltip = {
					tooltip = construction_effort_tt
					all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_india_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_india_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_india_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			RAJ = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_1IC
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_india_focus
				}
			}
		}
	}
	
	focus = {
		id = uk_free_india_focus 
		prerequisite = { focus = uk_india_focus }
		mutually_exclusive = { focus = ENG_indian_autonomy }
		available = {
			if = {
				limit = { has_dlc = "Together for Victory" }
				OR = {
					AND = {
						date > 1943.10.01
						RAJ = {
							is_subject_of = ENG
							has_war = no
						}
					}
					AND = {
						NOT = { has_government = democratic }
						RAJ = {
							is_subject_of = ENG
							has_war = no
						}
					}
				}
				else = {				
					has_global_flag = indian_national_army_setup
					has_government = democratic
					RAJ = {
						is_puppet_of = ENG
					}
				}
			}
		} #counters JAP's indian army focus
		icon = GFX_goal_generic_improve_relations
		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_india_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { has_dlc = "Together for Victory" }
				ROOT = {
					set_autonomy = {
						target = RAJ
						autonomy_state = autonomy_free
					}
				}
				else = {					
					set_global_flag = indian_independence_promised
					add_timed_idea = { idea = indian_independence_promised_idea days = 1460 }
					RAJ = {
						remove_ideas = RAJ_azad_hind
					}				
				}
			}
		}
	}
	
	
	focus = {
		id = uk_australia_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = AST
				is_in_faction_with = ROOT
			}
		}

		bypass = {
			OR = {
				AST = { exists = no }
				AST = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_generic_construct_civilian
		x = 1
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_2dockyards }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_australia_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			AST = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_2dockyards
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1dockyard
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_australia_focus
				}
			}
		}
	}


	focus = {
		id = uk_new_zealand_focus 
		prerequisite = { focus = uk_australia_focus }
		available = {
			any_country = {
				original_tag = NZL
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				NZL = { exists = no }
				NZL = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_generic_construction
		x = 0
		y = 1
		relative_position_id = uk_australia_focus
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_2dockyards }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_new_zealand_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			NZL = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_2dockyards
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1dockyard
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_new_zealand_focus
				}
			}
		}
	}


	focus = {
		id = uk_canada_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = CAN
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				CAN = { exists = no }
				CAN = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 3
		relative_position_id = uk_commonwealth_focus
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = CAN
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_canada_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			CAN = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1dockyard
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_canada_focus
				}
			}
		}
	}

	focus = {
		id = uk_south_africa_focus
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = SAF
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				SAF = { exists = no }
				SAF = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_generic_construct_civ_factory
		x = 2
		y = 3
		relative_position_id = uk_commonwealth_focus
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_south_africa_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			SAF = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1dockyard
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_south_africa_focus
				}
			}
		}
	}

	focus = {
		id = ENG_indian_autonomy
		prerequisite = { focus = uk_india_focus }
		mutually_exclusive = { focus = uk_free_india_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = { 	
			RAJ = {
				is_subject_of = ENG
			}
		}

		continue_if_invalid = no

		icon = GFX_focus_generic_self_management

		x = 1
		y = 1
		relative_position_id = uk_india_focus
		cost = 10
		ai_will_do = {
			factor = 1
			#modifier = {
			#	factor = 0
			#}
		}	
		completion_reward = {
			set_autonomy = {
				target = RAJ
				autonomy_state = autonomy_dominion
			}
			RAJ = { add_timed_idea = { idea = ENG_indian_autonomy_RAJ_idea days = 730 } }
			custom_effect_tooltip = ENG_indian_autonomy_tt
		}
	}

	focus = {
		id = ENG_imperial_conference
		prerequisite = { focus = uk_canada_focus }
		prerequisite = { focus = uk_new_zealand_focus }
		prerequisite = { focus = uk_south_africa_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			SAF = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			AST = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			NZL = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
					}
					NOT = { state = 331 }
					OWNER = {
						NOT = {
							OR = {
								tag = ENG
								tag = CAN
								tag = SAF
								tag = AST
								tag = NZL
							}
						}
					}
				}
			}

		}

		bypass = {
			CAN = {
				exists = no
			}
			SAF = {
				exists = no
			}
			RAJ = {
				OR = {
					exists = no
					NOT = { is_subject_of = ENG }
				}
			}
			AST = {
				exists = no
			}
			NZL = {
				exists = no
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
					}
					OWNER = {
						NOT = { tag = ENG }
					}
				}
			}
		}

		continue_if_invalid = no

		icon = GFX_goal_generic_national_unity

		x = 0
		y = 2
		relative_position_id = uk_new_zealand_focus
		cost = 10
		ai_will_do = {
			factor = 1
			#modifier = {
			#	factor = 0
			#}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 120
			every_country = {
				limit = {
					OR = {
						tag = ENG
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
					}
				}
				country_event = { id = mtg_britain.82 hours = 6 }
			}
			hidden_effect = { news_event = { id = mtg_news.13 days = 1 } }
			custom_effect_tooltip = ENG_imperial_conference_tt
			custom_effect_tooltip = ENG_indian_autonomy_tt
		}
	}

	focus = {
		id = ENG_imperial_federation
		prerequisite = { focus = ENG_imperial_conference }
		available = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					has_dlc = "Death or Dishonor"
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								OR = {
									has_autonomy_state = autonomy_integrated_puppet
									has_autonomy_state = autonomy_reichskommissariat
								}
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" }
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_integrated_puppet
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "Together for Victory" }
					has_dlc = "Death or Dishonor"
					has_government = fascism
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_reichskommissariat
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
			}
			else = {
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								compare_autonomy_progress_ratio < 0.1
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						CAN = { exists = yes }
						SAF = { exists = yes }
						AST = { exists = yes }
						NZL = { exists = yes }
					}
				}
				has_country_flag = ENG_dominions_accepted_federation
			}
		}

		icon = GFX_focus_eng_imperial_federation

		x = 0
		y = 1
		relative_position_id = ENG_imperial_conference
		cost = 10
		ai_will_do = {
			factor = 1
			#modifier = {
			#	factor = 0
			#}
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}	
		completion_reward = {
			if = {
				limit = {
					RAJ = {
						NOT = { is_subject_of = ENG }
					}
				}
				set_cosmetic_tag = ENG_imperial_federation_unified
				news_event = { id = mtg_news.8 days = 1 }
			}
			if = {
				limit = {
					RAJ = {
						is_subject_of = ENG
					}
				}
				set_cosmetic_tag = ENG_imperial_federation_india_unified
				news_event = { id = mtg_news.9 days = 1 }
			}
			CAN = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = CAN
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = CAN
				}
				add_core_of = ENG
			}
			SAF = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = SAF
			    transfer_troops = yes
			}
			if = {
				limit = {
					SAF = { has_completed_focus = SAF_police_windhoek }
				}
				every_state = {
					limit = {
						is_core_of = SAF
						NOT = { state = 275 }
					}
					add_core_of = ENG
				}
			}
			if = {
				limit = {
					RAJ = { has_country_flag = ENG_accepted_federation }
				}
				RAJ = {
					every_unit_leader = {
						set_nationality = ENG
					}
				}
				annex_country = {
				    target = RAJ
				    transfer_troops = yes
				}
			}
			AST = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = AST
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = AST
				}
				add_core_of = ENG
			}
			NZL = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = NZL
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = NZL
				}
				add_core_of = ENG
			}
			MAL = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = MAL
			    transfer_troops = yes
			}
		}
	}

	### DEMOCRATIC BRANCH - STEADY AS SHE GOES ###

	focus = {
		id = ENG_steady_as_she_goes
		mutually_exclusive = { focus = ENG_a_change_in_course }
		available = { 
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		}
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
		}

		cancel_if_invalid = yes

		icon = GFX_goal_support_democracy

		x = 14
		y = 0
		offset = {
			x = -7
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_revisit_colonial_policy
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_timed_idea = { idea = ENG_steady_as_she_goes_idea days = 365 }
		}
	}

	### GLOBAL DEFENSE BRANCH ###

	focus = {
		id = ENG_global_defense
		prerequisite = { focus = ENG_steady_as_she_goes }
		mutually_exclusive = { focus = ENG_home_defence }

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {

		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_global_defense
		x = -4
		y = 1
		relative_position_id = ENG_steady_as_she_goes
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_completed_focus = ENG_revisit_colonial_policy
			}
		}	
		completion_reward = {
			# Singapore
			336 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = MAL
								MAL = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					# Singapore
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12299
						instant_build = yes
					}
				}								
			}
			# Egypt
			446 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = EGY
								EGY = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}								
			}
			447 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = EGY
								EGY = { is_in_faction_with = ROOT }
							}
						}
					}
					# Alexandria
					add_building_construction = {
						type = naval_base
						level = 2
						province = 4076
						instant_build = yes
					}
				}								
			}
			# Nova Scotia
			464 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = CAN
								CAN = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					# Halifax
					add_building_construction = {
						type = naval_base
						level = 2
						province = 7361
						instant_build = yes
					}
				}								
			}
			# Malta
			116 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = MAL
								MAL = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}								
			}
			# Gibraltar
			118 = {
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 4135
						instant_build = yes
					}
				}								
			}
		}
	}

	focus = {
		id = ENG_every_man_will_do_his_duty
		prerequisite = { focus = ENG_global_defense }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_focus_generic_commonwealth_build_infantry
		x = -1
		y = 1
		relative_position_id = ENG_global_defense
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_stability = -0.10
			remove_ideas = ENG_the_war_to_end_all_wars
		}
	}

	focus = {
		id = ENG_motion_of_no_confidence
		prerequisite = { focus = ENG_global_defense }
		available = { 
			has_country_leader =  {
				name = "Neville Chamberlain"
				ruling_only = yes
			}
		}
		bypass = {
			OR = {
				has_country_leader =  {
					name = "Winston Churchill"
					ruling_only = yes
				}
				has_country_leader =  {
					name = "Lord Edward Halifax"
					ruling_only = yes
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_motion_of_no_confidence
		x = 1
		y = 1
		relative_position_id = ENG_global_defense
		cost = 10
		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_stability = -0.10
			country_event = { id = mtg_britain.22 }
		}
	}

	focus = {
		id = ENG_no_further_appeasement
		prerequisite = { focus = ENG_every_man_will_do_his_duty }
		prerequisite = { focus = ENG_motion_of_no_confidence }
		available = { 
			is_subject = no
		}

		continue_if_invalid = yes

		icon = GFX_focus_generic_strike_at_democracy1
		x = -1
		y = 1
		relative_position_id = ENG_motion_of_no_confidence
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_stability = -0.10
			custom_effect_tooltip = ENG_no_further_appeasement_tt
			hidden_effect = {
				set_rule = { can_declare_war_on_same_ideology = yes }
				set_rule = { can_puppet = yes }
			}
			set_rule = { can_send_volunteers = yes }
			add_ideas = ENG_no_further_appeasement_idea
			hidden_effect = { news_event = { id = mtg_news.16 days = 1 } }
		}
	}

	focus = {
		id = ENG_kickstart_the_war_industry
		prerequisite = { focus = ENG_no_further_appeasement }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_construct_mil_factory
		x = -3
		y = 1
		relative_position_id = ENG_no_further_appeasement
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = kickstart_the_war_industry_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = kickstart_the_war_industry_2AF
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = kickstart_the_war_industry_2AF
			}
		}
	}

	focus = {
		id = ENG_secure_the_oil_imports
		prerequisite = { focus = ENG_kickstart_the_war_industry }
		available = { 
			is_subject = no
			OR = {
				country_exists = IRQ
				country_exists = PER
				country_exists = HOL
				country_exists = VEN
			}
		}

		will_lead_to_war_with = IRQ
		will_lead_to_war_with = PER
		will_lead_to_war_with = HOL
		will_lead_to_war_with = VEN

		continue_if_invalid = yes

		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 1
		relative_position_id = ENG_kickstart_the_war_industry
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				target = IRQ
				type = puppet_wargoal_focus
				expire = 0
			}
			create_wargoal = {
				target = PER
				type = puppet_wargoal_focus
				expire = 0
			}
			if = {
				limit = {
					695 = { is_owned_by = HOL }
				}
				create_wargoal = {
					target = HOL
					type = take_state_focus
					generator = { 695 }
					expire = 0
				}
			}
			else_if = {
				limit = {
					695 = { is_owned_by = CRC }
				}
				create_wargoal = {
					target = CRC
					type = take_state_focus
					generator = { 695 }
					expire = 0
				}
			}
			add_state_claim = 489
			add_state_claim = 307
		}
	}

	focus = {
		id = ENG_maintaining_imperial_integrity
		prerequisite = { focus = ENG_no_further_appeasement }
		mutually_exclusive = { focus = ENG_maintaining_the_balance_of_power }
		available = { 
			is_subject = no
		}
		bypass = {
			NOT = {
				any_country = {
					is_subject_of = ENG
				}
			}
			NOT = {
				focus_progress = {
					focus = ENG_maintaining_the_balance_of_power
					progress > 0
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_focus_chi_british_cooperation
		x = -1
		y = 1
		relative_position_id = ENG_no_further_appeasement
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			add_tech_bonus = {
				name = naval_doc_bonus
				bonus = 1.0
				uses = 3
				category = naval_doctrine
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				CAN = {
					if = {
						limit = { is_in_faction_with = ENG }
						add_ideas = ENG_maintaining_imperial_integrity_idea
					}
				}
				AST = {
					if = {
						limit = { is_in_faction_with = ENG }
						add_ideas = ENG_maintaining_imperial_integrity_idea
					}
				}
				NZL = {
					if = {
						limit = { is_in_faction_with = ENG }
						add_ideas = ENG_maintaining_imperial_integrity_idea
					}
				}
				SAF = {
					if = {
						limit = { is_in_faction_with = ENG }
						add_ideas = ENG_maintaining_imperial_integrity_idea
					}
				}
				RAJ = {
					if = {
						limit = { is_in_faction_with = ENG }
						add_ideas = ENG_maintaining_imperial_integrity_idea
					}
				}
			}
			FRA = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
				}
			}
			ITA = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
				}
			}
			USA = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
				}
			}
			JAP = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
				}
			}
		}
	}

	focus = {
		id = ENG_enforce_the_naval_treaties
		prerequisite = { focus = ENG_maintaining_imperial_integrity }
		available = { 
			is_subject = no
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_major_war
		x = 0
		y = 1
		relative_position_id = ENG_maintaining_imperial_integrity
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			unlock_decision_category_tooltip = ENG_enforce_the_naval_treaties
			custom_effect_tooltip = ENG_enforce_the_naval_treaties_tt
			hidden_effect = { news_event = { id = mtg_news.17 days = 1 } }
		}
	}

	focus = {
		id = ENG_maintaining_the_balance_of_power
		prerequisite = { focus = ENG_no_further_appeasement }
		mutually_exclusive = { focus = ENG_maintaining_imperial_integrity }
		available = { 
			is_subject = no
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_neutrality_focus
		x = 1
		y = 1
		relative_position_id = ENG_no_further_appeasement
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			GER = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
				}
			}
			SOV = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
				}
			}
			every_other_country = {
				limit = {
					any_owned_state = {
						is_capital = yes
						is_on_continent = europe
					}
					has_government = democratic
				}
				add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_good }
			}
			every_other_country = {
				limit = {
					any_owned_state = {
						is_capital = yes
						is_on_continent = europe
					}
					has_added_tension_amount > 0.1
					num_of_factories > 50
				}
				add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
			}
		}
	}

	focus = {
		id = ENG_continental_intervention
		prerequisite = { focus = ENG_maintaining_the_balance_of_power }
		available = { 
			is_subject = no
		}

		continue_if_invalid = yes

		icon = GFX_goal_generic_major_war
		x = 0
		y = 1
		relative_position_id = ENG_maintaining_the_balance_of_power
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			custom_effect_tooltip = ENG_continental_intervention_tt
			every_other_country = {
				limit = {
					any_owned_state = {
						is_capital = yes
						is_on_continent = europe
					}
					NOT = { is_in_faction_with = ROOT }
					has_added_tension_amount > 0.1
					num_of_factories > 50
				}
				ENG = {
					create_wargoal = {
						target = PREV
						type = topple_government
						expire = 0
					}
				}
			}
			hidden_effect = { news_event = { id = mtg_news.18 days = 1 } }
		}
	}

	### HOME DEFENCE BRANCH

	### GERMAN WAR ###

	focus = {
		id = ENG_home_defence
		prerequisite = { focus = ENG_steady_as_she_goes }
		mutually_exclusive = { focus = ENG_global_defense }
		icon = GFX_focus_generic_home_defense
		x = 5
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_steady_as_she_goes
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}	
		completion_reward = {
			add_war_support = 0.05
			# Ipswich
			125 = {
				if = {
					limit = { is_controlled_by = ROOT }
					#Plymouth
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 271
						instant_build = yes
					}
				}
			}
			# Greater London Area
			126 = {
				if = {
					limit = { is_controlled_by = ROOT }
					#London
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11374
						instant_build = yes
					}
				}
			}
			# Sussex
			127 = {
				if = {
					limit = { is_controlled_by = ROOT }
					#Dover
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3501
						instant_build = yes
					}
					#Portsmouth
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9458
						instant_build = yes
					}
				}								
			}
			# Cornwall
			123 = {
				if = {
					limit = { is_controlled_by = ROOT }
					#Plymouth
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 540
						instant_build = yes
					}
				}
			}
		}
	}

	# START IRAQ/IRAN/USSR INTERVENTION #

	focus = {
		id = uk_iraq_focus
		available = {
			IRQ = {
				OR = { 
					communism > 0.2
			 		fascism > 0.2
			 	} 
			}
		} #UK at war with fascist/commie. iraq is fascist/commie

		bypass = {
			IRQ = { exists = no }
		}

		will_lead_to_war_with = IRQ
		prerequisite = { focus = ENG_home_defence }
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -6
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = IRQ
				generator = { 291 }
				expire = 0
			}
		}
	}
	focus = {
		id = uk_iran_focus
		available = {
			PER = {
				exists = yes
				OR = { 
					communism > 0.2
			 		fascism > 0.2
			 	} 
			}
		} #UK at war with fascist/commie. iran is fascist/commie

		bypass = {
			PER = { exists = no }
		}

		will_lead_to_war_with = PER
		prerequisite = { focus = uk_iraq_focus }
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1
		relative_position_id = uk_iraq_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = PER
				generator = { 266 }
				expire = 0
			}
		}
	}
	focus = {
		id = ENG_embargo_ussr 
		prerequisite = { focus = uk_iran_focus focus = ENG_no_further_appeasement }

		allow_branch = {
			always = yes
		}

		available = {
			SOV = {
				ENG_focus_available_embargo_sanction = yes
			}			
		} 
		bypass = {
			has_war_with = SOV
		}
		icon = GFX_goal_generic_trade
		x = 0
		y = 1
		relative_position_id = uk_iran_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			SOV = {
				add_opinion_modifier = { target = ENG modifier = embargo }
				add_opinion_modifier = { target = ENG modifier = sanctions_relations } 
			}
		}
	}
	focus = {
		id = ENG_war_with_ussr 
		prerequisite = { focus = ENG_embargo_ussr }
		available = {
			has_offensive_war = no
			SOV = {
				ENG_focus_available_war = yes
			}			
		} 
		bypass = {
			has_war_with = SOV
		}
		will_lead_to_war_with = SOV
		icon = GFX_focus_attack_soviet
		x = 0
		y = 1
		relative_position_id = ENG_embargo_ussr
		cost = 10
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			} 
		}
	}

	# END IRAQ/IRAN/USSR INTERVENTION #

	focus = {
		id = ENG_issue_gasmasks
		available = {
			OR = {
				threat > 0.2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_home_defence }
		icon = GFX_goal_generic_construct_military
		x = 4
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_war_support = 0.05
			add_stability = 0.1
		}
	}

	focus = {
		id = ENG_military_training_act
		available = {
			OR = {
				threat > 0.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_issue_gasmasks }
		icon = GFX_focus_generic_commonwealth_build_infantry
		x = 0
		y = 1
		relative_position_id = ENG_issue_gasmasks
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = ENG_embargo_germany
		available = {
			GER = {
				ENG_focus_available_embargo_sanction = yes
			}
		}
		bypass = {
			has_war_with = GER
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_military_training_act }
		icon = GFX_goal_generic_trade
		x = 0
		y = 1
		relative_position_id = ENG_military_training_act
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			GER = {
				add_opinion_modifier = { target = ENG modifier = embargo }
				add_opinion_modifier = { target = ENG modifier = sanctions_relations }  
			}
		}
	}

	focus = {
		id = ENG_war_with_germany
		available = {
			has_war = no
			GER = {
				ENG_focus_available_war = yes
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		prerequisite = { focus = ENG_embargo_germany }
		icon = GFX_focus_attack_germany
		x = 0
		y = 1
		relative_position_id = ENG_embargo_germany
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			} 
		}
	}

	### END ROAD TO WAR WITH GERMANY ###

	### SCANDINAVIAN BRANCH ####

	focus = {
		id = uk_scandinavian_focus
		available = {
			OR = {
				SWE = { 
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}
				NOR = { 
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}
				DEN = {
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}				
			}			
		}
		prerequisite = { focus = ENG_home_defence }
		icon = GFX_goal_generic_position_armies
		x = -3
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_named_threat = { threat = 1 name = uk_scandinavian_focus }
			USA = {
				add_opinion_modifier = { target = ENG modifier = scandinavian_intervention } 
			}
			SWE = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
				if = {
					limit = {
						has_war = no
						NOT = { is_in_faction_with = GER }
					}
						country_event = britain.7
				}
			}
			NOR = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
				if = {
					limit = {
						has_war = no
						NOT = { is_in_faction_with = GER }
					}
						country_event = britain.7
				}
			}
			DEN = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
			}
			FIN = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.222 }
			}
		}
	}

	focus = {
		id = ENG_swedish_intervention
		available = {
			SWE = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}		
		}
		will_lead_to_war_with = SWE
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -1
		y = 1
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SWE
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_norwegian_intervention
		available = {
			NOR = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}	
		will_lead_to_war_with = NOR
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_goal_generic_more_territorial_claims
		x = 0
		y = 2
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = NOR
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_danish_intervention
		available = {
			DEN = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		will_lead_to_war_with = DEN
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 1
		y = 1
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = DEN
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}

	### END SCANDINAVIAN BRANCH ###

	focus = {
		id = ENG_prepare_for_the_inevitable
		available = {

		}		
		prerequisite = { focus = ENG_home_defence }

		icon = GFX_goal_generic_construction

		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			add_ideas = ENG_prepare_for_the_inevitable_idea
		}
	}

	### BENELUX INTERVENTION ###

	focus = {
		id = ENG_benelux_intervention
		available = {
			OR = {
				BEL = {
					exists = yes
					OR = { 
						communism > 0.15
				 		fascism > 0.15
				 	} 
				}
				HOL = { 
					exists = yes
					OR = { 
						communism > 0.15
				 		fascism > 0.15
				 	} 
				}								
			}			
		}
		prerequisite = { focus = ENG_home_defence }
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_named_threat = { threat = 1 name = ENG_benelux_intervention }
			USA = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_USA } 
			}
			BEL = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_BEL_HOL } 
			}
			HOL = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_BEL_HOL } 
			}	
			hidden_effect = {
				news_event = { hours = 6 id = news.223 }
			}		
		}
	}

	focus = {
		id = ENG_belgium_security
		available = {
			BEL = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		prerequisite = { focus = ENG_benelux_intervention }
		icon = GFX_goal_generic_attack_allies
		x = -1
		y = 1
		relative_position_id = ENG_benelux_intervention
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BEL
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_dutch_security
		available = {
			HOL = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		will_lead_to_war_with = HOL
		prerequisite = { focus = ENG_benelux_intervention }
		icon = GFX_goal_generic_attack_allies
		x = 1
		y = 1
		relative_position_id = ENG_benelux_intervention
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = HOL
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}

	### END BENELUX INTERVENTION ###
	### END HOME DEFENCE BRANCH ###

	### A CHANGE IN COURSE BRANCH ###

	focus = {
		id = ENG_a_change_in_course
		mutually_exclusive = { focus = ENG_steady_as_she_goes }

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {

		}
		icon = GFX_focus_generic_strike_at_democracy2
		x = 18
		y = 0
		relative_position_id = ENG_steady_as_she_goes
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_timed_idea = { idea = ENG_a_change_in_course_idea days = 365 }
			hidden_effect = {
				POL = {
					add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = -200
					}
				}
				POL = {
					add_ai_strategy = {
						type = befriend
						id = "ENG"
						value = -200
					}
				}
				add_ai_strategy = {
					type = alliance
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = CZE
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = CZE
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = CZE
					value = -200
				}
			}
		}
	}

	### UNALIGNED BRANCH ###

	focus = {
		id = ENG_the_kings_party
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = { focus = ENG_organize_the_blackshirts focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_country_flag = edward_viii_married_wallis_simpson
			is_subject = no
			has_war = no
		}
		icon = GFX_focus_eng_the_kings_party
		x = -5
		y = 1
		relative_position_id = ENG_a_change_in_course
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}	
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = ENG_the_kings_party_idea
			set_party_name = { ideology = neutrality long_name = ENG_neutrality_party_kings_party_long name = ENG_neutrality_party_kings_party }
			hidden_effect = {
				kill_country_leader = yes
			}
			set_politics = { ruling_party = neutrality elections_allowed = no }
			add_popularity = { ideology = neutrality popularity = 0.15 }
			remove_ideas = ENG_king_edward
			create_country_leader = {
				name = "Edward VIII"
				desc = "POLITICS_EDWARD_EDWARD_DESC"
				picture = "Portrait_Britain_Edward_VIII.dds"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					inexperienced_imperialist
				}
			}
			hidden_effect = { news_event = { id = mtg_news.19 days = 1 } }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_winston_churchill
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_oswald_mosley
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_david_lloyd_george
			hidden_effect = {
				add_ai_strategy = {
					type = contain
					id = GER
					value = -200
				}
			}
		}
	}

	focus = {
		id = ENG_reassess_continental_commitments
		prerequisite = { focus = ENG_the_kings_party }
		available = {
			is_subject = no
			NOT = {
				has_war_together_with = FRA 
			}
		}
		icon = GFX_goal_generic_position_armies
		x = -1
		y = 1
		relative_position_id = ENG_the_kings_party
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}	
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			add_war_support = 0.05
			FRA = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			POL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			CZE = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			HOL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			BEL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			LUX = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			GER = {
				if = {
					limit = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
					}
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_good }
				}
			}
		}
	}

	focus = {
		id = ENG_isolate_the_mediterranean_threat
		prerequisite = { focus = ENG_reassess_continental_commitments }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = ITA }
		}
		bypass = {
			OR = {
				NOT = { country_exists = ITA }
				ITA = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1
		relative_position_id = ENG_reassess_continental_commitments
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			GER = { country_event = { id = mtg_britain.23 hours = 6 } }
		}
	}

	focus = {
		id = ENG_alliance_with_germany
		prerequisite = { focus = ENG_isolate_the_mediterranean_threat }
		mutually_exclusive = { focus = ENG_noninterference_treaty_with_germany }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { has_war_with = GER }
			GER = { has_government = fascism }
			NOT = { has_country_flag = ENG_germany_rejected_isolate_the_italian_threat }
		}
		bypass = {
			is_in_faction_with = GER
		}
		icon = GFX_focus_chi_mission_to_germany
		x = -1
		y = 1
		relative_position_id = ENG_isolate_the_mediterranean_threat
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			hidden_effect = {
				set_temp_variable = {
					var = alliance_with_germany_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = alliance_with_germany_var
					value = -0.5
				}
			}
			custom_effect_tooltip = ENG_alliance_with_germany_tt
			add_stability = alliance_with_germany_var
			GER = { country_event = { id = mtg_britain.27 hours = 6 } }
		}
	}

	focus = {
		id = ENG_noninterference_treaty_with_germany
		prerequisite = { focus = ENG_isolate_the_mediterranean_threat }
		mutually_exclusive = { focus = ENG_alliance_with_germany }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { has_war_with = GER }
		}
		bypass = {
			NOT = { country_exists = GER }
			has_country_flag = ENG_germany_rejected_isolate_the_italian_threat
			has_non_aggression_pact_with = GER
		}
		icon = GFX_goal_generic_dangerous_deal
		x = 1
		y = 1
		relative_position_id = ENG_isolate_the_mediterranean_threat
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			GER = { country_event = { id = mtg_britain.30 hours = 6 } }
		}
	}

	focus = {
		id = ENG_take_out_the_regia_marina
		prerequisite = { focus = ENG_noninterference_treaty_with_germany focus = ENG_alliance_with_germany }
		available = {
			is_subject = no
			country_exists = ITA
			NOT = { is_in_faction_with = ITA }
		}
		icon = GFX_goal_generic_major_war
		will_lead_to_war_with = ITA
		x = -1
		y = 1
		relative_position_id = ENG_noninterference_treaty_with_germany
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
				expire = 0
			}
		}
	}

	### FASCIST BRANCH ###

	focus = {
		id = ENG_organize_the_blackshirts
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = { focus = ENG_the_kings_party focus = ENG_concessions_to_the_trade_unions }
		available = {
			is_subject = no
			has_war = no
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		}
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
		}
		icon = GFX_focus_eng_organise_the_blackshirts
		x = -1
		y = 1
		relative_position_id = ENG_a_change_in_course
		cancel_if_invalid = yes
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 200
			custom_effect_tooltip = ENG_organize_the_blackshirts_tt
			hidden_effect = {
				news_event = { id = mtg_news.23 days = 1 }
				add_ai_strategy = {
					type = alliance
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = contain
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = GER
					value = -50
				}
				add_ai_strategy = {
					type = befriend
					id = GER
					value = -50
				}
				add_ai_strategy = {
					type = protect
					id = GER
					value = -50
				}
				GER = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = -50
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = -50
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = -50
					}
				}
			}
		}
	}

	focus = {
		id = ENG_the_british_path_to_fascism
		prerequisite = { focus = ENG_organize_the_blackshirts }
		available = {
			is_subject = no
			has_government = fascism
		}
		icon = GFX_goal_support_fascism
		x = 1
		y = 1
		relative_position_id = ENG_organize_the_blackshirts
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			add_stability = 0.05
			add_war_support = 0.05
			GER = {
				if = {
					limit = {
						has_government = fascism
					}
					add_opinion_modifier = { target = ENG modifier = ENG_the_british_path_to_fascism }
				}
			}
		}
	}

	focus = {
		id = ENG_secure_the_italian_alliance
		prerequisite = { focus = ENG_the_british_path_to_fascism }
		available = {
			is_subject = no
			country_exists = ITA
			NOT = { has_war_together_with = FRA }
			NOT = { has_war_with = ITA }
		}
		bypass = {
			OR = {
				ITA = { exists = no }
				ITA = { is_subject = yes }
			}
		}
		icon = GFX_goal_generic_major_alliance
		x = 0
		y = 1
		relative_position_id = ENG_the_british_path_to_fascism
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ai_strategy = {
				type = antagonize
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = GER
				value = -200
			}
			GER = {
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = -200
				}
			}
			if = {
				limit = {
					is_in_faction_with = FRA
					has_war = no
				}
				remove_from_faction = FRA
			}
			ITA = {
				if = {
					limit = {
						has_government = fascism
					}
					add_opinion_modifier = { target = ENG modifier = ENG_broke_french_relations }
				}
			}
			ITA = { country_event = { id = mtg_britain.36 hours = 6 } }
		}
	}

	focus = {
		id = ENG_gibraltar_for_spanish_support
		prerequisite = { focus = ENG_secure_the_italian_alliance }
		mutually_exclusive = { focus = ENG_pre_empt_spanish_alignment }
		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_country = {
					original_tag = SPR
					has_government = fascism
					exists = yes
					NOT = { is_in_faction_with = ENG }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					NOT = { is_in_faction_with = ENG }
				}
			}
			has_global_flag = scw_over
		}
		icon = GFX_goal_generic_dangerous_deal
		x = -1
		y = 1
		relative_position_id = ENG_secure_the_italian_alliance
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					country_event = { id = mtg_britain.40 hours = 6 }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPA = {
					country_event = { id = mtg_britain.40 hours = 6 }
				}
			}
		}
	}

	focus = {
		id = ENG_pre_empt_spanish_alignment
		prerequisite = { focus = ENG_secure_the_italian_alliance }
		mutually_exclusive = { focus = ENG_gibraltar_for_spanish_support }
		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_country = {
					original_tag = SPR
					has_government = fascism
					exists = yes
					NOT = { is_in_faction_with = ENG }
					NOT = { has_war_with = ENG }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					NOT = { is_in_faction_with = ENG }
					NOT = { has_war_with = ENG }
				}
			}
			has_global_flag = scw_over
		}
		bypass = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				NOT = {
					any_country = {
						original_tag = SPR
						has_government = fascism
						exists = yes
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				NOT = {
					country_exists = SPA
				}
			}
			has_global_flag = scw_over
		}
		icon = GFX_goal_generic_more_territorial_claims
		x = 1
		y = 1
		relative_position_id = ENG_secure_the_italian_alliance
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
					}
					any_country = {
						original_tag = SPR
						has_government = fascism
						exists = yes
						is_in_faction_with = GER
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
					}
					SPA = {
						exists = yes
						is_in_faction_with = GER
					}
				}
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					ENG = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
							expire = 0
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				ENG = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = SPA
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = ENG_prevent_a_continental_hegemony
		prerequisite = { focus = ENG_gibraltar_for_spanish_support focus = ENG_pre_empt_spanish_alignment }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { is_in_faction_with = GER }
		}
		will_lead_to_war_with = GER
		icon = GFX_goal_generic_major_war
		x = 1
		y = 1
		relative_position_id = ENG_gibraltar_for_spanish_support
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_enact_the_mosley_manifesto
		prerequisite = { focus = ENG_the_british_path_to_fascism }
		available = {

		}
		icon = GFX_goal_generic_construct_mil_factory
		x = 2
		y = 1
		relative_position_id = ENG_the_british_path_to_fascism
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = enact_the_mosley_memorandum_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = enact_the_mosley_memorandum_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = limited_exports }
					NOT = { has_idea = closed_economy }
				}
				add_ideas = limited_exports
			}
			add_ideas = ENG_the_mosley_memorandum_idea
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = enact_the_mosley_memorandum_2IC
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = enact_the_mosley_memorandum_2AF
			}
		}
	}

	### UNALIGNED/FASCIST SHARED PATH ###

	focus = {
		id = ENG_god_save_the_king
		prerequisite = { focus = ENG_the_kings_party focus = ENG_organize_the_blackshirts }
		available = {
			is_subject = no
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		icon = GFX_focus_eng_god_save_the_king
		x = 2
		y = 1
		relative_position_id = ENG_the_kings_party
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}	
		completion_reward = {
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Edward VIII" }
				}
				add_stability = 0.05
				remove_country_leader_trait = inexperienced_imperialist
				add_country_leader_trait = autocratic_imperialist
			}
			if = {
				limit = {
					NOT = { has_country_leader = { ruling_only = yes name = "Edward VIII" } }
				}
				add_stability = 0.05
				add_war_support = 0.1
			}
		}
	}

	focus = {
		id = ENG_ceylon_forward_operating_base
		prerequisite = { focus = ENG_god_save_the_king }
		available = {
			has_full_control_of_state = 422
		}
		bypass = {
			OR = {
				RAJ = {
					is_in_faction_with = ENG
					OR = {
						has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
						has_country_flag = britain_enforced_our_loyalty
					}
				}
				has_completed_focus = ENG_towards_indian_independence
			}
		}
		icon = GFX_goal_generic_position_armies
		x = -1
		y = 1
		relative_position_id = ENG_god_save_the_king
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			# Ceylon
			422 = {
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
					# Singapore
					add_building_construction = {
						type = naval_base
						level = 5
						province = 7260
						instant_build = yes
					}
				}								
			}
		}
	}

	focus = {
		id = ENG_reclaim_the_jewel_in_the_crown
		prerequisite = { focus = ENG_ceylon_forward_operating_base }	
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = RAJ }
				RAJ = {
					is_in_faction_with = ENG
					OR = {
						has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
						has_country_flag = britain_enforced_our_loyalty
					}
				}
				has_completed_focus = ENG_towards_indian_independence
			}
		}
		icon = GFX_focus_RAJ_british_investors
		will_lead_to_war_with = RAJ
		will_lead_to_war_with = PAK
		will_lead_to_war_with = BAN
		will_lead_to_war_with = BRM
		x = 0
		y = 2
		relative_position_id = ENG_ceylon_forward_operating_base
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			every_state = {
				limit = {
					OR = {
						is_core_of = PAK
						is_core_of = RAJ
						is_core_of = BRM
					}
					NOT = { state = 321 }
					NOT = { state = 320 }
				}
				add_claim_by = ENG
			}
			if = {
				limit = {
					country_exists = RAJ
				}
				create_wargoal = {
					type = annex_everything
					target = RAJ
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = PAK
				}
				create_wargoal = {
					type = annex_everything
					target = PAK
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = BAN
				}
				create_wargoal = {
					type = annex_everything
					target = BAN
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = BRM
				}
				create_wargoal = {
					type = annex_everything
					target = BRM
					expire = 0
				}
			}
		}
	}

	focus = {
		id = ENG_pre_empt_the_ideological_threat
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown focus = ENG_noninterference_treaty_with_germany focus = ENG_alliance_with_germany	}	
		available = {
			is_subject = no
			country_exists = SOV
			NOT = { is_in_faction_with = SOV }
			SOV = { has_government = communism }
		}
		will_lead_to_war_with = SOV
		icon = GFX_focus_attack_soviet
		x = -1
		y = 1
		relative_position_id = ENG_reclaim_the_jewel_in_the_crown
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_expose_the_belly_of_the_bear
		prerequisite = { focus = ENG_pre_empt_the_ideological_threat }	
		available = {
			is_subject = no
			OR = {
				AND = {
					country_exists = PER
					NOT = { is_in_faction_with = PER }
				}
				AND = {
					country_exists = AFG
					NOT = { is_in_faction_with = AFG }
				}
			}
		}
		will_lead_to_war_with = PER
		will_lead_to_war_with = AFG
		icon = GFX_focus_eng_expose_the_belly_of_the_bear
		x = -1
		y = 1
		relative_position_id = ENG_pre_empt_the_ideological_threat
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			PER = {
				if = {
					limit = {
						exists = yes
						NOT = { is_in_faction_with = ENG }
					}
					country_event = { id = mtg_britain.79 hours = 6 }
				} 	
			}
			AFG = {
				if = {
					limit = {
						exists = yes
						NOT = { is_in_faction_with = ENG }
					}
					country_event = { id = mtg_britain.79 hours = 6 }
				} 
			}
		}
	}

	focus = {
		id = ENG_imperial_conscription
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown }	
		available = {

		}
		icon = GFX_focus_generic_commonwealth_build_infantry
		x = 0
		y = 2
		relative_position_id = ENG_reclaim_the_jewel_in_the_crown
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_ideas = ENG_imperial_conscription_idea
			every_country = {
				limit = {
					is_subject_of = ENG
				}
				add_ideas = ENG_imperial_conscription_subject_idea
			}
		}
	}

	focus = {
		id = ENG_consolidate_the_british_isles
		prerequisite = { focus = ENG_god_save_the_king }	
		available = {
			is_subject = no
			country_exists = IRE
			NOT = { is_in_faction_with = IRE }
		}
		bypass = {
			owns_state = 113
			owns_state = 134
			owns_state = 135
			owns_state = 119
			owns_state = 122
			owns_state = 133
			owns_state = 121
			owns_state = 136
			owns_state = 120
		}
		will_lead_to_war_with = IRE
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 2
		relative_position_id = ENG_god_save_the_king
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			every_other_country = {
				limit = {
					OR = {
						owns_state = 113
						owns_state = 134
						owns_state = 135
						owns_state = 119
						owns_state = 122
						owns_state = 133
						owns_state = 121
						owns_state = 136
						owns_state = 120
					}
				}
				ENG = {
					add_state_claim = 113
					add_state_claim = 134
					add_state_claim = 135
					create_wargoal = {
						type = annex_everything
						target = PREV
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = ENG_unite_the_anglosphere
		prerequisite = { focus = ENG_consolidate_the_british_isles }
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown }
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold }
		available = {
			is_subject = no
			country_exists = USA
			NOT = { is_in_faction_with = USA }
		}
		will_lead_to_war_with = USA
		icon = GFX_focus_eng_unite_the_anglosphere
		x = 0
		y = 2
		relative_position_id = ENG_consolidate_the_british_isles
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					owns_state = 113
					owns_state = 134
					owns_state = 135
				}
				113 = { add_core_of = ENG }
				134 = { add_core_of = ENG }
				135 = { add_core_of = ENG }
			}
			create_wargoal = {
				type = annex_everything
				target = USA
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_appeal_to_imperial_loyalists
		prerequisite = { focus = ENG_god_save_the_king }	
		available = {
			is_subject = no
			OR = {
				country_exists = CAN
				country_exists = SAF
				country_exists = AST
				country_exists = NZL
			}
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = CAN
					CAN = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = SAF
					SAF = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = AST
					AST = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = NZL
					NZL = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
				}
				NOT = {
					country_exists = CAN
					country_exists = SAF
					country_exists = AST
					country_exists = NZL
				}
				has_completed_focus = ENG_towards_dominion_independence
			}
		}
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 1
		y = 1
		relative_position_id = ENG_god_save_the_king
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			custom_effect_tooltip = ENG_appeal_to_imperial_loyalists_tt
		}
	}

	focus = {
		id = ENG_bring_the_dominions_back_into_the_fold
		prerequisite = { focus = ENG_appeal_to_imperial_loyalists }	
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				AND = {
					NOT = { country_exists = CAN }
					NOT = { country_exists = SAF }
					NOT = { country_exists = AST }
					NOT = { country_exists = NZL }
				}
				AND = {
					is_in_faction_with = CAN
					CAN = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = SAF
					SAF = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = AST
					AST = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = NZL
					NZL = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
				}
				has_completed_focus = ENG_towards_dominion_independence
			}
		}
		will_lead_to_war_with = CAN
		will_lead_to_war_with = SAF
		will_lead_to_war_with = AST
		will_lead_to_war_with = NZL
		icon = GFX_focus_eng_bring_the_dominions_back_into_the_fold
		x = 0
		y = 2
		relative_position_id = ENG_appeal_to_imperial_loyalists
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					NOT = { is_in_faction_with = CAN }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = CAN
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = CAN
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = SAF }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = SAF
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = SAF
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = AST }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = AST
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = AST
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = NZL }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = NZL
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = NZL
					expire = 0
				}
			}
			custom_effect_tooltip = ENG_bring_the_dominions_back_into_the_fold_tt
		}
	}

	focus = {
		id = ENG_the_sun_never_sets
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold }	
		available = {

		}
		icon = GFX_focus_eng_the_sun_never_sets
		x = 0
		y = 2
		relative_position_id = ENG_bring_the_dominions_back_into_the_fold
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			add_tech_bonus = {
				name = ENG_the_sun_never_sets
				bonus = 1.0
				uses = 1
				category = dd_tech
				category = cl_tech
				category = ca_tech
				category = bb_tech
				category = cv_tech
				category = ss_tech
			}
			add_ideas = ENG_the_sun_never_sets_idea
			custom_effect_tooltip = ENG_the_sun_never_sets_tt
		}
	}

	focus = {
		id = ENG_pre_empt_the_strategic_threat
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold }	
		available = {
			is_subject = no
			country_exists = JAP
			NOT = { is_in_faction_with = JAP }
			OR = {
				JAP = { has_government = fascism }
				JAP = { has_government = communism }
			}
		}
		bypass = {
			has_war_with = JAP
		}
		will_lead_to_war_with = JAP
		icon = GFX_focus_attack_japan
		x = 1
		y = 1
		relative_position_id = ENG_bring_the_dominions_back_into_the_fold
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			}
		}
	}

	### COMMUNIST BRANCH ###

	focus = {
		id = ENG_concessions_to_the_trade_unions
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = { focus = ENG_the_kings_party focus = ENG_organize_the_blackshirts }
		available = {
			is_subject = no
			has_war = no
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		}
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
		}
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 5
		y = 1
		relative_position_id = ENG_a_change_in_course
		cancel_if_invalid = yes
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = uk_empire_focus
			}
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_3
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			hidden_effect = {
				random_list = {
					10 = {
						random_list = {
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_1 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_2 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_3 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_4 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_5 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_6 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_7 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_8 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_9 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_10 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_11 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_12 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_13 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_14 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_15 }
						}
						activate_mission = ENG_trade_unions_demand_minister_appointment_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_legislation_amendment
						activate_mission = ENG_trade_unions_demand_legislation_amendment_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_conscription_limitations
						activate_mission = ENG_trade_unions_demand_conscription_limitations_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_workplace_safety_legislation
						activate_mission = ENG_trade_unions_demand_workplace_safety_legislation_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_increase_in_paid_leave
						activate_mission = ENG_trade_unions_demand_increase_in_paid_leave_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_minimum_pay_increase
						activate_mission = ENG_trade_unions_demand_minimum_pay_increase_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_construction_safety_legislation
						activate_mission = ENG_trade_unions_demand_construction_safety_legislation_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_mandatory_union_days
						activate_mission = ENG_trade_unions_demand_mandatory_union_days_mission
					}
				}
			}
			hidden_effect = { news_event = { id = mtg_news.33 days = 1 } }
		}
	}

	focus = {
		id = ENG_move_to_secure_the_dominions
		prerequisite = { focus = ENG_organize_the_blackshirts focus = ENG_concessions_to_the_trade_unions }
		available = {
			is_subject = no
			has_war = no
			OR = {
				has_government = fascism
				has_government = communism
			}
			OR = {
				RAJ = { is_subject_of = ENG }
				CAN = { is_subject_of = ENG }
				SAF = { is_subject_of = ENG }
				AST = { is_subject_of = ENG }
				NZL = { is_subject_of = ENG }
			}
		}
		icon = GFX_focus_eng_move_to_secure_the_dominions
		x = 3
		y = 1
		relative_position_id = ENG_organize_the_blackshirts
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 120
			custom_effect_tooltip = ENG_move_to_secure_the_dominions_tt
			if = {
				limit = {
					CAN = {
						is_subject_of = ENG
					}
				}
				CAN = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					SAF = {
						is_subject_of = ENG
					}
				}
				SAF = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					RAJ = {
						is_subject_of = ENG
					}
				}
				RAJ = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					AST = {
						is_subject_of = ENG
					}
				}
				AST = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					NZL = {
						is_subject_of = ENG
					}
				}
				NZL = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			hidden_effect = { news_event = { id = mtg_news.30 days = 1 } }
		}
	}

	focus = {
		id = ENG_the_fate_of_the_royal_family
		prerequisite = { focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_government = communism
		}
		icon = GFX_goal_tfv_burn_the_royal_portraits
		x = -1
		y = 1
		relative_position_id = ENG_concessions_to_the_trade_unions
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 60
			country_event = { id = mtg_britain.43 }
		}
	}

	focus = {
		id = ENG_eliminate_the_upper_class
		prerequisite = { focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_government = communism
		}
		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 1
		relative_position_id = ENG_concessions_to_the_trade_unions
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 60
			custom_effect_tooltip = ENG_eliminate_the_upper_class_tt
			country_event = { id = mtg_britain.45 }
		}
	}

	focus = {
		id = ENG_for_the_good_of_the_revolution
		prerequisite = { focus = ENG_the_fate_of_the_royal_family }
		prerequisite = { focus = ENG_eliminate_the_upper_class }
		available = {

		}
		icon = GFX_focus_generic_soviet_politics
		x = 1
		y = 1
		relative_position_id = ENG_the_fate_of_the_royal_family
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			add_ideas = ENG_for_the_good_of_the_revolution_idea
		}
	}

	### GO COMMUNIST ALONE BRANCH ###

	focus = {
		id = ENG_the_british_communist_alternative
		prerequisite = { focus = ENG_for_the_good_of_the_revolution }
		mutually_exclusive = { focus = ENG_follow_moscow }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = SOV }
		}
		icon = GFX_focus_generic_join_comintern
		x = -2
		y = 1
		relative_position_id = ENG_for_the_good_of_the_revolution
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_stability = 0.05
			dismantle_faction = yes
			create_faction = ENG_british_communist_alternative
			hidden_effect = { news_event = { id = mtg_news.36 days = 1 } }
			if = {
				limit = {
					has_country_leader = { name = "Harry Pollitt" ruling_only = yes }
				}
				retire_country_leader = yes
				create_country_leader = {
					name = "Rajani Palme Dutt"
					desc = "POLITICS_PALME_DUTT_DESC"
					picture = "Portrait_Britain_Palme_Dutt.dds"
					expire = "1965.1.1"
					ideology = leninism
					traits = {
						
					}
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = SOV
				value = -200
			}
			SOV = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = -200
				}
			}
		}
	}

	focus = {
		id = ENG_enforce_decolonization
		prerequisite = { focus = ENG_the_british_communist_alternative }
		mutually_exclusive = { focus = ENG_reach_out_across_the_channel }
		available = {
			is_subject = no
			has_completed_focus = ENG_decolonization
		}
		icon = GFX_goal_generic_forceful_treaty
		x = -1
		y = 1
		relative_position_id = ENG_the_british_communist_alternative
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						AND = {
							NOT = { original_tag = PUE }
							owns_state = 686
							has_full_control_of_state = 686
						}
						PUE = {
							is_subject_of = PREV
						}
						"PHI" = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = GDL }
							owns_state = 694
							has_full_control_of_state = 694
						}
						AND = {
							NOT = { original_tag = SYR }
							owns_state = 677
							has_full_control_of_state = 677
							owns_state = 680
							has_full_control_of_state = 680
							owns_state = 554
							has_full_control_of_state = 554
						}
						AND = {
							NOT = { original_tag = LEB }
							owns_state = 553
							has_full_control_of_state = 553
						}
						AND = {
							NOT = { original_tag = MAD }
							owns_state = 543
							has_full_control_of_state = 543
						}
						AND = {
							owns_state = 670
							has_full_control_of_state = 670
						}
						AND = {
							owns_state = 741
							has_full_control_of_state = 741
						}
						AND = {
							owns_state = 671
							has_full_control_of_state = 671
							owns_state = 286
							has_full_control_of_state = 286
						}
						AND = {
							owns_state = 728
							has_full_control_of_state = 728
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 461
							has_full_control_of_state = 461
							owns_state = 462
							has_full_control_of_state = 462
						}
						AND = {
							NOT = { original_tag = ALG }
							owns_state = 459
							has_full_control_of_state = 459
							owns_state = 513
							has_full_control_of_state = 513
							owns_state = 460
							has_full_control_of_state = 460
							owns_state = 514
							has_full_control_of_state = 514
						}
						AND = {
							NOT = { original_tag = TUN }
							owns_state = 458
							has_full_control_of_state = 458
							owns_state = 665
							has_full_control_of_state = 665
						}
						AND = {
							NOT = { original_tag = DJI }
							owns_state = 268
							has_full_control_of_state = 268
						}
						AND = {
							NOT = { original_tag = RCG }
							owns_state = 772
							has_full_control_of_state = 772
						}
						AND = {
							NOT = { original_tag = GAB }
							owns_state = 539
							has_full_control_of_state = 539
						}
						AND = {
							NOT = { original_tag = CMR }
							owns_state = 773
							has_full_control_of_state = 773
						}
						AND = {
							NOT = { original_tag = CAR }
							owns_state = 660
							has_full_control_of_state = 660
						}
						AND = {
							NOT = { original_tag = CHA }
							owns_state = 774
							has_full_control_of_state = 774
							owns_state = 775
							has_full_control_of_state = 775
						}
						AND = {
							NOT = { original_tag = NGR }
							owns_state = 781
							has_full_control_of_state = 781
							owns_state = 515
							has_full_control_of_state = 515
						}
						AND = {
							NOT = { original_tag = DAH }
							owns_state = 776
							has_full_control_of_state = 776
						}
						AND = {
							NOT = { original_tag = TOG }
							owns_state = 777
							has_full_control_of_state = 777
						}
						AND = {
							NOT = { original_tag = VOL }
							owns_state = 778
							has_full_control_of_state = 778
						}
						AND = {
							NOT = { original_tag = IVO }
							owns_state = 779
							has_full_control_of_state = 779
						}
						AND = {
							NOT = { original_tag = GNA }
							owns_state = 780
							has_full_control_of_state = 780
						}
						AND = {
							NOT = { original_tag = MLI }
							owns_state = 556
							has_full_control_of_state = 556
							owns_state = 782
							has_full_control_of_state = 782
						}
						AND = {
							NOT = { original_tag = SEN }
							owns_state = 272
							has_full_control_of_state = 272
						}
						AND = {
							NOT = { original_tag = CAY }
							owns_state = 310
							has_full_control_of_state = 310
						}
						GDL = {
							is_subject_of = PREV
						}
						SYR = {
							is_subject_of = PREV
						}
						LEB = {
							is_subject_of = PREV
						}
						LAO = {
							is_subject_of = PREV
						}
						CAM = {
							is_subject_of = PREV
						}
						VIN = {
							is_subject_of = PREV
						}
						MAD = {
							is_subject_of = PREV
						}
						MOR = {
							is_subject_of = PREV
						}
						ALG = {
							is_subject_of = PREV
						}
						TUN = {
							is_subject_of = PREV
						}
						DJI = {
							is_subject_of = PREV
						}
						RCG = {
							is_subject_of = PREV
						}
						GAB = {
							is_subject_of = PREV
						}
						CMR = {
							is_subject_of = PREV
						}
						CAR = {
							is_subject_of = PREV
						}
						CHA = {
							is_subject_of = PREV
						}
						NGR = {
							is_subject_of = PREV
						}
						DAH = {
							is_subject_of = PREV
						}
						TOG = {
							is_subject_of = PREV
						}
						VOL = {
							is_subject_of = PREV
						}
						IVO = {
							is_subject_of = PREV
						}
						GNA = {
							is_subject_of = PREV
						}
						MLI = {
							is_subject_of = PREV
						}
						SEN = {
							is_subject_of = PREV
						}
						CAY = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = LBA }
							owns_state = 448
							has_full_control_of_state = 448
							owns_state = 661
							has_full_control_of_state = 661
							owns_state = 449
							has_full_control_of_state = 449
							owns_state = 662
							has_full_control_of_state = 662
							owns_state = 450
							has_full_control_of_state = 450
							owns_state = 451
							has_full_control_of_state = 451
							owns_state = 663
							has_full_control_of_state = 663
							owns_state = 273
							has_full_control_of_state = 273
						}
						AND = {
							NOT = { original_tag = ETH }
							owns_state = 271
							has_full_control_of_state = 271
						}
						AND = {
							NOT = { original_tag = ERI }
							owns_state = 550
							has_full_control_of_state = 550
						}
						AND = {
							NOT = { original_tag = SOM }
							owns_state = 559
							has_full_control_of_state = 559
						}
						LBA = {
							is_subject_of = PREV
						}
						ETH = {
							is_subject_of = PREV
						}
						ERI = {
							is_subject_of = PREV
						}
						SOM = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = KOR }
							owns_state = 527
							has_full_control_of_state = 527
							owns_state = 525
							has_full_control_of_state = 525
						}
						AND = {
							original_tag = JAP
							owns_state = 609
							has_full_control_of_state = 609
						}
						AND = {
							original_tag = JAP
							owns_state = 745
							has_full_control_of_state = 745
						}
						AND = {
							original_tag = JAP
							owns_state = 524
							has_full_control_of_state = 524
						}
						MAN = {
							is_subject_of = PREV
						}
						MEN = {
							is_subject_of = PREV
						}
						KOR = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = ANG }
							owns_state = 540
							has_full_control_of_state = 540
						}
						AND = {
							NOT = { original_tag = MZB }
							owns_state = 544
							has_full_control_of_state = 544
						}
						AND = {
							original_tag = POR
							owns_state = 729
							has_full_control_of_state = 729
						}
						AND = {
							NOT = { original_tag = INS }
							owns_state = 721
							has_full_control_of_state = 721
						}
						AND = {
							NOT = { original_tag = GNB }
							owns_state = 296
							has_full_control_of_state = 296
						}
						ANG = {
							is_subject_of = PREV
						}
						MZB = {
							is_subject_of = PREV
						}
						GNB = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = EQG }
							owns_state = 297
							has_full_control_of_state = 297
						}
						AND = {
							NOT = { original_tag = WES }
							owns_state = 699
							has_full_control_of_state = 699
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 783
							has_full_control_of_state = 783
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 290
							has_full_control_of_state = 290
						}
						EQG = {
							is_subject_of = PREV
						}
						WES = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = CRC }
							owns_state = 695
							has_full_control_of_state = 695
						}
						AND = {
							NOT = { original_tag = SUR }
							owns_state = 309
							has_full_control_of_state = 309
						}
						CRC = {
							is_subject_of = PREV
						}
						SUR = {
							is_subject_of = PREV
						}
						INS = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = INS }
							owns_state = 335
							has_full_control_of_state = 335
							owns_state = 672
							has_full_control_of_state = 672
							owns_state = 334
							has_full_control_of_state = 334
							owns_state = 673
							has_full_control_of_state = 673
							owns_state = 667
							has_full_control_of_state = 667
							owns_state = 309
							has_full_control_of_state = 309
							owns_state = 668
							has_full_control_of_state = 668
							owns_state = 738
							has_full_control_of_state = 738
							owns_state = 669
							has_full_control_of_state = 669
						}
						AND = {
							NOT = { original_tag = COG }
							owns_state = 295
							has_full_control_of_state = 295
							owns_state = 538
							has_full_control_of_state = 538
							owns_state = 718
							has_full_control_of_state = 718
						}
						COG = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mtg_britain.46 hours = 6 }
			}
			hidden_effect = { news_event = { id = mtg_news.37 days = 1 } }
		}
	}

	focus = {
		id = ENG_reach_out_across_the_channel
		prerequisite = { focus = ENG_the_british_communist_alternative }
		mutually_exclusive = { focus = ENG_enforce_decolonization }
		available = {
			is_subject = no
			OR = {
				country_exists = FRA
				country_exists = HOL
				country_exists = BEL
				country_exists = LUX
			}
			OR = {
				FRA = { has_government = communism }
				HOL = { has_government = communism }
				BEL = { has_government = communism }
				LUX = { has_government = communism }
			}
			OR = {
				NOT = { has_war_with = FRA }
				NOT = { has_war_with = HOL }
				NOT = { has_war_with = BEL }
				NOT = { has_war_with = LUX }
			}
		}
		icon = GFX_goal_tripartite_pact
		x = 1
		y = 1
		relative_position_id = ENG_the_british_communist_alternative
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			if = {
				limit = {
					NOT = { FRA = { has_government = communism } }
					NOT = { HOL = { has_government = communism } }
					NOT = { BEL = { has_government = communism } }
					NOT = { LUX = { has_government = communism } }
				}
				custom_effect_tooltip = ENG_reach_out_across_the_channel_tt
			}
			if = {
				limit = {
					FRA = {
						has_government = communism
					}
				}
				FRA = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					HOL = {
						has_government = communism
					}
				}
				HOL = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					BEL = {
						has_government = communism
					}
				}
				BEL = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					LUX = {
						has_government = communism
					}
				}
				LUX = { country_event = { id = generic.5 } }
			}
		}
	}

	focus = {
		id = ENG_soviet_cooperation
		prerequisite = { focus = ENG_enforce_decolonization focus = ENG_reach_out_across_the_channel }
		mutually_exclusive = { focus = ENG_the_one_true_revolution }
		available = {
			is_subject = no
			country_exists = SOV
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			is_in_faction_with = SOV
		}
		icon = GFX_focus_chi_mission_to_the_soviet_union
		x = 0
		y = 1
		relative_position_id = ENG_enforce_decolonization
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			if = {
				limit = {
					SOV = { NOT = { has_war_with = GER } }
				}
				SOV = { country_event = { id = mtg_britain.49 hours = 6 } }
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
					expire = 0
				}
			}
		}
	}

	focus = {
		id = ENG_the_one_true_revolution
		prerequisite = { focus = ENG_enforce_decolonization focus = ENG_reach_out_across_the_channel }
		mutually_exclusive = { focus = ENG_soviet_cooperation }
		available = {
			is_subject = no
			country_exists = SOV
			NOT = { is_in_faction_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			has_war_with = SOV
		}
		will_lead_to_war_with = SOV
		icon = GFX_focus_attack_soviet
		x = 0
		y = 1
		relative_position_id = ENG_reach_out_across_the_channel
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			}
			hidden_effect = { news_event = { id = mtg_news.38 days = 1 } }
		}
	}

	### GO COMMUNIST WITH SOVIET UNION BRANCH ###

	focus = {
		id = ENG_follow_moscow
		prerequisite = { focus = ENG_for_the_good_of_the_revolution }
		mutually_exclusive = { focus = ENG_the_british_communist_alternative }
		available = {
			is_subject = no
			country_exists = SOV
			NOT = { is_in_faction_with = SOV }
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			is_in_faction_with = SOV
			NOT = {
				focus_progress = {
					focus = ENG_the_british_communist_alternative
					progress > 0
				}
			}
		}
		icon = GFX_goal_support_communism
		x = 2
		y = 1
		relative_position_id = ENG_for_the_good_of_the_revolution
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_stability = 0.05
			SOV = { country_event = { id = mtg_britain.52 hours = 6 } }
		}
	}

	focus = {
		id = ENG_tackle_fascism
		prerequisite = { focus = ENG_follow_moscow }
		mutually_exclusive = { focus = ENG_tackle_capitalism }
		available = {
			is_subject = no
			OR = {
				country_exists = GER
				country_exists = ITA
			}
			OR = {
				GER = { has_government = fascism }
				ITA = { has_government = fascism }
			}
		}
		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = -1
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			if = {
				limit = {
					GER = { has_government = fascism }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_1
				GER = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
				ITA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					GER = { has_government = fascism }
					NOT = { ITA = { has_government = fascism } }
				}
				add_ideas = ENG_tackle_fascism_idea_2
				GER = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					NOT = { GER = { has_government = fascism } }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_3
				ITA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			hidden_effect = { news_event = { id = mtg_news.39 days = 1 } }
		}
	}

	focus = {
		id = ENG_preparing_the_second_front
		prerequisite = { focus = ENG_tackle_fascism }
		available = {

		}
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 1
		relative_position_id = ENG_tackle_fascism
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			add_tech_bonus = {
				name = ENG_preparing_the_second_front
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = ENG_preparing_the_second_front
				bonus = 1.0
				uses = 1
				category = tp_tech
			}
		}
	}

	focus = {
		id = ENG_tackle_capitalism
		prerequisite = { focus = ENG_follow_moscow }
		mutually_exclusive = { focus = ENG_tackle_fascism }
		available = {
			is_subject = no
			country_exists = USA
			USA = { has_government = democratic }
		}
		icon = GFX_focus_generic_strike_at_democracy3
		x = 1
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_ideas = ENG_tackle_capitalism_idea
			USA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_capitalism } }
			hidden_effect = { news_event = { id = mtg_news.40 days = 1 } }
		}
	}

	focus = {
		id = ENG_bermuda_invasion_launch_point
		prerequisite = { focus = ENG_tackle_capitalism }
		available = {
			has_full_control_of_state = 696
		}
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		relative_position_id = ENG_tackle_capitalism
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			# Bermuda
			696 = {
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
					# Bermuda
					add_building_construction = {
						type = naval_base
						level = 5
						province = 13010
						instant_build = yes
					}
				}								
			}
		}
	}

	focus = {
		id = ENG_crush_the_dream
		prerequisite = { focus = ENG_bermuda_invasion_launch_point }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = USA }
			USA = { has_government = democratic }
		}
		will_lead_to_war_with = USA
		icon = GFX_focus_eng_crush_the_dream
		x = 0
		y = 1
		relative_position_id = ENG_bermuda_invasion_launch_point
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = USA
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_socialist_science_pool
		prerequisite = { focus = ENG_follow_moscow }
		available = {
			is_in_faction_with = SOV
		}
		icon = GFX_focus_generic_socialist_science
		x = 3
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_to_tech_sharing_group = socialist_science_pool
			every_other_country = {
				limit = {
					is_in_faction_with = ENG
				}
				add_to_tech_sharing_group = socialist_science_pool
			}
		}
	}

	### COMMUNIST SHARED FINISHER BRANCH ###

	focus = {
		id = ENG_liberate_the_home_of_marx
		prerequisite = { focus = ENG_the_one_true_revolution focus = ENG_preparing_the_second_front }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { is_in_faction_with = GER }
		}
		will_lead_to_war_with = GER
		icon = GFX_focus_eng_liberate_the_home_of_marx
		x = 1
		y = 1
		relative_position_id = ENG_the_one_true_revolution
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_spirit_of_the_industrial_revolution
		prerequisite = { focus = ENG_soviet_cooperation focus = ENG_liberate_the_home_of_marx focus = ENG_crush_the_dream }
		available = {

		}
		icon = GFX_goal_generic_soviet_construction
		x = -3
		y = 1
		relative_position_id = ENG_liberate_the_home_of_marx
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			add_ideas = ENG_spirit_of_the_industrial_revolution_idea
		}
	}

}
focus_tree = {
	id = french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = FRA
			always = no
		}
	}

	initial_show_position = {
		x = 0
	}

	
	default = no
	focus = {
		id = FRA_devalue_the_franc
		icon = GFX_focus_fra_devalue_the_franc
		x = 0
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {}
		mutually_exclusive = { }
		cost = 10
			ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = {
				idea = FRA_devalue_the_franc
				days = 365
			}
		}
	}
	focus = {
		id = FRA_autoroutes
		icon = GFX_goal_generic_construct_infrastructure
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_devalue_the_franc }
		mutually_exclusive = { }
		relative_position_id = FRA_devalue_the_franc
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_core_of = ROOT
				infrastructure < 9
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = { 
					is_core_of = ROOT 
					infrastructure < 9
					not = { has_state_flag = FRA_autoroutes_target }
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_autoroutes_target
			}
			random_owned_state = {
				limit = { 
					is_core_of = ROOT 
					infrastructure < 9
					not = { has_state_flag = FRA_autoroutes_target }
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_autoroutes_target
			}
			random_owned_state = {
				limit = { 
					is_core_of = ROOT 
					infrastructure < 9
					not = { has_state_flag = FRA_autoroutes_target }
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_autoroutes_target
			}
			random_owned_state = {
				limit = { 
					is_core_of = ROOT 
					infrastructure < 9
					not = { has_state_flag = FRA_autoroutes_target }
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_autoroutes_target
			}
			
		}
	}
	focus = {
			id = FRA_invest_in_the_metropole
			icon = GFX_goal_generic_construct_civilian
			x = 0
			y = 1
			offset = {
				x = 0
				y = 0
			}
			prerequisite = { focus = FRA_devalue_the_franc }
			mutually_exclusive = { }
			relative_position_id = FRA_devalue_the_franc
			cost = 10
	
			ai_will_do = {
				factor = 1
			}
	
			available = {
				
			}
			
			bypass = {
	
			}
	
			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no
	
			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_stability = 0.05
			}
		}	
	focus = {
		id = FRA_metropolitan_france
		icon = GFX_focus_generic_industry_1
		available = {
			any_owned_state = {
				is_core_of = ROOT
				free_building_slots = { #less than 24 unlocked slots
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
		}
		x = 0
		y = 2
		cost = 10
		ai_will_do = {
			factor = 1
		}		
		prerequisite = { focus = FRA_invest_in_the_metropole }
		relative_position_id = FRA_devalue_the_franc
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		bypass = {
			
		}

		complete_tooltip = {
			every_owned_state = {
				limit = { 
					has_state_flag = FRA_industrial_expansion_target
				}
				add_extra_state_shared_building_slots = 2
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = { 
					is_core_of = ROOT 
					NOT = {
						has_state_flag = FRA_industrial_expansion_target
					}	
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = FRA_industrial_expansion_target
				random_neighbor_state = {
					limit = { 
						is_core_of = ROOT 	
						is_owned_by = ROOT
						NOT = {
							has_state_flag = FRA_industrial_expansion_target
						}	
					}
					add_extra_state_shared_building_slots = 2
					set_state_flag = FRA_industrial_expansion_target
				}
			}
		}
	}

	focus = {
		id = FRA_industrial_expansion
		icon = GFX_focus_generic_industry_3
		available = {
		}
		prerequisite = { focus = FRA_metropolitan_france focus = FRA_algerie_france }
		x = 0
		y = 1
		relative_position_id = FRA_metropolitan_france
		cost = 10
		ai_will_do = {
			factor = 1
		}

		bypass = {
			
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_state_flag = FRA_industrial_expansion_target
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		search_filters = {  FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = FRA_industrial_expansion_effect_tt
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_state_flag = FRA_industrial_expansion_target
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = FRA_military_factories
		icon = GFX_goal_generic_construct_mil_factory
		available = {
		}
		prerequisite = { focus = FRA_industrial_expansion focus = FRA_colonial_industry }
		x = 2
		y = 1
		relative_position_id = FRA_industrial_expansion
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		bypass = {
			
		}

		complete_tooltip = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					OR = {
						has_state_flag = FRA_industrial_expansion_target
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = FRA_military_factories_effect_tt
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					OR = {
						has_state_flag = FRA_industrial_expansion_target
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}				
		}
	}


	focus = {
		id = FRA_algerie_france
		icon = GFX_focus_generic_industry_1
		available = {
			any_state = {
				OR = {
					state = 459
					state = 460
					state = 513
				}
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
		}
		x = 2
		y = 1
		cost = 10
		ai_will_do = {
			factor = 0.2
		}
		prerequisite = { focus = FRA_invest_in_the_metropole focus = FRA_invest_in_the_colonies }
		relative_position_id = FRA_invest_in_the_metropole
		available_if_capitulated = yes

		bypass = {
			
		}		

		complete_tooltip = {
			every_state = {
				limit = { 
					OR = {
						state = 459
						state = 460
						state = 513
					}
					is_owned_or_subject_trigger = yes	
					OR = {	
						has_state_flag = FRA_industrial_expansion_target
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_extra_state_shared_building_slots = 2
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_state = {
				limit = { 
					OR = {
						state = 459
						state = 460
						state = 513
					}
					NOT  = {
						has_state_flag = FRA_industrial_expansion_target
						has_state_flag = FRA_colonial_industry_target
					}
					is_owned_or_subject_trigger = yes	
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = FRA_industrial_expansion_target
				set_state_flag = FRA_colonial_industry_target
				random_neighbor_state = {
					limit = { 
						OR = {
							state = 459
							state = 460
							state = 513
						}
						is_owned_or_subject_trigger = yes
						NOT  = {
							has_state_flag = FRA_industrial_expansion_target
							has_state_flag = FRA_colonial_industry_target
						}		
					}
					add_extra_state_shared_building_slots = 2
					set_state_flag = FRA_industrial_expansion_target
					set_state_flag = FRA_colonial_industry_target
				}
			}
		}
	}	
	focus = {
		id = FRA_invest_in_the_colonies
		icon = GFX_goal_generic_construct_civilian
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_devalue_the_franc }
		mutually_exclusive = { }
		relative_position_id = FRA_devalue_the_franc
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				not = { is_core_of = ROOT }
				not = { is_on_continent = europe }
				is_controlled_by = ROOT
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			every_owned_state = {
				limit = {
					not = { is_core_of = ROOT }
					not = { is_on_continent = europe }
				}
				add_compliance = 10
			}
		}
	}
	focus = {
		id = FRA_invest_in_west_africa
		icon = GFX_focus_generic_industry_1
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {focus = FRA_invest_in_the_colonies }
		mutually_exclusive = { }
		relative_position_id = FRA_invest_in_the_colonies
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_state = {
				OR = {
					state = 272
					state = 780
					state = 556
					state = 779
					state = 778
					state = 781
					state = 776
					state = 777
				}	
				is_owned_or_subject_trigger = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_state = {
				limit = { 
					OR = {
						state = 272
						state = 780
						state = 556
						state = 779
						state = 778
						state = 781
						state = 776
						state = 777
					}	
					OWNER = { is_owned_or_subject_trigger = yes }
					NOT = {
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = FRA_colonial_industry_target
			}
		}
	}
	focus = {
		id = FRA_invest_in_indochina
		icon = GFX_focus_generic_industry_1
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_invest_in_the_colonies }
		mutually_exclusive = { }
		relative_position_id = FRA_invest_in_the_colonies
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_state = {
				OR = {
					is_core_of = VIN
					is_core_of = CAM
					is_core_of = LAO
				}
				is_owned_or_subject_trigger = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_state = {
				limit = { 
					OR = {
						state = 741
						state = 286
						state = 671
						state = 670
					}
					OWNER = { is_owned_or_subject_trigger = yes }	
					NOT = {
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = FRA_colonial_industry_target
			}
		}
	}
	focus = {
		id = FRA_invest_in_syria
		icon = GFX_focus_generic_industry_1
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {focus = FRA_invest_in_the_colonies }
		mutually_exclusive = { }
		relative_position_id = FRA_invest_in_the_colonies
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_state = {
				OR = {
					is_core_of = SYR
					is_core_of = LEB
				}
				is_owned_or_subject_trigger = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_state = {
				limit = { 
					OR = {
						state = 677
						state = 680
						state = 554
						state = 553
					}
					OWNER = { is_owned_or_subject_trigger = yes }	
					NOT = {
						has_state_flag = FRA_colonial_industry_target
					}
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = FRA_colonial_industry_target
			}
		}
	}
	focus = {
		id = FRA_colonial_industry
		icon = GFX_focus_generic_industry_3
		available = {
		}
		prerequisite = { focus = FRA_algerie_france focus = FRA_invest_in_west_africa focus = FRA_invest_in_indochina focus = FRA_invest_in_syria }
		x = 2
		y = 1
		relative_position_id = FRA_algerie_france
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			
		}

		search_filters = {  FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = FRA_colonial_industry_effect_tt
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_state_flag = FRA_colonial_industry_target
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = FRA_extra_research_slot
		icon = GFX_focus_research
		available = {
			if = {
				limit = { amount_research_slots > 3 }
				num_of_factories > 75
			}
			amount_research_slots < 5
		}
		prerequisite = {
			focus = FRA_industrial_expansion
			
		}
		x = 0
		y = 1
		relative_position_id = FRA_industrial_expansion
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = FRA_extra_research_slot_2
		icon = GFX_focus_research
		prerequisite = { 
			focus = FRA_colonial_industry
		}
		available = {
			if = {
				limit = { amount_research_slots > 3 }
				num_of_factories > 75
			}
			amount_research_slots < 5
		}
		x = 0
		y = 1
		relative_position_id = FRA_colonial_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = FRA_global_integration
		icon = GFX_goal_generic_construction
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {focus = FRA_colonial_industry }
		mutually_exclusive = { }
		relative_position_id = FRA_colonial_industry
		cost = 10
	
		ai_will_do = {
			factor = 1
		}
	
		available = {
				
		}
			
		bypass = {
		}
	
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
	
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_global_investments }
		}
	}	

	#### END ####

	focus = {
		id = FRA_begin_rearmament
		icon = GFX_goal_generic_construct_mil_factory
		x = 16
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {}
		mutually_exclusive = { }
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war_support > 0.12
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = FRA_defensive_focus
		icon = GFX_goal_generic_defence
		mutually_exclusive = { focus = FRA_aggressive_focus }
		x = -1
		y = 1
		cost = 10
		prerequisite = { focus = FRA_begin_rearmament }
		available_if_capitulated = yes
		relative_position_id = FRA_begin_rearmament
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = maxime_weygand
		}
	}
	focus = {
		id = FRA_firepower_kills
		icon = GFX_goal_generic_army_artillery
		x = -4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_defensive_focus }
		mutually_exclusive = { focus = FRA_methodical_battle }
		relative_position_id = FRA_defensive_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_firepower }
		}
	}
	focus = {
		id = FRA_methodical_battle
		icon = GFX_goal_generic_cavalry
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_defensive_focus }
		mutually_exclusive = { focus = FRA_firepower_kills }
		relative_position_id = FRA_defensive_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = FRA_methodical_battle
				category = land_doctrine
				uses = 2
				bonus = 2
			}
		}
	}
	focus = {
		id = FRA_fortification_focus
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = FRA_methodical_battle }
		x = 0
		y = 1
		relative_position_id = FRA_methodical_battle
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_fortification_focus
		}
	}
	focus = {
		id = FRA_alpine_forts
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = FRA_fortification_focus }
		x = 0
		y = 1
		relative_position_id = FRA_fortification_focus
		cost = 10

		available = {
			735 = { is_controlled_by = ROOT }
		}

		completion_reward = {
			ROOT = { country_event = { id = france.3 } }
			ITA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_alpine_forts
				}
			}
		}
	}
	focus = {
		id = FRA_extend_the_maginot_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = FRA_alpine_forts }
		x = 0
		y = 1
		relative_position_id = FRA_alpine_forts
		cost = 10

		available = {
			18 = { is_controlled_by = ROOT }
			29 = { is_controlled_by = ROOT }
			785 = { is_controlled_by = ROOT }
			has_idea = FRA_protected_by_the_maginot_line
		}
		completion_reward = {
			ROOT = { country_event = { id = france.2 } }
			BEL = {
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_extend_the_maginot_line_focus_neg
				}
				add_opinion_modifier = {
					target = GER
					modifier = FRA_extend_the_maginot_line_focus_pos
				}
			}
		}
	}
	focus = {
		id = FRA_infantry_focus
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = FRA_firepower_kills }
		x = 0
		y = 1
		relative_position_id = FRA_firepower_kills
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			add_ideas = FRA_infantry_focus
		}
	}
	focus = {
		id = FRA_artillery_focus
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = FRA_infantry_focus }
		x = 0
		y = 1
		relative_position_id = FRA_infantry_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = FRA_artillery_focus
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}
	focus = {
		id = FRA_heavy_armor_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = FRA_artillery_focus }
		x = 0
		y = 1
		relative_position_id = FRA_artillery_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = FRA_heavy_armor_focus
				bonus = 1.0
				uses = 1
				category = cat_heavy_armor
			}
		}
	}
	focus = {
		id = FRA_division_cuirassee
		icon = GFX_focus_generic_army_tanks2
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_heavy_armor_focus }
		mutually_exclusive = { }
		relative_position_id = FRA_heavy_armor_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = basic_heavy_tank
			has_tech = basic_medium_tank
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			division_template = {
				name = "Division Cuirassée" 	
				division_names_group = FRA_ARM_01

				regiments = {
					medium_armor = { x = 0 y = 0 }		
					heavy_armor = { x = 0 y = 1 }		
					medium_armor = { x = 1 y = 0 }		
					medium_armor = { x = 1 y = 1 }		
					motorized = { x = 2 y = 0 }			
					motorized = { x = 2 y = 1 }
					motorized = { x = 2 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }      		
					artillery = { x = 0 y = 1 }
					engineer = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"1re Division Cuirassée\" division_template = \"Division Cuirassée\" start_experience_factor = 0.7"  
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2me Division Cuirassée\" division_template = \"Division Cuirassée\" start_experience_factor = 0.7"  
					owner = ROOT
				}
			}
		}
	}

	focus = {
		id = FRA_infantry_tanks
		icon = GFX_focus_generic_combined_arms
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_firepower_kills focus = FRA_methodical_battle }
		mutually_exclusive = { }
		relative_position_id = FRA_firepower_kills
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = FRA_hotchkiss
		}
	}
	focus = {
		id = FRA_special_forces
		icon = GFX_goal_generic_special_forces
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_infantry_tanks }
		mutually_exclusive = { }
		relative_position_id = FRA_infantry_tanks
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { special_forces }
		}
	}
	focus = {
		id = FRA_fusiliers_marine
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_special_forces }
		mutually_exclusive = { }
		relative_position_id = FRA_infantry_tanks
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = FRA_fusiliers_marine
				category = tp_tech
				category = marine_tech
				uses = 2
				bonus = 1
			}
		}
	}

	focus = {
		id = FRA_aggressive_focus
		icon = GFX_goal_generic_major_war
		mutually_exclusive = { focus = FRA_defensive_focus }
		x = 1
		y = 1
		cost = 10
		relative_position_id = FRA_begin_rearmament
		available_if_capitulated = yes
		prerequisite = { focus = FRA_begin_rearmament }
		ai_will_do = {
			factor = 0.2
		}
		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = maurice_gamelin
			army_experience = 25
		}
	}
	focus = {
		id = FRA_battle_of_maneuver
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_aggressive_focus }
		mutually_exclusive = { focus = FRA_air_dominance }
		relative_position_id = FRA_aggressive_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = charles_de_gaulle
		}
	}
	focus = {
		id = FRA_motorized_focus
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = FRA_battle_of_maneuver }
		x = 0
		y = 1
		relative_position_id = FRA_battle_of_maneuver
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			add_ideas = FRA_motorized_focus
		}
	}
	focus = {
		id = FRA_mechanized_focus
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = FRA_motorized_focus }
		x = 0
		y = 1
		relative_position_id = FRA_motorized_focus
		cost = 10
		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = FRA_mechanized_focus
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}
	focus = {
		id = FRA_light_medium_armor
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = FRA_mechanized_focus }
		x = 0
		y = 1
		relative_position_id = FRA_mechanized_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = FRA_light_medium_armor
				bonus = 1.0
				uses = 1
				category = cat_light_armor
				category = cat_medium_armor
			}
		}
	}
	focus = {
		id = FRA_air_dominance
		icon = GFX_goal_generic_air_fighter2
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_aggressive_focus }
		mutually_exclusive = { focus = FRA_battle_of_maneuver }
		relative_position_id = FRA_aggressive_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_air_dominance }
		}
	}
	focus = {
		id = FRA_cas_focus
		icon = GFX_goal_generic_CAS
	 	prerequisite = { 
	 		focus = FRA_air_dominance
	 	}
		x = 0
		y = 1
		relative_position_id = FRA_air_dominance
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_cas_focus
				bonus = 1.0
				uses = 2
				category = cas_bomber
			}
		}
	}
	focus = {
		id = FRA_air_ground_cooperation
		icon = GFX_goal_generic_air_bomber
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_cas_focus }
		mutually_exclusive = { }
		relative_position_id = FRA_air_dominance
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = FRA_air_ground_cooperation
				category = air_doctrine
				uses = 2
				bonus = 1
			}
		}
	}
	focus = {
		id = FRA_flying_artillery
		icon = GFX_goal_poland_goal
		x = 0
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_air_ground_cooperation }
		mutually_exclusive = { }
		relative_position_id = FRA_air_dominance
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_flying_artillery }
		}
	}
	focus = {
		id = FRA_army_reform
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { 
			focus = FRA_light_medium_armor 
			focus = FRA_heavy_armor_focus 
			focus = FRA_extend_the_maginot_line
			focus = FRA_flying_artillery
		}
		x = -1
		y = 1
		relative_position_id = FRA_light_medium_armor
		cost = 10

		available_if_capitulated = yes

		available = {
			NOT = { has_idea = FRA_disjointed_government }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			remove_ideas = FRA_victors_of_wwi
			army_experience = 10
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = FRA_AMX
		}
	}	

#### END ####

	focus = {
		id = FRA_form_the_popular_front
		icon = GFX_goal_generic_intelligence_exchange
		x = 26
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {}
		mutually_exclusive = { focus = FRA_revive_the_national_bloc }
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL  }
		completion_reward = {
			create_country_leader = {
				name = "Léon Blum"
				desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
				picture = GFX_portrait_fra_leon_blum
				expire = "1965.1.1"
				ideology = socialism
				traits = {
					reluctant_interventionist
					stout_defender
				}
			}
			set_country_flag = { flag = FRA_popular_front_cooldown value = 1 days = 360 } #fires strike event if labour laws not reformed in time
		}
	}
	focus = {
		id = FRA_invite_communist_ministers
		icon = GFX_goal_support_communism
		x = -3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_form_the_popular_front }
		mutually_exclusive = { }
		relative_position_id = FRA_form_the_popular_front
		allow_branch = { has_dlc = "La Resistance" }
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			not = {
				has_completed_focus = FRA_review_foreign_policy	
			}
			is_subject = no
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			FRA_right_wing_riot_effect = yes
			add_popularity = { ideology = communism popularity = 0.05 }
			set_temp_variable = { communism_temp = party_popularity@communism }
			multiply_temp_variable = { communism_temp = 0.25 }
			add_stability = communism_temp
		}
	}
	focus = {
		id = FRA_strengthen_the_unions
		icon = GFX_goal_generic_demand_territory
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_invite_communist_ministers }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = { ideology = communism popularity = 0.05}
			FRA_right_wing_riot_effect = yes
		}
	}
	focus = {
		id = FRA_celebrate_the_commune
		icon = GFX_goal_generic_propaganda
		x = -1
		y = 4
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_strengthen_the_unions }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			is_subject = no
		}
		
		bypass = {
			has_government = communism
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = { ideology = communism popularity = 0.05}
		}
	}
	focus = {
		id = FRA_womens_suffrage
		icon = GFX_focus_generic_treaty
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_invite_communist_ministers }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = { FRA_womens_suffrage }
			add_popularity = { ideology = communism popularity = 0.05}
		}
	}
	focus = {
		id = FRA_legal_equality
		icon = GFX_goal_generic_major_alliance
		x = 1
		y = 4
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_womens_suffrage }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			FRA_right_wing_riot_effect = yes
			add_popularity = { ideology = communism popularity = 0.05 }
		}
	}	
	focus = {
		id = FRA_industrial_collectivization
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_womens_suffrage }
		prerequisite = { focus = FRA_strengthen_the_unions }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			not = {
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
		
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = FRA_agricultural_collectivization
		icon = GFX_focus_prc_agrarian_socialism
		x = 0
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { focus = FRA_industrial_collectivization }
		mutually_exclusive = { }
		relative_position_id = FRA_invite_communist_ministers
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_agricultural_collectivization }
			if = {
				limit = {
					set_temp_variable = { FRA_rw_support = party_popularity@neutrality }
					add_to_temp_variable = { FRA_rw_support = party_popularity@fascism }
					check_variable = { FRA_rw_support > 0.4 }
				}
				add_stability = -0.05
			}
		}
	}				
	focus = {
		id = FRA_force_the_issue
		icon = GFX_goal_demand_sudetenland
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_celebrate_the_commune
			focus = FRA_legal_equality
		}
		mutually_exclusive = { }
		relative_position_id = FRA_celebrate_the_commune
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			communism > 0.45
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_temp_variable = { FRA_democratic_support = party_popularity@democratic }
			multiply_temp_variable = { FRA_democratic_support = -0.25 }
			add_stability = FRA_democratic_support
			custom_effect_tooltip = FRA_force_the_issue_tt
			set_politics = { ruling_party = communism elections_allowed = no }
			if = {
				limit = {
					has_idea = FRA_disjointed_government
				}
				remove_ideas = FRA_disjointed_government
			}
			hidden_effect = {
				news_event = { id = lar_news.9 days = 3 random_days = 5 }
			}
		}
	}
	focus = {
		id = FRA_reconciliation
		icon = GFX_goal_generic_improve_relations
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_force_the_issue
		}
		search_filters = { FOCUS_FILTER_STABILITY }
		mutually_exclusive = { focus = FRA_revolution_to_the_utmost }
		relative_position_id = FRA_force_the_issue
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = FRA_constitutional_convention
		icon = GFX_focus_generic_treaty
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reconciliation
		}
		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 120
		}
	}
	focus = {
		id = FRA_anti_fascist_coalition
		icon = GFX_goal_generic_military_deal
		x = -1
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_constitutional_convention
		}
		mutually_exclusive = { focus = FRA_loyalty_to_moscow focus = FRA_loyalty_to_the_cause }
		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_neighbor_country = {
							is_faction_leader = yes
							OR = {
								has_government = democratic
								has_government = communism
							}
						}
					}
				}
				set_rule = { can_create_factions = yes }
				create_faction = FRA_anti_fascist_coalition
				every_neighbor_country = {
					limit = {
						is_in_faction = no
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					country_event = generic.5
				}
			}
			else_if = {
				limit = {
					any_neighbor_country = {
						is_faction_leader = yes
						has_government = communism
					}
				}
				random_neighbor_country = {
					limit = {
						is_faction_leader = yes
						has_government = communism
					}
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					any_neighbor_country = {
						is_faction_leader = yes
						has_government = democratic
					}
				}
				random_neighbor_country = {
					limit = {
						is_faction_leader = yes
						has_government = democratic
					}
					country_event = generic.2
				}
			}
		}
	}
	focus = {
		id = FRA_invite_anti_fascist_emigrants
		icon = GFX_goal_generic_national_unity
		x = -1
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_anti_fascist_coalition
		}
		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_anti_fascist_immigrants }
		}
	}
	focus = {
		id = FRA_reconnect_to_the_balkans
		icon = GFX_goal_generic_military_sphere
		x = -1
		y = 4
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_invite_anti_fascist_emigrants
		}
		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			
			every_other_country = {
				limit = {
					OR = {
						original_tag = YUG
						original_tag = HUN
						original_tag = ROM
						original_tag = GRE
						original_tag = CZE
						original_tag = BUL
						original_tag = ALB
						original_tag = SER
						original_tag = SLO
						original_tag = MNT
						original_tag = BOS
						original_tag = MAC
						original_tag = CRO
					}
					exists = yes
					is_in_faction = no
					is_subject = no
					NOT = { has_war_with = ROOT }
					OR = { 
						has_government = communism 
						has_government = democratic
					}
				}
				if = {
					limit = { ROOT = { is_faction_leader = yes } }
					country_event = generic.5
				}
				else_if = {
					limit = { 
						ROOT = { 
							is_in_faction = yes 
						} 
					}
					random_other_country = {
						limit = {
							is_in_faction_with = ROOT
							is_faction_leader = yes
						}
						ROOT = { set_variable = { faction_leader = PREV } }
					}
					country_event = lar_fra_reconnect_to_the_balkans.1
				}
				else = {
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}
	focus = {
		id = FRA_pre_empt_the_fascist_attack
		icon = GFX_focus_focus_fra_fascist_threat
		x = 0
		y = 5
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reconnect_to_the_balkans
			focus = FRA_host_the_german_exiles
		}

		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_neighbor_country = { 
				has_government = fascism 
				NOT = { has_war_with = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_neighbor_country = {
				limit = {
					has_government = fascism
				}
				ROOT = {
					create_wargoal = {
						type = topple_government
						target = PREV
						expire = 0
					}
				}
			}
		}
	}
	focus = {
		id = FRA_loyalty_to_moscow
		icon = GFX_goal_support_communism
		x = 2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_constitutional_convention
			focus = FRA_destroy_the_counter_revolution
		}
		mutually_exclusive = { focus = FRA_anti_fascist_coalition focus = FRA_loyalty_to_the_cause }
		relative_position_id = FRA_reconciliation
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			Not = { has_war_with = SOV }
			SOV = { has_government = communism }
			OR = {
				is_subject = no
				is_subject_of = SOV
			}
		}
		
		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					SOV = {
						is_faction_leader = yes
						has_government = communism
					}
				}
				SOV = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					SOV = {
						is_faction_leader = no
						is_in_faction = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = SOV
					}
					country_event = generic.2
				}
			}
		}
	}
	focus = {
		id = FRA_league_of_french_bolshevist_volunteers
		icon = GFX_focus_YUG_pan_slavic_congress
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_loyalty_to_moscow
		}
		relative_position_id = FRA_loyalty_to_moscow
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_league_of_french_bolshevist_volunteers }
		}
	}
	focus = {
		id = FRA_host_the_german_exiles
		icon = GFX_focus_generic_self_management
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_league_of_french_bolshevist_volunteers
		}

		relative_position_id = FRA_loyalty_to_moscow
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			GER = {
				not = {
					has_government = communism
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_relation_modifier = {
  				target = GER
  				modifier = FRA_host_the_german_exiles
  			}
		}
	}
	focus = {
		id = FRA_revolution_to_the_utmost
		icon = GFX_focus_focus_fra_revolution_utmost
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_force_the_issue
		}
		mutually_exclusive = { focus = FRA_reconciliation }
		relative_position_id = FRA_force_the_issue
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}
	focus = {
		id = FRA_destroy_the_counter_revolution
		icon = GFX_goal_generic_secret_weapon
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revolution_to_the_utmost
		}
		relative_position_id = FRA_revolution_to_the_utmost
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_temp_variable = { FRA_rw_support = party_popularity@fascism }
			add_to_temp_variable = { FRA_rw_support = party_popularity@neutrality }
			multiply_temp_variable = { FRA_rw_support = 0.5 }
			start_civil_war = {
				size = FRA_rw_support
				ideology = fascism
			}
		}
	}
	focus = {
		id = FRA_revolutionary_zeal
		icon = GFX_goal_generic_war_with_comintern
		x = 3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_destroy_the_counter_revolution
		}
		relative_position_id = FRA_destroy_the_counter_revolution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_revolutionary_zeal}
		}
	}
	focus = {
		id = FRA_loyalty_to_the_cause
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_destroy_the_counter_revolution
		}
		mutually_exclusive = { focus = FRA_loyalty_to_moscow focus = FRA_anti_fascist_coalition }
		relative_position_id = FRA_revolution_to_the_utmost
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = FRA_communist_faction
			create_operative_leader = {
				name = "Jacques Duclos"
				GFX = GFX_portrait_jacques_duclos
				traits = { operative_infiltrator operative_natural_orator }
				bypass_recruitment = no
				available_to_spy_master = yes
				nationalities = { FRA }
			}
		}
	}
	focus = {
		id = FRA_carry_the_revolution_north
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_loyalty_to_the_cause
		}
		relative_position_id = FRA_loyalty_to_the_cause
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			ENG = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_government = communism
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			
			create_wargoal = {
				target = ENG
				type = topple_government
				expire = 0
			}
			custom_effect_tooltip = unlocks_espionage_operation_tt
			custom_effect_tooltip = FRA_instigate_workers_revolution_britain
		}
	}
	focus = {
		id = FRA_carry_the_revolution_west
		icon = GFX_goal_generic_territory_or_war
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_carry_the_revolution_north
		}
		relative_position_id = FRA_carry_the_revolution_north
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			any_neighbor_country = {
				original_tag = SPR
				has_government = communism
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			
			every_other_country = {
				limit = {
					original_tag = SPR
					not = { has_government = communism }
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = topple_government
						expire = 0
					}
				}
			}
			custom_effect_tooltip = unlocks_espionage_operation_tt
			custom_effect_tooltip = FRA_instigate_workers_revolution_spain
		}
	}
	focus = {
		id = FRA_carry_the_revolution_east
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_carry_the_revolution_north
		}
		relative_position_id = FRA_carry_the_revolution_north
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			GER = {
				not = { has_government = communism }
			}
		}
		
		bypass = {
			GER = {
				OR = {
					exists = no
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_war_with = ROOT
					has_government = communism
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				target = GER
				type = topple_government
				expire = 0
			}
			custom_effect_tooltip = unlocks_espionage_operation_tt
			custom_effect_tooltip = FRA_instigate_workers_revolution_germany
		}
	}
	focus = {
		id = FRA_carry_the_revolution_south
		icon = GFX_goal_generic_major_war
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_carry_the_revolution_west
		}
		prerequisite = {
			focus = FRA_carry_the_revolution_east
		}
		relative_position_id = FRA_carry_the_revolution_north
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			ITA = {
				not = { has_government = communism }
			}
			is_subject = no
		}
		
		bypass = {
			ITA = {
				OR = {
					exists = no
					has_war_with = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_government = communism
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				target = ITA
				type = topple_government
				expire = 0
			}
			custom_effect_tooltip = unlocks_espionage_operation_tt
			custom_effect_tooltip = FRA_instigate_workers_revolution_italy
		}
	}
	focus = {
		id = FRA_egalite_liberte_solidarite
		icon = GFX_focus_focus_fra_liberte_egalite_solidarite
		x = 0
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_carry_the_revolution_south
		}
		relative_position_id = FRA_carry_the_revolution_north
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = { FRA_egalite_liberte_solidarite }
		}
	}
	focus = {
		id = FRA_reform_the_labour_laws
		icon = GFX_goal_generic_production
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_form_the_popular_front
		}
		relative_position_id = FRA_form_the_popular_front
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_matignon_agreements }
			if = {
				limit = {
					has_idea = FRA_factory_strikes
				}
				remove_ideas = FRA_factory_strikes
			}
		}
	}
	focus = {
		id = FRA_nationalize_key_industry
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reform_the_labour_laws
		}
		relative_position_id = FRA_reform_the_labour_laws
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			NOT = {
				FRA_has_inefficient_economy = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_inefficient_economy_2
				add_idea = FRA_inefficient_economy_1
			}
		}
	}
	focus = {
		id = FRA_reorganize_the_aviation_industry
		icon = GFX_goal_generic_air_production
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_nationalize_key_industry
		}
		relative_position_id = FRA_nationalize_key_industry
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_reorganize_aviation_industry_north show_effect_tooltip = yes }
			unlock_decision_tooltip = { decision = FRA_reorganize_aviation_industry_west show_effect_tooltip = yes }
			unlock_decision_tooltip = { decision = FRA_reorganize_aviation_industry_center show_effect_tooltip = yes }
			unlock_decision_tooltip = { decision = FRA_reorganize_aviation_industry_south_east show_effect_tooltip = yes }
			unlock_decision_tooltip = { decision = FRA_reorganize_aviation_industry_south_west show_effect_tooltip = yes }
		}
	}
	focus = {
		id = FRA_form_the_state_arsenals
		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_nationalize_key_industry
		}
		relative_position_id = FRA_nationalize_key_industry
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = FRA_general_work_council
		icon = GFX_goal_generic_construction
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reorganize_the_aviation_industry
		}
		prerequisite = {
			focus = FRA_form_the_state_arsenals
		}
		relative_position_id = FRA_nationalize_key_industry
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			NOT = {
				FRA_has_inefficient_economy = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_inefficient_economy_1
				}
				remove_ideas = { FRA_inefficient_economy_1 }
			}
			if = {
				limit = {
					has_idea = FRA_inefficient_economy_2
				}
				remove_ideas = { FRA_inefficient_economy_2 }
			}
		}
	}
	focus = {
		id = FRA_dirigisme
		icon = GFX_focus_generic_the_giant_wakes
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_general_work_council
		}
		relative_position_id = FRA_general_work_council
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_dirigisme }
		}
	}
	focus = {
		id = FRA_national_champions
		icon = GFX_focus_generic_industry_3
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_general_work_council
		}
		relative_position_id = FRA_general_work_council
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY  }
		completion_reward = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = FRA_ban_the_leagues
		icon = GFX_goal_generic_forceful_treaty
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_form_the_popular_front
		}
		relative_position_id = FRA_form_the_popular_front
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_idea = FRA_political_violence
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		completion_reward = {
			remove_ideas = { FRA_political_violence }
			set_temp_variable = { FRA_rw_support = party_popularity@neutrality }
			add_to_temp_variable = { FRA_rw_support = party_popularity@fascism }
			multiply_temp_variable = { FRA_rw_support = -0.5 }
			add_stability = FRA_rw_support
		}
	}
	focus = {
		id = FRA_the_blum_viollette_proposal
		icon = GFX_goal_generic_improve_relations
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reform_the_labour_laws
			focus = FRA_protect_the_rights_of_man
		}
		relative_position_id = FRA_reform_the_labour_laws
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			NOT = {
				459 = {
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
				460 = {
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
				513 = {
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_state_core = 459
			add_state_core = 460
			add_state_core = 513
			if = {
				limit = {
					country_exists = ALG
				}
				annex_country = { target = ALG }
			}
			FRA_right_wing_riot_effect = yes
		}
	}
	focus = {
		id = FRA_expand_the_citizenship
		icon = GFX_goal_generic_national_unity
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_the_blum_viollette_proposal
		}
		relative_position_id = FRA_the_blum_viollette_proposal
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				NOT = {
					is_on_continent = europe
					is_core_of = ROOT # has at least one colonial state
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_expanded_citizenship }
		}
	}
	focus = {
		id = FRA_france_undividable
		icon = GFX_focus_chi_reach_out_to_france
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_expand_the_citizenship
		}
		mutually_exclusive = { focus = FRA_encourage_immigration }
		relative_position_id = FRA_expand_the_citizenship
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_expanded_citizenship
				add_idea = FRA_france_undividable
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					NOT = {
						is_core_of = ROOT
					}
					NOT = {
						is_on_continent = europe
					}
				}
				add_compliance = 10
			}
		}
	}
	focus = {
		id = FRA_french_union
		icon = GFX_focus_fra_french_union
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_france_undividable
		}
		relative_position_id = FRA_france_undividable
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			hidden_effect = {
				country_event = lar_france_french_union.1
			}
			if = {
				limit = {
					has_idea = FRA_political_violence
				}
				country_event = lar_france_political_violence.3
			}
			custom_effect_tooltip = FRA_french_union_tt
		}
	}
	focus = {
		id = FRA_encourage_immigration
		icon = GFX_goal_generic_national_unity
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_expand_the_citizenship
		}
		mutually_exclusive = { focus = FRA_france_undividable }
		relative_position_id = FRA_expand_the_citizenship
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			remove_worker_shortage_effect = yes
		}
	}
	focus = {
		id = FRA_review_foreign_policy
		icon = GFX_goal_support_democracy
		x = 10
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reform_the_labour_laws
			focus = FRA_protect_the_rights_of_man
		}
		relative_position_id = FRA_reform_the_labour_laws
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				OR = {
					has_completed_focus = FRA_invite_communist_ministers
					has_completed_focus = FRA_utilize_the_leagues
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}
	focus = {
		id = FRA_intervention_in_spain
		icon = GFX_focus_focus_fra_intervention_spain
		x = 7
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_form_the_popular_front
			focus = FRA_revive_the_national_bloc
		}
		
		relative_position_id = FRA_form_the_popular_front
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			SPR_scw_in_progress = yes
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = FRA_spanish_intervention_category
			set_country_flag = FRA_non_intervention
		}
	}
	focus = {
		id = FRA_support_the_finns
		icon = GFX_focus_invite_finland
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_review_foreign_policy
		}
		relative_position_id = FRA_review_foreign_policy
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			FIN = {
				has_war = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 10
			FIN = {
				add_manpower = 10000
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2500
					producer = FRA
				}
			}
		}
	}
	focus = {
		id = FRA_confirm_eastern_commitments
		icon = GFX_goal_tripartite_pact
		x = -2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_review_foreign_policy
		}
		mutually_exclusive = { focus = FRA_buy_time }
		relative_position_id = FRA_review_foreign_policy
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				country_exists = YUG
				country_exists = CZE
				country_exists = ROM
				country_exists = POL
			}
			is_subject = no
			NOT = {
				AND = {
					has_war_with = YUG
					has_war_with = POL
					has_war_with = ROM
					has_war_with = CZE
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						original_tag = YUG
						original_tag = CZE
						original_tag = ROM
						original_tag = POL
					}
					exists = yes
					not = { has_war_with = ROOT }
				}
				add_opinion_modifier = { target = ROOT modifier = FRA_confirm_eastern_commitments }
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = rene_massigli

		}
	}
	focus = {
		id = FRA_strengthen_the_little_entente
		icon = GFX_focus_generic_little_entente
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_confirm_eastern_commitments
		}
		relative_position_id = FRA_confirm_eastern_commitments
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = CZE
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					CZE = {
						has_government = ROOT
						is_faction_leader = yes
					}
				}
				CZE = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					CZE = {
						has_government = ROOT
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
					is_faction_leader = yes
				}
				CZE = { country_event = generic.5 }
			}
			else_if = {
				limit = {
					CZE = {
						has_government = ROOT
						is_in_faction = no
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
					is_in_faction = no
				}
				set_rule = { can_create_factions = yes }
				create_faction = FRA_little_entente
				CZE = { custom_effect_tooltip = invite_to_faction_tt }
				hidden_effect = {
					CZE = { country_event = generic.5 }
				}
			}
		}
	}
	focus = {
		id = FRA_invite_yugoslavia
		icon = GFX_focus_invite_yugoslavia
		available = { 
			is_subject = no 
			is_faction_leader = yes
		}
	 	prerequisite = { focus = FRA_strengthen_the_little_entente }
	 	bypass = {
	 		YUG = {
	 			OR = {
	 				exists = no
	 				is_puppet = yes
	 				has_war_with = ROOT
	 				is_in_faction = yes
	 			}
	 		}
	 	}
		x = -1
		y = 1
		relative_position_id = FRA_strengthen_the_little_entente
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			YUG = { country_event = france.17 }
		}
	}

	focus = {
		id = FRA_invite_romania
		icon = GFX_focus_invite_romania
		available = { 
			is_subject = no 
			is_faction_leader = yes
		}
	 	prerequisite = { focus = FRA_invite_yugoslavia }
	 	bypass = {
	 		ROM = {
	 			OR = {
	 				exists = no
	 				is_puppet = yes
	 				has_war_with = ROOT
	 				is_in_faction = yes
	 			}
	 		}
	 	}
		x = 0
		y = 1
		relative_position_id = FRA_invite_yugoslavia
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			ROM = { country_event = france.17 }
		}
	}
	focus = {
		id = FRA_invest_in_our_weaker_allies
		icon = GFX_goal_generic_build_tank
		x = 0
		y = 1
		offset = {
			x = 1
			y = 0
		}
		prerequisite = {
			focus = FRA_invite_romania
		}
		relative_position_id = FRA_invite_romania
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = yes
			any_other_country = {
				is_in_faction_with = ROOT
				custom_trigger_tooltip = {
					tooltip = FRA_invest_in_our_weaker_allies_trigger_tt
					check_variable = { num_of_military_factories < FRA.num_of_military_factories }
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = { is_subject_of = ROOT }
					check_variable = { num_of_military_factories < FRA.num_of_military_factories }
				}
				random_owned_state = {
					limit = {
						is_core_of = PREV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = FRA_coordinate_rearmament
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		offset = {
			x = 1
			y = 0
		}
		allow_branch = { has_dlc = "Death or Dishonor" }
		prerequisite = {
			focus = FRA_invest_in_our_weaker_allies
		}
		relative_position_id = FRA_invest_in_our_weaker_allies
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = FRA_coordinate_rearmament_tt
			}
			else = {
				every_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_relation_modifier = {
						target = ROOT
						modifier = FRA_coordinate_rearmament
					}
				}
				every_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					ROOT = {
						add_relation_modifier = {
							target = PREV
							modifier = FRA_coordinate_rearmament
						}
					}
				}
			}
		}
	}
	focus = {
		id = FRA_foreign_guest_workers
		icon = GFX_focus_generic_manpower
		x = 3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_strengthen_the_little_entente
		}
		relative_position_id = FRA_strengthen_the_little_entente
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			FRA_has_worker_shortage = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_worker_shortage_effect = yes
		}
	}
	focus = {
		id = FRA_join_the_ententes
		icon = GFX_focus_chi_british_cooperation
		x = 1
		y = 1
		prerequisite = {
			focus = FRA_strengthen_the_little_entente
		}
		relative_position_id = FRA_strengthen_the_little_entente
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			ENG = {
				is_faction_leader = yes
			}
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ENG = { 
				if = {
					limit = { ROOT = { is_in_faction = yes } }
					country_event = lar_fra_join_the_ententes.1
				}
				else = { 
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}
	focus = {
		id = FRA_revive_the_franco_polish_alliance
		icon = GFX_focus_generic_polish_deal
		x = 1
		y = 1
		prerequisite = {
			focus = FRA_confirm_eastern_commitments
		}
		relative_position_id = FRA_confirm_eastern_commitments
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = POL
			NOT = { has_war_with = POL }
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					is_faction_leader = yes
				}
				POL = { country_event = generic.5 }
			}
			else = {
				give_guarantee = POL
				custom_effect_tooltip = FRA_revive_the_franco_polish_alliance_tt
			}
		}
	}
	focus = {
		id = FRA_buy_time
		icon = GFX_goal_generic_neutrality_focus
		x = 4
		y = 2
		prerequisite = {
			focus = FRA_review_foreign_policy
		}
		mutually_exclusive = { focus = FRA_confirm_eastern_commitments }
		relative_position_id = FRA_review_foreign_policy
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = georges_bonnet
			if = {
				limit = {
					YUG = { is_guaranteed_by = ROOT }
				}
				ROOT = {
					diplomatic_relation = {
   						country = YUG
   						relation = guarantee
   						active = no
  					}
  					add_ai_strategy = {
						type = ignore
						id = "YUG"
						value = 100
					}
				}
				YUG = {
					add_opinion_modifier = { target = ROOT modifier = western_betrayal }
				}
			}
			if = {
				limit = {
					CZE = { is_guaranteed_by = ROOT }
				}
				ROOT = {
					diplomatic_relation = {
   						country = CZE
   						relation = guarantee
   						active = no
  					}
  					add_ai_strategy = {
						type = ignore
						id = "CZE"
						value = 100
					}
				}
				CZE = {
					add_opinion_modifier = { target = ROOT modifier = western_betrayal }
				}
			}
		}
	}
	focus = {
		id = FRA_strengthen_government_support
		icon = GFX_goal_generic_demand_territory
		available = {
		}
	 	prerequisite = {
	 		focus = FRA_strengthen_the_little_entente
	 		focus = FRA_buy_time
	 	}
		x = 5
		y = 1
		relative_position_id = FRA_strengthen_the_little_entente
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			set_country_flag = FRA_strengthen_government_support_focus_flag
			add_timed_idea = {
				idea = FRA_strengthen_government_support_focus
				days = 365
			}
		}
	}	

	focus = {
		id = FRA_defensive_strategems
		icon = GFX_goal_generic_fortify_city
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_strengthen_government_support_tooltip
				NOT = { has_idea = FRA_strengthen_government_support_focus }
				has_country_flag = FRA_strengthen_government_support_focus_flag
			}
		}
	 	prerequisite = { focus = FRA_strengthen_government_support }
		x = 0
		y = 1
		relative_position_id = FRA_strengthen_government_support
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = FRA_disjointed_government
			set_rule = { can_send_volunteers = yes }
		}
	}
	focus = {
		id = FRA_go_with_britain
		icon = GFX_focus_chi_british_cooperation
		available = {
			is_subject = no
			has_government = democratic
			ENG = {
				exists = yes
				has_government = democratic
			}
			NOT = { has_war_with = ENG }
		}
		bypass = {
			is_in_faction_with = ENG
			NOT = {
				has_completed_focus = FRA_strengthen_the_little_entente
			}
		}
	 	prerequisite = { focus = FRA_buy_time }
	 	mutually_exclusive = { focus = FRA_france_leads }
		x = 0
		y = 1
		relative_position_id = FRA_buy_time
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 0.9

			modifier = {
				factor = 2
				ai_irrationality < 15
			}
			modifier = {
				factor = 2
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
			modifier = {
				factor = 0
				has_idea = GER_communist_refugees
			}
		}
		completion_reward = {
			ENG = { country_event = { id = britain.13 } }
		}
	}
	focus = {
		id = FRA_arms_purchases_in_the_us
		icon = GFX_goal_generic_build_tank
		x = 0
		y = 1
		prerequisite = {
			focus = FRA_go_with_britain
		}
		relative_position_id = FRA_go_with_britain
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = USA
			USA_can_sell_weapons_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			USA = { country_event = lar_arms_purchases.1 }
			unlock_decision_category_tooltip = FRA_weapons_purchases_category
		}
	}
	focus = {
		id = FRA_france_leads
		icon = GFX_goal_generic_demand_territory
		x = 2
		y = 1
		prerequisite = {
			focus = FRA_buy_time
		}
		mutually_exclusive = { focus = FRA_go_with_britain }
		relative_position_id = FRA_buy_time
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			is_faction_leader = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_political_power = 120
		}
	}
	focus = {
		id = FRA_concessions_to_italy
		icon = GFX_focus_befriend_italy
		x = 0
		y = 1
		prerequisite = {
			focus = FRA_france_leads
		}
		relative_position_id = FRA_france_leads
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ITA
			}
			ENG = {
				exists = yes
				has_government = ROOT
				NOT = {
					has_war_with = ITA
					has_war_with = ROOT
				}
			}
			268 = {
				is_owned_or_subject_trigger = yes
			}
		}
		
		bypass = {
			ITA = { 
				owns_state = 268 
				owns_state = 269
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ENG = {
				country_event = lar_concessions_to_italy.1
			}
		}
	}
	focus = {
		id = FRA_ratify_the_stresa_front
		icon = GFX_focus_focus_fra_ratify_stresa
		x = 0
		y = 1
		prerequisite = {
			focus = FRA_concessions_to_italy
		}
		relative_position_id = FRA_concessions_to_italy
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ITA
				has_war_with = ENG
			}
			ENG = {
				NOT = {
					has_war_with = ITA
				}
				exists = yes
			}
			has_country_flag = lar_france_stresa_front_italy_agreed
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ITA = { country_event = lar_ratify_the_stresa_front.1 }
		}
	}
	focus = {
		id = FRA_franco_soviet_treaty
		icon = GFX_focus_chi_mission_to_the_soviet_union
		x = 2
		y = 1
		prerequisite = {
			focus = FRA_france_leads
		}
		relative_position_id = FRA_france_leads
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			SOV = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				is_faction_leader = yes
				not = { has_global_flag = sov_yes_pact }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = lar_franco_soviet_treaty.1 }
			effect_tooltip = {
				SOV = { give_guarantee = ROOT }
				give_guarantee = SOV
			}
		}
	}
	focus = {
		id = FRA_leftist_rhetoric
		icon = GFX_goal_generic_propaganda
	 	available = {
		}
	 	prerequisite = { focus = FRA_form_the_popular_front }
		x = -3
		y = 1
		relative_position_id = FRA_form_the_popular_front
		cost = 10
		allow_branch = { not = { has_dlc = "La Resistance" } } 
		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = maurice_thorez
			every_other_country = {
				limit = { 
					has_government = communism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier =  FRA_leftist_rhetoric_communism
				}
			}
			every_other_country = {
				limit = { 
					has_government = democratic
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = FRA_leftist_rhetoric_democratic
				}
			}
			every_other_country = {
				limit = { 
					has_government = fascism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier = FRA_leftist_rhetoric_fascism
				}
			}
		}
	}

	focus = {
		id = FRA_national_mobilization
		icon = GFX_goal_generic_allies_build_infantry
	 	available = {
	 		OR = {
	 			has_government = communism
	 			communism > 0.4
	 		}
		}
	 	prerequisite = { focus = FRA_leftist_rhetoric }
		x = 0
		y = 1
		relative_position_id = FRA_leftist_rhetoric
		cost = 10

		available_if_capitulated = yes


		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = FRA_disjointed_government
			add_ideas = FRA_national_mobilization_focus
		}
	}

	focus = {
		id = FRA_join_comintern
		icon = GFX_goal_support_communism
		mutually_exclusive = { focus = FRA_humanite_unie }
	 	available = {
	 		is_puppet = no
	 		is_in_faction = no
	 		OR = {
	 			has_government = communism
	 			communism > 0.4
	 		}
	 		has_war = no
 			SOV = {
 				exists = yes
 				has_government = communism
 				is_faction_leader = yes
 			}
		}
	 	prerequisite = { focus = FRA_national_mobilization }
	 	bypass = {
	 		is_in_faction_with = SOV
	 	}
		x = 1
		y = 1
		relative_position_id = FRA_national_mobilization
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = { country_event = { id = soviet.29 days = 1 } }
		}
	}	

	focus = {
		id = FRA_humanite_unie
		icon = GFX_goal_generic_dangerous_deal
		mutually_exclusive = { focus = FRA_join_comintern }
	 	available = {
	 		is_puppet = no
		}
	 	prerequisite = { focus = FRA_national_mobilization }
		x = -1
		y = 1
		relative_position_id = FRA_national_mobilization
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
		}
	}	

	focus = {
		id = FRA_revive_the_national_bloc
		icon = GFX_focus_generic_strike_at_democracy2
		x = 42
		y = 0
		offset = {
			x = 0
			y = 0
		}

		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		mutually_exclusive = { focus = FRA_form_the_popular_front }
		bypass = {
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_country_leader_trait = tenacious_negotiator
		}
	}	
	focus = {
		id = FRA_laissez_faire
		icon = GFX_goal_generic_consumer_goods
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revive_the_national_bloc
		}
		mutually_exclusive = { focus = FRA_agricultural_protectionism }
		relative_position_id = FRA_revive_the_national_bloc
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = FRA_laissez_faire
				category = industry
				uses = 3
				bonus = 1.5
			}
			hidden_effect = { country_event = { id = lar_fra_inefficient_economy.1 days = 730 } }
			custom_effect_tooltip = FRA_laissez_faire_tt
		}
	}
	focus = {
		id = FRA_protect_the_rights_of_man
		icon = GFX_goal_generic_demand_territory
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_laissez_faire
			focus = FRA_agricultural_protectionism
		}
		relative_position_id = FRA_laissez_faire
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
		}
	}
	focus = {
		id = FRA_freedom_front
		icon = GFX_goal_generic_national_unity
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_protect_the_rights_of_man
		}
		relative_position_id = FRA_protect_the_rights_of_man
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					not = { has_completed_focus = FRA_utilize_the_leagues }
				}
				set_temp_variable = { FRA_fascism = party_popularity@fascism }
				add_popularity = { ideology = democratic popularity = FRA_fascism } 
				multiply_temp_variable = { FRA_fascism = -1 }
				add_popularity = { ideology = fascism popularity = FRA_fascism }
			}
			else = {
				set_temp_variable = { FRA_democracy = party_popularity@democratic }
				multiply_temp_variable = { FRA_democracy = 0.3 }
				add_popularity = { ideology = fascism popularity = FRA_democracy } 
				multiply_temp_variable = { FRA_democracy = -1 }
				add_popularity = { ideology = democratic popularity = FRA_democracy }
			}
			FRA_communism_riot_effect = yes
		}
	}	
	focus = {
		id = FRA_stimulate_the_dynamic_market
		icon = GFX_goal_generic_construct_civilian
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_freedom_front
			focus = FRA_promote_entrepeneurship
		}
		relative_position_id = FRA_freedom_front
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_market_dynamism }
		}
	}
	focus = {
		id = FRA_agricultural_protectionism
		icon = GFX_goal_generic_defence
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revive_the_national_bloc

		}
		mutually_exclusive = { focus = FRA_laissez_faire }
		relative_position_id = FRA_revive_the_national_bloc
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_agricultural_protectionism }
		}
	}
	focus = {
		id = FRA_economic_devolution
		icon = GFX_goal_generic_positive_trade_relations
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_agricultural_protectionism
			focus = FRA_laissez_faire
		}
		relative_position_id = FRA_agricultural_protectionism
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			NOT = {
				FRA_has_inefficient_economy = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			if = {
				limit = { has_idea = FRA_inefficient_economy_1 }
				swap_ideas = {
					remove_idea = FRA_inefficient_economy_2
					add_idea = FRA_inefficient_economy_1
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_idea = FRA_inefficient_economy_1
						has_idea = FRA_inefficient_economy_2
					}
				}
				remove_ideas = FRA_inefficient_economy_1
			}
		}
		completion_reward = {
			if = {
				limit = { has_idea = FRA_inefficient_economy_2 }
				swap_ideas = {
					remove_idea = FRA_inefficient_economy_2
					add_idea = FRA_inefficient_economy_1
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_inefficient_economy_1
				}
				remove_ideas = FRA_inefficient_economy_1
			}
		}
	}
	focus = {
		id = FRA_promote_entrepeneurship
		icon = GFX_goal_generic_propaganda
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_economic_devolution
		}
		relative_position_id = FRA_economic_devolution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_entrepeneurship }
		}
	}
	focus = {
		id = FRA_ban_communism
		icon = GFX_goal_anti_comintern_pact
		x = -3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revive_the_national_bloc
		}
		relative_position_id = FRA_revive_the_national_bloc
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_idea = FRA_political_violence
			NOT = { has_government = communism }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		completion_reward = {
			add_ideas = { FRA_communism_banned }
			set_temp_variable = { communism_temp = party_popularity@communism }
			multiply_temp_variable = { communism_temp = -0.25 }
			add_stability = communism_temp
			remove_ideas = FRA_political_violence
		}
	}	
	focus = {
		id = FRA_utilize_the_leagues
		icon = GFX_focus_generic_strike_at_democracy1
		x = 8
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revive_the_national_bloc
		}
		relative_position_id = FRA_revive_the_national_bloc
		cost = 10

		ai_will_do = {
			factor = 1
		}
		allow_branch = { has_dlc = "La Resistance" }
		available = {
			NOT = {
				has_completed_focus = FRA_review_foreign_policy
			}
			is_subject = no
		}
		
		bypass = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_rally_the_leagues show_effect_tooltip = yes }
			unlock_decision_tooltip = { decision = FRA_unleash_la_cagoule show_effect_tooltip = yes }
		}
	}
	focus = {
		id = FRA_national_regeneration
		icon = GFX_goal_generic_political_pressure
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_utilize_the_leagues
		}
		mutually_exclusive = { focus = FRA_the_council_of_rambouillet }
		relative_position_id = FRA_utilize_the_leagues
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_national_regeneration_trigger_tt
				set_temp_variable = { FRA_rw_support = party_popularity@neutrality }
				add_to_temp_variable = { FRA_rw_support = party_popularity@fascism }
				check_variable = { FRA_rw_support > 0.5 }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			hidden_effect = {
				create_country_leader = {
					name = "Pierre Laval"
					desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
					picture = GFX_portrait_fra_pierre_laval
					expire = "1965.1.1"
					ideology = rexism
					traits = {
						tenacious_negotiator
					}
				}
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
	}
	focus = {
		id = FRA_destroy_decadence
		icon = GFX_focus_rom_parties_end
		x = -4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_national_regeneration
		}
		relative_position_id = FRA_national_regeneration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = FRA_anti_decandence days = 365 }
		}
	}
	focus = {
		id = FRA_integralism
		icon = GFX_focus_generic_diplomatic_treaty
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_national_regeneration
		}
		relative_position_id = FRA_national_regeneration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = charles_maurras
		}
	}
	focus = {
		id = FRA_work
		icon = GFX_goal_generic_construction2
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_integralism
		}
		mutually_exclusive = {
			focus = FRA_family
			focus = FRA_fatherland
		}
		relative_position_id = FRA_integralism
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_travail }
		}
	}
	focus = {
		id = FRA_family
		icon = GFX_focus_generic_support_the_left_right
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_integralism
		}
		mutually_exclusive = {
			focus = FRA_work
			focus = FRA_fatherland
		}
		relative_position_id = FRA_integralism
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = FRA_fatherland
		icon = GFX_focus_generic_military_mission
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_integralism
		}
		mutually_exclusive = {
			focus = FRA_family
			focus = FRA_work
		}
		relative_position_id = FRA_integralism
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}
	focus = {
		id = FRA_political_unity
		icon = GFX_goal_generic_intelligence_exchange
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_national_regeneration
		}
		relative_position_id = FRA_national_regeneration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			remove_ideas = { FRA_disjointed_government }
			add_popularity = { ideology = fascism popularity = party_popularity@neutrality }
			add_popularity = { ideology = neutrality popularity = -1}
		}
	}
	focus = {
		id = FRA_diplomatic_freedom
		icon = GFX_focus_renounce_the_treaty_of_trianon
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_national_regeneration
		}
		relative_position_id = FRA_national_regeneration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			NOT = {
				any_other_country = {
					OR = {
						tag = POL
						tag = CZE
						tag = YUG
						tag = ROM
						tag = HUN
					}
					is_guaranteed_by = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						tag = POL
						tag = CZE
						tag = YUG
						tag = ROM
						tag = HUN
					}
					is_guaranteed_by = ROOT
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = guarantee
						active = no
					}
				}
			}
			hidden_effect = {
				news_event = { id = lar_news.6 days = 3 random = 5 }
			}
		}
	}	
	focus = {
		id = FRA_latin_entente
		icon = GFX_goal_generic_dangerous_deal
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_diplomatic_freedom
		}
		mutually_exclusive = { focus = FRA_towards_a_new_europe }
		relative_position_id = FRA_diplomatic_freedom
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = FRA_latin_entente
			create_country_leader = {
				name = "François de la Rocque"
				desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
				picture = GFX_portrait_fra_francois_de_la_rocque
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					retired_officer
				}
			}
		}
	}
	focus = {
		id = FRA_reach_out_to_spain
		icon = GFX_goal_generic_improve_relations
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_latin_entente
		}
		relative_position_id = FRA_latin_entente
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_other_country = {
				original_tag = SPR
				has_government = ROOT
			}
			if = {
				limit = {
					is_subject = yes
				}
				41 = { CONTROLLER = { set_temp_variable = { spain = THIS } } }
				OVERLORD = {
					NOT = {
						has_war_with = var:spain
					}
				}
			}
		}
		
		bypass = {
			41 = {
				CONTROLLER = {
					is_in_faction_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_other_country = { 
				limit = {
					original_tag = SPR
					has_government = ROOT
				}
				if = {
					limit = {
						ROOT = { is_in_faction = yes }
					}
					country_event = generic.5 
				}
				else = {
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}
	focus = {
		id = FRA_invite_portugal
		icon = GFX_focus_generic_befriend_portugal
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_reach_out_to_spain
		}
		relative_position_id = FRA_reach_out_to_spain
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			POR = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = { is_subject = yes }
				OVERLORD = {
					NOT = {
						has_war_with = POR
					}
				}
			}
		}
		
		bypass = {
			POR = {
				OR = {
					exists = no
					is_in_faction_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			POR = { 
				if = {
					limit = {
						ROOT = { is_in_faction = yes }
					}
					country_event = generic.5 
				}
				else = {
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}
	focus = {
		id = FRA_compensate_italy
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_latin_entente
		}
		relative_position_id = FRA_latin_entente
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject = no
				is_subject_of = ITA
			}
		}
		
		bypass = {
			is_in_faction_with = ITA
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ITA = { country_event = lar_compensate_italy.1 }
			effect_tooltip = {
				custom_effect_tooltip = needs_approval
				ITA = { 
					transfer_state = 268 
				}
				FRA = { add_to_faction = ITA }
			}
		}
	}
	focus = {
		id = FRA_intervention_in_greece
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_compensate_italy
		}
		relative_position_id = FRA_compensate_italy
		cost = 10

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = GRE
		available = {
			NOT = { is_in_faction_with = GRE }
		}
		
		bypass = {
			OR = {
				has_war_with = GRE
				has_subject = GRE
			}
			any_country = {
				is_in_faction_with = ROOT
				OR = {
					has_war_with = GRE
					has_subject = GRE
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ITA = {
				country_event = lar_intervention_in_greece.1
			}
			custom_effect_tooltip = needs_approval
			effect_tooltip = {
				ITA = { 
					add_state_claim = 185
					add_state_claim = 731
					add_state_claim = 184
					add_state_claim = 47
					add_state_claim = 186
				}
				FRA = {
					add_state_claim = 187
					add_state_claim = 182
				}
			}
		}
	}
	focus = {
		id = FRA_the_congress_of_paris
		icon = GFX_goal_generic_military_deal
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_invite_portugal
		}
		prerequisite = {
			focus = FRA_intervention_in_greece
		}
		relative_position_id = FRA_invite_portugal
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = ITA
			is_in_faction_with = POR
			41 = {
				CONTROLLER = {
					is_in_faction_with = ROOT
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = lar_congress_of_paris.1
		}
	}
	focus = {
		id = FRA_the_natural_borders_of_france
		icon = GFX_focus_focus_fra_border
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_the_congress_of_paris
		}
		relative_position_id = FRA_the_congress_of_paris
		cost = 10

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = BEL
		will_lead_to_war_with = GER
		will_lead_to_war_with = HOL
		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BEL
				expire = 0
			}
			create_wargoal = {
				type = take_state
				target = HOL
				expire = 0
				generator = { 35 }
			}
			create_wargoal = {
				type = take_state
				target = GER
				expire = 0
				generator = { 42 51 }
			}
		}
	}

	focus = {
		id = FRA_towards_a_new_europe
		icon = GFX_goal_tripartite_pact
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_diplomatic_freedom
		}
		mutually_exclusive = { focus = FRA_latin_entente }
		relative_position_id = FRA_diplomatic_freedom
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = -0.05
			create_country_leader = {
				name = "Jacques Doriot"
				desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
				picture = GFX_portrait_fra_jacques_doriot
				expire = "1965.1.1"
				ideology = nazism
				traits = {
					eager_collaborator
				}
			}
		}
	}
	focus = {
		id = FRA_establish_spheres_of_influence
		icon = GFX_goal_generic_more_territorial_claims
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_towards_a_new_europe
		}
		relative_position_id = FRA_towards_a_new_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			GER = {
				has_government = ROOT
			}
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			GER = {
				country_event = lar_spheres_of_influence.1
			}
			effect_tooltip = {
				GER = {
					add_state_claim = 8
					add_state_claim = 7
					add_state_claim = 35
					add_state_claim = 36
					add_to_faction = ROOT
				}
				ROOT = {
					add_state_claim = 34
					add_state_claim = 6
				}
			}
		}
	}
	focus = {
		id = FRA_split_belgium
		icon = GFX_goal_generic_territory_or_war
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_establish_spheres_of_influence
		}
		mutually_exclusive = { focus = FRA_align_belgium }
		relative_position_id = FRA_establish_spheres_of_influence
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
		}
		will_lead_to_war_with = BEL
		bypass = {
			BEL = {
				OR = {
					exists = no
					has_war_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			BEL = {
				country_event = lar_split_belgium.1
			}
		}
	}
	focus = {
		id = FRA_align_belgium
		icon = GFX_goal_generic_forceful_treaty
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_establish_spheres_of_influence
		}
		mutually_exclusive = { focus = FRA_split_belgium }
		relative_position_id = FRA_establish_spheres_of_influence
		cost = 10

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = BEL
		available = {
			BEL = {
				exists = yes
				is_in_faction = no
				NOT = {
					has_war_with = ROOT
				}
			}
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
		}
		
		bypass = {
			BEL = {
				is_subject_of = ROOT
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			BEL = {
				country_event = lar_align_belgium.1
			}
		}
	}
	focus = {
		id = FRA_grow_the_empire
		icon = GFX_goal_generic_political_pressure
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_split_belgium
			focus = FRA_align_belgium
		}
		relative_position_id = FRA_align_belgium
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			BEL = {
				is_subject_of = ROOT
			}
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
			295 = { CONTROLLER = { OR = { tag = BEL is_subject_of = BEL } } }
			538 = { CONTROLLER = { OR = { tag = BEL is_subject_of = BEL } } }
			718 = { CONTROLLER = { OR = { tag = BEL is_subject_of = BEL } } }
			769 = { CONTROLLER = { OR = { tag = BEL is_subject_of = BEL } } }
			768 = { CONTROLLER = { OR = { tag = BEL is_subject_of = BEL } } }
		}
		
		bypass = {
			BEL = { 
				exists = no 
			}
			NOT = { 
				295 = { 
					CONTROLLER = { 
						OR = { 
							tag = BEL 
							is_subject_of = BEL 
						} 
					} 
				} 
			}
			NOT = { 
				538 = { 
					CONTROLLER = { 
						OR = { 
							tag = BEL 
							is_subject_of = BEL 
						} 
					} 
				} 
			}
			NOT = { 
				718 = { 
					CONTROLLER = { 
						OR = { 
							tag = BEL 
							is_subject_of = BEL 
						} 
					} 
				} 
			}
			NOT = { 
				769 = { 
					CONTROLLER = { 
						OR = { 
							tag = BEL 
							is_subject_of = BEL 
						} 
					} 
				} 
			}
			NOT = { 
				768 = { 
					CONTROLLER = { 
						OR = { 
							tag = BEL 
							is_subject_of = BEL 
						} 
					} 
				} 
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			transfer_state = 295
			transfer_state = 538
			transfer_state = 718
			transfer_state = 769
			transfer_state = 768
		}
	}
	focus = {
		id = FRA_bring_home_quebec
		icon = GFX_focus_attack_canada
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_grow_the_empire
		}
		relative_position_id = FRA_grow_the_empire
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = { 
				is_subject = no
				is_subject_of = GER
			}
		}
		will_lead_to_war_with = CAN
		bypass = {
			owns_state  = 466
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			466 = { 
				OWNER = { 
					ROOT = { 
						create_wargoal = { 
							type = take_state
							target = PREV
							expire = 0
							generator = {
								466
							}
						}
					} 
				} 
			}
		}
	}
	focus = {
		id = FRA_expand_to_the_suez
		icon = GFX_goal_generic_occupy_states_coastal
		x = 1
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_intervention_in_greece
			focus = FRA_grow_the_empire
		}
		relative_position_id = FRA_intervention_in_greece
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			owns_state = 455
			owns_state = 454
			owns_state = 453
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_state_claim = 455
			add_state_claim = 454
			add_state_claim = 453
			if = {
				limit = {
					455 = { OWNER = { tag = ENG } }
					454 = { OWNER = { tag = ENG } }
					453 = { OWNER = { tag = ENG } }
				}
				455 = { 
					OWNER = { 
						ROOT = { 
							create_wargoal = { 
								type = take_state
								target = PREV
								expire = 0
								generator = {
									455
								}
							}
						} 
					} 
				}
				hidden_effect = {
					454 = { 
						OWNER = { 
							ROOT = { 
								create_wargoal = { 
									type = take_state
									target = PREV
									expire = 0
									generator = {
										454
									}
								}
							} 
						} 
					}
					453 = { 
						OWNER = { 
							ROOT = { 
								create_wargoal = { 
									type = take_state
									target = PREV
									expire = 0
									generator = {
										453
									}
								}
							} 
						} 
					}
				}
			}
			else = {
				455 = { 
					OWNER = { 
						ROOT = { 
							create_wargoal = { 
								type = take_state
								target = PREV
								expire = 0
								generator = {
									455
								}
							}
						} 
					} 
				}
				454 = { 
					OWNER = { 
						ROOT = { 
							create_wargoal = { 
								type = take_state
								target = PREV
								expire = 0
								generator = {
									454
								}
							}
						} 
					} 
				}
				453 = { 
					OWNER = { 
						ROOT = { 
							create_wargoal = { 
								type = take_state
								target = PREV
								expire = 0
								generator = {
									453
								}
							}
						} 
					} 
				}
			}
		}
	}
	focus = {
		id = FRA_dominate_the_middle_east
		icon = GFX_goal_generic_attack_allies
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_expand_to_the_suez
		}
		relative_position_id = FRA_expand_to_the_suez
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {
			SAU = {
				OR = {
					is_subject_of = ROOT
					exists = no
				}
			}
			OMA = {
				OR = {
					is_subject_of = ROOT
					exists = no
				}
			}
			YEM = {
				OR = {
					is_subject_of = ROOT
					exists = no
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = middle_east
					}
					is_major = no
					is_subject = no
					NOT = {
						tag = TUR
						tag = PER
					}
				}
				country_event = lar_dominate_the_middle_east.1
			}
		}
	}

	focus = {
		id = FRA_right_wing_rhetoric
		icon = GFX_goal_generic_propaganda
	 	prerequisite = { focus = FRA_revive_the_national_bloc }
		x = 5
		y = 1
		relative_position_id = FRA_revive_the_national_bloc
		cost = 10

		available_if_capitulated = yes
		allow_branch = { not = { has_dlc = "La Resistance" } } 
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = marcel_bucard
			every_other_country = {
				limit = { 
					has_government = fascism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier =  FRA_right_wing_rhetoric_fascism
				}
			}
			every_other_country = {
				limit = { 
					has_government = democratic
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = FRA_right_wing_rhetoric_democratic
				}
			}
			every_other_country = {
				limit = { 
					has_government = communism
					num_of_factories > 30
				}
				add_opinion_modifier = { 
					target = ROOT 
					modifier = FRA_right_wing_rhetoric_communism
				}
			}			
		}
	}
	
	focus = {
		id = FRA_army_of_aggression
		icon = GFX_goal_generic_occupy_states_ongoing_war
	 	available = {
	 		OR = {
	 			has_government = fascism
	 			fascism > 0.4
	 		}
		}
	 	prerequisite = { focus = FRA_right_wing_rhetoric }
		x = 0
		y = 1
		relative_position_id = FRA_right_wing_rhetoric
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = FRA_protected_by_the_maginot_line
			remove_ideas = FRA_disjointed_government
			add_ideas = FRA_army_of_aggression_focus
			USA = {
				set_country_flag = { flag = USA_army_of_aggression_window days = 60 value = 1 }
			}
			if = {
				limit = {
					ENG = { 
						is_in_faction_with = FRA
						is_faction_leader = yes
					}
				}
				ENG = { remove_from_faction = FRA }
			}			
		}
	}

	focus = {
		id = FRA_france_first
		icon = GFX_goal_generic_attack_allies
	 	mutually_exclusive = { focus = FRA_join_germany focus = FRA_woo_italy }
	 	available = {
	 		is_puppet = no	 		
		}
	 	prerequisite = { focus = FRA_army_of_aggression }
		x = -2
		y = 1
		relative_position_id = FRA_army_of_aggression
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = FRA_woo_italy
		icon = GFX_goal_tripartite_pact
	 	mutually_exclusive = { focus = FRA_join_germany focus = FRA_france_first}
	 	available = {
	 		is_puppet = no
	 		NOT = { has_war_with = ITA }
	 		has_government = fascism
	 		OR = {
	 			is_faction_leader = yes
	 			is_in_faction = no
	 		}
	 		ITA = {
	 			exists = yes
	 			is_in_faction = no
	 			has_government = fascism
	 			is_puppet = no
	 		}
		}
	 	prerequisite = { focus = FRA_army_of_aggression }
		x = 0
		y = 1
		relative_position_id = FRA_army_of_aggression
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				GER = { has_completed_focus = GER_reestablish_free_elections }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ITA = { country_event = { id = italy.8 days = 1 } }			
			### Fires event to ITA asking them to join your faction - creates faction if you don't already lead one.
			hidden_effect = {
				if = {
					limit = {
						AUS = { has_government = fascism }
					}
					AUS = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = -200
						}
						FRA = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = -200
							}
						}
					}
				}
				if = {
					limit = {
						HUN = { has_government = fascism }
					}
					HUN = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = -200
						}
						FRA = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = -200
							}
						}
					}
				}
				if = {
					limit = {
						ROM = { has_government = fascism }
					}
					ROM = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = -200
						}
						FRA = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = -200
							}
						}
					}
				}
				if = {
					limit = {
						YUG = { has_government = fascism }
					}
					YUG = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = -200
						}
						FRA = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = -200
							}
						}
					}
				}
				if = {
					limit = {
						BUL = { has_government = fascism }
					}
					BUL = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = -200
						}
						FRA = {
							add_ai_strategy = {
								type = befriend
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = -200
							}
						}
					}
				}
	 			if = {
	 				limit = {
	 					GER = { has_completed_focus = GER_reestablish_free_elections }
	 				}
	 				random_other_country = {
	 					limit = {
	 						original_tag = SPR
	 						has_government = fascism
	 					}
	 					remove_ideas = SPA_recovering_from_civil_war
	 				}
	 			}
			}
		}
	}

	focus = {
		id = FRA_dismantle_the_democracies
		icon = GFX_goal_generic_major_war
	 	available = {
	 		is_puppet = no
	 		GER = { has_government = democratic }
		}
	 	prerequisite = { focus = FRA_woo_italy }
	 	will_lead_to_war_with = GER
		x = 0
		y = 1
		relative_position_id = FRA_woo_italy
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1940.1.1
			}
			modifier = {
				factor = 0
				NOT = { GER = { has_completed_focus = GER_central_european_alliance } }
			}
			modifier = {
				factor = 200
				GER = { has_war_with = SOV }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = GER
				expire = 0
			}
		}
	}

	focus = {
		id = FRA_join_germany
		icon = GFX_goal_support_fascism
	 	mutually_exclusive = { focus = FRA_woo_italy focus = FRA_france_first}
	 	available = {
	 		is_puppet = no
			is_in_faction = no
	 		NOT = { has_war_with = GER }
	 		OR = {
	 			has_government = fascism
	 			fascism > 0.4
	 		}
	 		
	 		GER = {
	 			exists = yes
	 			has_government = fascism
 				is_faction_leader = yes
	 		}
		}
	 	prerequisite = { focus = FRA_army_of_aggression }
		x = 2
		y = 1
		relative_position_id = FRA_army_of_aggression
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			### EVENT ASKING GERMANY TO JOIN FACTION
			GER = { country_event = { id = germany.91 days = 1 } }			
		}
	}
	focus = {
		id = FRA_the_council_of_rambouillet
		icon = GFX_goal_generic_major_alliance
		x = 14
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_utilize_the_leagues
		}
		mutually_exclusive = { focus = FRA_national_regeneration }
		relative_position_id = FRA_utilize_the_leagues
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
		}
	}
	focus = {
		id = FRA_revise_the_constitution
		icon = GFX_focus_generic_treaty
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_the_council_of_rambouillet
		}
		relative_position_id = FRA_the_council_of_rambouillet
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_timed_idea = { idea = FRA_constitutional_revision days = 365 }
		}
	}
	focus = {
		id = FRA_repeal_the_law_of_exile
		icon = GFX_focus_renounce_the_treaty_of_trianon
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_revise_the_constitution
		}
		relative_position_id = FRA_revise_the_constitution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			not = { has_idea = FRA_constitutional_revision }
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_political_power = 120
			remove_ideas = { FRA_disjointed_government }
		}
	}
	focus = {
		id = FRA_orleanist_restoration
		icon = GFX_focus_focus_fra_orleans_restoration
		x = -3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_repeal_the_law_of_exile
		}
		mutually_exclusive = { 
			focus = FRA_the_legitimate_heir
			focus = FRA_proclaim_the_third_empire
		}
		relative_position_id = FRA_repeal_the_law_of_exile
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					date < 1940.8.25
				}
				create_country_leader = {
					name = "Jean III"
					desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
					picture = GFX_portrait_fra_jean_duke_of_guise
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						duke_of_orleans
					}
				}
			}
			else = {
				create_country_leader = {
					name = "Henri VI"
					desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
					picture = GFX_portrait_fra_henry_count_of_paris
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						count_of_paris
					}
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = FRA_orleanist_party_long
				name = FRA_orleanist_party
			}
			set_politics = { ruling_party = neutrality }
			set_cosmetic_tag = FRA_ORLEANS
			hidden_effect = {
				news_event = { id = lar_news.8 days = 3 random_days = 5 }
			}
		}
	}
	focus = {
		id = FRA_guarantee_the_constitution
		icon = GFX_goal_generic_military_sphere
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_orleanist_restoration
		}
		relative_position_id = FRA_orleanist_restoration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = FRA_the_first_citizen_of_the_state
		icon = GFX_focus_generic_military_mission
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_orleanist_restoration
		}
		relative_position_id = FRA_orleanist_restoration
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_country_leader_trait = constitutional_monarch
		}
	}
	focus = {
		id = FRA_counter_action
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_guarantee_the_constitution
			focus = FRA_the_first_citizen_of_the_state
		}
		relative_position_id = FRA_guarantee_the_constitution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = FRA_counter_action days = 730 }
		}
	}
	focus = {
		id = FRA_no_further_humiliations
		icon = GFX_focus_generic_support_the_left_right
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_counter_action
		}
		relative_position_id = FRA_counter_action
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				GER = {
					has_government = fascism
				}
				ITA = {
					has_government = fascism
				}
			}
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = FRA_orleanist_faction
			if = {
				limit = {
					GER = { has_government = fascism }
				}
				create_wargoal = {
					type = topple_government
					target = GER
					expire = 0
				}
			}
			if = {
				limit = {
					ITA = { has_government = fascism }
				}
				create_wargoal = {
					type = topple_government
					target = ITA
					expire = 0
				}
			}
		}
	}
	focus = {
		id = FRA_slum_clearing
		icon = GFX_goal_generic_construction
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_counter_action
		}
		relative_position_id = FRA_counter_action
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = { 
					is_core_of = ROOT 
					is_fully_controlled_by = ROOT
					set_temp_variable = { state_num_factory = industrial_complex_level }
					add_to_temp_variable = { state_num_factory = arms_factory_level }
					add_to_temp_variable = { state_num_factory = building_level@dockyard }
					check_variable = { state_num_factory > 7 }
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	focus = {
		id = FRA_public_welfare
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_slum_clearing
		}
		relative_position_id = FRA_slum_clearing
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = FRA_the_legitimate_heir
		icon = GFX_focus_rom_royal_dictatorship
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_repeal_the_law_of_exile
		}
		mutually_exclusive = {
			focus = FRA_orleanist_restoration
			focus = FRA_proclaim_the_third_empire
		}
		relative_position_id = FRA_repeal_the_law_of_exile
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					date < 1941.2.21 #TODO_GABRIEL: coordinate with Drikus for death events
				}
				create_country_leader = {
					name = "Alphonse I"
					desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
					picture = GFX_portrait_SPA_alfonso_xiii
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						
					}
				}
			}
			else = {
				create_country_leader = {
					name = "Jacques II"
					desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
					picture = GFX_portrait_fra_infante_jaime
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						
					}
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = FRA_legitimist_party_long
				name = FRA_legitimist_party
			}
			set_politics = { ruling_party = neutrality }
			hidden_effect = {
				news_event = { id = lar_news.8 days = 3 random_days = 5 }
			}
		}
	}
	focus = {
		id = FRA_secure_the_crown_of_spain
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_the_legitimate_heir
		}
		relative_position_id = FRA_the_legitimate_heir
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_subject_of = SPB
			}
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					country_exists = SPB
				}
				set_rule = { can_create_factions = yes }
				create_faction = FRA_legitimist_faction
				SPB = { country_event = generic.5 }
			}
			else = {
				41 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
		}
	}
	focus = {
		id = FRA_unite_the_crowns
		icon = GFX_goal_generic_demand_territory
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_secure_the_crown_of_spain
		}
		mutually_exclusive = { focus = FRA_two_countries_two_crowns }
		relative_position_id = FRA_secure_the_crown_of_spain
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					country_exists = SPB
				}
				SPB = {
					NOT = { has_war_with = SPA }
					NOT = { has_war_with = SPC }
					NOT = { has_war_with = SPD }
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
					}
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			else = {
				any_state = {
					is_core_of = SPB
					is_controlled_by = ROOT
				}
			}
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					country_exists = SPB
				}
				annex_country = { target = SPB transfer_troops = yes }
			}
			every_state = {
				limit = {
					is_core_of = SPB
				}
				add_core_of = ROOT
			}
			add_stability = -0.1
			set_cosmetic_tag = FRANCO_SPAIN
		}
	}
	focus = {
		id = FRA_two_countries_two_crowns
		icon = GFX_goal_tripartite_pact
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_secure_the_crown_of_spain
		}
		mutually_exclusive = { focus = FRA_unite_the_crowns }
		relative_position_id = FRA_secure_the_crown_of_spain
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			country_exists = SPB
			SPB = {
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
				}
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				set_rule = { can_create_factions = yes }
				create_faction = FRA_legitimist_faction
			}
			if = {
				limit = {
					SPB = { is_in_faction = no }
				}
				add_to_faction = SPB
			}
			add_stability = 0.1
			add_to_tech_sharing_group = FRA_legitimist_tech_sharing
			SPB = { add_to_tech_sharing_group = FRA_legitimist_tech_sharing }
		}
	}

	focus = {
		id = FRA_proclaim_the_third_empire
		icon = GFX_focus_focus_fra_third_empire
		x = 3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_repeal_the_law_of_exile
		}
		mutually_exclusive = {
			focus = FRA_orleanist_restoration
			focus = FRA_the_legitimate_heir
		}
		relative_position_id = FRA_repeal_the_law_of_exile
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_country_leader = {
				name = "Napoléon VI"
				desc = "POLITICS_ÉDOUARD_DALADIER_DESC"
				picture = GFX_portraits_fra_napoleon_vi
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = FRA_bonepartist_party_long
				name = FRA_bonepartist_party
			}
			set_politics = { ruling_party = neutrality }
			hidden_effect = {
				news_event = { id = lar_news.8 days = 3 random_days = 5 }
			}
			set_cosmetic_tag = FRA_THIRD_EMPIRE
		}
	}
	focus = {
		id = FRA_avenge_waterloo #you now have ABBA stuck in your head for the rest of the day
		icon = GFX_focus_attack_britain
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_proclaim_the_third_empire
		}
		relative_position_id = FRA_proclaim_the_third_empire
		cost = 10

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = ENG
		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL
		available = {
			is_subject = no
		}
		
		bypass = {
			BEL = {
				OR = {
					exists = no
					is_subject_of = ROOT
				}
			}
			HOL = {
				OR = {
					exists = no
					is_subject_of = ROOT
				}
			}
			ENG = {
				OR = {
					exists = no
					is_subject_of = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				target = BEL
				type = annex_everything
				expire = 0
			}
			create_wargoal = {
				target = HOL
				type = annex_everything
				expire = 0
			}
			create_wargoal = {
				target = ENG
				type = annex_everything
				expire = 0
			}
		}
	}
	focus = {
		id = FRA_reorganize_the_dutch
		icon = GFX_focus_CZE_german_puppet
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_avenge_waterloo
		}
		relative_position_id = FRA_avenge_waterloo
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			OR = {
				HOL = {
					is_subject_of = ROOT
				}
				any_state = {
					is_core_of = HOL
					is_controlled_by = ROOT
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_relation_modifier = {
				target = HOL
				modifier = FRA_reorganized_departments
			}
		}
	}
	focus = {
		id = FRA_retribution_for_sedan
		icon = GFX_focus_attack_germany
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_avenge_waterloo
		}
		relative_position_id = FRA_avenge_waterloo
		cost = 10
		will_lead_to_war_with = GER
		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}
		
		bypass = {
			OR = {
				is_in_faction_with = GER
				has_war_with = GER

			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = { 
				type = annex_everything
				target = GER
				expire = 0
			}
		}
	}
	focus = {
		id = FRA_disunite_germany
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_retribution_for_sedan
		}
		relative_position_id = FRA_retribution_for_sedan
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			any_state = { 
				is_core_of = GER
				is_controlled_by = ROOT
			}
			GER = {
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = FRA_confederation_of_the_rhine
			}
			if = {
				limit = {
					51 = {
						is_controlled_by = ROOT
					}
				}
				transfer_state = 51
			}
			if = {
				limit = {
					42 = {
						is_controlled_by = ROOT
					}
				}
				transfer_state = 42
			}
			if = {
				limit = {
					4 = { is_owned_or_subject_trigger = yes }
					152 = { is_owned_or_subject_trigger = yes }
					153 = { is_owned_or_subject_trigger = yes }
				}
				AUS = {
					transfer_state = 4
					transfer_state = 152
					transfer_state = 153
				}
				puppet = AUS
			}
			if = { #set up Wurtemberg puppet
				limit = {
					50 = {
						is_owned_or_subject_trigger = yes
					}
				}
				WUR = {
					transfer_state = 50
					add_state_core = 50
				}
				puppet = WUR
			}
			if = { #set up Saxony puppet
				limit = {
					65 = {
						is_owned_or_subject_trigger = yes
					}
				}
				SAX = {
					transfer_state = 65
					add_state_core = 65
				}
				puppet = SAX
			}
			if = { #set up Mecklenburg puppet
				limit = {
					61 = {
						is_owned_or_subject_trigger = yes
					}
				}
				MEK = {
					transfer_state = 61
					add_state_core = 61
				}
				puppet = MEK
			}
			if = { #set up Schleswig-Holstein puppet
				limit = {
					58 = {
						is_owned_or_subject_trigger = yes
					}
				}
				SHL = {
					transfer_state = 58
					add_state_core = 58
				}
				puppet = SHL
			}
			if = { #set up Bavaria puppet
				limit = {
					52 = {
						is_owned_or_subject_trigger = yes
					}
					53 = {
						is_owned_or_subject_trigger = yes
					}
					54 = {
						is_owned_or_subject_trigger = yes
					}
				}
				BAY = {
					transfer_state = 52
					transfer_state = 53
					transfer_state = 54
					add_state_core = 52
					add_state_core = 53
					add_state_core = 54
				}
				puppet = BAY
			}
			if = { #set up Hanover puppet
				limit = {
					59 = {
						is_owned_or_subject_trigger = yes
					}
					56 = {
						is_owned_or_subject_trigger = yes
					}
					57 = {
						is_owned_or_subject_trigger = yes
					}
				}
				HAN = {
					transfer_state = 59
					transfer_state = 56
					transfer_state = 57
					add_state_core = 59
					add_state_core = 56
					add_state_core = 57
				}
				puppet = HAN
			}
			if = {
				limit = {
					CZE = { exists = yes }
					NOT = { has_war_with = CZE }
				}
				every_state = {
					limit = { 
						is_core_of = CZE 
						is_owned_or_subject_trigger = yes
					}
					CZE = { transfer_state = PREV }
				}
			}
			else = {
				every_state = {
					limit = { 
						is_core_of = CZE 
						is_owned_or_subject_trigger = yes
					}
					CZE = { transfer_state = PREV }
				}
				puppet = CZE
			}
			every_state = {
				limit = { 
					is_core_of = GER 
					is_owned_or_subject_trigger = yes
					CONTROLLER = {
						NOT = {
							OR = {
								tag = BAY
								tag = MEK
								tag = SAX
								tag = HAN
								tag = SHL
								tag = WUR
								tag = CZE
							}
						}
					}
					NOT = {
						state = 42
						state = 51
					}
				}
				PRE = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					country_exists = PRE
				}
				puppet = PRE
			}
		}
	}
	focus = {
		id = FRA_return_to_borodino
		icon = GFX_focus_attack_soviet
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_retribution_for_sedan
		}
		relative_position_id = FRA_retribution_for_sedan
		cost = 10

		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = SOV
		available = {
			is_subject = no
		}
		
		bypass = {
			has_war_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				target = SOV
				type = annex_everything
				expire = 0
			}
		}
	}
	focus = {
		id = FRA_je_suis_la_deluge
		icon = GFX_focus_fra_le_deluge
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {
			focus = FRA_return_to_borodino
		}
		relative_position_id = FRA_return_to_borodino
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_la_deluge }
		}
	}


	##### END ###########

	focus = {
		id = FRA_naval_rearmament
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 70
		y = 0
		cost = 10
		offset = {
			x = -16
			y = 0
			trigger = {
				not = { has_dlc = "La Resistance" }
			}
		}
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = FRA_naval_rearmament_2NB }
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}		
		}

		completion_reward = {
			navy_experience = 25
			21 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_naval_rearmament_2NB
				}
			}
			14 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_naval_rearmament_2NB
				}
			}
		}
	}

	focus = {
		id = FRA_colonial_naval_bases
		icon = GFX_goal_generic_build_navy
	 	prerequisite = { focus = FRA_naval_rearmament }
		x = -3
		y = 1
		relative_position_id = FRA_naval_rearmament
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			459 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						level = 3
						province = 1145
						instant_build = yes
					}
					set_state_flag = FRA_colonial_naval_bases
				}
			}
			272 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						level = 3
						province = 4948
						instant_build = yes
					}
					set_state_flag = FRA_colonial_naval_bases
				}
			}
			539 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						level = 3
						province = 5139
						instant_build = yes
					}
					set_state_flag = FRA_colonial_naval_bases
				}
			}
			286 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						level = 3
						province = 4401
						instant_build = yes
					}
					set_state_flag = FRA_colonial_naval_bases
				}
			}
		}
	}

	focus = {
		id = FRA_develop_colonial_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
	 	prerequisite = { focus = FRA_colonial_naval_bases }
		x = 0
		y = 1
		relative_position_id = FRA_colonial_naval_bases
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			459 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_colonial_dockyards
				}
			}
			272 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_colonial_dockyards
				}
			}
			286 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_colonial_dockyards
				}
			}
		}
	}

	focus = {
		id = FRA_the_old_school
		icon = GFX_focus_generic_navy_battleship2
	 	prerequisite = { focus = FRA_naval_rearmament }
	 	mutually_exclusive = { focus = FRA_the_young_school }
		x = 0
		y = 1
		relative_position_id = FRA_naval_rearmament
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					is_coastal = yes
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = FRA_capital_ship_focus
		icon = GFX_goal_generic_navy_battleship
	 	mutually_exclusive = { focus = FRA_carrier_focus }
	 	prerequisite = { focus = FRA_the_old_school }
		x = -1
		y = 1
		relative_position_id = FRA_the_old_school
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_capital_ship_focus
				bonus = 1.0
				uses = 2
				category = bb_tech
				category = bc_tech
			}
		}
	}

	focus = {
		id = FRA_carrier_focus
		icon = GFX_goal_generic_navy_carrier
	 	mutually_exclusive = { focus = FRA_capital_ship_focus }
	 	prerequisite = { focus = FRA_the_old_school }
		x = 1
		y = 1
		relative_position_id = FRA_the_old_school
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = FRA_carrier_planes
		icon = GFX_goal_generic_air_fighter

	 	prerequisite = { focus = FRA_carrier_focus }
		x = -1
		y = 1
		relative_position_id = FRA_carrier_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 2
				category = naval_air
			}
		}
	}

	focus = {
		id = FRA_rush_the_richelieus
		icon = GFX_focus_generic_cruiser2

	 	prerequisite = { focus = FRA_capital_ship_focus }
		x = 0
		y = 2
		relative_position_id = FRA_capital_ship_focus
		cost = 10

		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "FRA" 
						version_name = "Richelieu Class"
					}
					requested_factories = 1
					progress = 0.50
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "FRA" 
						version_name = "Richelieu Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
			else = {
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "FRA" 
					}
					requested_factories = 1
					progress = 0.50
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "FRA" 
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
		}
	}
	focus = {
		id = FRA_prioritize_the_joffre
		icon = GFX_goal_generic_navy_carrier

	 	prerequisite = { focus = FRA_carrier_focus }
		x = 0
		y = 2
		relative_position_id = FRA_carrier_focus
		cost = 10

		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = FRA_prioritize_the_joffre_tt
				hidden_effect = {
					create_equipment_variant = {
						name = "Joffre Class"
						type = ship_hull_carrier_1
						name_group = FRA_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = dp_ship_secondaries
							front_1_custom_slot = empty
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_1
							creator = "FRA" 
							version_name = "Joffre Class"
						}
						requested_factories = 1
						progress = 0.40
						amount = 1
					}
				}	
			}
			else = {
				add_equipment_production = {
					equipment = {
						type = carrier_2
						creator = "FRA" 
					}
					requested_factories = 1
					progress = 0.40
					amount = 1
				}
			}
		}
	}
	focus = {
		id = FRA_the_young_school
		icon = GFX_goal_generic_navy_cruiser
	 	prerequisite = { focus = FRA_naval_rearmament }
	 	mutually_exclusive = { focus = FRA_the_old_school }
		x = 4
		y = 1
		relative_position_id = FRA_naval_rearmament
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = FRA_the_young_school
		}
	}

	focus = {
		id = FRA_undersea_combat
		icon = GFX_goal_generic_navy_submarine
	 	prerequisite = { focus = FRA_the_young_school }
		x = -1
		y = 1
		relative_position_id = FRA_the_young_school
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = FRA_undersea_combat
				bonus = 1.0
				uses = 2
				category = ss_tech
			}
		}
	}

	focus = {
		id = FRA_surface_combat
		icon = GFX_focus_generic_destroyer
	 	prerequisite = { focus = FRA_the_young_school }
		x = 1
		y = 1
		relative_position_id = FRA_the_young_school
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = FRA_surface_combat
				bonus = 2.0
				uses = 1
				category = dd_tech
			}
		}
	}
	focus = {
		id = FRA_improved_screen_ships
		icon = GFX_goal_generic_navy_cruiser
	 	prerequisite = { focus = FRA_surface_combat }
	 	prerequisite = { focus = FRA_undersea_combat }
		x = 0
		y = 2
		relative_position_id = FRA_surface_combat
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = FRA_improved_screen_ships
				bonus = 2.0
				uses = 1
				category = cl_tech
			}
		}
	}

	

	focus = {
		id = FRA_naval_doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
	 	prerequisite = { 
	 		focus = FRA_prioritize_the_joffre
	 		focus = FRA_rush_the_richelieus
	 		focus = FRA_improved_screen_ships
	 	}
		x = 3
		y = 1
		relative_position_id = FRA_rush_the_richelieus
		cost = 10
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = FRA_naval_doctrine
				bonus = 1.0
				uses = 2
				category = naval_doctrine
			}
		}
	}

	

	focus = {
		id = FRA_air_focus
		icon = GFX_goal_generic_build_airforce
		x = 80
		y = 0
		cost = 10
		offset = {
			x = -17
			y = 0
			trigger = {
				not = { has_dlc = "La Resistance" }
			}
		}
		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = air_focus_bypass_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
			}
		}

		complete_tooltip = {
			air_experience = 25
			every_state = {
				limit = { has_state_flag = FRA_air_focus_2air }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			air_experience = 25

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
		}
	}

	focus = {
		id = FRA_fighter_focus
		icon = GFX_goal_generic_air_fighter
		mutually_exclusive = { focus = FRA_bomber_focus }
	 	prerequisite = { focus = FRA_air_focus }
		x = -1
		y = 1
		relative_position_id = FRA_air_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_fighter_focus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = FRA_heavy_fighter_focus
		icon = GFX_goal_generic_air_fighter2
	 	prerequisite = { focus = FRA_fighter_focus }
		x = -1
		y = 1
		relative_position_id = FRA_fighter_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_heavy_fighter_focus
				bonus = 1.0
				uses = 2
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = FRA_bomber_focus
		icon = GFX_goal_generic_air_bomber
		mutually_exclusive = { focus = FRA_fighter_focus }
	 	prerequisite = { focus = FRA_air_focus }
		x = 1
		y = 1
		relative_position_id = FRA_air_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_bomber_focus
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = FRA_air_doctrine
		icon = GFX_goal_generic_air_doctrine
	 	prerequisite = { 
	 		focus = FRA_fighter_focus 
	 		focus = FRA_bomber_focus
	 	}
		x = 1
		y = 1
		relative_position_id = FRA_fighter_focus
		cost = 10
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes

		completion_reward = {
			air_experience = 50

			add_tech_bonus = {
				name = FRA_air_doctrine
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = FRA_heavy_bomber_focus
		icon = GFX_goal_generic_occupy_start_war
	 	prerequisite = { focus = FRA_bomber_focus }
		x = 1
		y = 1
		relative_position_id = FRA_bomber_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_heavy_bomber_focus
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber
			}
		}
	}

	focus = {
		id = FRA_naval_bomber_focus
		icon = GFX_goal_generic_air_naval_bomber
	 	prerequisite = { focus = FRA_bomber_focus }
		x = 3
		y = 1
		relative_position_id = FRA_bomber_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_naval_bomber_focus
				bonus = 1.0
				uses = 2
				category = naval_bomber
			}
		}
	}
}
focus_tree = {
	id = free_french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 1
			tag = FRA
			always = no
			
		}
	}
	
	default = no
	focus = {
		id = FRA_appeal_to_the_french_nation
		icon = GFX_goal_generic_propaganda
		x = 18
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {}
		mutually_exclusive = { }
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_leader = { ruling_only = yes name = "Charles de Gaulle"}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = { not = { has_dlc = "Man the Guns" } }
				add_manpower = 10000
			}
			else = {
				add_manpower = 10000
				add_legitimacy = 15
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 5000
			}
		}
	}
	focus = {
		id = FRA_appeal_to_overseas_territories
		icon = GFX_goal_generic_radar
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_the_french_nation
		}
		relative_position_id = FRA_appeal_to_the_french_nation
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = FRA_appeal_to_overseas_territories_tt
			add_offsite_building = {
				type = industrial_complex
				level = 2
			}
			hidden_effect = {
				country_event = lar_appeal_to_overseas_territories.1
			}
		}
	}
	focus = {
		id = FRA_intervention_in_north_africa
		icon = GFX_goal_generic_position_armies
		x = -5
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				FRA_controls_north_africa = yes
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_north_africa }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_north_africa }
		}
	}
	focus = {
		id = FRA_intervention_in_west_africa
		icon = GFX_goal_generic_position_armies
		x = -3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_west_africa }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_west_africa }
			unlock_decision_tooltip = { decision = FRA_invasion_in_west_africa }
		}
	}
	focus = {
		id = FRA_intervention_in_syria
		icon = GFX_goal_generic_position_armies
		x = -1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_syria }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_syria }
			unlock_decision_tooltip = { decision = FRA_invasion_in_syria }
		}
	}
	focus = {
		id = FRA_intervention_in_indochina
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_indochina }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_indochina }
			unlock_decision_tooltip = { decision = FRA_invasion_in_indochina }
		}
	}
	focus = {
		id = FRA_intervention_in_central_africa
		icon = GFX_goal_generic_position_armies
		x = 3
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_central_africa }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_central_africa }
			unlock_decision_tooltip = { decision = FRA_invasion_in_central_africa }
		}
	}
	focus = {
		id = FRA_intervention_in_madagascar
		icon = GFX_goal_generic_position_armies
		x = 5
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_overseas_territories
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				543 = {
					OR = {
						is_controlled_by = ROOT
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = FRA_prepare_coup_in_madagascar }
			unlock_decision_tooltip = { decision = FRA_promise_independence_to_madagascar }
		}
	}
	focus = {
		id = FRA_form_the_national_committee
		icon = GFX_goal_generic_intelligence_exchange
		x = 0
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_intervention_in_madagascar
			focus = FRA_intervention_in_syria
			focus = FRA_intervention_in_indochina
			focus = FRA_intervention_in_north_africa
			focus = FRA_intervention_in_west_africa
			focus = FRA_intervention_in_central_africa
		}
		relative_position_id = FRA_appeal_to_overseas_territories
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_legitimacy > 90
			}
			else = {
				num_of_factories > 24
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			add_stability = 0.1
		}
	}
	focus = {
		id = FRA_form_the_provisional_government_of_the_republic
		icon = GFX_goal_tripartite_pact
		x = 0
		y = 3
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_form_the_national_committee
		}
		relative_position_id = FRA_form_the_national_committee
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			16 = {
				is_controlled_by = ROOT
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			load_focus_tree = french_focus
			#TODO_GABRIEL: Make scripted effect to give correct focuses depending on left/right
		}
	}
	focus = {
		id = FRA_continue_the_fight
		icon = GFX_goal_generic_major_war
		x = 9
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_appeal_to_the_french_nation
		}
		relative_position_id = FRA_appeal_to_the_french_nation
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_offsite_building = {
				type = arms_factory
				level = 2
			}
			create_corps_commander = {
				name = "Marie-Pierre Koenig"
				GFX = GFX_portrait_fra_marie_pierre_koenig
				skill = 3
				traits = {  }
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Georges Catroux"
				GFX = GFX_portrait_fra_georges_catroux
				skill = 3
				traits = {  }
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 2
			}
		}
	}
	focus = {
		id = FRA_the_free_french_navy
		icon = GFX_goal_generic_build_navy
		x = -2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_continue_the_fight
		}
		relative_position_id = FRA_continue_the_fight
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_equipment_to_stockpile = {
				type = convoy
				amount = 50
			}
			create_navy_leader = {
				name = "Emilie Muselier"
				GFX = GFX_portrait_fra_emilie_muselier
				skill = 3
				traits = {  }
				attack_skill = 1
				defense_skill = 2
				maneuvering_skill = 3
				coordination_skill = 4
			}
		}
	}
	focus = {
		id = FRA_colonial_recruitment
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_continue_the_fight
		}
		relative_position_id = FRA_continue_the_fight
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			any_owned_state = {
				is_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_colonial_recruitment }
		}
	}
	focus = {
		id = FRA_the_regiment_normandie
		icon = GFX_focus_fra_regiment_normandie
		x = 2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_continue_the_fight
		}
		relative_position_id = FRA_continue_the_fight
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			any_enemy_country = {
				has_war_with = SOV
			}
			NOT = {
				has_war_with = SOV
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			air_experience = 25
			SOV = {
				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 150
					producer = FRA
				}
			}
		}
	}

	focus = {
		id = FRA_refus_absurde
		icon = GFX_goal_generic_demand_territory
		x = 8
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			
		}
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_legitimacy > 40
			}
			else = {
				num_of_factories > 14
			}
		}
		
		bypass = {
			not = { has_idea = FRA_defeatism }
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			remove_ideas = { FRA_defeatism }
		}
	}
	focus = {
		id = FRA_the_maquis
		icon = GFX_focus_focus_fra_maquis
		x = -2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_refus_absurde
		}
		relative_position_id = FRA_refus_absurde
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = { FRA_maquis }
			every_state = {
				limit = {
					is_core_of = ROOT
					not = { is_controlled_by = ROOT }
					infrastructure < 7
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_the_maquis
				}
			}
		}
	}
	focus = {
		id = FRA_reach_out_to_trade_unions
		icon = GFX_goal_generic_major_alliance
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_refus_absurde
		}
		relative_position_id = FRA_refus_absurde
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = FRA_connections_to_trade_unions
		}
	}
	focus = {
		id = FRA_cooperation_with_the_communists
		icon = GFX_focus_generic_soviet_politics
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_reach_out_to_trade_unions
		}
		relative_position_id = FRA_reach_out_to_trade_unions
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					communism < 0.14
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			add_ideas = FRA_communist_cooperation_2
		}
	}
	focus = {
		id = FRA_connections_to_industrialists
		icon = GFX_goal_generic_intelligence_exchange
		x = 2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_refus_absurde
		}
		relative_position_id = FRA_refus_absurde
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = FRA_industrialist_connections
		}
	}
	focus = {
		id = FRA_the_civil_and_military_organization
		icon = GFX_goal_generic_military_deal
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_connections_to_industrialists
		}
		relative_position_id = FRA_connections_to_industrialists
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_industrialist_connections
				add_idea = FRA_civil_and_military_organization
			}
		}
	}
	focus = {
		id = FRA_national_council_of_the_resistance
		icon = GFX_focus_focus_fra_national_resistance_council
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_the_civil_and_military_organization
		}
		prerequisite = {
			focus = FRA_cooperation_with_the_communists
		}
		prerequisite = {
			focus = FRA_form_the_national_committee
		}
		relative_position_id = FRA_the_civil_and_military_organization
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_civil_and_military_organization
				add_idea = FRA_national_council_of_the_resistance
			}
		}
	}
	focus = {
		id = FRA_national_uprising
		icon = GFX_goal_generic_dangerous_deal
		x = -2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_national_council_of_the_resistance
		}
		relative_position_id = FRA_national_council_of_the_resistance
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_timed_idea = { idea = FRA_national_uprising days = 90 }
		}
	}
	focus = {
		id = FRA_french_forces_of_the_interior
		icon = GFX_focus_prc_infiltration
		x = 2
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_national_council_of_the_resistance
		}
		relative_position_id = FRA_national_council_of_the_resistance
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = FRA_french_forces_of_the_interior_tt
			division_template = {
				name = "FFI Demi-Brigade" 	
				division_names_group = FRA_INF_01
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }		
					infantry = { x = 0 y = 1 }		
					infantry = { x = 0 y = 2 }		
					infantry = { x = 0 y = 3 }		
					infantry = { x = 0 y = 4 }		
				}
				support = {
					
				}
			}
			every_owned_state = {
				limit = { 
					is_core_of = ROOT 
					not = { has_state_flag = FRA_core_state_liberated }
					is_fully_controlled_by = ROOT
				}
				create_unit = {
					division = "name = \"1re Demi-Brigade des FFI\" division_template = \"FFI Demi-Brigade\" start_experience_factor = 0"  
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2me Demi-Brigade des FFI\" division_template = \"FFI Demi-Brigade\" start_experience_factor = 0"  
					owner = ROOT
				}
				create_unit = {
					division = "name = \"3me Demi-Brigade des FFI\" division_template = \"FFI Demi-Brigade\" start_experience_factor = 0"  
					owner = ROOT
				}
				set_state_flag = FRA_core_state_liberated
			}
		}
	}
		
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = german_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GER
			always = no
		}
	}
	
	default = no

	focus = {
		id = GER_four_year_plan
		icon = GFX_goal_generic_construction
		x = 6
		y = 0
		cost = 10
		ai_will_do = {
			factor = 12
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = GER_four_year_plan
				bonus = 1.0
				uses = 2
				category = industry
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = hjalmar_schacht
		}
		
	}

	focus = {
		id = GER_west_wall
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = GER_four_year_plan }
		x = -5
		y = 1
		relative_position_id = GER_four_year_plan
		cost = 10
		ai_will_do = {
			factor = 8
		}
			
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = todt
			50 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = GER_west_wall_forts
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11640
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6712
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6542
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3530
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 42 = { is_demilitarized_zone = yes } }
				custom_effect_tooltip = GER_west_wall_tt
			}
			42 = {
				custom_effect_tooltip = GER_west_wall_forts
			}
			hidden_effect = {
				42 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 3
							province = 3558
							instant_build = yes
						}
						
						add_building_construction = {
							type = bunker
							level = 3
							province = 563
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11531
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9575
							instant_build = yes
						}
					}
				}
			}			
		}
	}

	focus = {
		id = GER_atlantikwall
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = GER_west_wall }
		available = {
			OR = {
				FRA = { has_capitulated = yes }
				NOT = { country_exists = FRA }
			}
			OR = {
				has_full_control_of_state = 19
				has_full_control_of_state = 23
				has_full_control_of_state = 30
				has_full_control_of_state = 14
				has_full_control_of_state = 15
				has_full_control_of_state = 29
				has_full_control_of_state = 6
				has_full_control_of_state = 7
				has_full_control_of_state = 36
				has_full_control_of_state = 99
				has_full_control_of_state = 110
				has_full_control_of_state = 142
				has_full_control_of_state = 143
				has_full_control_of_state = 144
				has_full_control_of_state = 785
			}
		}
		cancel_if_invalid = yes
		x = -1
		y = 1
		relative_position_id = GER_west_wall
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_ideas = GER_atlantikwall_idea
			custom_effect_tooltip = atlantikwall_tooltip
			custom_effect_tooltip = atlantikwall_tooltip_2
			hidden_effect = {
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 19
						}
					}
					19 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 23
						}
					}
					23 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 30
						}
					}
					30 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 14
						}
					}
					14 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 15
						}
					}
					15 = {
						#Fortify naval bases a bit extra close to Calais
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 3
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 29
						}
					}
					29 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
	
						#Bonus Fortifications on Calais coastline
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
            	    	#Biggest fortifications on Calais itself
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_victory_point = yes
            	    	    }
            	    	    level = 3
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 6
						}
					}
					6 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}	
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 7
						}
					}
					7 = {
						#Fortify naval bases a bit extra close to Calais
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 3
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}	
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 36
						}
					}	
					36 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 56
						}
					}		
					56 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 59
						}
					}		
					59 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 58
						}
					}		
					58 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 99
						}
					}		
					99 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 110
						}
					}		
					110 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 142
						}
					}		
					142 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 143
						}
					}		
					143 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 144
						}
					}		
					144 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 785
						}
					}
					785 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 1
            	    	    instant_build = yes
            	    	}
					}
				}	
			}
		}
	}

	focus = {
		id = GER_ostwall
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = GER_west_wall }
		available = {
			any_country = {
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
				OR = {
					has_full_control_of_state = 191
					has_full_control_of_state = 209
					has_full_control_of_state = 210
					has_full_control_of_state = 207
					has_full_control_of_state = 206
					has_full_control_of_state = 204
					has_full_control_of_state = 194
					has_full_control_of_state = 202
					has_full_control_of_state = 203
					has_full_control_of_state = 226
					has_full_control_of_state = 200
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = GER_west_wall
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_ideas = GER_ostwall_idea
			custom_effect_tooltip = GER_ostwall_forts
			custom_effect_tooltip = GER_ostwall_forts_2
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 191 
					}
				}
				hidden_effect = {
					191 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 209
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 415
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3310
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 210 
					}
				}
				hidden_effect = {
					210 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 3333
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11259
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9386
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 207 
					}
				}
				hidden_effect = {
					207 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 323
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11241
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11220
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3331
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 206 
					}
				}
				hidden_effect = {
					206 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9289
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3378
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 204 
					}
				}
				hidden_effect = {
					204 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6373
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 194 
					}
				}
				hidden_effect = {
					194 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6319
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 9249
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3507
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 202 
					}
				}
				hidden_effect = {
					202 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9568
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3543
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 525
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3494
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 203 
					}
				}
				hidden_effect = {
					203 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 11454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 488
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3468
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6478
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 226 
					}
				}
				hidden_effect = {
					226 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9433
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11437
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 200 
					}
				}
				hidden_effect = {
					200 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11405
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6596
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11700
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_autarky
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = GER_four_year_plan }
		x = 4
		y = 1
		relative_position_id = GER_four_year_plan
		cost = 10
		
		ai_will_do = {
			factor = 9
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = GER_autarky
				bonus = 1.0
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			add_ideas = GER_autarky_idea
		}
	}

	focus = {
		id = GER_hermann_goring_werke
		icon = GFX_goal_generic_construct_civ_factory
		dynamic = yes
		prerequisite = { focus = GER_autarky }
		x = 2
		y = 1
		relative_position_id = GER_autarky
		cost = 10
		ai_will_do = {
			factor = 9
		}

		available_if_capitulated = no

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_industrial_effort_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
		}
	}

	focus = {
		id = GER_kdf_wagen
		icon = GFX_goal_generic_construct_civ_factory
		dynamic = yes
		prerequisite = { focus = GER_hermann_goring_werke }
		x = 0
		y = 1
		relative_position_id = GER_hermann_goring_werke
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_industrial_effort_2_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
		}
	}

	focus = {
		id = GER_coal_liquidization
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GER_autarky }
		x = 0
		y = 1
		relative_position_id = GER_autarky
		cost = 10
		ai_will_do = {
			factor = 4
		}

		available = {
			has_full_control_of_state = 65
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = GER_coal_liquidization
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
			if = {
				limit = {
					has_full_control_of_state = 65
				}
				65 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = GER_synthetic_rubber
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = GER_coal_liquidization }
		x = 0
		y = 1
		relative_position_id = GER_coal_liquidization
		cost = 10
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
	
        	modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 2
        	}
		}
	}

	focus = {
		id = GER_extra_tech_slot
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = GER_kdf_wagen focus = GER_synthetic_rubber }
		x = -1
		y = 1
		relative_position_id = GER_kdf_wagen
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = GER_autobahn
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_autarky }
		x = -2
		y = 1
		relative_position_id = GER_autarky
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			OR = {
				has_full_control_of_state = 64
				has_full_control_of_state = 59
				has_full_control_of_state = 60
				has_full_control_of_state = 54
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = GER_autobahn_tt
			hidden_effect = {
				64 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				59 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				60 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				54 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
			}		
		}
	}

	focus = {
		id = GER_german_war_economy
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_autobahn }
		mutually_exclusive = { focus = GER_integrate_war_economies }
		x = 0
		y = 1
		relative_position_id = GER_autobahn
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		available = {
			has_war_support > 0.49
		}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_german_war_economy }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = war_economy }
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = war_economy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_german_war_economy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_german_war_economy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_german_war_economy
			}
		}
	}

	focus = {
		id = GER_grosraumwirtschaft
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_four_year_plan }
		x = 0
		y = 1
		relative_position_id = GER_four_year_plan
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_grosraumwirtschaft
		}
	}

	focus = {
		id = GER_align_hungary
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GER_grosraumwirtschaft }
		x = 0
		y = 1
		relative_position_id = GER_grosraumwirtschaft
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = HUN }
		}

		bypass = {
			HUN = {
				OR = {
					exists = no
					is_subject = yes			
					AND = {
						is_subject = no
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_government = fascism
				}
				HUN = {
					add_timed_idea = { idea = GER_align_hungary days = 730 }
				}
			}	
			if = {
				limit = {
					has_government = neutrality
				}
				HUN = {
					add_timed_idea = { idea = GER_align_hungary_unaligned days = 730 }
				}
			}	
			if = {
				limit = {
					has_government = democratic
				}
				HUN = {
					add_timed_idea = { idea = GER_align_hungary_democratic days = 730 }
				}
			}	
			HUN = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_align_hungary
				}
			}
		}
	}

	focus = {
		id = GER_align_romania
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GER_grosraumwirtschaft }
		x = -2
		y = 1
		relative_position_id = GER_grosraumwirtschaft
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = ROM }
		}

		bypass = {
			ROM = {
				OR = {
					exists = no
					is_subject = yes
					AND = {
						is_subject = no
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_government = fascism
				}
				ROM = {
					add_timed_idea = { idea = GER_align_romania days = 730 }
				}
			}	
			if = {
				limit = {
					has_government = neutrality
				}
				ROM = {
					add_timed_idea = { idea = GER_align_romania_unaligned days = 730 }
				}
			}	
			if = {
				limit = {
					has_government = democratic
				}
				ROM = {
					add_timed_idea = { idea = GER_align_romania_democratic days = 730 }
				}
			}	
			ROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_align_romania
				}
			}
		}
	}

	focus = {
		id = GER_integrate_war_economies
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_align_hungary }
		prerequisite = { focus = GER_align_romania }
		mutually_exclusive = { focus = GER_german_war_economy }
		x = 0
		y = 1
		relative_position_id = GER_align_hungary
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			OR = {
				HUN = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
				ROM = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
			}
		}

		available_if_capitulated = no
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_1 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			HUN = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			ROM = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					NOT = { is_in_faction_with = HUN }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt
				custom_effect_tooltip = GER_integrate_war_economies_tt3
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = ROM }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt2
				custom_effect_tooltip = GER_integrate_war_economies_tt4
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				HUN = { country_event = { id = wtt_germany.72 } }
				effect_tooltip = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = GER_integrate_war_economies }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = GER_integrate_war_economies }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies
					}
					HUN = {
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = arms_factory
								level = 2
								instant_build = yes
							}
							set_state_flag = GER_integrate_war_economies_1
						}
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = arms_factory
								level = 2
								instant_build = yes
							}
							set_state_flag = GER_integrate_war_economies_2
						}
					}
					if = {
						limit = {
							has_dlc = "Death or Dishonor" 
						}
						set_autonomy = { target = HUN autonomy_state = autonomy_satellite }
					}
					if = {
						limit = { 
							has_dlc = "Together for Victory"
							NOT = { has_dlc = "Death or Dishonor" } 
						}
						set_autonomy = { target = HUN autonomy_state = autonomy_dominion }
					}
					if = {
						limit = { 
							NOT = { has_dlc = "Together for Victory" }
							NOT = { has_dlc = "Death or Dishonor" }
						}
						puppet = HUN
					}
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt3
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				ROM = { country_event = { id = wtt_germany.72 } }
				effect_tooltip = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = GER_integrate_war_economies }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = GER_integrate_war_economies }
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies
					}
					ROM = {
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = arms_factory
								level = 2
								instant_build = yes
							}
							set_state_flag = GER_integrate_war_economies_1
						}
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = arms_factory
								level = 2
								instant_build = yes
							}
							set_state_flag = GER_integrate_war_economies_2
						}
					}
					if = {
						limit = {
							has_dlc = "Death or Dishonor" 
						}
						set_autonomy = { target = ROM autonomy_state = autonomy_satellite }
					}
					if = {
						limit = { 
							has_dlc = "Together for Victory"
							NOT = { has_dlc = "Death or Dishonor" } 
						}
						set_autonomy = { target = ROM autonomy_state = autonomy_dominion }
					}
					if = {
						limit = { 
							NOT = { has_dlc = "Together for Victory" }
							NOT = { has_dlc = "Death or Dishonor" }
						}
						puppet = ROM
					}
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt4
			}
		}
	}

	focus = {
		id = GER_form_the_reichskommissariats
		icon = GFX_focus_ger_reichskommisariats
		prerequisite = { focus = GER_german_war_economy focus = GER_integrate_war_economies }
		available = {
			has_government = fascism
		}
		x = 1
		y = 1
		relative_position_id = GER_integrate_war_economies
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_reichskommissariats_tt
			unlock_decision_tooltip = GER_reichskommissariat_norwegen
			unlock_decision_tooltip = GER_reichskommissariat_niederlande
			unlock_decision_tooltip = GER_reichskommissariat_belgien_nordfrankreich
			unlock_decision_tooltip = GER_reichskommissariat_ostland
			unlock_decision_tooltip = GER_reichskommissariat_ukraine
		}
	}


	focus = {
		id = GER_air_innovation
		text = air_innovation
		icon = GFX_goal_generic_build_airforce
		x = 16
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
			air_experience = 25
			add_tech_bonus = {
				name = air_sup_bonus
				bonus = 1.0
				uses = 2
				category = battlefield_support_tree
			}
			every_state = {
				limit = { has_state_flag = GER_air_innovation_2air }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_air_innovation_6air }
				add_building_construction = {
					type = air_base
					level = 6
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = ritter_von_greim
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			
			air_experience = 25

			add_tech_bonus = {
				name = air_sup_bonus
				bonus = 1.0
				uses = 2
				category = battlefield_support_tree
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							air_base > 3
							air_base < 9
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 5
						}
					}
					add_building_construction = {
						type = air_base
						level = 6
						instant_build = yes
					}
					set_state_flag = GER_air_innovation_6air
				}				
			}

			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_air_innovation_2air
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_air_innovation_2air
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 2
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_air_innovation_2air
			}
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = ritter_von_greim
		}
	}

	focus = {
		id = GER_tactical_air_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GER_air_innovation }
		mutually_exclusive = { focus = GER_strategic_air_effort }
		x = 1
		y = 2
		relative_position_id = GER_air_innovation
		cost = 10
		ai_will_do = {
			factor = 0.25
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = op_dest_bonus
				bonus = 1.0
				uses = 2
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				category = cas_bomber			
			}
		}
	}

	focus = {
		id = GER_long_range_escorts
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = GER_tactical_air_effort focus = GER_strategic_air_effort }
		x = -1
		y = 1
		relative_position_id = GER_tactical_air_effort
		cost = 10
		ai_will_do = {
			factor = 0.1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = GER_long_range_escorts
				bonus = 1.0
				uses = 2
				category = cat_heavy_fighter
			}
		}
	}
	

	focus = {
		id = GER_naval_air_effort
		text = naval_air_effort
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GER_tactical_air_effort }
		x = 0
		y = 2
		relative_position_id = GER_tactical_air_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1.0
				uses = 2
				category = naval_bomber
			}
		}
	}

	focus = {
		id = GER_strategic_air_effort
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GER_air_innovation }
		mutually_exclusive = { focus = GER_tactical_air_effort }
		x = -1
		y = 2
		relative_position_id = GER_air_innovation
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			# Balance research bonus for 2 techs in battlefield_support_tree
			add_tech_bonus = {
				name = strat_dest_bonus
				bonus = 1.0
				uses = 2
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
			}
		}
	}

	focus = {
		id = GER_army_innovation
		icon = GFX_goal_generic_axis_build_infantry
		x = 19
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			# Balance research bonus for 2 techs under land_doctrine
			
			army_experience = 10

			
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = walther_von_brauchitsch			
		}
	}
	
	focus = {
		id = GER_soviet_treaty
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_army_innovation }
		available = {
			NOT = { has_completed_focus = GER_anti_soviet_pact }
			OR = {
				NOT = { has_completed_focus = GER_bulwark_against_bolshevism }
				NOT = { has_completed_focus = GER_the_great_red_menace }
			}
		}
		#cancel = { 
		#	OR = {
		#		has_war_with = SOV
		#		NOT = { country_exists = SOV }
		#	} 
		#}
		bypass = { 
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
				has_completed_focus = GER_bulwark_against_bolshevism
				has_completed_focus = GER_the_great_red_menace
			}
		}

		x = 0
		y = 2
		relative_position_id = GER_army_innovation
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			SOV = {
				country_event = { id = germany.75 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			# Actual reward effects added in event if Soviets approve
			effect_tooltip = {
				# Trade influence with the USSR? Or simply let the opinion mod do the work
				give_SOV_armor_research_bonuses = yes
			}
		}
	}

	focus = {
		id = GER_air_innovation_2
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = GER_strategic_air_effort focus = GER_tactical_air_effort focus = GER_soviet_treaty }
		x = 0
		y = 2
		relative_position_id = GER_strategic_air_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = { 
			air_experience = 50

			add_ideas = GER_air_innovations_2_idea
			# Balance research bonus to next tech among radio, radio_detection, decimetric_radar, improved_decimetric_radar, centimetric_radar, improved_centimetric_radar, advanced_centimetric_radar
			add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
			if = {
				limit = {
					has_opinion_modifier = sov_ger_treaty
					NOT = { has_war_with = SOV }
				}
				SOV = {
					country_event = { id = germany.78 days = 1 }
				}
			}
		}
	}

	focus = {
		id = GER_army_innovation_2
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = GER_soviet_treaty }
		x = 0
		y = 2
		relative_position_id = GER_soviet_treaty
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			# Balance research bonus to 2 techs in land_doctrine
			army_experience = 20
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				name = mech_army_bonus
				technology = basic_medium_tank
				technology = improved_medium_tank
				technology = advanced_medium_tank
				technology = mechanised_infantry
			}	
			# REVISIT Might want to add bonuses to Soviet through event, since focus branches from treaty
		}
	}

	focus = {
		id = GER_rocketry_focus
		icon = GFX_focus_rocketry
		prerequisite = { focus = GER_extra_tech_slot }
		prerequisite = { focus = GER_air_innovation_2 }
		x = 2
		y = 1
		relative_position_id = GER_extra_tech_slot
		cost = 10
		ai_will_do = {
			factor = 1
		}	

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = GER_rocketry_idea
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1.0
				uses = 2
				category = rocketry
			}
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1.0
				uses = 2
				category = jet_technology
			}
		}
	}

	focus = {
		id = GER_wunderwaffe
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_rocketry_focus }
		x = 0
		y = 1
		relative_position_id = GER_rocketry_focus
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 1
				category = nuclear
				category = rocketry
			}
		}
	}
	
	focus = { #should already be signed in 39
		id = GER_mol_rib_pact
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = GER_soviet_treaty }
		mutually_exclusive = { focus = GER_anti_soviet_pact }
		available = {
			is_puppet = no
			has_government = fascism
			has_army_manpower = { size > 849999 } #ca 90 div
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
			}
			NOT = { has_completed_focus = GER_bulwark_against_bolshevism }
			NOT = { has_completed_focus = GER_the_great_red_menace }
		}
		cancel = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		cancel_if_invalid = no
		x = 1
		y = 3
		relative_position_id = GER_soviet_treaty
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GER_anti_comitern_pact }
			}
		}	
		completion_reward = {
			
			SOV = {
				country_event = { id = germany.11 days = 1 }
				custom_effect_tooltip = GER_mol_rib_pact_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}
	
	focus = {
		id = GER_soviet_ally
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GER_mol_rib_pact }
		mutually_exclusive = { focus = GER_ussr_war_goal }
		available = {
			is_puppet = no
			has_government = fascism
			has_war = no
			SOV = {
				has_war = no
				NOT = { has_war_with = GER }
				is_puppet = no
			}
		}
		bypass = {
			SOV = {
				is_in_faction_with = GER
			}
		}
		x = 1
		y = 1
		relative_position_id = GER_mol_rib_pact
		cost = 10
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 0
				NOT = { is_in_faction_with = POL }
				country_exists = POL
			}			
			modifier = {
				factor = 0
				OR = {
					has_war_with = POL
					has_war_with = FRA
				}
			}				
		}	
		completion_reward = {
			if = {
				limit = { is_faction_leader = yes }
				custom_effect_tooltip = ger_sov_buddies_tooltip_2
			}
			custom_effect_tooltip = ger_sov_buddies_tooltip
			add_ideas = soviet_german_friendship
			SOV = {
				add_opinion_modifier = { target = GER modifier = ger_sov_alliance_focus }
				add_ideas = soviet_german_friendship
				country_event = germany.89
			}
		}
	}
	
	focus = {
		id = GER_turkey_puppet
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_soviet_ally }
		available = {
			is_puppet = no
			has_government = fascism
			OR = {
				GRE = {
					is_in_faction_with = GER
					all_owned_state = {
						controller = { is_in_faction_with = GER }
					}
				}
			}
			NOT = { has_war_with = SOV }
			country_exists = TUR
		}
		x = 0
		y = 2
		relative_position_id = GER_soviet_ally
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			TUR = { country_event = { id = germany.79 days = 1 } }
		}
	}

	focus = {
		id = GER_rhineland
		icon = GFX_goal_generic_military_sphere
		mutually_exclusive = { focus = GER_oppose_hitler }
		x = 25
		y = 0
		cost = 10
		available = {
			is_puppet = no
		}
		bypass = {
			42 = { is_demilitarized_zone = no }
			51 = { is_demilitarized_zone = no }
		}
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL }	
		completion_reward = {
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			custom_effect_tooltip = GER_rhineland_ultimatum
			add_political_power = 120
			army_experience = 5
			add_named_threat = { threat = 5 name = GER_rhineland }
			if = {
				limit = { FRA = { is_puppet = no } }
				FRA = {
					country_event = { id = germany.60 }
					custom_effect_tooltip = may_provoke_hostility
				}
			}
		}		
	}

	focus = {
		id = GER_japan_friend
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_rhineland }
		mutually_exclusive = { focus = GER_china_friend }
		available = {
			AND = {
				country_exists = JAP
				JAP = { is_puppet = no }
				NOT = { has_war_with = JAP }
				JAP = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = GER_rhineland
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				is_in_faction_with = JAP
				factor = 0 #GER-sempai has already noticed you!
			}
		}	
		completion_reward = {
			JAP = {
				add_opinion_modifier = { target = GER modifier = ger_jap_diplomacy_focus }
			}
			event_target:WTT_current_china_leader = {
				add_opinion_modifier = { target = GER modifier = withdrew_advisors }
				country_event = { id = china.3 hours = 6 }
			}
			custom_effect_tooltip = GER_japan_friend_tt
			set_global_flag = falkenhausen_recalled
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				create_corps_commander = {
					name = "Alexander von Falkenhausen"
					gfx = GFX_portrait_chi_alexander_von_falkenhausen
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
					id = 603
					traits = { infantry_officer }
				}
			}
		}
	}

	focus = {
		id = GER_china_friend
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_rhineland }
		mutually_exclusive = { focus = GER_japan_friend }
		available = {
			AND = {
				country_exists = CHI
				CHI = { is_puppet = no }
				NOT = { has_war_with = CHI }
				CHI = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = GER_rhineland
		cost = 10
		ai_will_do = {
			factor = 0.5
			modifier = {
				is_in_faction_with = JAP
				factor = 0
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			event_target:WTT_current_china_leader = {
				add_offsite_building = { type = arms_factory level = 2 }
				add_opinion_modifier = { target = GER modifier = ger_chi_diplomacy_focus }
				set_country_flag = GER_befriended_by_germany_flag
			}
			JAP = {
				add_opinion_modifier = { target = GER modifier = supported_the_chinese }
			}
		}
	}

	focus = {
		id = GER_anti_comitern_pact
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_rhineland  }
		x = -3
		y = 2
		relative_position_id = GER_rhineland
		cost = 10
		available = {
			is_puppet = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOV }
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			SOV = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comitern_pact }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOV }
					is_subject = no
					OR = {
						capital_scope = {
								is_on_continent = europe
						}
						capital_scope = {
								is_on_continent = asia
						}
						num_of_factories > 30
					}
					OR = {
						has_government = fascism 
						AND = {
							is_neighbor_of = SOV
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}

	focus = {
		id = GER_anti_soviet_pact
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_anti_comitern_pact }
		mutually_exclusive = { focus = GER_mol_rib_pact }
		available = {
			is_puppet = no
			has_army_manpower = { size > 849999 } #ca 90 div
		}
		x = 0
		y = 3
		relative_position_id = GER_anti_comitern_pact
		cost = 10
		ai_will_do = {
			factor = 2.5	
		}
		completion_reward = {
			hidden_effect = {
				SOV = { remove_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			}
			SOV = { add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us } }
			custom_effect_tooltip = GER_anti_soviet_pact_tt_3
			custom_effect_tooltip = GER_anti_soviet_pact_tt
			custom_effect_tooltip = GER_anti_soviet_pact_tt_2
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_comintern_pact_opinion
					OR = {
						NOT = { is_in_faction = yes }
						is_in_faction_with = GER
					}
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
				}
				country_event = germany.83
			}
			hidden_effect = {
				news_event = { hours = 12 id = news.215 }
			}
		}
	}

	focus = {
		id = GER_ussr_war_goal
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = GER_anti_comitern_pact }
		mutually_exclusive = { focus = GER_soviet_ally }
		will_lead_to_war_with = SOV

		cancel = {
			NOT = { country_exists = SOV }
		}
		x = 1
		y = 4
		relative_position_id = GER_anti_comitern_pact
		cost = 10
		historical_ai = {
			NOT = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT					
				}		
			}
		}
		bypass = {
			has_war_with = SOV
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_army_manpower = { size < 1199999 }
					any_home_area_neighbor_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0 #AI should not pick this focus if it does not share a border with the Soviets
				NOT = { 
					any_home_area_neighbor_country = {
						tag = SOV
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1939.1.1
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = GER_turkey_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_ussr_war_goal }
		prerequisite = { focus = GER_italy_ally }


		available = { 
			is_puppet = no 
			NOT = { has_war_with = TUR }
			TUR = {
				exists = yes
				is_puppet = no
			}

			TUR = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}

		#bypass = {
		#	OR = {
		#		TUR = { is_in_faction_with = GER }
		#		NOT = { country_exists = TUR }
		#	}
		#}
		x = 0
		y = 2
		relative_position_id = GER_ussr_war_goal
		cost = 10
		ai_will_do = {
			factor = 1
		}	

		available_if_capitulated = no
		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = GER modifier = ger_tur_diplomacy_focus }
				if = {
					limit = {
						TUR = {
							is_ai = yes
							NOT = {
								is_in_faction = yes
							}
							NOT = {
								is_puppet = yes
							}
							has_government = ROOT
						}
						GER = { is_faction_leader = yes }
					}
					TUR = {
						country_event = generic.5
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"
						value = 200
					}
				}
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = GER_anschluss
		icon = GFX_goal_anschluss
		prerequisite = { focus = GER_rhineland }
		available = {
			is_puppet = no
			has_army_manpower = { size > 499999 }
			NOT = { has_idea = rhineland_challenge_met }
		}
		cancel = {
			OR = {
				is_subject = yes
				has_idea = rhineland_challenge_met
				has_war_with = AUS
			}
		}
		cancel_if_invalid = no
		x = 3
		y = 2
		relative_position_id = GER_rhineland
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.1.1
			}
		}

		bypass = {
			OR = {
				AUS = {
					OR = {
						is_subject = yes
						exists = no 
						AND = {
							is_in_faction = yes
							NOT = { is_in_faction_with = GER }
						}
					}
				}
				GER = {
					owns_state = 4
					owns_state = 152
					owns_state = 153
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					country_exists = AUS
					AUS = {
						has_civil_war = no
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}

				AUS = {
					country_event = germany.28
				}				
				custom_effect_tooltip = anschluss_mefo_bills_tt
			}
			if = {
				limit = {
					any_other_country = {
						original_tag = AUS
						has_civil_war = yes
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}
				custom_effect_tooltip = germany.126.warning
				random_other_country = {
					limit = {
						original_tag = AUS
						OR = {
							has_government = fascism
							AND = {
								has_government = neutrality
								NOT = {
									any_other_country = {
										original_tag = AUS
										has_government = fascism
									}
								}
							}
							NOT = {
								any_other_country = {
									original_tag = AUS
									OR = {
										has_government = fascism
										has_government = neutrality
									}
								}
							}							
						}
					}
					country_event = { id = germany.126 days = 1 }
				}
			}

			if = {
				limit = {
					4 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 4
			}
			if = {
				limit = {
					152 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 152
			}
			if = {
				limit = {
					153 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 153
			}
		}
	}

	focus = {
		id = GER_demand_memel
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_anschluss }
		available = { is_puppet = no }
		x = 1
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		bypass = {
			188 = { is_owned_by = GER }
			85 = { is_owned_by = GER }
			86 = { is_owned_by = GER }
		}
		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			188 = { add_claim_by = GER }
			85 = { add_claim_by = GER }
			86 = { add_claim_by = GER }
			762 = { add_claim_by = GER }
			add_named_threat = { threat = 3 name = GER_demand_memel_threat }
			if = {
				limit = {
					LIT = { 
						owns_state = 188
						controls_state = 188 
					}
				}
				LIT = {
					country_event = { id = baltic.4 }
				}
			}
		}
	}

	focus = {
		id = GER_danzig_or_war
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = GER_demand_memel }
		mutually_exclusive = { focus = GER_danzig_vs_slovakia }
		will_lead_to_war_with = POL
		available = {
			is_puppet = no
			has_army_manpower = { size > 949999 } #100 div			
			#Make custom trigger tooltip here
			85 = {
				owner = {
					original_tag = POL
				}
				controller = {
					original_tag = POL
				}
			}
			OR = {
				POL = {
					has_civil_war = no
				}
				#custom_trigger_tooltip = {
					#tooltip = GER_danzig_trigger_polish_civil_war
					AND = {
						any_other_country = {
							original_tag = POL
							has_civil_war = yes
							OR = {
								is_in_faction_with = ROOT
								has_volunteers_amount_from = {
									tag = GER
									count > 0
								}
							}
						}
					}
				#}
			}
		}

		bypass = {
			OR = {
				has_war_with = POL
				is_in_faction_with = POL
				NOT = {
					85 = {
						controller = {
							original_tag = POL 
						}
						owner = {
							original_tag = POL 
						}
					}
				}
			}
		}
		cancel_if_invalid = no
		x = 0
		y = 3
		relative_position_id = GER_demand_memel
		cost = 10
		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
		}	
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_danzig_or_war }
			if = {
				limit = {
					85 = {
						controller = {
							tag = POL
							has_civil_war = no
						}
					}
				}
				effect_tooltip = {
					transfer_state = 85
					add_state_core = 85
					remove_state_claim = 86
					remove_state_claim = 762
				}
				POL = {
					country_event = { id = germany.86 }
					if = {
						limit = { NOT = { is_in_faction_with = ROOT } }
						custom_effect_tooltip = needs_approval
					}
					if = {
						limit = { 
							is_in_faction_with = ROOT 
							ROOT = { is_faction_leader = yes }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_leader
					}
					if = {
						limit = {
							is_in_faction_with = ROOT 
							NOT = { ROOT = { is_faction_leader = yes } }
						}
						custom_effect_tooltip = GER_danzig_or_war_POL_faction_GER_noleader
					}
				}
			}
			if = {
				limit = {
					85 = {
						owner = {
							OR = {
								original_tag = POL
								tag = POL
							}
						}
					}
				}
				random_other_country = {
					limit = {
						original_tag = POL
						has_civil_war = yes
						OR = {
							is_in_faction_with = GER
							has_volunteers_amount_from = {
								tag = GER
								count > 0
							}
						}
					}
					country_event = { id = germany.113 days = 1 }
				}
				custom_effect_tooltip = GER_danzig_or_war_POL_civil_war
			}
		}
	}
	
	focus = {
		id = GER_weserubung
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_denmark_friend }
		will_lead_to_war_with = DEN 
		will_lead_to_war_with = NOR

		bypass = {
			AND = {
				OR = {
					DEN = { 
						is_in_faction_with = GER 
						NOT = { country_exists = DEN }
					}
				}
			}
		}
		
		available = {
			POL = {
				NOT = { controls_state = 85 }
				NOT = { controls_state = 10 }	
			}
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
		}
		
		x = 1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 4
		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {

			if = {
				limit = {
					NOT = { DEN = { is_in_faction_with = GER } }
					country_exists = DEN					
				} 
				create_wargoal = {
					type = take_state_focus
					target = DEN
					expire = 0
					generator = { 37 }
				}
			}


			if = {
				limit = {
					NOT = { NOR = { is_in_faction_with = GER } }
					country_exists = NOR					
				} 
				create_wargoal = {
					type = take_state_focus
					target = NOR
					expire = 0
					generator = { 110 }
				}
			}
			
			add_tech_bonus = {
				name = tp_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = tp_tech
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
			}	
		}
	}
	
	focus = {
		id = GER_around_maginot
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = GER_danzig_or_war focus = GER_poland_friend}
		
		available = {
			OR = {
				NOT = { HOL = { is_in_faction_with = GER } }
				NOT = { BEL = { is_in_faction_with = GER } }
				NOT = { LUX = { is_in_faction_with = GER } }
			}
		}

		bypass = {
			HOL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			BEL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			LUX = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
		}
		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL
		will_lead_to_war_with = LUX
		will_lead_to_war_with = FRA
		x = -1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 4
		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}			
			modifier = {
				factor = 0.2
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
		}	
		completion_reward = {
			#limit wargoals to when it makes sense to give them. No faction, war or non exist
			if = { 
				limit = {
					country_exists = BEL
					NOT = { BEL = { is_in_faction_with = GER } }
					NOT = { has_war_with = BEL }
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					expire = 0
					generator = { 6 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					NOT = { HOL = { has_completed_focus = HOL_cave_to_the_germans } }
				}
				create_wargoal = {
					type = take_state_focus
					target = HOL
					expire = 0
					generator = { 7 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					HOL = { has_completed_focus = HOL_cave_to_the_germans } 
					NOT = { HOL = { has_completed_focus = HOL_the_netherlands_first } }
				}
				HOL = {
					country_event = { id = mtg_germany.1 hours = 6 }
				}
			}
			if = {
				limit = {
					country_exists = LUX
					NOT = { LUX = { is_in_faction_with = GER } }
					NOT = { has_war_with = LUX }
				}
				create_wargoal = {
					type = take_state_focus
					target = LUX
					expire = 0
					generator = { 8 }
				}			
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.234 }
			}
		}
	}
	
	focus = {
		id = GER_czech_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_anschluss }
		mutually_exclusive = { focus = GER_demand_sudetenland }
		available = { 
			has_army_manpower = { size > 749999 }
			NOT = { has_war_with = CZE }
			CZE = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
				exists = yes
			}
		}
		bypass = {
			CZE = { is_in_faction_with = GER }
		}
		cancel = {
			OR = {
				NOT = { country_exists = CZE }
				has_war_with = CZE
			}
		}
		cancel_if_invalid = no
		x = -3
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				CZE = {
					has_opinion = {
						target = GER
						value < 0
					}
				}
			}
			modifier = {
				factor = 5
				CZE = {
					has_opinion = {
						target = GER
						value > 20
					}
				}
			}
			modifier = {
				factor = 4
				CZE = {
					has_completed_focus = CZE_german_leanings
				}
			}
			modifier = {
				factor = 4
				CZE = {
					has_completed_focus = CZE_deliver_sudetenland
				}
			}
			modifier = {
				factor = 2
				CZE = {
					has_completed_focus = CZE_go_right
				}
			}
		}		
		completion_reward = {
			CZE = {
				add_opinion_modifier = { target = GER modifier = ger_cze_diplomatic_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.200 }
			}
		}
	}
	
	focus = {
		id = GER_demand_sudetenland
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = GER_anschluss }
		mutually_exclusive = { focus = GER_czech_friend }
		will_lead_to_war_with = CZE
		will_lead_to_war_with = FRA
		available = {
			is_puppet = no
			has_army_manpower = { size > 724999 } #80 div		
			NOT = {
				AND = {
					CZE = { is_in_faction_with = GER }
					has_war = yes
				}
			}
		}
		bypass = {
			OR = {
				CZE = { is_puppet_of = GER }
				69 = { 
					CONTROLLER = {
						has_war_with = GER
					}
				}
				GER = { controls_state = 69 }
			}
		}
		cancel = {
			is_puppet = yes
		}
		cancel_if_invalid = yes
		x = -1
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if =  {
				limit = {
					OR = {
						ENG = { exists = no }
						ENG = {
							is_subject = yes
						}
						ENG = { has_completed_focus = ENG_a_change_in_course }
						has_war_with = ENG
						has_war_with = FRA
						AND = {
							CZE = { is_subject = yes }
							OR = {
								CZE = { 
									NOT = {
										is_puppet_of = HUN
									}
								}
								NOT = { has_dlc = "Death or Dishonor" }
							}
						}
						CZE = { has_war_with = ENG }
						CZE = { has_war_with = FRA }
						CZE = { is_in_faction_with = GER }
					}
					CZE = { controls_state = 69 }
				}
				if = {
					limit = {
						CZE = { is_subject = no }
					}
					CZE = {
						country_event = { id = germany.122 }
					}
					else = {
						CZE = {
							OVERLORD = { country_event = { id = germany.122 } }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					CZE = { NOT = { is_in_faction_with = GER } } #in case AH is in faction with GER and dragged a subject CZE along.
					OR = {
						69 = { is_owned_by = HUN } #AH restored
						AND = {
							CZE = { is_subject_of = HUN }
							69 = { is_owned_by = CZE }
						}
					}
				}
				HUN = {
					country_event = germany.122
				}
			}
			if = {
				limit = {
					ENG = { exists = yes }
					ENG = { is_subject = no }
					NOT = { ENG = { has_completed_focus = ENG_a_change_in_course } }
					NOT = { has_war_with = ENG }
					NOT = { has_war_with = FRA }
					CZE = { is_subject = no }
					NOT = {
						AND = {
							CZE = { is_in_faction_with = HOL }
							HOL = { is_faction_leader = yes }
							HOL = { has_completed_focus = HOL_foundations_for_a_european_union }
						}
					}
					CZE = { NOT = { is_in_faction_with = GER } }
					CZE = { NOT = { has_war_with = ENG } }
					CZE = { controls_state = 69 }
					OR = {
						HUN = {
							NOT = {
								has_completed_focus = HUN_protect_czechoslovakia #DOD only
							}
						}
						CZE = {
							has_country_flag = HUN_AH_CZE_refused
						}
					}
				}
				ENG = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			if = {
				limit = {
					HOL = { exists = yes }
					HOL = { is_subject = no }
					HOL = { has_completed_focus = HOL_foundations_for_a_european_union }
					HOL = { is_faction_leader = yes }
					NOT = { has_war_with = HOL }
					NOT = { has_war_with = FRA }
					CZE = { is_subject = no }
					CZE = { is_in_faction_with = HOL }
					CZE = { controls_state = 69 }
					OR = {
						HUN = {
							NOT = {
								has_completed_focus = HUN_protect_czechoslovakia #DOD only
							}
						}
						CZE = {
							has_country_flag = HUN_AH_CZE_refused
						}
					}
				}
				HOL = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			69 = {
				add_claim_by = GER
			}
			if = {
				limit = {
					NOT = { CZE = { controls_state = 69 } }
					NOT = {
						69 = { is_controlled_by = HUN }
						HUN = { has_completed_focus = HUN_protect_czechoslovakia }
					}
					69 = {
						controller = {
							NOT = { is_in_faction_with = GER }
						}
					}
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
				69 = {
					controller = {
						GER = {
							create_wargoal = {
								type = take_state_focus
								target = PREV
								expire = 0
								generator = { 69 }
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_first_vienna_award
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_demand_sudetenland }
		bypass = {
			OR = {
				AND = {
					NOT = { CZE = { controls_state = 664 } }
					NOT = { owns_state = 664 }
				}
				HUN = { is_friend_or_potential_friend_of_GER = no }
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
			}
		}
		available = {
			is_puppet = no
			owns_state = 69
		}
		x = 0
		y = 1
		relative_position_id = GER_demand_sudetenland
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			HUN = {
				country_event = { id = germany.51 }
				add_opinion_modifier = { target = GER modifier = GER_first_vienna_award_GER }
			}
			every_other_country = {
				limit = {
					is_faction_leader = yes
				}
				reverse_add_opinion_modifier = { target = HUN modifier = GER_first_vienna_award_other }
			}
		}
	}

	focus = {
		id = GER_end_of_czechoslovakia
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = GER_first_vienna_award }
		available = { 
			is_puppet = no
			has_army_manpower = { size > 749999 }
			NOT = { has_war_with = CZE }
		}

		bypass = {
			OR = {
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
				has_war_with = CZE
				NOT = { country_exists = CZE }
				any_other_country = {
					is_in_faction_with = GER
					CZE = {
						is_puppet_of = PREV
					}
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = GER_first_vienna_award
		cost = 10
		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = { 
					country_exists = CZE 
					CZE = {
						NOT = {
							is_subject_of = HUN
						}
					}
				}
				set_global_flag = end_of_czechoslovakia
				CZE = { country_event = germany.53 }
			}
			if = {
				limit = { 
					OR = {
						CZE = {
							is_subject_of = HUN
						}
						HUN = {
							owns_state = 9#Prague - AH annexed CZE
						}
					}
				}
				add_state_claim = 9
				add_state_claim = 75
			}
			if = {
				limit = { NOT = { country_exists = CZE } }
				country_event = { id = germany.55 hours = 6 }
			}
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }
			custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		}
	}

	focus = {
		id = GER_second_vienna_award
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = GER_czech_friend focus = GER_end_of_czechoslovakia }
		x = 0
		y = 3
		relative_position_id = GER_czech_friend
		cost = 10
		ai_will_do = {
			factor = 10
		}
		available = {
			is_puppet = no
			has_army_manpower = { size > 749999 }
			has_capitulated = no
		}
		bypass = {
			OR = {
				AND = {
					OR = {
						HUN = {
							NOT = { has_government = fascism }
							is_friend_or_potential_friend_of_GER = no
						}
						ROM = {
							OR = {
								AND = {
									NOT = { controls_state = 76 }
									NOT = { controls_state = 83 }
									NOT = { controls_state = 84 }
								}
								has_war_with = HUN
								AND = {
									is_in_faction_with = GER
									HUN = { NOT = { is_in_faction_with = GER } }#GER should not want to give territory to Hungary if Romania joined the axis early.
								}
							}
						}
					}
					OR = {
						BUL = { is_friend_or_potential_friend_of_GER = no }
						ROM = {
							OR = {
								NOT = { controls_state = 77 }
								has_war_with = BUL					
							}
						}					
					}
				}
				HUN = { exists = no } 
				ROM = { exists = no	}
				HUN = { has_capitulated = yes }
				ROM = { has_capitulated = yes }
				HUN = { is_subject_of = ROM } #just rude
			}
		}
		completion_reward = {
			if = {
				limit = {
					HUN = {
						is_friend_or_potential_friend_of_GER = yes
					}
					ROM = {
						controls_state = 76
						NOT = { has_war_with = HUN }
					}
				}
				country_event = { id = germany.20 }
			}
		}
	}

	focus = {
		id = GER_italy_ally
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_second_vienna_award }
		available = {
			NOT = { has_war_with = ITA }
			NOT = { has_country_flag = ENG_ditched_the_italians_flag }
		}

		bypass = {
			
			OR = {
				is_in_faction_with = ITA
				has_war_with = ITA
				NOT = { country_exists = ITA }
			}
		}

		x = 0
		y = 1
		relative_position_id = GER_second_vienna_award
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			ITA = {
				add_opinion_modifier = { target = GER modifier = ger_ita_alliance_focus }
			}
		}
	}
	
	focus = {
		id = GER_nationalist_spain_ally
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_italy_ally }
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPR = { has_civil_war = no }
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = GER }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					has_civil_war = no
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = GER }
					NOT = { has_completed_focus = SPA_join_the_allies }
				}
			}
			FRA = {
				OR = {
					exists = no
					has_capitulated = yes
					has_government = fascism
				}
			}
		}
		
		#bypass = {
		#	any_other_country = {
		#		original_tag = SPR
		#		has_government = fascism
		#		is_in_faction_with = GER
		#	}
		#}
		x = 0
		y = 1
		relative_position_id = GER_italy_ally
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					date < 1942.01.01
					surrender_progress > 0
					AND = {
						has_war_with = ENG
						ENG = { surrender_progress < 0.2 }
					}
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					OR = { 
						AND = {
							NOT = { has_dlc = "La Resistance" }
							NOT = { country_exists = SPR }
							SPR = { NOT = { has_government = fascism } }
						}
						AND = {
							has_dlc = "La Resistance"
							NOT = { country_exists = SPA }
						}
					}
				}
				custom_effect_tooltip = GER_nationalist_spain_ally_tt
			}
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					remove_ideas = SPA_recovering_from_civil_war
					add_opinion_modifier = { target = GER modifier = ger_spa_alliance_focus }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					remove_ideas = SPA_recovering_from_civil_war
					add_opinion_modifier = { target = GER modifier = ger_spa_alliance_focus }
				}
			}
		}
	}



	focus = {
		id = GER_danzig_vs_slovakia
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = GER_end_of_czechoslovakia }
		mutually_exclusive = { focus = GER_danzig_or_war }
		available = {
			is_puppet = no
			OR = {
				SLO = {
					exists = yes
					is_in_faction_with = GER
				}
				owns_state = 70
			}
			NOT = { owns_state = 85 }
			NOT = { has_war_with = POL }
			POL = { owns_state = 72 }
		}


		x = 0
		y = 1
		relative_position_id = GER_end_of_czechoslovakia
		cost = 10
		ai_will_do = {
			factor = 0
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = {
				country_event = { id = germany.80 days = 1 }
			}
		}
	}

	focus = {
		id = GER_poland_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_danzig_vs_slovakia }
		available = {
			NOT = { has_global_flag = sov_yes_pact }
			NOT = { has_war_with = POL }
			POL = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		bypass = {
			is_in_faction_with = POL
			is_alone_or_in_faction_at_peace_with_GER = no
		}
		x = 0
		y = 1
		relative_position_id = GER_danzig_vs_slovakia
		cost = 10
		ai_will_do = {
			factor = 0
		}	
		completion_reward = {
			POL = {
				add_opinion_modifier = { target = GER modifier = ger_pol_diplomacy_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = GER_war_with_france
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = GER_around_maginot focus = GER_weserubung }
		available = {
			is_puppet = no			
			NOT = { is_in_faction_with = FRA }
		}
		x = 1
		y = 1
		relative_position_id = GER_around_maginot
		cost = 10
		bypass = {
			OR = {
				NOT = { country_exists = FRA }
				has_war_with = FRA
			}
		}
		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_neighbor_country = {
					has_war_with = ROOT
				}		
			}
		}
		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}
		}	
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_war_with_france_threat }
 			create_wargoal = {
 				type = take_state_focus
 				target = FRA
 				expire = 0
 				generator = { 28 }
 			}
		}
	}	

	focus = {
		id = GER_operation_tannenbaum
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GER_war_with_france }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = SWI }
		}
		bypass = {
			NOT = { country_exists = SWI }
			has_war_with = SWI
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = SWI
		x = 0
		y = 1
		relative_position_id = GER_war_with_france
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}
		}
	}

	focus = {
		id = GER_reintegrate_luxemburg_and_alsace_lorraine
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_war_with_france }
		available = {
			is_puppet = no
			has_full_control_of_state = 8
			has_full_control_of_state = 28
			OR = {
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = GER }
				NOT = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				owns_state = 28
			}
			OR = {
				LUX = { has_capitulated = yes }
				NOT = {
					any_country = {
						original_tag = LUX
						exists = yes
					}
				}
			}
		}
		bypass = {
		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_war_with_france
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_state_core = 8
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			28 = { set_state_name = "Elsass-Lothringen" }
			set_province_name = { id = 9503 name = "Strassburg" }
			set_province_name = { id = 678 name = "Mulhausen" }
			FRA = {
				country_event = { id = wtt_germany.63 }
			}
			LUX = {
				country_event = { id = wtt_germany.64 }
			}
		}
	}

	
	focus = {
		id = GER_naval_rearmament
		icon = GFX_goal_generic_build_navy
		x = 35
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = naval_effort_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			every_state = {
				limit = {	has_state_flag = GER_naval_rearmament_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = {	has_state_flag = GER_naval_rearmament_1dockyard }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_naval_rearmament_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = GER_naval_rearmament_1dockyard
			}
		}
	}
	
	focus = {
		id = GER_naval_effort
		text = naval_effort
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = GER_naval_rearmament }
		x = 0
		y = 3
		relative_position_id = GER_naval_rearmament
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = GER_naval_effort_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1.0
				uses = 1
				category = cl_tech
				category = ca_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_naval_effort_2dockyards
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1.0
				uses = 1
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = GER_naval_effort2
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = GER_naval_effort }
		x = 0
		y = 1
		relative_position_id = GER_naval_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_naval_effort_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = GER_naval_effort2_2dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_naval_effort2_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = GER_naval_effort2_2dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_naval_effort2_2dockyards
			}
		}
	}

	focus = {
		id = GER_plan_z
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_naval_effort }
		mutually_exclusive = { focus = GER_u_boat_effort focus = GER_rebuild_the_high_seas_fleet focus = GER_accept_british_naval_dominance }
		x = -1
		y = 3
		relative_position_id = GER_naval_effort
		cost = 10
		ai_will_do = {
			factor = 0.25
		}	

		available_if_capitulated = yes

		complete_tooltip = {
			navy_experience = 50
			every_state = {
				limit = { has_state_flag = GER_plan_z_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_tech_bonus = {
				name = cv_bonus
				bonus = 1.0
				uses = 1
				category = cv_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_plan_z_dockyards
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_tech_bonus = {
				name = cv_bonus
				bonus = 1.0
				uses = 1
				category = cv_tech
			}
		}
	}

	focus = {
		id = GER_u_boat_effort
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GER_naval_effort }
		mutually_exclusive = { focus = GER_plan_z focus = GER_rebuild_the_high_seas_fleet focus = GER_accept_british_naval_dominance }
		x = 1
		y = 3
		relative_position_id = GER_naval_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = GER_u_boat_effort_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = GER_u_boat_effort
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_u_boat_effort_2dockyards
			}
			add_tech_bonus = {
				name = GER_u_boat_effort
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }
			}
		}
	}

	focus = {
		id = GER_trade_interdiction
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GER_u_boat_effort }
		x = 0
		y = 1
		relative_position_id = GER_u_boat_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}
			
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ti_bonus
				name = GER_trade_interdiction
				bonus = 1.0
				uses = 2
				category = trade_interdiction_tree
			}
		}
	}

	focus = {
		id = GER_modular_construction
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = GER_trade_interdiction }
		x = 0
		y = 1
		relative_position_id = GER_trade_interdiction
		cost = 10
		ai_will_do = {
			factor = 1
		}
			
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_modular_construction
		}
	}

	focus = {
		id = GER_denmark_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_plan_z }
		mutually_exclusive = { focus = GER_weserubung }

		available = {
			has_government = fascism
			country_exists = DEN
			NOT = {
				has_war_with = DEN
			}
			DEN = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		bypass = {
			OR = {
				is_in_faction_with = DEN
			}
		}
		x = -2
		y = 1
		relative_position_id = GER_plan_z
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			DEN = {
				add_opinion_modifier = { target = GER modifier = ger_naval_intimidation_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.232 }
			}
		}
	}

	focus = {
		id = GER_norway_friend
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_denmark_friend }
		available = {
			has_government = fascism
			NOT = { has_war_with = NOR }
			NOR = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		bypass = {
			OR = {
				is_in_faction_with = NOR
				NOT = { country_exists = NOR }
			}
		}
		x = -1
		y = 1
		relative_position_id = GER_denmark_friend
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }	
		completion_reward = {
			NOR = {
				add_opinion_modifier = { target = GER modifier = ger_naval_intimidation_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			
			add_tech_bonus = {
				name = tp_bonus
				bonus = 1.0
				uses = 2
				technology = transport
				technology = landing_craft
				technology = tank_landing_craft
			}			
		}
	}

	focus = {
		id = GER_dutch_friend
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_denmark_friend }
		available = {
			has_government = fascism
			NOT = { has_war_with = HOL }
			HOL = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		bypass = {
			OR = {
				HOL = { is_in_faction_with = GER }
				NOT = { country_exists = HOL }
			}
		}
		x = 1
		y = 1
		relative_position_id = GER_denmark_friend
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			HOL = {
				add_opinion_modifier = { target = GER modifier = ger_naval_intimidation_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			JAP = {
				add_opinion_modifier = { target = GER modifier = befriended_the_dutch }
			}
		}
	}

	focus = {
		id = GER_sweden_friend
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = GER_norway_friend }
		available = {
			has_government = fascism
			NOT = { has_war_with = SWE }
			SWE = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		bypass = {
			OR = {
				SWE = { is_in_faction_with = GER }
				NOT = { country_exists = SWE }
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_norway_friend
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			SWE = {
				add_opinion_modifier = { target = GER modifier = ger_naval_intimidation_focus }
				if = {
					limit = {
						GER = {
							has_government = fascism
						}
					}
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = communism
						}
					}
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				if = {
					limit = {
						GER = {
							has_government = democratic
						}
					}
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				country_event = { id = generic.1 }
				if = {
					limit = { has_idea = neutrality_idea }
					remove_ideas = neutrality_idea
				}
			}
		}
	}

	focus = {
		id = GER_improve_national_spirit
		prerequisite = { focus = GER_anschluss }
		icon = GFX_goal_support_fascism
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_improve_national_spirit_tooltip
				OR = {
					GER = { controls_state = 126 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 126
					}
				}
				OR = {
					GER = { controls_state = 16 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 16
					}
				}
			}
		}
		cancel = {
			AND = {
				has_war = no
				126 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
				16 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}
		cancel_if_invalid = no
		x = 5
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			remove_ideas = sour_loser
			add_ideas = triumphant_will
		}
	}

	############################################
	############## BALKAN BRANCH ###############
	############################################

	focus = {
		id = GER_demand_slovenia
		prerequisite = { focus = GER_anschluss }
		icon = GFX_goal_generic_political_pressure
		available = {
			is_subject = no
			controls_state = 4
			controls_state = 152
			has_army_manpower = { size > 749999 } #ca 80 div
		}
		bypass = {
			OR = {
				NOT = {
					OR = {
						YUG = { owns_state = 102 }
						102 = { owner = { is_subject_of = YUG } }
					}
				}
				has_war_with = YUG
				is_in_faction_with = YUG
				YUG = { is_subject_of = GER }
				YUG = { has_non_aggression_pact_with = GER }
				YUG = { has_opinion_modifier = tripartite_pact_opinion }
			}
		}
		cancel_if_invalid = yes
		x = 3
		y = 1
		relative_position_id = GER_anschluss
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_named_threat = { threat = 2 name = GER_demand_slovenia_threat }
			YUG = { add_opinion_modifier = { target = GER modifier = GER_demand_slovenia_YUG } }
			if = {
				limit = {
					NOT = { has_war_with = ENG }
					YUG = { 
						is_puppet = no
						NOT = { has_war_with = ENG }
					}
				}
				ENG = {
					country_event = { id = britain.14 }
				}
			}
			if = {
				limit = {
					OR = {
						YUG = { is_puppet = yes }
						YUG = { has_war_with = ENG }
						has_war_with = ENG
					}
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
					expire = 0
				}
			}
		}
	}

	focus = {
		id = GER_first_ljubljana_award
		prerequisite = { focus = GER_demand_slovenia }
		icon = GFX_goal_generic_military_deal
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = YUG }
			NOT = { YUG = { has_non_aggression_pact_with = GER } }
			NOT = { YUG = { has_opinion_modifier = tripartite_pact_opinion } }
			OR = {
				AND = {
					country_exists = YUG
					NOT = { has_war_with = YUG }
					OR = {
						owns_state = 102
						102 = { owner = { is_subject_of = YUG } }
					}
				}
				AND = {
					NOT = { country_exists = YUG }
					OR = {
						owns_state = 102
						102 = { owner = { is_subject_of = YUG } }
					}
					OR = {
						owns_state = 45
						45 = { owner = { is_subject_of = YUG } }
					}
					OR = { #Macedonia
						owns_state = 106
						106 = { owner = { is_subject_of = YUG } }
					}
					OR = { #New Southern Serbia state
						owns_state = 803
						803 = { owner = { is_subject_of = YUG } }
					}
					OR = { #Herzegovina
						owns_state = 803
						804 = { owner = { is_subject_of = YUG } }
					}
					OR = { #Kosovo
						owns_state = 803
						802 = { owner = { is_subject_of = YUG } }
					}
					OR = {
						owns_state = 103
						103 = { owner = { is_subject_of = YUG } }
					}
					OR = {
						owns_state = 105
						105 = { owner = { is_subject_of = YUG } }
					}
				}
			}
			OR = {
				YUG = {
					is_puppet = no
				}
				YUG = {
					is_puppet_of = GER
				}
			}
		}

		bypass = {
			OR = {	
				is_in_faction_with = YUG
				YUG = { has_non_aggression_pact_with = GER }
				YUG = { has_opinion_modifier = tripartite_pact_opinion }
				NOT = { country_exists = YUG }
				NOT = {
					OR = {
						YUG = {
							owns_state = 45
						}
						45 = { owner = { is_subject_of = YUG } }
						
						YUG = {
							owns_state = 106
						}
						106 = { owner = { is_subject_of = YUG } }
					}
				}
				AND = {
					HUN = { is_friend_or_potential_friend_of_GER = no }
					BUL = { is_friend_or_potential_friend_of_GER = no }
					ITA = { is_friend_or_potential_friend_of_GER = no }
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = GER_demand_slovenia
		cost = 10
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			if = {
				limit = {
					HUN = {
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					if = {
						limit = { 
							OR = {
								45 = { is_owned_by = YUG }
								45 = { is_owned_by = GER }
							}
						}
						HUN = {
							country_event = { id = hungary.6 days = 1 }
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							set_country_flag = GER_first_ljubljana_award
						}
					}
				}
				effect_tooltip = {
					if = {
						limit = {
								OR = {
									45 = { is_owned_by = YUG }
									45 = { is_owned_by = GER }
								}
						}
						HUN = {
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							transfer_state = 45
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = HUN modifier = GER_first_ljubljana_award_other }
				}				
			}
			if = {
				limit = {
					BUL = {
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					if = {
						limit = {
							OR = {
								106 = { is_owned_by = YUG }
								106 = { is_owned_by = GER }
								803 = { is_owned_by = YUG }
								803 = { is_owned_by = GER }
							}
						}
						BUL = { 
							country_event = { id = bulgaria.3 days = 1 } 
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							set_country_flag = GER_first_ljubljana_award
						}
					}
				}
				effect_tooltip = {
					if = {
						limit = {
							OR = {
								106 = { is_owned_by = YUG }
								106 = { is_owned_by = GER }
								803 = { is_owned_by = YUG }
								803 = { is_owned_by = GER }
							}
						}
						BUL = {
							add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
							if = {
								limit = {
									106 = { is_owned_by = YUG }
									106 = { is_owned_by = GER }
								}
								transfer_state = 106
							}
							if = {
								limit = {
									803 = { is_owned_by = YUG }
									803 = { is_owned_by = GER }
								}
								transfer_state = 803
							}
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = BUL modifier = GER_first_ljubljana_award_other }
				}				
			}
			if = {
				limit = {
					ITA = {
						OR = {
							has_completed_focus = ITA_slovenia_dalmatia_claims
							owns_state = 44
						}
						is_friend_or_potential_friend_of_GER = yes
						NOT = { is_in_faction_with = YUG }
					}
				}
				hidden_effect = {
					ITA = { country_event = { id = italy.13 days = 1 } 
						add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
					}
					set_country_flag = GER_first_ljubljana_award
				}
				effect_tooltip = {
					ITA = {
						add_opinion_modifier = { target = GER modifier = GER_first_ljubljana_award_GER }
						if = {
							limit = { has_completed_focus = ITA_slovenia_dalmatia_claims }
							transfer_state = 103
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 105
						}
						if = {
							limit = { owns_state = 44 }
							transfer_state = 802
						}
					}
				}
				every_other_country = {
					limit = { 
						is_faction_leader = yes
						NOT = { tag = GER }
					}
					reverse_add_opinion_modifier = { target = ITA modifier = GER_first_ljubljana_award_other }
				}				
			}
			#hidden_effect = {
			#	news_event = { hours = 6 id = news.208 }
			#}
		}
	}

	focus = {
		id = GER_fate_of_yugoslavia
		prerequisite = { focus = GER_first_ljubljana_award }
		icon = GFX_goal_generic_territory_or_war
		available = {
			is_puppet = no
			NOT = { has_war_with = YUG }
			NOT = { is_in_faction_with = YUG }
		}
		bypass = {
			OR = {
				NOT = { country_exists = YUG }
				any_other_country = {
					is_in_faction_with = ROOT
					YUG = {
						is_puppet_of = PREV
					}
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_first_ljubljana_award
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }	
		completion_reward = {
			country_event = { id = germany.98 }
			custom_effect_tooltip = yugoslavia_mefo_bills_tt
		}
	}

	focus = {
		id = GER_second_ljubljana_award
		mutually_exclusive = { focus = GER_war_with_greece } 
		prerequisite = { focus = GER_fate_of_yugoslavia }
		icon = GFX_goal_generic_forceful_treaty
		available = {
			is_puppet = no
			GRE = { 
				has_war = no 
				owns_state = 731
				owns_state = 186
				owns_state = 185
				owns_state = 47 
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_fate_of_yugoslavia
		cost = 10
		ai_will_do = {
			factor = 10
		}

		#bypass = {
		#	OR = {
		#		GRE = {
		#			NOT = { owns_state = 731 }
		#			NOT = { owns_state = 186 }
		#			NOT = { owns_state = 185 }
		#			NOT = { owns_state = 47 }
		#		}
		#		AND = {
		#			OR = {
		#				NOT = { country_exists = ITA }
		#				ITA = { has_war_with = GRE }
		#				NOT = { has_completed_focus = ITA_greece_war_goal }
		#				AND = {
		#					ITA = {
		#						NOT = { is_in_faction_with = GER }
		#						is_in_faction = yes
		#					}
		#				}
		#			}
		#			OR = {
		#				NOT = { country_exists = BUL }
		#				BUL = { has_war_with = GRE }
		#				AND = {
		#					BUL = {
		#						NOT = { is_in_faction_with = GER }
		#						is_in_faction = yes
		#					}
		#				}
		#			}
		#			AND = {
		#				731 = {
		#					OR = {
		#						NOT = { any_neighbor_state = { is_owned_by = GER } }
		#						NOT = { is_owned_by = GRE }
		#					}
		#				}
		#				47 = {
		#					OR = {
		#						NOT = { any_neighbor_state = { is_owned_by = GER } }
		#						NOT = { is_owned_by = GRE }
		#					}
		#				}
		#				185 = {
		#					OR = {
		#						NOT = { any_neighbor_state = { is_owned_by = GER } }
		#						NOT = { is_owned_by = GRE }
		#					}
		#				}
		#			}
		#		}
		#	}
		#}

		completion_reward = {
			add_named_threat = { threat = 2 name = GER_second_ljubljana_award }
			if = {
				limit = {
					GRE = {
						OR = {
							owns_state = 185
							owns_state = 186
							owns_state = 47
						} 
					}
					ITA = {
						NOT = { has_war_with = GRE }
						country_exists = ITA
						has_completed_focus = ITA_greece_war_goal
						OR = {
							is_in_faction_with = GER
							is_in_faction = no							
						}
					}
				}
				set_global_flag = GER_second_ljubljana_award_ITA_event
				country_event = { id = germany.99 }
			}
			if = {
				limit = {
					GRE = { owns_state = 184 }
					BUL = {
						NOT = { has_war_with = GRE }
						country_exists = BUL
						OR = {
							is_in_faction_with = GER
							is_in_faction = no							
						}
					}
				}
				set_global_flag = GER_second_ljubljana_award_BUL_event
				country_event = { id = germany.100 }
			}
			if = {
				limit = {
					any_neighbor_country = {
						tag = GRE
					}
					OR = {
						NOT = { country_exists = ITA }
						AND = {
							ITA = {
								NOT = { is_in_faction_with = GER }
								is_in_faction = yes
							}
						}
					}
					OR = {
						NOT = { country_exists = BUL }
						AND = {
							BUL = {
								NOT = { is_in_faction_with = GER }
								is_in_faction = yes
							}
						}
					}
				}
				set_global_flag = GER_second_ljubljana_award_GER_event
				country_event = { id = germany.101 }
			}
			custom_effect_tooltip = GER_second_ljubljana_award_tt
		}
	}

	focus = {
		id = GER_war_with_greece
		prerequisite = { focus = GER_fate_of_yugoslavia }
		mutually_exclusive = { focus = GER_second_ljubljana_award } 
		icon = GFX_goal_generic_occupy_states_ongoing_war
		will_lead_to_war_with = GRE
		available = {
			GRE = { 
				exists = yes
				has_war = yes
			}
			NOT = { is_in_faction_with = GRE }
		}
		x = 2
		y = 1
		relative_position_id = GER_fate_of_yugoslavia
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			create_wargoal = {
				target = GRE
				type = annex_everything
				expire = 0
			}
		}
	}

	focus = {
		id = GER_fate_of_greece
		prerequisite = { focus = GER_second_ljubljana_award }
		icon = GFX_goal_demand_sudetenland
		available = {
			country_exists = GRE
			NOT = { has_war_with = GRE }
			GRE = {
				is_puppet = no
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_second_ljubljana_award
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			GRE = { country_event = { id = greece.3 hours = 6 } }
		}
	}

	focus = {
		id = GER_oppose_hitler
		icon = GFX_focus_ger_oppose_hitler
		mutually_exclusive = { focus = GER_rhineland }

		allow_branch = {
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_puppet = no
			has_government = fascism
		}
		x = 47
		y = 0
		cost = 10
		ai_will_do = {
			factor = 7
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			custom_effect_tooltip = GER_oppose_hitler_civil_war
			effect_tooltip = {
				GER_remove_mefo_bills = yes
			}
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			add_political_power = 120
			add_named_threat = { threat = 5 name = GER_oppose_hitler }
			country_event = { id = wtt_germany.1 }
		}
	}

	focus = {
		id = GER_secure_the_new_state
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = GER_oppose_hitler }
		available = {
			is_puppet = no
			has_war = no
			NOT = {
				any_country = {
					original_tag = GER
					has_government = fascism
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = GER_oppose_hitler
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			add_political_power = 120
			add_timed_idea = {
				idea = GER_clamp_down_on_fascism
				days = 720
			}
		}
	}

	focus = {
		id = GER_revive_the_kaiserreich
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = GER_secure_the_new_state }
		mutually_exclusive = { focus = GER_reestablish_free_elections }
		bypass = {
			has_country_flag = GER_mackensen_dead
			NOT = { has_government = democratic }
		}
		available = {
			is_puppet = no
		}
		x = -1
		y = 1
		relative_position_id = GER_secure_the_new_state
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = GER_revive_the_kaiserreich
			custom_effect_tooltip = GER_revive_the_kaiserreich_tt
			hidden_effect = { set_cosmetic_tag = GER_german_empire }
			set_party_name = { ideology = neutrality long_name = GER_neutrality_party_kaiserreich_long name = GER_neutrality_party_kaiserreich }
			set_rule = { can_send_volunteers = yes }
			add_named_threat = { threat = 5 name = GER_revive_the_kaiserreich }
		}
	}

	focus = {
		id = GER_rebuild_the_nation
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = GER_revive_the_kaiserreich focus = GER_reestablish_free_elections }
		available = {
		}
		x = 1
		y = 1
		relative_position_id = GER_revive_the_kaiserreich
		cost = 10
		ai_will_do = {
			factor = 9
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = { idea = GER_rebuild_the_nation days = 365 }
			add_ideas = GER_national_revitalization
		}
	}

	focus = {
		id = GER_fan_the_prussian_militarism
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GER_rebuild_the_nation }
		available = {
		}
		x = -1
		y = 1
		relative_position_id = GER_rebuild_the_nation
		cost = 5
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = GER_national_revitalization
						has_idea = GER_national_revitalization3
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_national_revitalization
						add_idea = GER_national_revitalization2
					}
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization
				}
				swap_ideas = {
					remove_idea =GER_national_revitalization
					add_idea = GER_national_revitalization2
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization3
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization3
					add_idea = GER_national_revitalization4
				}
			}
		}
	}

	focus = {
		id = GER_a_new_and_better_germany
		icon = GFX_goal_generic_construction
		prerequisite = { focus = GER_rebuild_the_nation }
		available = {
		}
		x = 1
		y = 1
		relative_position_id = GER_rebuild_the_nation
		cost = 5
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = GER_national_revitalization
						has_idea = GER_national_revitalization2
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_national_revitalization
						add_idea = GER_national_revitalization3
					}
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization
					add_idea = GER_national_revitalization3
				}
			}
			if = {
				limit = {
					has_idea = GER_national_revitalization2
				}
				swap_ideas = {
					remove_idea = GER_national_revitalization2
					add_idea = GER_national_revitalization4
				}
			}
		}
	}

	focus = {
		id = GER_bulwark_against_bolshevism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = GER_fan_the_prussian_militarism }
		prerequisite = { focus = GER_a_new_and_better_germany }
		available = {
			is_puppet = no
		}
		x = 1
		y = 1
		relative_position_id = GER_fan_the_prussian_militarism
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_bulwark_against_bolshevism
			custom_effect_tooltip = GER_bulwark_against_bolshevism_tt
			SOV = { 
				add_opinion_modifier = { target = GER modifier = embargo } 
			}
		}
	}

	focus = {
		id = GER_return_of_the_kaiser
		icon = GFX_focus_ger_return_of_the_kaiser
		prerequisite = { focus = GER_revive_the_kaiserreich }
		available = {
			is_puppet = no
			neutrality > 0.4
			has_country_leader = { ruling_only = yes name = "August von Mackensen" }
		}
		bypass = {
			has_country_flag = GER_mackensen_dead
			NOT = { has_government = democratic }
		}
		x = -2
		y = 1
		relative_position_id = GER_revive_the_kaiserreich
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_return_of_the_kaiser }
			HOL = {
				country_event = { id = wtt_germany.3 }
			}
		}
	}

	focus = {
		id = GER_focus_on_the_true_enemy
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = GER_return_of_the_kaiser }
		prerequisite = { focus = GER_naval_effort }
		mutually_exclusive = { focus = GER_expatriate_the_communists }
		available = {
			is_puppet = no
		}
		x = -6
		y = 1
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_named_threat = { threat = 5 name = GER_focus_on_the_true_enemy }
			swap_ideas = {
				remove_idea = GER_revive_the_kaiserreich
				add_idea = GER_revive_the_kaiserreich2
			}
		}
	}

	focus = {
		id = GER_rebuild_the_high_seas_fleet
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = GER_focus_on_the_true_enemy }
		mutually_exclusive = { focus = GER_plan_z focus = GER_u_boat_effort focus = GER_accept_british_naval_dominance }
		available = {
			is_puppet = no
		}
		x = 0
		y = 2
		relative_position_id = GER_focus_on_the_true_enemy
		cost = 10
		ai_will_do = {
			factor = 1
		}
		complete_tooltip = {
			navy_experience = 50
			every_state = {
				limit = { has_state_flag = GER_rebuild_the_high_seas_fleet_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_ideas = GER_rebuild_the_high_seas_fleet
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_rebuild_the_high_seas_fleet_dockyards
			}
			add_tech_bonus = {
				name = bc_bonus
				bonus = 1.0
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = shbb_tech
			}
			add_ideas = GER_rebuild_the_high_seas_fleet
		}
	}

	focus = {
		id = GER_our_place_in_the_sun
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = GER_rebuild_the_high_seas_fleet }
		available = {
			is_puppet = no
		}
		x = 0
		y = 1
		relative_position_id = GER_rebuild_the_high_seas_fleet
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_our_place_in_the_sun
				}
			}
			add_named_threat = { threat = 5 name = GER_our_place_in_the_sun }
			if = {
				limit = {
					743 = { is_controlled_by = event_target:WTT_current_china_leader }
					NOT = {
						has_war_with = event_target:WTT_current_china_leader
					}
				}
				event_target:WTT_current_china_leader = { country_event = { id = wtt_germany.38 days = 1 } }
			}
			if = {
				limit = {
					743 = { is_controlled_by = JAP }
					NOT = {
						has_war_with = JAP
					}
				}
				JAP = { country_event = { id = wtt_germany.43 days = 1 } }
			}
		}
	}

	focus = {
		id = GER_pride_of_the_modern_germany
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_puppet = no
		}
		x = 0
		y = 1
		relative_position_id = GER_our_place_in_the_sun
		cost = 10
		ai_will_do = {
			factor = 9
		}
		
		complete_tooltip = {
			navy_experience = 50
			every_state = {
				limit = { has_state_flag = GER_rebuild_the_high_seas_fleet_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = GER_pride_of_the_modern_germany
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bc_tech
				category = bb_tech
				category = shbb_tech
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_pride_of_the_modern_germany_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = GER_pride_of_the_modern_germany_dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_pride_of_the_modern_germany_dockyards
			}
			add_tech_bonus = {
				name = GER_pride_of_the_modern_germany
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bc_tech
				category = bb_tech
				category = shbb_tech
			}
		}
	}

	focus = {
		id = GER_prepare_for_the_next_blockade
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_puppet = no
		}
		x = -1
		y = 2
		relative_position_id = GER_our_place_in_the_sun
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			add_ideas = GER_prepare_for_the_next_blockade
		}
	}

	focus = {
		id = GER_break_the_anglo_french_colonial_hegemony
		icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
		prerequisite = { focus = GER_prepare_for_the_next_blockade }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = ENG }
			NOT = { is_in_faction_with = FRA }
			NOT = { ENG = { has_completed_focus = ENG_decolonization } }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = ENG
		will_lead_to_war_with = FRA
		x = 0
		y = 1
		relative_position_id = GER_prepare_for_the_next_blockade
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = ENG
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = FRA
				expire = 0
			}
			if = {
				limit = {
					BEL = {
						OR = {
							owns_state = 768
							owns_state = 769
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					expire = 0
					generator = { 768 769 }
				}
			}
			if = {
				limit = {
					NOT = {
						SAF = {
							is_subject_of = ENG
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = SAF
					expire = 0
					generator = { 541 }
				}
			}
			if = {
				limit = {
					country_exists = NMB
				}
				create_wargoal = {
					type = take_state_focus
					target = NMB
					expire = 0
					generator = { 541 }
				}
			}
			if = {
				limit = {
					country_exists = CMR
				}
				create_wargoal = {
					type = take_state_focus
					target = CMR
					expire = 0
					generator = { 773 }
				}
			}
			if = {
				limit = {
					country_exists = TOG
				}
				create_wargoal = {
					type = take_state_focus
					target = TOG
					expire = 0
					generator = { 777 }
				}
			}
			if = {
				limit = {
					country_exists = TZN
				}
				create_wargoal = {
					type = take_state_focus
					target = TZN
					expire = 0
					generator = { 549 }
				}
			}
			if = {
				limit = {
					country_exists = RWA
				}
				create_wargoal = {
					type = take_state_focus
					target = RWA
					expire = 0
					generator = { 768 }
				}
			}
			if = {
				limit = {
					country_exists = BRD
				}
				create_wargoal = {
					type = take_state_focus
					target = BRD
					expire = 0
					generator = { 769 }
				}
			}
			add_state_claim = 523
			add_state_claim = 773
			add_state_claim = 541
			add_state_claim = 546
			add_state_claim = 737
			add_state_claim = 684
			add_state_claim = 633
			add_state_claim = 646
			add_state_claim = 647
			add_state_claim = 726
			add_state_claim = 777
			add_state_claim = 768
			add_state_claim = 769
		}
	}

	focus = {
		id = GER_schlieffen_once_more # Schlieffen 2.0!
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GER_break_the_anglo_french_colonial_hegemony }
		available = {
			is_puppet = no
			OR = {
				has_war_with = FRA
				AND = {
					has_war_with = ENG
					has_global_flag = flag_franco_british_union
				}
			}
			NOT = { is_in_faction_with = BEL }
			NOT = { is_in_faction_with = LUX }
		}
		bypass = {
			NOT = { country_exists = BEL }
			NOT = { country_exists = LUX }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = BEL
		will_lead_to_war_with = LUX
		x = 0
		y = 1
		relative_position_id = GER_break_the_anglo_french_colonial_hegemony
		cost = 4
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BEL
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = LUX
				expire = 0
			}
		}
	}

	focus = {
		id = GER_crossing_the_atlantic
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GER_break_the_anglo_french_colonial_hegemony focus = GER_plan_z focus = GER_modular_construction }
		available = {
			is_puppet = no
			has_war_with = USA
			OR = {
				AND = {
					has_war_with = SOV
					SOV = { has_capitulated = yes }
				}
				SOV = { exists = no }
				SOV = { is_puppet = yes }
			}
			NOT = {
				any_country = {
					NOT = { tag = ENG }
					has_war_with = GER
					is_in_faction_with = USA
					any_owned_state = { is_on_continent = europe }
					has_capitulated = no
				}
			}
		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_break_the_anglo_french_colonial_hegemony
		cost = 10
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					arms_factory < 1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				custom_effect_tooltip = GER_crossing_the_atlantic_2_factories_tt
				hidden_effect = {
					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_on_continent = europe
							NOT = { is_coastal = yes }
							arms_factory > 1
						}
						remove_building = {
							type = arms_factory
							level = 2
						}
					}
				}
			}
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					AND = {
						arms_factory < 2
						arms_factory > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				remove_building = {
						type = arms_factory
						level = 1
					}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				custom_effect_tooltip = GER_crossing_the_atlantic_1_factory_tt
				hidden_effect = {
					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_on_continent = europe
							NOT = { is_coastal = yes }
							arms_factory > 0
						}
						remove_building = {
							type = arms_factory
							level = 1
						}
					}
				}
			}
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					arms_factory > 1
				}
				remove_building = {
						type = arms_factory
						level = 2
					}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = GER_the_central_powers
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_our_place_in_the_sun }
		available = {
			is_puppet = no
		}
		bypass = {
			is_in_faction = yes
		}
		x = 1
		y = 2
		relative_position_id = GER_our_place_in_the_sun
		cost = 5
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = "GER_central_powers_faction"
			}

			if = {
				limit = {
					ITA = { 
						is_puppet = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}					
				}
				ITA = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					HUN = { 
						is_puppet = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}					
					NOT = { country_exists = AUS }
				}
				HUN = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					AUS = { 
						exists = yes
						is_puppet = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = GER }
					}		
					NOT = { country_exists = HUN }			
				}
				AUS = { country_event = { id = generic.5 } }
			}
			if = {
                limit = {
                    BUL = { 
                        exists = yes
                        is_subject = no
                        is_in_faction = no
                        has_government = neutrality
                        NOT = { has_war_with = GER }
                    }
                }
                BUL = { country_event = { id = generic.5 } }
            }
		}
	}

	focus = {
		id = GER_prepare_italian_coup
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_the_central_powers }
		available = {
			is_puppet = no
			NOT = { has_war_with = ITA }
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_the_central_powers
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ITA = {
				country_event = { id = wtt_germany.8 }
			}
			custom_effect_tooltip = GER_prepare_italian_coup_tt
			effect_tooltip = {
				ITA = {
					add_timed_idea = { idea = GER_preparing_ITA_coup days = 1095 }
				}
			}
		}
	}

	focus = {
		id = GER_assassinate_mussolini
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = GER_prepare_italian_coup }
		available = {
			is_puppet = no
			NOT = { has_war_with = ITA }
			ITA = { has_country_leader = { ruling_only = yes name = "Benito Mussolini" } }
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_prepare_italian_coup
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ITA = {
				country_event = { id = wtt_germany.11 }
			}
			effect_tooltip = {
				ITA = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					add_popularity = { ideology = neutrality popularity = 0.1 }
					effect_tooltip = {
						create_country_leader = {
							name = "Victor Emmanuel III"
							desc = "POLITICS_VICTOR_EMMANUEL_III_DESC"
							picture = "GFX_portrait_italy_victor_emmanuel_iii"
							expire = "1965.1.1"
							ideology = despotism
							traits = {
						
							}
						}
					}
					swap_ideas = {
						remove_idea = GER_preparing_ITA_coup
						add_idea = GER_preparing_ITA_coup2
					}
					GER = {
						add_to_faction = ITA
						country_event = { id = wtt_germany.12 }
					}
				}
			}
		}
	}

	focus = {
		id = GER_rekindle_imperial_sentiment
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = GER_the_central_powers }
		available = {
			is_puppet = no
			NOT = { has_war_with = AUS }
			NOT = { has_war_with = HUN }
			NOT = { has_war_with = CZE }
		}
		bypass = {
			HUN = {
				is_in_faction_with = ROOT
				has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 1
		relative_position_id = GER_the_central_powers
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					AUS = { exists = yes }
				}
				AUS = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					HUN = { exists = yes }
				}
				HUN = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					CZE = { exists = yes }
				}
				CZE = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			custom_effect_tooltip = GER_rekindle_imperial_sentiment_tt
		}
	}

	focus = {
		id = GER_expatriate_the_communists
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_return_of_the_kaiser }
		mutually_exclusive = { focus = GER_focus_on_the_true_enemy }
		available = {
			is_puppet = no
			NOT = { has_war_with = FRA }
		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 0.5
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_timed_idea = {
				idea = GER_expatriate_the_communists
				days = 720
			}
			add_named_threat = { threat = 5 name = GER_expatriate_the_communists }
			FRA = { 
				add_timed_idea = {
					idea = GER_communist_refugees
					days = 720
				}
				country_event = { id = wtt_germany.17 }
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
						AND = {
							has_global_flag = spanish_civil_war
							NOT = { has_global_flag = scw_over }
						}
					}
					SPD = {
						country_event = { id = wtt_germany.2 days = 1 }
					}
				}
			}
		}
	}

	focus = {
		id = GER_accept_british_naval_dominance
		icon = GFX_focus_ger_accept_british_naval_dominance
		prerequisite = { focus = GER_expatriate_the_communists }
		mutually_exclusive = { focus = GER_plan_z focus = GER_u_boat_effort focus = GER_rebuild_the_high_seas_fleet }
		available = {
			is_puppet = no
			NOT = { has_war_with = ENG }
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_expatriate_the_communists
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_accept_british_naval_dominance_opinion
				}
			}
			add_ideas = GER_redirecting_naval_production
		}
	}

	focus = {
		id = GER_ally_the_shade
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GER_accept_british_naval_dominance }
		available = {
			is_puppet = no
			NOT = { has_war_with = ENG }
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_accept_british_naval_dominance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			ENG = {
				country_event = { id = generic.2 }
				add_ai_strategy = {
					type = befriend
					id = "GER"			
					value = 1000
				}
				add_ai_strategy = {
					type = alliance
					id = "GER"			
					value = 200
				}	
			}
		}
	}

	focus = {
		id = GER_carte_blanche_for_alsace_and_french_colonies
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = GER_ally_the_shade }
		will_lead_to_war_with = FRA
		available = {
			is_puppet = no
			FRA = { has_government = communism }
			NOT = { is_in_faction_with = FRA }
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_ally_the_shade
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = FRA
				expire = 0
			}
			add_state_claim = 28
			add_state_claim = 773
			add_state_claim = 777
		}
	}

	focus = {
		id = GER_bypass_maginot_in_the_south
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = GER_carte_blanche_for_alsace_and_french_colonies }
		available = {
			is_puppet = no
			has_war_with = FRA
			NOT = { is_in_faction_with = SWI }
		}
		bypass = {
			NOT = { country_exists = SWI }
		}
		cancel_if_invalid = yes
		will_lead_to_war_with = SWI
		x = 0
		y = 2
		relative_position_id = GER_carte_blanche_for_alsace_and_french_colonies
		cost = 4
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}
		}
	}

	focus = {
		id = GER_reinstate_imperial_possessions
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_schlieffen_once_more focus = GER_bypass_maginot_in_the_south }
		available = {
			is_puppet = no
			has_full_control_of_state = 28
			OR = {
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = GER }
				NOT = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				owns_state = 28
			}
		}
		bypass = {
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_schlieffen_once_more
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			28 = { set_state_name = "Elsass-Lothringen" }
			set_province_name = { id = 9503 name = "Strassburg" }
			set_province_name = { id = 678 name = "Mulhausen" }
			FRA = {
				country_event = { id = wtt_germany.63 }
			}
		}
	}

	focus = {
		id = GER_see_to_the_eastern_front
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_return_of_the_kaiser }
		available = { 
			is_puppet = no
			has_full_control_of_state = 5
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_return_of_the_kaiser
		cost = 10
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			188 = { add_claim_by = GER }
			add_named_threat = { threat = 3 name = GER_demand_memel_threat }
			random_other_country = {
				limit = {
					owns_state = 188
					controls_state = 188 
				}
				country_event = { id = baltic.4 }
			}
			if = {
				limit = {
					has_full_control_of_state = 5
				}
				5 = {
					custom_effect_tooltip = GER_see_to_the_eastern_front_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 9327
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11386
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9372
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 763
				}
				763 = {
					custom_effect_tooltip = GER_see_to_the_eastern_front_tt2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 11265
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 348
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 281
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3384
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_danzig_for_guarantees
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = GER_see_to_the_eastern_front }
		prerequisite = { focus = GER_bulwark_against_bolshevism }
		available = { 
			is_puppet = no
			NOT = { has_war_with = POL }
			NOT = { is_in_faction_with = POL }
		}
		bypass = {
			OR = {
				AND = {
					POL = { has_war = yes }
					NOT = { has_war_with = POL }
				}
				AND = {
					POL = { is_subject = yes }
					NOT = { POL = { is_subject_of = GER } }
				}
				POL = { exists = no }
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 2
		relative_position_id = GER_see_to_the_eastern_front
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = { country_event = { id = wtt_germany.14 } }
		}
	}

	focus = {
		id = GER_safeguard_the_baltic
		icon = GFX_goal_generic_defence
		prerequisite = { focus = GER_see_to_the_eastern_front }
		available = {
			is_puppet = no
			NOT = { has_war_with = EST }
			NOT = { has_war_with = LAT }
			NOT = { has_war_with = LIT }
		}
		bypass = {
			OR = {
				has_guaranteed = EST
				NOT = { country_exists = EST }
				AND = {
					EST = { has_war = yes }
					NOT = { has_war_with = EST }
				}
				AND = {
					EST = { is_subject = yes }
					NOT = { EST = { is_subject_of = GER } }
				}
			}
			OR = {
				has_guaranteed = LAT
				NOT = { country_exists = LAT }
				AND = {
					LAT = { has_war = yes }
					NOT = { has_war_with = LAT }
				}
				AND = {
					LAT = { is_subject = yes }
					NOT = { LAT = { is_subject_of = GER } }
				}
			}
			OR = {
				has_guaranteed = LIT
				NOT = { country_exists = LIT }
				AND = {
					LIT = { has_war = yes }
					NOT = { has_war_with = LIT }
				}
				AND = {
					LIT = { is_subject = yes }
					NOT = { LIT = { is_subject_of = GER } }
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_see_to_the_eastern_front
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			if = {
				limit = { country_exists = EST }
				EST = {	
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = EST
				}
			}
			if = {
				limit = { country_exists = LAT }
				LAT = {
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = LAT
				}
			}
			if = {
				limit = { country_exists = LIT }
				LIT = {
					add_timed_idea = {
						idea = GER_safeguard_the_baltic
						days = 720
					}
					add_ai_strategy = {
						type = befriend
						id = "GER"			
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}
				}

				if = { 
					limit = { NOT = { is_subject_of = ROOT } }
					give_guarantee = LIT
				}
			}
		}
	}

	focus = {
		id = GER_support_the_finns
		icon = GFX_focus_invite_finland
		prerequisite = { focus = GER_safeguard_the_baltic }
		available = {
			is_puppet = no
			NOT = { has_war_with = FIN }
		}
		bypass = {
			OR = {
				AND = {
					FIN = { has_war = yes }
					NOT = { has_war_with = FIN }
				}
				AND = {
					FIN = { is_subject = yes }
					NOT = { FIN = { is_subject_of = GER } }
				}
				FIN = { exists = no }
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_safeguard_the_baltic
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			diplomatic_relation = {
				country = FIN
				relation = guarantee
				active = yes
			}
			add_ai_strategy = {
				type = support
				id = "FIN"			
				value = 200
			}
			FIN = {
				add_ideas = GER_FIN_industrial_support
				add_ai_strategy = {
					type = befriend
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "GER"			
					value = 200
				}
			}
		}
	}

	focus = {
		id = GER_anti_comintern_pact_unaligned
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_support_the_finns }
		prerequisite = { focus = GER_danzig_for_guarantees }
		x = 1
		y = 1
		relative_position_id = GER_support_the_finns
		cost = 10
		available = {
			is_puppet = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOV }
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			SOV = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comintern_pact_unaligned }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOV }
					is_subject = no
					OR = {
						capital_scope = {
								is_on_continent = europe
						}
						AND = {
							capital_scope = {
									is_on_continent = asia
							}
							is_neighbor_of = SOV
						}
						num_of_factories > 30
					}
					OR = {
						has_government = neutrality 
						AND = {
							is_neighbor_of = SOV
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}

	focus = {
		id = GER_anti_soviet_pact_unaligned
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_anti_comintern_pact_unaligned }
		available = {
			is_puppet = no
			has_army_manpower = { size > 849999 } #ca 90 div
		}
		x = 0
		y = 1
		relative_position_id = GER_anti_comintern_pact_unaligned
		cost = 10
		ai_will_do = {
			factor = 2.5	
		}
		completion_reward = {
			hidden_effect = {
				SOV = { remove_opinion_modifier = { target = ROOT modifier = pact_against_us } }
				add_ideas = anti_soviet_pact
			}
			SOV = { add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us } }
			custom_effect_tooltip = GER_anti_soviet_pact_tt_3
			custom_effect_tooltip = GER_anti_soviet_pact_tt
			custom_effect_tooltip = GER_anti_soviet_pact_tt_2
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_comintern_pact_opinion
					is_subject = no
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { has_idea = anti_soviet_pact }
				}
				country_event = germany.83
			}
			hidden_effect = {
				news_event = { id = wtt_news.20 hours = 6 }
			}
		}
	}

	focus = {
		id = GER_tackle_the_communist_threat
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = GER_anti_soviet_pact_unaligned focus = GER_carte_blanche_for_alsace_and_french_colonies }
		available = {
			is_puppet = no
			SOV = {
				has_government = communism
				has_war = yes
			}
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_anti_soviet_pact_unaligned
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { is_in_faction = yes }
				}
				create_faction = "GER_anti_communist_bloc"
			}
			create_wargoal = {
				type = annex_everything
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = GER_the_iberian_problem
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GER_tackle_the_communist_threat }
		available = {
			is_puppet = no
			any_country = {
				original_tag = SPR
				has_government = communism
				NOT = { has_war_with = ROOT }
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_tackle_the_communist_threat
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_spain_wargoal_tt
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = communism
					}
					GER = {
						create_wargoal = {
							type = annex_everything
							target = PREV
							expire = 0
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_reestablish_free_elections
		icon = GFX_goal_support_democracy
		prerequisite = { focus = GER_secure_the_new_state }
		mutually_exclusive = { focus = GER_revive_the_kaiserreich }
		available = {
			is_puppet = no
		}
		cancel_if_invalid = yes
		x = 1
		y = 1
		relative_position_id = GER_secure_the_new_state
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = GER_reestablish_free_elections
				days = 720
			}
			set_party_name = { ideology = neutrality long_name = GER_neutrality_party_kaiserreich_long name = GER_neutrality_party_kaiserreich }
		}
	}

	focus = {
		id = GER_the_monarchy_compromise
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = GER_reestablish_free_elections }
		available = {
			is_puppet = no
			democratic > 0.4
		}
		cancel_if_invalid = yes
		x = 2
		y = 1
		relative_position_id = GER_reestablish_free_elections
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.1 }
			set_politics = { ruling_party = democratic elections_allowed = yes }
			add_ideas = { GER_wilhelm_iii }
			add_stability = 0.05
			hidden_effect = {
				set_cosmetic_tag = GER_german_monarchy
			}
		}
	}

	focus = {
		id = GER_the_great_red_menace
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = GER_the_monarchy_compromise }
		available = {
			is_puppet = no
			has_war = no
			SOV = { has_government = communism }
			has_added_tension_amount < 15
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_the_monarchy_compromise
		cost = 10
		ai_will_do = {
			factor = 8
		}
		
		completion_reward = {
			add_named_threat = { threat = 10 name = GER_the_great_red_menace }
			SOV = { country_event = { id = wtt_germany.19 days = 1 } }
			hidden_effect = { news_event = { id = wtt_news.21 hours = 6 } }
			every_other_country = {
				limit = {
					any_owned_state = { is_on_continent = europe }
					NOT = {
						tag = ENG
						tag = FRA
						tag = SWI
						tag = ITA
						tag = IRE
						tag = TUR
						tag = ALB
						original_tag = SPR
						tag = POR
						tag = GRE
						has_government = communism
						has_government = fascism
					}
				}
				country_event = { id = wtt_germany.24 }
				add_timed_idea = { idea = GER_the_great_red_menace days = 1095 }
				add_ai_strategy = {
					type = befriend
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "ENG"			
					value = -200
				}
			}
			SOV = { 
				add_opinion_modifier = { target = GER modifier = embargo } 
			}
		}
	}

	focus = {
		id = GER_central_european_alliance
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = GER_the_great_red_menace }
		prerequisite = { focus = GER_bulwark_against_bolshevism }
		available = {
			is_puppet = no
			has_war = no
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_the_great_red_menace
		cost = 10
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_central_european_alliance_tt
			effect_tooltip = {
				create_faction = "GER_central_european_alliance"
			}
			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					create_faction = "GER_central_european_alliance"
				}
			}
			every_country = {
				limit = {
					has_idea = GER_the_great_red_menace
					has_idea = neutrality_idea
				}
				remove_ideas = neutrality_idea
			}
			SOV = { country_event = { id = wtt_germany.20 days = 1 } }
			hidden_effect = {
				news_event = { id = wtt_news.22 hours = 6 }
				if = {
					limit = {
						FRA = { has_government = communism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						add_ai_strategy = {
							type = befriend
							id = "FRA"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "FRA"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						SOV = { has_government = communism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
							NOT = { has_completed_focus = SPR_hinder_nkvd_interference }
						}
						add_ai_strategy = {
							type = befriend
							id = "SOV"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "SOV"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						FRA = { has_government = fascism }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = fascism
						}
						add_ai_strategy = {
							type = befriend
							id = "FRA"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "FRA"			
							value = 200
						}
					}
				}
				if = {
					limit = {
						SOV = { has_government = fascism } #futureproofing
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = fascism
						}
						add_ai_strategy = {
							type = befriend
							id = "SOV"			
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = "SOV"			
							value = 200
						}
					}
				}
				# Making England less likely to guarantee European nations.
				ENG = {
					GER_democratic_nations_ai_strategies = yes
				}
			}
		}
	}

	focus = {
		id = GER_danubian_membership
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_puppet = no
			NOT = { has_war_with = AUS }
			NOT = { has_war_with = CZE }
			NOT = { has_war_with = HUN }
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = AUS
					is_in_faction_with = CZE
					is_in_faction_with = HUN
				}
				AND = {
					NOT = { country_exists = AUS }
					NOT = { country_exists = CZE }
					NOT = { country_exists = HUN }
				}
			}
		}
		cancel_if_invalid = yes
		x = -2
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					AUS = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					exists = yes
				}
				AUS = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					CZE = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					exists = yes
				}
				CZE = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					HUN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					exists = yes
				}
				HUN = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_danubian_expansion
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_danubian_membership }
		available = {
			is_puppet = no
			NOT = { has_war_with = YUG }
			NOT = { has_war_with = ROM }
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = YUG
					is_in_faction_with = ROM
				}
				AND = {
					NOT = { country_exists = YUG }
					NOT = { country_exists = ROM }
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_danubian_membership
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					YUG = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
						is_in_faction = no
						exists = yes
					}
				}
				YUG = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					ROM = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					is_in_faction = no
					exists = yes
				}
				ROM = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_no_balkan_communism
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_danubian_expansion }
		available = {
			is_puppet = no
			OR = {
				any_country = { 
					original_tag = HUN
					has_government = communism 
				}
				any_country = { 
					original_tag = ROM
					has_government = communism 
				}
				any_country = { 
					original_tag = YUG
					has_government = communism 
				}
				any_country = { 
					original_tag = BUL
					has_government = communism 
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_danubian_expansion
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_no_balkan_communism_tt
			if = {
				limit = {
					any_country = { 
						original_tag = HUN
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_HUN_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = HUN
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = ROM
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_ROM_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = ROM
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = YUG
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_YUG_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = YUG
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BUL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_balkan_communism_BUL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BUL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_low_countries_membership
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_puppet = no
			NOT = { has_war_with = HOL }
			NOT = { has_war_with = BEL }
			NOT = { has_war_with = LUX }
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = HOL
					is_in_faction_with = BEL
					is_in_faction_with = LUX
				}
				AND = {
					NOT = { country_exists = HOL }
					NOT = { country_exists = BEL }
					NOT = { country_exists = LUX }
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					HOL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				HOL = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					BEL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				BEL = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					LUX = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				LUX = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_no_reds_in_western_europe
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = GER_low_countries_membership }
		available = {
			is_puppet = no
			OR = {
				any_country = { 
					original_tag = FRA
					has_government = communism 
				}
				any_country = { 
					original_tag = HOL
					has_government = communism 
				}
				any_country = { 
					original_tag = BEL
					has_government = communism 
				}
				any_country = { 
					original_tag = LUX
					has_government = communism 
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GER_low_countries_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = GER_no_reds_in_western_europe_tt
			if = {
				limit = {
					any_country = { 
						original_tag = FRA
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_FRA_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = FRA
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = HOL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_HOL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = HOL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BEL
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_BEL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BEL
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = LUX
						has_government = communism 
					}
				}
				custom_effect_tooltip = GER_no_reds_in_western_europe_LUX_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = LUX
							has_government = communism
						}
						GER = {
							create_wargoal = {
								type = topple_government
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_scandinavian_membership
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_puppet = no
			NOT = { has_war_with = NOR }
			NOT = { has_war_with = SWE }
			NOT = { has_war_with = DEN }
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = NOR
					is_in_faction_with = SWE
					is_in_faction_with = DEN
				}
				AND = {
					NOT = { country_exists = NOR }
					NOT = { country_exists = SWE }
					NOT = { country_exists = DEN }
				}
			}
		}
		cancel_if_invalid = yes
		x = 3
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					NOR = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				NOR = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					SWE = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				SWE = {
					country_event = { id = generic.5 }
				}
			}
			if = {
				limit = {
					DEN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				DEN = {
					country_event = { id = generic.5 }
				}
			}
		}
	}

	focus = {
		id = GER_baltic_membership
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_puppet = no
			NOT = { has_war_with = EST }
			NOT = { has_war_with = LAT }
			NOT = { has_war_with = LIT }
			SOV = {
				OR = {
					NOT = { has_war_with = EST }
					NOT = { has_war_with = LAT }
					NOT = { has_war_with = LIT }
				}
			}
		}
		bypass = {
			EST = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
				}
			}
			LAT = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
				}
			}
			LIT = {
				OR = {
					is_in_faction_with = ROOT
					is_in_faction_with = SOV
					exists = no
					has_war_with = SOV
				}
			}
		}
		cancel_if_invalid = yes
		x = -2
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_baltic_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					EST = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				EST = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			if = {
				limit = {
					LAT = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				LAT = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			if = {
				limit = {
					LIT = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				LIT = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.21 } }
			POL = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			FIN = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_polish_membership
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_puppet = no
			NOT = { has_war_with = POL }
			SOV = { NOT = { has_war_with = POL } }
		}
		bypass = {
			OR = {
				is_in_faction_with = POL
				NOT = { country_exists = POL }
				SOV = { 
					OR = {
						is_in_faction_with = POL
						has_war_with = POL
					}
				}
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_polish_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					POL = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				POL = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.22 } }
			EST = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LAT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LIT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			FIN = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_finnish_membership
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_puppet = no
			NOT = { has_war_with = FIN }
			SOV = { NOT = { has_war_with = FIN } }
		}
		bypass = {
			OR = {
				is_in_faction_with = FIN
				NOT = { country_exists = FIN }
				SOV = { 
					OR = { 
						is_in_faction_with = FIN
						has_war_with = FIN
					}
				}
			}
		}
		cancel_if_invalid = yes
		x = 2
		y = 2
		relative_position_id = GER_scandinavian_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_named_threat = { threat = 5 name = GER_finnish_membership }
			custom_effect_tooltip = invite_non_fascist_communist_only_TT
			if = {
				limit = {
					FIN = {
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				FIN = {
					country_event = { id = generic.5 }
					add_ai_strategy = {
						type = alliance
						id = "GER"			
						value = 200
					}	
				}
			}
			SOV = { country_event = { id = wtt_germany.23 } }
			EST = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LAT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			LIT = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
			POL = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"			
					value = -500
				}	
			}
		}
	}

	focus = {
		id = GER_strike_at_the_source
		icon = GFX_focus_ger_strike_at_the_source
		prerequisite = { focus = GER_baltic_membership }
		prerequisite = { focus = GER_polish_membership }
		prerequisite = { focus = GER_finnish_membership }
		available = {
			is_puppet = no
			SOV = {
				has_government = communism
			}
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GER_polish_membership
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV
				expire = 0
			}
			if = {
				limit = {
					FRA = { has_government = communism }
				}
				add_ai_strategy = {
					type = antagonize
					id = "GER"
					value = 200
				}
			}
		}
	}

	focus = {
		id = GER_reverse_the_brain_drain
		icon = GFX_focus_research
		prerequisite = { focus = GER_the_monarchy_compromise }
		available = {
			is_puppet = no
		}
		x = 2
		y = 1
		relative_position_id = GER_the_monarchy_compromise
		cost = 10
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = GER_shared_rd_programs
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = GER_reverse_the_brain_drain }
		prerequisite = { focus = GER_central_european_alliance }
		available = {
			is_puppet = no
		}
		x = 7
		y = 1
		relative_position_id = GER_central_european_alliance
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = ger_dem_research
			every_other_country = {
				limit = { is_in_faction_with = GER }
				add_to_tech_sharing_group = ger_dem_research 
			}
		}
	}

	focus = {
		id = GER_the_mannheim_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_shared_rd_programs }
		prerequisite = { focus = GER_scandinavian_membership }
		available = {
			is_puppet = no
			is_in_faction_with = NOR
		}
		x = -1
		y = 1
		relative_position_id = GER_shared_rd_programs
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = GER_the_mannheim_project_tt
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
				}
				add_tech_bonus = {
					name = GER_the_mannheim_project
					bonus = 1.0
					ahead_reduction = 2
					technology = atomic_research
				}
			}
			if = {
				limit = {
					has_tech = atomic_research
					NOT = { has_tech = nuclear_reactor }
				}
				add_tech_bonus = {
					name = GER_the_mannheim_project
					bonus = 1.0
					ahead_reduction = 2
					technology = nuclear_reactor
				}
			}
			if = {
				limit = {
					has_tech = nuclear_reactor
				}
				55 = {
					add_building_construction = {
						type = nuclear_reactor
						level = 1
						instant_build = yes
					}
				}
				add_tech_bonus = {
					name = GER_the_mannheim_project
					bonus = 1.0
					technology = nukes
				}
			}
		}
	}

	focus = {
		id = GER_pool_technical_know_how
		icon = GFX_goal_generic_production
		prerequisite = { focus = GER_shared_rd_programs }
		available = {
			is_puppet = no
		}
		x = 1
		y = 1
		relative_position_id = GER_shared_rd_programs
		cost = 10
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_pool_technical_know_how
			custom_effect_tooltip = GER_pool_technical_know_how_tt
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = GER }
					add_ideas = GER_pool_technical_know_how
				}
			}
		}
	}
}
focus_tree = {
	id = greek_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GRE
			has_dlc = "Battle for the Bosporus"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }

###  ### #   #  ##   ##  ###   ##  ### ###  ##      ###  #   # ###  ##  #  # ### ### #  # ###     ### ###  ### ### 
#  # #   ## ## #  # #  # #  # #  #  #   #  #  #     #  #  # #    # #  # ## #  #   #  ## # #        #  #  # #   #   
#  # ##  # # # #  # #    ###  ####  #   #  #        ###    #    #  #### # ##  #   #  # ## ##       #  ###  ##  ##  
#  # #   #   # #  # #  # #  # #  #  #   #  #  #     #  #   #   #   #  # #  #  #   #  #  # #        #  #  # #   #   
###  ### #   #  ##   ##  #  # #  #  #  ###  ##      ###    #   ### #  # #  #  #  ### #  # ###      #  #  # ### ### 

	focus = {
		id = GRE_bring_home_the_exiled_republicans
		icon = GFX_focus_generic_support_the_left_right
		mutually_exclusive = { focus = GRE_the_kings_government }
		available = {
			AND = {
				NOT = { has_active_mission = GRE_the_election_of_1936 }
				has_country_flag = GRE_king_arrested
			}
		}
		x = 5
		y = 0
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				OR = { 
					is_historical_focus_on = no
					has_government = democratic
				}
			}
		}

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			add_popularity = {
    			ideology = democratic
    			popularity = 0.05
			}
			add_popularity = {
    			ideology = communism
    			popularity = 0.03
			}
			custom_effect_tooltip = GRE_bring_home_the_exiled_republicans_focus_tt
			ROM = {
				diplomatic_relation = {
					country = GRE
					relation = guarantee
					active = no
				}
			}
			every_other_country = {
				limit = {
					has_opinion_modifier = BFTB_balkan_pact_ally
				}
				remove_opinion_modifier = {
					target = GRE
					modifier = BFTB_balkan_pact_ally
				}
				hidden_effect = {
					ROOT = {
						remove_opinion_modifier = {
							target = PREV
							modifier = BFTB_balkan_pact_ally
						}
					}
				}
			}
			hidden_effect = {
				swap_ideas = {
					remove_idea = GRE_political_instability
					add_idea = GRE_political_instability_republican
				}
				create_corps_commander = {
					name = "Nikolaos Plastiras"
					gfx = "GFX_portrait_gre_nikolaos_plastiras"
					traits = { trait_GRE_venezelist_loyalist war_hero brilliant_strategist cavalry_officer cavalry_leader trickster } #V
					skill = 4 #13
					id = 301
					attack_skill = 4
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Theodoros Pangalos"
					gfx = "GFX_portrait_gre_theodoros_pangalos"
					traits = { trait_GRE_venezelist_loyalist trait_GRE_fascist_sympathizer media_personality harsh_leader commando } #F+V
					skill = 3 #10 
					id = 302
					attack_skill = 4
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 3
				} 
				create_corps_commander = {
					name = "Dimitrios Psarros"
					gfx = "GFX_portrait_gre_dimitrios_psarros"
					traits = { trait_GRE_venezelist_loyalist war_hero trait_reckless trickster commando } #V
					skill = 2 #7
					id = 307
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 2
				}
				create_corps_commander = {
					name = "Napoleon Zervas"
					gfx = "GFX_portrait_gre_napoleon_zervas" #V+F
					traits = { trait_GRE_venezelist_loyalist trait_GRE_fascist_sympathizer harsh_leader trait_reckless commando }
					skill = 3 #10
					id = 309
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
		}
	}

	focus = {
		id = GRE_compromise_with_the_monarchists
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = GRE_bring_home_the_exiled_republicans }
		mutually_exclusive = { focus = GRE_request_communist_support }
		x = -1
		y = 1
		relative_position_id = GRE_bring_home_the_exiled_republicans
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = GRE_compromise_with_the_monarchists_focus_tt
			hidden_effect = { 
				swap_ideas = {
					remove_idea = GRE_george_ii
					add_idea = GRE_george_ii_restrained
				}
				set_variable = { GRE_monarchist_loyalty = 1 }
				set_variable = { GRE_communist_loyalty = -1 }
				GRE_political_instability_update_effect = yes
			}
		}
	}

	focus = {
		id = GRE_remembering_the_anatolian_catastrophe
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = GRE_compromise_with_the_monarchists }
		x = -2
		y = 1
		relative_position_id = GRE_compromise_with_the_monarchists
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_ideas = GRE_martyrs_of_the_anatolian_catastrophe
			custom_effect_tooltip = GRE_old_memories_stir_new_threats_tt
			hidden_effect = { 
				country_event = { id = bftb_greece.3 days = 7 }
				country_event = { id = bftb_greece.90 days = 28 }
			}
		}
	}

	focus = {
		id = GRE_venerate_the_ancient_hellenes
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = GRE_remembering_the_anatolian_catastrophe }
		x = 0
		y = 1
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_ideas = GRE_venerate_the_ancient_hellenes_spirit
			add_political_power = 120
		}
	}

	focus = {
		id = GRE_restoring_our_home
		icon = GFX_goal_generic_positive_trade_relations
		available = {
			NOT = { 
				has_completed_focus = GRE_bolster_the_schachtplan
			}
		}
		prerequisite = { focus = GRE_remembering_the_anatolian_catastrophe }
		x = -2
		y = 1
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = { 
					AND = { 
						NOT = { is_in_faction_with = ITA }
						has_government = fascism
					}
					AND = { 
						NOT = { is_in_faction_with = GER }
						has_government = fascism
					}
					AND = { 
						is_in_faction_with = ENG
						has_country_flag = GRE_megali_idea_approved
					}
					AND = { 
						is_in_faction_with = FRA
						has_country_flag = GRE_megali_idea_approved
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_GRE_DEBT_TO_IFC FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			remove_ideas = GRE_schachtplan
			if = { 
				limit = { 
					ENG = { 
						has_government = democratic
					}
				}
				ENG = { 
					add_opinion_modifier = { target = GRE modifier = democratic_leanings_good }
				}
			}
			if = { 
				limit = { 
					FRA = { 
						has_government = democratic
					}
				}
				FRA = { 
					add_opinion_modifier = { target = GRE modifier = democratic_leanings_good }
				}
			}
			GER = {
				add_opinion_modifier = { target = GRE modifier = GRE_discarded_the_schachtplan } 
			}
			if = { 
				limit = { 
					check_variable = { var = GRE_debt_to_the_ifc_italy_var value = 2.5 compare = greater_than_or_equals } 
				}
				effect_tooltip = { 
					ITA = {
						add_opinion_modifier = { target = GRE modifier = GRE_reneged_on_debt } 
					}
				}
				hidden_effect = { GRE_default_on_italian_debt_effect = yes }
			}
		}
	}	

	focus = {
		id = GRE_the_birthplace_of_democracy
		icon = GFX_goal_support_democracy
		available = { has_government = democratic }
		prerequisite = { focus = GRE_remembering_the_anatolian_catastrophe }
		x = 2
		y = 1
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			add_popularity = { 
				ideology = democratic 
				popularity = 0.05 
			}
			if = { 
				limit = { 
					has_idea = GRE_political_instability_republican
				}
				swap_ideas = {
					remove_idea = GRE_political_instability_republican
					add_idea = GRE_political_instability_republican_2
				}
			}
		}
	}	

	focus = {
		id = GRE_theban_warriors #HELLENES2
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = GRE_venerate_the_ancient_hellenes }
		x = -2
		y = 2
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {	
			if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_spirit
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_spirit
					add_idea = GRE_venerate_the_ancient_hellenes_2
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_3
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_3
					add_idea = GRE_venerate_the_ancient_hellenes_5
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_4
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_4
					add_idea = GRE_venerate_the_ancient_hellenes_6
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_7
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_7
					add_idea = GRE_venerate_the_ancient_hellenes_8
				}
			}
			else = { 
				effect_tooltip = { 
					swap_ideas = {
						remove_idea = GRE_venerate_the_ancient_hellenes_spirit
						add_idea = GRE_venerate_the_ancient_hellenes_2 
					}
				}
			}			
		}
	}

	focus = {
		id = GRE_athenian_thinkers #HELLENES3
		icon = GFX_focus_research
		prerequisite = { focus = GRE_venerate_the_ancient_hellenes }
		x = 0
		y = 2
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_spirit
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_spirit
					add_idea = GRE_venerate_the_ancient_hellenes_3
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_2
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_2
					add_idea = GRE_venerate_the_ancient_hellenes_5
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_4
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_4
					add_idea = GRE_venerate_the_ancient_hellenes_7
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_6
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_6
					add_idea = GRE_venerate_the_ancient_hellenes_8
				}
			}	
			else = { 
				effect_tooltip = { 
					swap_ideas = {
						remove_idea = GRE_venerate_the_ancient_hellenes_spirit
						add_idea = GRE_venerate_the_ancient_hellenes_3
					}
				}
			}		
		}
	}	

	focus = {
		id = GRE_macedonian_generals #HELLENES4
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GRE_venerate_the_ancient_hellenes }
		x = 2
		y = 2
		relative_position_id = GRE_remembering_the_anatolian_catastrophe
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_spirit
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_spirit
					add_idea = GRE_venerate_the_ancient_hellenes_4
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_2
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_2
					add_idea = GRE_venerate_the_ancient_hellenes_6
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_3
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_3
					add_idea = GRE_venerate_the_ancient_hellenes_7
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_venerate_the_ancient_hellenes_5
				}
				swap_ideas = {
					remove_idea = GRE_venerate_the_ancient_hellenes_5
					add_idea = GRE_venerate_the_ancient_hellenes_8
				}
			}
			else = { 
				effect_tooltip = { 
					swap_ideas = {
						remove_idea = GRE_venerate_the_ancient_hellenes_spirit
						add_idea = GRE_venerate_the_ancient_hellenes_4
					}
				}
			}
		}
	}		

	focus = {
		id = GRE_the_anatolian_refugees
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GRE_theban_warriors focus = GRE_athenian_thinkers focus = GRE_macedonian_generals }
		x = 0
		y = 1
		relative_position_id = GRE_athenian_thinkers
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			country_event = { id = bftb_greece.6 }
		}
	}	

	focus = {
		id = GRE_resurrecting_the_megali_idea
		icon = GFX_focus_GRE_resurrecting_the_megali_idea
		prerequisite = { focus = GRE_the_anatolian_refugees }
		available = {
			OR = {
				country_exists = TUR
				has_country_flag = GRE_megali_convention_a_failure
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = GRE_the_anatolian_refugees
		will_lead_to_war_with = TUR
		cost = 20
		ai_will_do = {
			base = 1
		}

		bypass = {
			OR = { 
				NOT = {
					OR = { 
						country_exists = ENG
						country_exists = FRA
						country_exists = ITA
					}
					country_exists = TUR
				}
				has_country_flag = GRE_megali_convention_a_failure
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		select_effect = {
			country_event = { id = bftb_greece.7 days = 7 }
		}

		completion_reward = {
			add_war_support = 0.1
			custom_effect_tooltip = GRE_megali_idea_conference_invites_tt
		}
	}	

	focus = {
		id = GRE_the_gordian_knot
		icon = GFX_goal_generic_military_deal
		available = { has_country_flag = GRE_megali_idea_approved }
		prerequisite = { focus = GRE_resurrecting_the_megali_idea }
		mutually_exclusive = { focus = GRE_horror_and_fear }
		x = 1
		y = 1
		relative_position_id = GRE_resurrecting_the_megali_idea
		will_lead_to_war_with = TUR
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				OR = { 	
					AND = { 
						has_country_flag = GRE_megali_idea_approved
						strength_ratio = { 
							tag = TUR
							ratio > 0.4
						}
					}
					AND = { 
						ENG = { 
							has_war = no
							has_country_flag = GRE_british_armenia
							strength_ratio = { 
								tag = TUR
								ratio > 0.6
							}
						}
					}
					AND = { 
						date < 1939.03.01
						FRA = { 
							has_war = no
							has_country_flag = GRE_french_kurdistan
							strength_ratio = { 
								tag = TUR
								ratio > 0.7
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			custom_effect_tooltip = GRE_gordian_knot_tt
			hidden_effect = {	
				declare_war_on = {
					target = TUR
					type = take_state_focus
					generator = { 797 341 347 340 339 }
				}
				if = { 
					limit = { 
						354 = { is_claimed_by = ENG }
					}
					ENG = {
						country_event = { id = bftb_greece.229 }
					}
				}
				if = { 
					limit = { 
						344 = { is_claimed_by = FRA }
						350 = { is_claimed_by = FRA }
						352 = { is_claimed_by = FRA }
						353 = { is_claimed_by = FRA }
						800 = { is_claimed_by = FRA }
					}
					FRA = { 
						country_event = { id = bftb_greece.229 }
					}
				}
				if = { 
					limit = { 
						342 = { is_claimed_by = ITA }
						345 = { is_claimed_by = ITA }
					}
					ITA = { 
						add_opinion_modifier = { 
							target = TUR
							modifier = GRE_strategic_enemy
						}
						add_ai_strategy = {
							type = ignore
							id = GRE
							value = 75
						}
					}
				}
				GER = {
					add_ai_strategy = {
						type = protect
						id = TUR
						value = 75
					}
				}
				SOV = {
					add_ai_strategy = {
						type = protect
						id = TUR
						value = 75
					}
				}
			}
		}
	}	

	focus = {
		id = GRE_horror_and_fear
		icon = GFX_focus_generic_strike_at_democracy2
		available = { NOT = { has_country_flag = GRE_megali_idea_approved } }
		prerequisite = { focus = GRE_resurrecting_the_megali_idea }
		mutually_exclusive = { focus = GRE_the_gordian_knot }
		x = -1
		y = 1
		relative_position_id = GRE_resurrecting_the_megali_idea
		will_lead_to_war_with = TUR
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 	
					NOT = { has_country_flag = GRE_megali_idea_approved }
					strength_ratio = { 
						tag = TUR
						ratio > 0.4
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			declare_war_on = {
				target = TUR
				type = take_state_focus
				generator = { 797 341 347 340 339 }
			}
			hidden_effect = {
				country_event = { id = bftb_greece.207 days = 60 }
			}
		}
	}

	focus = {
		id = GRE_nenikikamen
		icon = GFX_focus_generic_strike_at_democracy1
		available = { 
			ROOT = {
				controls_state = 797 
				controls_state = 341
				controls_state = 347
				controls_state = 340
				controls_state = 339
			}
			TUR = { 
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
					has_autonomy_state = autonomy_supervised_state
				}
			}
		}
		prerequisite = { focus = GRE_horror_and_fear focus = GRE_the_gordian_knot }
		x = 0
		y = 2
		relative_position_id = GRE_resurrecting_the_megali_idea
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {
					has_government = democratic
				}
				unlock_decision_tooltip = form_greater_greece
			}
			swap_ideas = {
				remove_idea = GRE_martyrs_of_the_anatolian_catastrophe
				add_idea = GRE_megali_idea_triumphant
			}
		}
	}		

	focus = {
		id = GRE_the_die_is_cast
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = GRE_nenikikamen }
		x = 0
		y = 1
		relative_position_id = GRE_nenikikamen
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = GRE_reviving_the_double_headed_eagle
		icon = GFX_focus_GRE_reviving_the_double_headed_eagle
		available = {
			has_government = fascism
		}
		prerequisite = { focus = GRE_horror_and_fear }
		x = -1
		y = 1
		relative_position_id = GRE_horror_and_fear
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					has_government = fascism
					TUR = {
						exists = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_ideas = GRE_reviving_the_double_headed_eagle_spirit
			unlock_decision_tooltip = byz_restore_byzantium
		}
	}

	focus = {
		id = GRE_phoideratoi
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = GRE_reviving_the_double_headed_eagle }
		x = 0
		y = 1
		relative_position_id = GRE_reviving_the_double_headed_eagle
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			swap_ideas = {
    			remove_idea = GRE_reviving_the_double_headed_eagle_spirit
    			add_idea = GRE_reviving_the_double_headed_eagle_2
    		}
    		if = {
    			limit = {
    				has_idea = GRE_political_instability_republican
    			}
    			swap_ideas = {
    				remove_idea = GRE_political_instability_republican
    				add_idea = GRE_state_of_the_nation_fascism
    			}
    		}
    		else_if = {
    			limit = {
    				has_idea = GRE_political_instability_republican_2
    			}
    			swap_ideas = {
    				remove_idea = GRE_political_instability_republican_2
    				add_idea = GRE_state_of_the_nation_fascism
    			}
    		}
		}
	}

	focus = {
		id = GRE_byzantine_themata
		icon = GFX_focus_GRE_byzantine_themata
		prerequisite = { focus = GRE_phoideratoi }
		prerequisite = { focus = GRE_the_die_is_cast }
		x = 1
		y = 1
		relative_position_id = GRE_phoideratoi
		cost = 10
		ai_will_do = { 
			base = 1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			custom_effect_tooltip = byz_restore_byzantine_empire_category_tt
		}
	}

 ##   ##  #   # #   # #  # #  # ###  ## ###     ### ###  ### ### 
#  # #  # ## ## ## ## #  # ## #  #  #    #       #  #  # #   #   
#    #  # # # # # # # #  # # ##  #   #   #       #  ###  ##  ##  
#  # #  # #   # #   # #  # #  #  #    #  #       #  #  # #   #   
 ##   ##  #   # #   #  ##  #  # ### ##   #       #  #  # ### ### 

	focus = {
		id = GRE_request_communist_support
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = GRE_bring_home_the_exiled_republicans }
		mutually_exclusive = { focus = GRE_compromise_with_the_monarchists }
		x = 1
		y = 1
		relative_position_id = GRE_bring_home_the_exiled_republicans
		cost = 5
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				is_historical_focus_on = no
			}
		}

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY  }
		completion_reward = {
			add_popularity = {
    			ideology = communism
    			popularity = 0.05
			}
			remove_ideas = GRE_george_ii
			custom_effect_tooltip = GRE_request_communist_support_focus_tt
			hidden_effect = { 
				set_variable = { var = GRE_monarchist_loyalty value = -1 }
				set_variable = { var = GRE_communist_loyalty value = 1 }
				GRE_political_instability_update_effect = yes
				create_corps_commander = {
					name = "Markos Vafeiadis"
					picture = "Portrait_Greece_Markos_Vafiadis.dds"
					traits = { trait_GRE_marxist_acolyte politically_connected trait_reckless media_personality commando urban_assault_specialist } #C
					skill = 3 #10
					id = 305
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Aris Velouchiotis"
					gfx = "GFX_portrait_gre_aris_velouchiotis" #C
					traits = { trait_GRE_marxist_acolyte harsh_leader brilliant_strategist trickster commando }
					skill = 3 #10
					id = 308
					attack_skill = 4
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2
				}
				remove_unit_leader = 300
				clr_country_flag = GRE_dem_monarchy_flag
				drop_cosmetic_tag = yes
				GRE_set_appropriate_cosmetic_tag = yes
			}
		}
	}

	focus = {
		id = GRE_a_socialist_economy
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = GRE_request_communist_support }
		x = 2
		y = 1
		relative_position_id = GRE_request_communist_support
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = GRE_socialist_economy_spirit
		}
	}

	focus = {
		id = GRE_nationalized_banks
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GRE_a_socialist_economy }
		x = -2
		y = 1
		relative_position_id = GRE_a_socialist_economy
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_socialist_economy_spirit
				add_idea = GRE_socialist_economy_2
			}
			if = {
				limit = {
					has_idea = GRE_schachtplan
				}
				swap_ideas = {
					remove_idea = GRE_schachtplan
					add_idea = GRE_command_economy
				}
				GER = { 
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_discarded_the_schachtplan
					}
				}
			}
		}
	}

	focus = {
		id = GRE_agricultural_communes
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = GRE_a_socialist_economy }
		x = 2
		y = 1
		relative_position_id = GRE_a_socialist_economy
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = {
					has_idea = GRE_agrarian_society
				}
				swap_ideas = {
					remove_idea = GRE_agrarian_society
					add_idea = GRE_agricultural_communes_idea
				}
			}
			else_if = {
				limit = { 
					has_idea = GRE_industrializing_society
				}
				swap_ideas = {
					remove_idea = GRE_industrializing_society
					add_idea = GRE_industrializing_society_communist
				}
				add_timed_idea = {
					idea = GRE_rural_exodus 
					days = 280
				}
			}
			else_if = {
				limit = { 
					has_idea = GRE_farmer_culture
				}
				swap_ideas = {
					remove_idea = GRE_farmer_culture
					add_idea = GRE_farmer_managed_communes
				}
			}
		}
	}

	focus = {
		id = GRE_soviet_subsidised_railways
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = GRE_a_socialist_economy }
		x = 0
		y = 1
		relative_position_id = GRE_a_socialist_economy
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			AND = { 
				custom_trigger_tooltip = {
					tooltip = infrastructure_effort_tt
					all_owned_state = {			
						free_building_slots = {
							building = infrastructure
							size < 1
						}
					}
				}
				SOV = { exists = no }
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = GRE_unlock_soviet_decision_tt
		}
	}				

	focus = {
		id = GRE_clearing_land_for_industrial_expansion
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = GRE_agricultural_communes }
		x = 0
		y = 1
		relative_position_id = GRE_agricultural_communes
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
                limit = {
                    is_fully_controlled_by = ROOT
                    is_core_of = GRE
                    NOT = { state = 187 }
                    NOT = { state = 182 }
                }
                add_extra_state_shared_building_slots = 1
            }
		}
	}

	focus = {
		id = GRE_depose_the_reactionaries
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = GRE_clearing_land_for_industrial_expansion }
		prerequisite = { focus = GRE_red_militias }
		prerequisite = { focus = GRE_the_greek_industrial_revolution }
		x = 0
		y = 3
		relative_position_id = GRE_a_socialist_economy
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				communism > 0.5
			}
		}

		bypass = {
			has_government = communism
		}

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GRE_dimitris_glinos
			add_popularity = { 
				ideology = communism
				popularity = 0.15
			}
			hidden_effect = { 
				swap_ideas = {
					remove_idea = GRE_political_instability_republican
					add_idea = GRE_political_instability_communist
				}
				set_variable = { var = GRE_republican_loyalty value = -2 }  
				set_variable = { var = GRE_communist_loyalty value = 2 }
				GRE_political_instability_update_effect = yes
			}
		}
	}

	focus = {
		id = GRE_the_greek_industrial_revolution
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = GRE_nationalized_banks }
		x = 0
		y = 1
		relative_position_id = GRE_nationalized_banks
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = GRE_industry_bypass_tt
				AND = { 	
					all_owned_state = {
						free_building_slots = {
							building = arms_factory
							size < 1
							include_locked = yes
						}
					}
					all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 1
							include_locked = yes
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1	
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}		
		}
	}

	focus = {
		id = GRE_red_militias
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GRE_soviet_subsidised_railways }
		x = 0
		y = 1
		relative_position_id = GRE_soviet_subsidised_railways
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = GRE_red_militias_spirit
		}
	}

	focus = {
		id = GRE_prepare_for_the_great_anti_fascist_war
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = GRE_depose_the_reactionaries }
		mutually_exclusive = { focus = GRE_tow_the_stalinist_line }
		x = -1
		y = 1
		relative_position_id = GRE_depose_the_reactionaries
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = {
					NOT = { SOV = { has_government = communism } }
					SOV = { exists = no }
					has_war_with = SOV
					TUR = { is_in_faction_with = SOV }
					strength_ratio = { 
						tag = SOV
						ratio > 0.35
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
		completion_reward = {
			create_country_leader = {
				name = "Markos Vafiadis"
				desc = "POLITICS_MARKOS_VAFIADIS_DESC"
				picture = "Portrait_Greece_Markos_Vafiadis.dds"
				expire = "1965.1.1"
				ideology = marxism
				traits = {
					guerilla_warfare_expert
				}
			}
			swap_ideas = {
				remove_idea = GRE_red_militias_spirit
				add_idea = GRE_red_militias_2
			}
			swap_ideas = {
				remove_idea = GRE_political_instability_communist
				add_idea = GRE_state_of_the_nation_communism
			}			
			SOV = {
				add_opinion_modifier = { 
					target = GRE
					modifier = GRE_greek_turncoats
				}
			}
			hidden_effect = {
				set_country_flag = GRE_com_independent_flag
				GRE_set_appropriate_cosmetic_tag = yes
				set_country_flag = GRE_soviets_rebuffed
			}
		}
	}

	focus = {
		id = GRE_tow_the_stalinist_line
		icon = GFX_focus_fra_loyalty_stalin
		prerequisite = { focus = GRE_depose_the_reactionaries }
		mutually_exclusive = { focus = GRE_prepare_for_the_great_anti_fascist_war }
		available = {
			NOT = { has_war_with = SOV }
			SOV = { 
				exists = yes
				is_puppet = no
				has_government = communism
			}
		}
		x = 1
		y = 1
		relative_position_id = GRE_depose_the_reactionaries
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					NOT = { SOV = { has_government = communism } }
					SOV = { exists = no }
					has_war_with = SOV
					strength_ratio = { 
						tag = SOV
						ratio > 0.35
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_socialist_economy_2
				add_idea = GRE_socialist_economy_3
			}
			hidden_effect = { 
				set_cosmetic_tag = GRE_stalinist
				TUR = { 
					country_event = { id = bftb_greece.29 days = 1 }
				}
				SOV = { 
					country_event = { id = bftb_greece.29 days = 7 }
				}
				add_opinion_modifier = {
		    		target = TUR
		    		modifier = GRE_strategic_enemy
				}
				TUR = { 
					add_opinion_modifier = {
		   				target = GRE
		   				modifier = GRE_strategic_enemy
					}
				}	
			}
		}
	}

	focus = {
		id = GRE_dominate_the_bulgarians
		icon = GFX_focus_generic_attack_bulgaria
		prerequisite = { focus = GRE_prepare_for_the_great_anti_fascist_war }
		available = {
			NOT = { 
				BUL = {
					exists = no
					is_puppet_of = GRE
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = GRE_prepare_for_the_great_anti_fascist_war
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					has_war = no
					strength_ratio = { 
						tag = BUL
						ratio > 0.4
					}
				}
			}
		}

		bypass = { 
			BUL = { 
				OR = {
					exists = no
					is_puppet_of = GRE
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BUL
				expire = 0
			}
		}
	}

	focus = {
		id = GRE_ally_tito
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = GRE_prepare_for_the_great_anti_fascist_war }
		available = {
			NOT = { 
				YUG = {
					exists = no
					is_puppet_of = GRE
				}
			}
		}
		x = -2
		y = 1
		relative_position_id = GRE_prepare_for_the_great_anti_fascist_war
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					has_war = no
					strength_ratio = { 
						tag = YUG
						ratio > 0.6
					}
				}
			}
		}

		bypass = { 
			OR = { 
				has_global_flag = Tito_killed
				is_in_faction_with = YUG
				YUG = { is_puppet_of = GRE }
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = GRE_corfu_cooperative
			if = { 
				limit = { 
					YUG = { 
						OR = { 
							has_government = communism
							has_completed_focus = YUG_recognize_the_soviet_union
						}
					}
				}
				YUG = { country_event = { id = generic.5 days = 1 } }
			}
			else_if = {
				limit = {
					YUG = { 
						OR = { 
							NOT = { 
								has_government = communism
								has_completed_focus = YUG_recognize_the_soviet_union
							}
						}
					}
				}
				YUG = { country_event = { id = bftb_greece.48 } }
			} 
		}
	}

	focus = {
		id = GRE_secure_the_aegean
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = GRE_ally_tito }
		available = {
			TUR = { fascism > 0.3 }
			OR = { 
				TUR = { has_government = fascism }
				TUR = { has_added_tension_amount > 5 }
			}		
		}	
		x = 0
		y = 1
		relative_position_id = GRE_ally_tito
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				strength_ratio = { 
					tag = TUR
					ratio > 0.5
				}
			}
		}

		bypass = {
			OR = {
				AND = { 
					owns_state = 341
					owns_state = 340
					owns_state = 339
					owns_state = 342
				}
				TUR = {
					exists = no
					is_puppet_of = GRE
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			GRE = {
				add_state_core = 341
				add_state_claim = 340
				add_state_claim = 339
				add_state_claim = 342
				add_state_claim = 164
				create_wargoal = {
					type = puppet_wargoal_focus
					target = TUR
					expire = 0
				}
			}
			add_war_support = -0.05
		}
	}

	focus = {
		id = GRE_attack_the_fascists
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = GRE_dominate_the_bulgarians }
		x = 0
		y = 1
		relative_position_id = GRE_dominate_the_bulgarians
		cost = 10
		ai_will_do = {
			factor = 0
			modifier = { 
				add = 1
				has_offensive_war = no
				num_of_military_factories > 20
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = { 	
				limit = {
					ITA = {
						has_government = fascism
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
					expire = 0
				}
			}
			if = { 	
				limit = {
					GER = {
						has_government = fascism
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
					expire = 0
				}
			}
			if = { 	
				limit = {
					HUN = {
						has_government = fascism
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = HUN
					expire = 0
				}
			}
			if = { 	
				limit = {
					YUG = {
						has_government = fascism
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = YUG
					expire = 0
				}
			}
			if = { 	
				limit = {
					ROM = {
						has_government = fascism
					}
				}	
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
					expire = 0
				}
			}
			swap_ideas = {
				remove_idea = GRE_socialist_economy_2
				add_idea = GRE_socialist_economy_4
			}
		}
	}

	focus = {
		id = GRE_stage_an_incident_in_the_bosporus
		icon = GFX_focus_GRE_stage_an_incident_in_the_bosporus
		prerequisite = { focus = GRE_tow_the_stalinist_line }
		x = 0
		y = 1
		relative_position_id = GRE_tow_the_stalinist_line
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				strength_ratio = { 
					tag = TUR
					ratio > 0.5
				}
			}
		}

		completion_reward = {
			country_event = { id = bftb_greece.31 }
			add_war_support = 0.05
		}
	}

	focus = {
		id = GRE_revolutionaries_of_the_south
		icon = GFX_goal_support_communism
		prerequisite = { focus = GRE_stage_an_incident_in_the_bosporus }
		x = 0
		y = 1
		relative_position_id = GRE_stage_an_incident_in_the_bosporus
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_red_militias_spirit
				add_idea = GRE_red_militias_3
			}
			swap_ideas = {
				remove_idea = GRE_political_instability_communist
				add_idea = GRE_state_of_the_nation_communism
			}
			hidden_effect = { 
				set_rule = { can_create_factions = yes }
			}
		}
	}

#   #  ##  #  #  ##  ###   ##  #  # ###  ## ###                 ###  ##   ##  ##  ###  ## ###     ###   ##  ### #  #         
## ## #  # ## # #  # #  # #  # #  #  #  #    #      {~._.~}     #   #  # #   #  #  #  #    #      #  # #  #  #  #  # {~._.~} 
# # # #  # # ## #### ###  #    ####  #   #   #       ( Y )      ##  ####  #  #     #   #   #      ###  ####  #  ####  ( Y )  
#   # #  # #  # #  # #  # #  # #  #  #    #  #      ()~*~()     #   #  #   # #  #  #    #  #      #    #  #  #  #  # ()~*~() 
#   #  ##  #  # #  # #  #  ##  #  # ### ##   #      (_)-(_)     #   #  # ##   ##  ### ##   #      #    #  #  #  #  # (_)-(_) 

	focus = {
		id = GRE_the_kings_government
		icon = GFX_focus_generic_home_defense
		mutually_exclusive = { focus = GRE_bring_home_the_exiled_republicans }
		available = {
			NOT = {	has_country_flag = GRE_king_arrested }
		}
		x = 17
		y = 0
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		select_effect = {
			set_country_flag = GRE_kings_government
		}

		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = GRE_the_right_to_rule
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = GRE_the_kings_government }
		mutually_exclusive = { focus = GRE_metaxism_focus }
		x = -1
		y = 1
		relative_position_id = GRE_the_kings_government
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		search_filters = { FOCUS_FILTER_GRE_DEBT_TO_IFC FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = -0.15
			add_political_power = 120
			country_event = { id = bftb_greece.50 }
			custom_effect_tooltip = GRE_abandon_french_italian_debt_tt
			custom_effect_tooltip = GRE_absolute_monarchy_opposition_tt
			hidden_effect = { 
				country_event = { id = bftb_greece.100 }
				set_variable = { var = GRE_republican_loyalty value = -1 }
				set_variable = { var = GRE_communist_loyalty value = -1 }
				GRE_political_instability_update_effect = yes
				GRE_default_on_french_debt_effect = yes
				GRE_default_on_italian_debt_effect = yes
				#186 = { set_state_flag = GRE_rebel_states_george_ii_civil_war }
				#184 = { set_state_flag = GRE_rebel_states_george_ii_civil_war }
				#731 = { set_state_flag = GRE_rebel_states_george_ii_civil_war }
				#187 = { set_state_flag = GRE_rebel_states_george_ii_civil_war }
			}
		}
	}

	focus = {
		id = GRE_metaxism_focus
		icon = GFX_focus_GRE_metaxism
		prerequisite = { focus = GRE_the_kings_government }
		mutually_exclusive = { focus = GRE_the_right_to_rule }
		x = 1
		y = 1
		relative_position_id = GRE_the_kings_government
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			effect_tooltip = {
				create_country_leader = {
					name = "Ioannis Metaxas"
					desc = "POLITICS_IOANNIS_METAXAS_DESC"
					picture = "Portrait_Greece_Ioannis_Metaxas.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						arkhigos
					}
				}
			}
			add_ideas = GRE_metaxism
			custom_effect_tooltip = GRE_metaxism_warning_tt
			hidden_effect = { 
				retire_country_leader = yes
				create_country_leader = {
					name = "Ioannis Metaxas"
					desc = "POLITICS_IOANNIS_METAXAS_DESC"
					picture = "Portrait_Greece_Ioannis_Metaxas.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						arkhigos
					}
				}
				set_party_name = { ideology = neutrality long_name = GRE_metaxas_party_long name = GRE_metaxas_party }
				set_politics = { ruling_party = neutrality elections_allowed = no }
				swap_ideas = { 
					remove_idea = GRE_political_instability
					add_idea = GRE_political_instability_metaxas
				}
				set_variable = { var = GRE_fascist_loyalty value = 0 }
				GRE_political_instability_update_effect = yes
			}
		}
	}

	focus = {
		id = GRE_petition_britain_for_aid
		icon = GFX_goal_generic_military_deal
		available = { 
			GRE = { has_country_flag = GRE_monarchist_civil_war }
		}
		prerequisite = { focus = GRE_the_right_to_rule }
		x = 0
		y = 2
		relative_position_id = GRE_the_right_to_rule
		cost = 5
		ai_will_do = {
			base = 1
		}

		bypass = {
			AND = { 
				ENG = {
					OR = {
						exists = no
						is_puppet = yes
						has_government = communism
					}
				}
				GER = { 
					NOT = { has_government = neutrality } 
				}
			}
		}

		completion_reward = {
			if = {
				limit = { 
					ENG = { 
						NOT = { has_government = communism }
					}
				}	
				ENG = { country_event = { id = bftb_greece.51 } }
			}
			if = {
				limit = { 
					GER = { 
						has_government = neutrality
					}
				}	
				GER = { country_event = { id = bftb_greece.51 } }
			}
			if = {
				limit = { 
					GER = { 
						NOT = { has_government = neutrality }
					}
				}	
				remove_ideas = GRE_schachtplan 
			}
			if = {
				limit = { 
					GER = { has_government = fascism } 
				}
				GER = { 
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_discarded_the_schachtplan
					}
				}
			}
		}
	}	

	focus = {
		id = GRE_the_hellenic_spirit
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = GRE_metaxism_focus }
		x = 0
		y = 1
		relative_position_id = GRE_metaxism_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_political_power = 120
			effect_tooltip = { 
				swap_ideas = {
					remove_idea = GRE_metaxism
					add_idea = GRE_metaxism_2
				}
			}
			hidden_effect = { 
				if = {
					limit = {
						has_idea = GRE_metaxism
					}
					swap_ideas = {
						remove_idea = GRE_metaxism
						add_idea = GRE_metaxism_2
					}
				}
			}
		}		
	}

	focus = {
		id = GRE_the_national_youth_organisation
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = GRE_the_hellenic_spirit }
		x = 0
		y = 1
		relative_position_id = GRE_the_hellenic_spirit
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_ideas = GRE_eon 
		}
	}

	focus = {
		id = GRE_crack_down_on_the_republicans
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GRE_the_national_youth_organisation focus = GRE_petition_britain_for_aid }
		x = 1
		y = 1
		relative_position_id = GRE_petition_britain_for_aid
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY  }
		completion_reward = {
			add_stability = 0.1
			unlock_decision_tooltip = GRE_crush_republicans
		}
	}

	focus = {
		id = GRE_use_the_military
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GRE_crack_down_on_the_republicans }
		mutually_exclusive = { focus = GRE_recruit_the_fascists }
		x = -2
		y = 1
		relative_position_id = GRE_crack_down_on_the_republicans
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			if = {
				limit = {
					has_idea = GRE_political_instability
				}
				swap_ideas = {
					remove_idea = GRE_political_instability
					add_idea = GRE_state_of_the_nation_monarchism
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_political_instability_metaxas
				}
				swap_ideas = {
					remove_idea = GRE_political_instability_metaxas
					add_idea = GRE_state_of_the_nation_metaxism
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = { 
				set_rule = { can_create_factions = yes }
			}
		}
	}

	focus = {
		id = GRE_recruit_the_fascists
		icon = GFX_goal_support_fascism
		prerequisite = { focus = GRE_crack_down_on_the_republicans }
		prerequisite = { focus = GRE_the_national_youth_organisation }
		mutually_exclusive = { focus = GRE_use_the_military }
		x = 2
		y = 1
		relative_position_id = GRE_crack_down_on_the_republicans
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = {
   				ideology = fascism
   	 			popularity = 0.05
			}
			custom_effect_tooltip = GRE_fascists_put_in_play_tt
			ROM = {
				diplomatic_relation = {
					country = GRE
					relation = guarantee
					active = no
				}
			}
			hidden_effect = { 
				set_variable = { var = GRE_fascist_loyalty value = 1 }
				GRE_political_instability_update_effect = yes
				create_corps_commander = {
					name = "Theodoros Pangalos"
					gfx = "GFX_portrait_gre_theodoros_pangalos"
					traits = { trait_GRE_venezelist_loyalist trait_GRE_fascist_sympathizer media_personality harsh_leader commando } #F+V
					skill = 3 #10 
					id = 302
					attack_skill = 4
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Panagiotis Demestichas"
					gfx = "GFX_portrait_gre_panagiotis_demestichas"
					traits = { trait_GRE_fascist_sympathizer trait_reckless infantry_officer hill_fighter } #F
					skill = 3 #10
					id = 303
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander = {
					name = "Napoleon Zervas"
					gfx = "GFX_portrait_gre_napoleon_zervas" #V+F
					traits = { trait_GRE_venezelist_loyalist trait_GRE_fascist_sympathizer harsh_leader trait_reckless commando }
					skill = 3 #10
					id = 309
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
			}
		}
	}

	focus = {
		id = GRE_realign_ourselves_with_the_central_powers 
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GRE_use_the_military }
		mutually_exclusive = { focus = GRE_our_traditional_allies_in_the_aegean }
		available = {
			has_country_leader = { 
				name = "George II"
				ruling_only = yes
			}
			OR = {
				HUN = { 
					has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary 
				}
				AND = { 
					GER = { 
						has_completed_focus = GER_revive_the_kaiserreich 
						is_in_faction = yes
						is_faction_leader = yes
					}
				}
			}
		}
		x = -4
		y = 1
		relative_position_id = GRE_use_the_military
		cost = 5
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		bypass = { 
			GRE = { 
				OR = {
					AND = { 
						is_in_faction_with = GER
						GER = { has_completed_focus = GER_oppose_hitler }
					}
					AND = { 
						is_in_faction_with = HUN
						HUN = { has_completed_focus = HUN_invite_the_habsburg_prince }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = { 
					GER = { 
						has_completed_focus = GER_the_central_powers 
					}
				}
				GER = { country_event = { id  = generic.2 days = 7 } }
			}
			else_if = {
				limit = { 
					GER = { 
						has_completed_focus = GER_revive_the_kaiserreich 
						is_faction_leader = no
					}
				}
				GER = { 
					set_rule = { can_create_factions = yes }
					create_faction = "GER_central_powers_faction"
					country_event = { id  = generic.2 days = 7 } 
				}
			}
			else_if = {
				limit = { 
					HUN = { 
						has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary 
						is_faction_leader = yes
					}
				}
				HUN = { country_event = { id  = generic.2 days = 7 } }
			}
			else_if = {
				limit = { 
					HUN = { 
						has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary 
						is_faction_leader = no
						is_in_faction = no
					}
					GER = { 
						NOT = { 
							has_completed_focus = GER_revive_the_kaiserreich
						}
					}
				}
				create_faction = GRE_argos_alliance
				HUN = { country_event = { id = generic.5 days = 7 } }
			}
			else = { 
				custom_effect_tooltip = GRE_no_central_powers_tt
			}
		}
	}

	focus = {
		id = GRE_our_traditional_allies_in_the_aegean
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GRE_use_the_military }
		mutually_exclusive = { focus = GRE_realign_ourselves_with_the_central_powers }
		x = -2
		y = 1
		relative_position_id = GRE_use_the_military
		cost = 5
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				OR = { 
					is_historical_focus_on = no
					ITA = { has_offensive_war_with = GRE }
				}
			}
		}

		bypass = {
			OR = { 
				GRE = { 
					is_in_faction_with = ENG
				}
				AND = { 
					ENG = { has_government = communism }
					ROM = { NOT = { has_completed_focus = ROM_the_cordon_sanitaire } }
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = { 
					ENG = { 
						NOT = { has_completed_focus = ENG_concessions_to_the_trade_unions }
						is_faction_leader = yes
					}
				}
				ENG = { country_event = { id  = generic.2 days = 7 } }
			}
			else_if = {
				limit = { 
					ROM = { 
						has_completed_focus = ROM_the_cordon_sanitaire
						is_faction_leader = yes
					}
				}
				ROM = { country_event = { id  = generic.2 days = 7 } }
			}
			else = { 
				add_political_power = 120
				add_war_support = 0.1
			}
			if = {
				limit = { 
					has_country_leader = { 
						name = "Ioannis Metaxas"
						ruling_only = yes
					}
				}
				custom_effect_tooltip = GRE_metaxism_lost_tt
			}
			hidden_effect = { 		
				if = {
					limit = { 
						has_idea = GRE_metaxism
					}	
					remove_ideas = GRE_metaxism
				} 
				if = {
					limit = { 
						has_idea = GRE_metaxism_2
					}	
					remove_ideas = GRE_metaxism_2
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_3
					}	
					remove_ideas = GRE_metaxism_3
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_4
					}	
					remove_ideas = GRE_metaxism_4
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_5
					}	
					remove_ideas = GRE_metaxism_5
				}
			}
		}	
	}

	focus = {
		id = GRE_prepare_against_the_mediterranean_threat
		icon = GFX_focus_attack_italy
		prerequisite = { focus = GRE_use_the_military }
		x = 0
		y = 1
		relative_position_id = GRE_use_the_military
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			if = {
				limit = { 
					has_country_leader = { 
						name = "Ioannis Metaxas"
						ruling_only = yes
					}
				}
				custom_effect_tooltip = GRE_the_metaxas_line
			}
			else = { 
				custom_effect_tooltip = GRE_the_leonidas_line
			}
			add_timed_idea = {
				idea = GRE_improving_our_defensive_lines
				days = 720
			}
			hidden_effect = {
				185 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 2
							province = 9805
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3914
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 841
							instant_build = yes
						}						
						add_building_construction = {
							type = bunker
							level = 2
							province = 9837
							instant_build = yes
						}
					}
				}
				731 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 1
							province = 936
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 3526
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6990
							instant_build = yes
						}
					}
				}
				184 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 1
							province = 9791
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 11774
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11905
							instant_build = yes
						}
					}
				}				
			}
		}
	}

	focus = {
		id = GRE_reclaiming_the_wayward_ally
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = GRE_realign_ourselves_with_the_central_powers }
		x = 0
		y = 1
		relative_position_id = GRE_realign_ourselves_with_the_central_powers
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			TUR = {
				has_completed_focus = TUR_pivot_to_the_past
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
    			type = puppet_wargoal_focus
   				target = TUR
			}
		}
	}

	focus = {
		id = GRE_the_greater_enosis
		icon = GFX_focus_generic_befriend_cyprus
		prerequisite = { focus = GRE_our_traditional_allies_in_the_aegean }
		x = 0
		y = 1
		relative_position_id = GRE_our_traditional_allies_in_the_aegean
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				OR = { 
					is_historical_focus_on = no
					has_game_rule = {
						rule = eng_fragmentation_status
						option = ENG_FRAGMENTED
					}
				}
			}
		}

		bypass = {
			OR = { 
				GRE = { 
					is_in_faction = yes
					NOT = {
						is_in_faction_with = ENG
					}
				}
				AND = {
					CYP = { exists = no }
					ENG = { 
						NOT = { 
							owns_state = 183
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = { 
				limit = { 
					CYP = { exists = yes }
				}
				CYP = { country_event = { id = bftb_greece.55 } }
			}
			else = { 
				ENG = { country_event = { id = bftb_greece.58 } }
			}
		}
	}

	focus = {
		id = GRE_securing_the_bulgarian_menace
		icon = GFX_focus_generic_attack_bulgaria
		prerequisite = { focus = GRE_our_traditional_allies_in_the_aegean focus = GRE_prepare_against_the_mediterranean_threat }
		x = 0
		y = 1
		relative_position_id = GRE_prepare_against_the_mediterranean_threat
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					is_historical_focus_on = no
					has_war = no
					strength_ratio = { 
						tag = BUL
						ratio > 0.5
					}
				}
			}
		}

		bypass = { 
			BUL = { 
				has_government = democratic
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = { 	
				limit = {
					NOT = { 	
						BUL = {
							has_government = democratic
						}
					}	
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
					expire = 0
				}
			}
		}
	}

	focus = {
		id = GRE_expansion_of_athens_university
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GRE_reclaiming_the_wayward_ally focus = GRE_the_greater_enosis focus = GRE_securing_the_bulgarian_menace }
		x = 0
		y = 1
		relative_position_id = GRE_the_greater_enosis
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = GRE_protectors_of_the_mediterranean
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = GRE_expansion_of_athens_university }
		x = 0
		y = 1
		relative_position_id = GRE_expansion_of_athens_university
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_political_power = 120
			add_ideas = GRE_protectors_of_the_mediterranean_spirit
		}
	}	

	focus = {
		id = GRE_an_orthodox_state
		icon = GFX_focus_GRE_an_orthodox_state
		prerequisite = { focus = GRE_use_the_military focus = GRE_recruit_the_fascists }
		available = { 
			has_country_leader = { 
				name = "Ioannis Metaxas"
				ruling_only = yes
			}
			is_in_faction = no
			has_idea = GRE_metaxism_2
		}
		x = 0
		y = 2
		relative_position_id = GRE_crack_down_on_the_republicans
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = GRE_metaxism_2
				}
				swap_ideas = {
					remove_idea = GRE_metaxism_2
					add_idea = GRE_metaxism_3
				}
			}
			else_if = {
				limit = {
					has_idea = GRE_metaxism
				}
				effect_tooltip = { 	
					swap_ideas = {
						remove_idea = GRE_metaxism
						add_idea = GRE_metaxism_3
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = GRE_metaxism } 
				}
				effect_tooltip = { 	
					swap_ideas = {
						remove_idea = GRE_metaxism
						add_idea = GRE_metaxism_3
					}
				}
			}
		}			
	}

	focus = {
		id = GRE_third_hellenic_civilization
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = GRE_an_orthodox_state }
		available = { 
			has_country_leader = { 
				name = "Ioannis Metaxas"
				ruling_only = yes
			}
			is_in_faction = no
			has_idea = GRE_metaxism_3
		}
		x = 0
		y = 1
		relative_position_id = GRE_an_orthodox_state
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			effect_tooltip = { 
				swap_ideas = {
					remove_idea = GRE_metaxism_3
					add_idea = GRE_metaxism_4
				}
			}
			hidden_effect = { 
				if = {
					limit = {
						has_idea = GRE_metaxism_3
					}
					swap_ideas = {
						remove_idea = GRE_metaxism_3
						add_idea = GRE_metaxism_4
					}
				}
			}
		}
	}

	focus = {
		id = GRE_defending_our_kingdom
		icon = GFX_goal_generic_defence
		prerequisite = { focus = GRE_third_hellenic_civilization }
		available = { 
			has_country_leader = { 
				name = "Ioannis Metaxas"
				ruling_only = yes
			}
			is_in_faction = no
			has_idea = GRE_metaxism_4
		}
		x = 0
		y = 1
		relative_position_id = GRE_third_hellenic_civilization
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			effect_tooltip = { 
				swap_ideas = {
					remove_idea = GRE_metaxism_4
					add_idea = GRE_metaxism_5
				}
			}
			hidden_effect = { 
				if = {
					limit = {
						has_idea = GRE_metaxism_4
					}
					swap_ideas = {
						remove_idea = GRE_metaxism_4
						add_idea = GRE_metaxism_5
					}
				}
			}
		}
	}

	focus = {
		id = GRE_reviving_the_spartan_warrior_spirit
		icon = GFX_focus_GRE_reviving_the_spartan_warrior_spirit
		prerequisite = { focus = GRE_defending_our_kingdom }
		available = { 
			has_country_leader = { 
				name = "Ioannis Metaxas"
				ruling_only = yes
			}
			is_in_faction = no
			has_idea = GRE_metaxism_5
		}
		x = 0
		y = 1
		relative_position_id = GRE_defending_our_kingdom
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			effect_tooltip = { 
				swap_ideas = {
					remove_idea = GRE_metaxism_5
					add_idea = GRE_metaxism_6
				}
			}
			hidden_effect = { 
				if = {
					limit = {
						has_idea = GRE_metaxism_5
					}
					swap_ideas = {
						remove_idea = GRE_metaxism_5
						add_idea = GRE_metaxism_6
					}
				}
			}
		}
	}

	focus = {
		id = GRE_following_in_the_footsteps_of_giants
		icon = GFX_focus_GRE_following_in_the_footsteps_of_giants
		prerequisite = { focus = GRE_recruit_the_fascists }
		x = 0
		y = 1
		relative_position_id = GRE_recruit_the_fascists
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = {
   				ideology = fascism
   	 			popularity = 0.1
			}
			if = { 
				limit = { 
					GER = { has_government = fascism }
				}
				GER = { 
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_fascist_leanings
					}
				}
			}
			if = { 
				limit = { 
					ITA = { has_government = fascism }
				}
				ITA = { 
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_fascist_leanings
					}
				}
			}
			if = { 
				limit = { 
					has_idea = GRE_metaxism_6
				}
				swap_ideas = {
					remove_idea = GRE_metaxism_6
					add_idea = GRE_metaxism_7
				}
			}
			else_if = {
				limit = {
					has_country_leader = { 
						name = "Ioannis Metaxas"
						ruling_only = yes
					}
					has_government = neutrality
					NOT = { has_idea = GRE_metaxism_6 }
				}
				custom_effect_tooltip = no_fascist_metaxism_spirit_tt
			}
			hidden_effect = { 
				if = { 
					limit = { 
						GER = { has_government = fascism }
					}
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_fascist_trading_bloc
					}
				}
				if = { 
					limit = { 
						ITA = { has_government = fascism }
					}
					add_opinion_modifier = { 
						target = GRE
						modifier = GRE_fascist_trading_bloc
					}
				}
				swap_ideas = {
					remove_idea = GRE_eon
					add_idea = GRE_eon_fascist
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism
					}
					remove_ideas = GRE_metaxism
				} 
				if = {
					limit = { 
						has_idea = GRE_metaxism_2
					}	
					remove_ideas = GRE_metaxism_2
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_3
					}	
					remove_ideas = GRE_metaxism_3
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_4
					}	
					remove_ideas = GRE_metaxism_4
				}
				if = {
					limit = { 
						has_idea = GRE_metaxism_5
					}	
					remove_ideas = GRE_metaxism_5
				}
			}
		}
	}

	focus = {
		id = GRE_the_modern_movement
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = GRE_following_in_the_footsteps_of_giants }
		available = { 
			fascism > 0.4
		}
		x = 0
		y = 1
		relative_position_id = GRE_following_in_the_footsteps_of_giants
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			country_event = { id = bftb_greece.217 }
			hidden_effect = { 
				swap_ideas = {
					remove_idea = GRE_political_instability_metaxas
					add_idea = GRE_political_instability_fascism
				}
			}
		}
	}	
	

	focus = {
		id = GRE_hellenoturkism
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = GRE_the_modern_movement }
		x = 0
		y = 1
		relative_position_id = GRE_the_modern_movement
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = { 
			OR = { 
				TUR = { 
					is_in_faction_with = GER 
					is_in_faction_with = ITA
					is_puppet_of = GRE
					exists = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			TUR = { country_event = { id = bftb_greece.62 days = 1 } }
		}
	}

	focus = {
		id = GRE_cement_greco_german_ties
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = GRE_the_modern_movement }
		available = { has_completed_focus = GRE_bolster_the_schachtplan }
		x = 2
		y = 1
		relative_position_id = GRE_the_modern_movement
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = { 
			OR = {
				custom_trigger_tooltip = {
					tooltip = schachtplan_required_tt
					NOT = { 
						has_idea = GRE_schachtplan
						has_idea = GRE_schachtplan_modified
					}
				}
				GER = { 
					exists = no
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_schachtplan_modified
				add_idea = GRE_schachtplan_fascistised
			}
			add_research_slot = 1
		}
	}

	focus = {
		id = GRE_subjugating_the_bulgarians
		icon = GFX_focus_generic_attack_bulgaria
		prerequisite = { focus = GRE_hellenoturkism }
		prerequisite = { focus = GRE_cement_greco_german_ties }
		x = 1
		y = 1
		relative_position_id = GRE_hellenoturkism
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					has_war = no
					strength_ratio = { 
						tag = BUL
						ratio > 0.4
					}
				}
			}
		}

		bypass = { 
			BUL = { 
				OR = { 
					exists = no
					is_puppet_of = GRE
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = BUL
				expire = 0
			}
		}
	}	

	focus = {
		id = GRE_greece_and_turkey_in_the_axis
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = GRE_subjugating_the_bulgarians }
		available = { has_global_flag = greek_turkish_friendship }
		mutually_exclusive = { focus = GRE_last_country_standing }
		x = -1
		y = 1
		relative_position_id = GRE_subjugating_the_bulgarians
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			GRE = { is_in_faction = yes }
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					NOT = { 
						GER = { has_government = fascism }
					}
				}
				ITA = { country_event = { id = bftb_greece.65 days = 1 } }
			}
			else = { 
				GER = { country_event = { id = bftb_greece.66 days = 1 } }
			}
		}
	}	

	focus = {
		id = GRE_last_country_standing
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = GRE_subjugating_the_bulgarians }
		available = { NOT = { has_global_flag = greek_turkish_friendship } }
		mutually_exclusive = { focus = GRE_greece_and_turkey_in_the_axis }
		x = 1
		y = 1
		relative_position_id = GRE_subjugating_the_bulgarians
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			create_wargoal = { 
				type = annex_everything
				target = TUR
			}
		}
	}	

	focus = {
		id = GRE_moulding_the_new_world_order
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = GRE_greece_and_turkey_in_the_axis focus = GRE_last_country_standing }
		x = 1
		y = 1
		relative_position_id = GRE_greece_and_turkey_in_the_axis
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_political_instability_fascism
				add_idea = GRE_state_of_the_nation_fascism
			}
			set_rule = { can_create_factions = yes }
			add_ideas = GRE_security_batallions
		}
	}

### #  # ###  #  #  ## ### ###  #   #     ### ###  ### ###             
 #  ## # #  # #  # #    #  #  #  # #       #  #  # #   #       {~._.~} 
 #  # ## #  # #  #  #   #  ###    #        #  ###  ##  ##       ( Y )  
 #  #  # #  # #  #   #  #  #  #   #        #  #  # #   #       ()~*~() 
### #  # ###   ##  ##   #  #  #   #        #  #  # ### ###     (_)-(_) 

	focus = {
		id = GRE_reevaluating_the_drachma
		icon = GFX_focus_GRE_reevaluating_the_drachma
		x = 28
		y = 0
		cost = 5
		ai_will_do = {
			base = 5
		}

		search_filters = { FOCUS_FILTER_GRE_DEBT_TO_IFC FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_political_power = 120
			unlock_decision_category_tooltip = GRE_pay_back_debt_to_the_ifc_category
			custom_effect_tooltip = GRE_pay_back_debt_tt
		}
	}

	focus = {
		id = GRE_lignite_liquefaction
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GRE_reevaluating_the_drachma }
		x = -2
		y = 1
		relative_position_id = GRE_reevaluating_the_drachma
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {	
            random_owned_controlled_state = {
				prioritize = { 186 }
               	limit = {
                    free_building_slots = {
                       	building = synthetic_refinery
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = synthetic_refinery
                    level = 1
                    instant_build = yes
                }
            }
            effect_tooltip = { 
            	add_ideas = GRE_dep
            }
        }                    
    }						

	focus = {
		id = GRE_extracting_more_from_our_soil
		icon = GFX_goal_generic_construction
		prerequisite = { focus = GRE_lignite_liquefaction }
		x = 0
		y = 1
		relative_position_id = GRE_lignite_liquefaction
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			47 = { 
				add_resource = { 
					type = aluminium
					amount = 12
				}
			}
			186 = { 
				add_resource = { 
					type = aluminium
					amount = 8
				}
				add_resource = { 
					type = steel
					amount = 15
				}
				add_resource = { 
					type = tungsten
					amount = 5
				}
			}
			187 = { 
				add_resource = { 
					type = aluminium
					amount = 21
				}
				add_resource = { 
					type = steel
					amount = 9
				}
			}
		}
	}

	focus = {
		id = GRE_utilize_our_strengths
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = GRE_reevaluating_the_drachma }
		mutually_exclusive = { focus = GRE_force_the_farmers_into_factories }
		x = 0
		y = 1
		relative_position_id = GRE_reevaluating_the_drachma
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		completion_reward = {
			if = {
				limit = { 
					has_idea = GRE_agrarian_society
				}
				swap_ideas = { 
					remove_idea = GRE_agrarian_society
					add_idea = GRE_farmer_culture 
				}
			}
			else_if = { 
				limit = { 
					has_idea = GRE_agricultural_communes_idea
				}
				add_timed_idea = {
					idea = GRE_rural_exodus 
					days = 280
				}
				add_stability = -0.05
			}
		}
	}

	focus = {
		id = GRE_force_the_farmers_into_factories
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = GRE_reevaluating_the_drachma }
		mutually_exclusive = { focus = GRE_utilize_our_strengths }
		x = 6
		y = 1
		relative_position_id = GRE_reevaluating_the_drachma
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		completion_reward = { 
			if = { 
				limit = { 
					has_idea = GRE_agrarian_society
				}
				swap_ideas = {
					remove_idea = GRE_agrarian_society
					add_idea = GRE_industrializing_society
				}
				add_stability = -0.15
			}
			else_if = { 
				limit = { 
					has_idea = GRE_agricultural_communes_idea
				}
				add_timed_idea = {
					idea = GRE_rural_exodus 
					days = 280
				}
				add_stability = -0.10
			}
		}	
	}	

	focus = {
		id = GRE_open_foreign_subsidized_factories
		icon = GFX_goal_generic_production2
		prerequisite = { focus = GRE_utilize_our_strengths }
		x = 0
		y = 1
		relative_position_id = GRE_utilize_our_strengths
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			AND = { 
				ENG = { exists = no }
				FRA = { exists = no }
				GER = { exists = no }
				SOV = { exists = no }
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = GRE_open_foreign_subsidized_factories_tt
			hidden_effect = {
				if = { 
					limit = { 
						country_exists = GER
						GER = { has_opinion = { target = GRE value > 80 } } 
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				if = { 
					limit = { 
						country_exists = FRA
						FRA = { has_opinion = { target = GRE value > 80 } } 
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				if = { 
					limit = { 
						country_exists = SOV
						SOV = { has_opinion = { target = GRE value > 80 } } 
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				if = { 
					limit = { 
						country_exists = ENG
						ENG = { has_opinion = { target = GRE value > 80 } } 
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}		

	focus = {
		id = GRE_paying_back_our_debts_in_bulk
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = GRE_force_the_farmers_into_factories }
		x = 0
		y = 1
		relative_position_id = GRE_force_the_farmers_into_factories
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			OR = {
				has_country_flag = GRE_completely_debt_free
				has_country_flag = GRE_defaulted_on_debt_flag
				custom_trigger_tooltip = { 
					tooltip = GRE_paid_off_most_of_debt_tt
					AND = {
						check_variable = { var = GRE_debt_to_the_ifc_britain_var value = 2.5 compare = less_than_or_equals }
						check_variable = { var = GRE_debt_to_the_ifc_france_var value = 2.5 compare = less_than_or_equals }
						check_variable = { var = GRE_debt_to_the_ifc_italy_var value = 2.5 compare = less_than_or_equals }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_GRE_DEBT_TO_IFC FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = GRE_paying_back_our_debts_in_bulk_ENG_tt
			custom_effect_tooltip = GRE_paying_back_our_debts_in_bulk_FRA_tt
			custom_effect_tooltip = GRE_paying_back_our_debts_in_bulk_ITA_tt
		}
	}

	focus = {
		id = GRE_connecting_our_prefectures
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GRE_open_foreign_subsidized_factories }
		available = {
			OR = {
				has_full_control_of_state = 186
				has_full_control_of_state = 47
				has_full_control_of_state = 185
			}
		}
		x = 0
		y = 1
		relative_position_id = GRE_open_foreign_subsidized_factories
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = { 
			AND = { 
				47 = {
					free_building_slots = {
						building = infrastructure
						size < 3
						include_locked = yes
					}
				}
				186 = { 
					free_building_slots = {
						building = infrastructure
						size < 2
						include_locked = yes
					}
				}
				185 = { 
					free_building_slots = {
						building = infrastructure
						size < 2
						include_locked = yes
					}
				}
			}	
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			47 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
						free_building_slots = {
							building = infrastructure
							size > 3
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}			
			186 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
						free_building_slots = {
							building = infrastructure
							size > 2
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			185 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
						free_building_slots = {
							building = infrastructure
							size > 2
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}			
	}	

	focus = {
		id = GRE_fiscal_responsibility
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = GRE_paying_back_our_debts_in_bulk }
		available = { 
			OR = {
				custom_trigger_tooltip = { 
					tooltip = GRE_fiscal_responsibility_tt
					OR = { 
						has_idea = GRE_debt_to_the_ifc_2
						has_idea = GRE_debt_to_the_ifc_3
						has_country_flag = GRE_completely_debt_free
					}
				}
				has_government = communism
			}
		}
		x = 0
		y = 1
		relative_position_id = GRE_paying_back_our_debts_in_bulk
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			AND = {
				has_country_flag = GRE_defaulted_on_debt_flag
				NOT = { has_government = communism }
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				add_political_power = 120
				effect_tooltip = { add_ideas = GRE_emmanouil_tsouderos }
			}
			else = {
				add_political_power = 250
				add_stability = 0.1
			}
		}
	}		

	focus = {
		id = GRE_sophistry_and_science
		icon = GFX_focus_research2
		prerequisite = { focus = GRE_connecting_our_prefectures }
		x = 0
		y = 1
		relative_position_id = GRE_connecting_our_prefectures
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = GRE_sophistry_and_science_idea
		}
	}

	focus = {
		id = GRE_bedrock_of_balkan_financial_stability
		icon = GFX_focus_GRE_bedrock_of_balkan_stability
		prerequisite = { focus = GRE_fiscal_responsibility }
		x = 0
		y = 1
		relative_position_id = GRE_fiscal_responsibility
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_political_power = 200
			custom_effect_tooltip = GRE_bedrock_of_balkan_financial_stability_tt
			hidden_effect = {
				if = { 
					limit = { 
						country_exists = ALB
						ALB = { has_opinion = { target = GRE value > 50 } } 
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}	
				if = { 	
					limit = { 
						country_exists = BUL
						BUL = { has_opinion = { target = GRE value > 50 } } 
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}	
				if = { 	
					limit = { 
						country_exists = HUN
						HUN = { has_opinion = { target = GRE value > 50 } } 
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}	
				if = { 
					limit = { 
						country_exists = YUG
						YUG = { has_opinion = { target = GRE value > 50 } } 
					}
					add_offsite_building = { type = industrial_complex level = 1 }
				}
				if = { 	
					limit = { 
						country_exists = AUS
						AUS = { has_opinion = { target = GRE value > 75 } } 
					}
					add_offsite_building = { type = industrial_complex level = 2 }
				}
				if = { 	
					limit = { 
						country_exists = ROM
						ROM = { has_opinion = { target = GRE value > 75 } } 
					}
					add_offsite_building = { type = industrial_complex level = 2 }
				}
				if = { 
					limit = { 
						country_exists = TUR
						TUR = { has_opinion = { target = GRE value > 75 } } 
					}
					add_offsite_building = { type = industrial_complex level = 2 }
				}
				if = { 	
					limit = { 
						country_exists = CZE
						CZE = { has_opinion = { target = GRE value > 85 } } 
					}
					add_offsite_building = { type = industrial_complex level = 3 }
				}
			}
		}
	}	

	focus = {
		id = GRE_exporting_more_luxury_commodoties
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = GRE_open_foreign_subsidized_factories }
		x = 2
		y = 1
		relative_position_id = GRE_open_foreign_subsidized_factories
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies
				add_idea = GRE_foreign_monopolies_2
			}
			add_political_power = 120
			add_ideas = free_trade
		}
	}	

	focus = {
		id = GRE_greek_autarky
		icon = GFX_goal_generic_trade
		prerequisite = { focus = GRE_paying_back_our_debts_in_bulk }
		x = -2
		y = 1
		relative_position_id = GRE_paying_back_our_debts_in_bulk
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies
				add_idea = GRE_foreign_monopolies_2
			}
			add_stability = 0.1
			add_ideas = limited_exports
		}
	}		

	focus = {
		id = GRE_expand_our_tobacco_industry
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = GRE_exporting_more_luxury_commodoties focus = GRE_greek_autarky }
		mutually_exclusive = { focus = GRE_increase_our_mining_operations }
		x = 0
		y = 1
		relative_position_id = GRE_exporting_more_luxury_commodoties
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies_2
				add_idea = GRE_foreign_monopolies_3
			}
			731 = { 
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 3
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			}	
			184 = {
				if = { 
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}	
			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GRE_tobacco_exports
				}
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GRE_tobacco_exports
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GRE_tobacco_exports
				}
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GRE_tobacco_exports
				}
			}
			hidden_effect = { 
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GRE_luxury_exports
					}
				}
				USA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GRE_luxury_exports
					}
				}
				FRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GRE_luxury_exports
					}
				}
				ENG = {
					add_opinion_modifier = {
						target = ROOT
						modifier = GRE_luxury_exports
					}
				}
			}
		}
	}

	focus = {
		id = GRE_increase_our_mining_operations
		icon = GFX_goal_generic_production
		prerequisite = { focus = GRE_exporting_more_luxury_commodoties focus = GRE_greek_autarky }
		mutually_exclusive = { focus = GRE_expand_our_tobacco_industry }
		x = 0
		y = 1
		relative_position_id = GRE_greek_autarky
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies_2
				add_idea = GRE_foreign_monopolies_3
			}
			47 = {
				if = { 
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}	
			}
			185 = {
				if = { 
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}	
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = excavation_tech
			}			
		}
	}

	focus = {
		id = GRE_encourage_tourism
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = GRE_expand_our_tobacco_industry focus = GRE_increase_our_mining_operations }
		mutually_exclusive = { focus = GRE_mobilise_our_economy }
		x = 0
		y = 1
		relative_position_id = GRE_expand_our_tobacco_industry
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies_3
				add_idea = GRE_foreign_monopolies_4
			}
			add_stability = 0.05
			add_ideas = GRE_booming_tourism
			custom_effect_tooltip = GRE_encourage_tourism_tt
		}
	}	

	focus = {
		id = GRE_mobilise_our_economy
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = GRE_expand_our_tobacco_industry focus = GRE_increase_our_mining_operations }
		available = { has_war_support > 0.2 }
		mutually_exclusive = { focus = GRE_encourage_tourism }
		x = 0
		y = 1
		relative_position_id = GRE_increase_our_mining_operations
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			swap_ideas = {
				remove_idea = GRE_foreign_monopolies_3
				add_idea = GRE_foreign_monopolies_4
			}
			add_war_support = 0.05
			if = {
				limit = {
					NOT = { has_idea = partial_economic_mobilisation }
					NOT = { has_idea = war_economy }
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = partial_economic_mobilisation        
			}
			else_if = {
				limit = {
					NOT = { has_idea = war_economy }
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = war_economy        
			}
            else = {
                add_political_power = 150
            }            
        }
    }		

	focus = {
		id = GRE_rejuvenating_athens
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = GRE_encourage_tourism focus = GRE_mobilise_our_economy }
		mutually_exclusive = { focus = GRE_making_use_of_our_islands focus = GRE_clear_the_slums }
		x = 1
		y = 2
		relative_position_id = GRE_sophistry_and_science
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			47 = {
				if = { 
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}	
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}			
		}
	}

	focus = {
		id = GRE_making_use_of_our_islands
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = GRE_encourage_tourism focus = GRE_mobilise_our_economy }
		mutually_exclusive = { focus = GRE_rejuvenating_athens focus = GRE_clear_the_slums }
		x = 1
		y = 1
		relative_position_id = GRE_encourage_tourism
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			187 = {
				if = { 
					limit = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}	
			}
			182 = {
				if = { 
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}	
			if = { 
				limit = { 
					owns_state = 183 
				}		
				183 = {
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
					}	
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			if = { 
				limit = { 
					owns_state = 164 
				}
				164 = {
					if = {
						limit = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}	
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = { 
				limit = { 
					NOT = { 
						owns_state = 183
						owns_state = 164
					}
				}
				custom_effect_tooltip = GRE_making_use_of_our_islands_tt
			}	
			else_if = { 
				limit = { 
					NOT = { 
						owns_state = 164
					}
				}
				custom_effect_tooltip = GRE_making_use_of_our_islands_dodecanese_tt
			}
			else_if = { 
				limit = { 
					NOT = { 
						owns_state = 183
					}
				}
				custom_effect_tooltip = GRE_making_use_of_our_islands_cyprus_tt
			}
			hidden_effect = { 
				if = { 
					limit = { 
						183 = { is_owned_by = GRE }
						NOT = { 183 = { is_core_of = GRE } }
					}
					add_state_core = 183
				}
			}
		}
	}		

	focus = {
		id = GRE_clear_the_slums
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = GRE_encourage_tourism focus = GRE_mobilise_our_economy }
		mutually_exclusive = { focus = GRE_rejuvenating_athens focus = GRE_making_use_of_our_islands }
		x = 1
		y = 1
		relative_position_id = GRE_mobilise_our_economy
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 184 }
				add_extra_state_shared_building_slots = 2
			}		
			random_owned_controlled_state = {
				prioritize = { 731 }
				add_extra_state_shared_building_slots = 1
			}		
			random_owned_controlled_state = {
				prioritize = { 186 }
				add_extra_state_shared_building_slots = 1
			}		
			random_owned_controlled_state = {
				prioritize = { 185 }
				add_extra_state_shared_building_slots = 1
			}			
			add_manpower = 66750
		}
	}	

	focus = {
		id = GRE_crack_down_on_foreign_monopolies
		icon = GFX_goal_generic_political_pressure
		dynamic = yes
		prerequisite = { focus = GRE_bedrock_of_balkan_financial_stability }
		prerequisite = { focus = GRE_rejuvenating_athens focus = GRE_making_use_of_our_islands focus = GRE_clear_the_slums }
		mutually_exclusive = { focus = GRE_cooperate_with_foreign_monopolies }
		x = 4
		y = 1
		relative_position_id = GRE_making_use_of_our_islands
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			if = { 
				limit = {
					NOT = {
						has_idea = GRE_foreign_monopolies_4
					}
				}
				effect_tooltip = { remove_ideas = GRE_foreign_monopolies }
			}
			else = {
				remove_ideas = GRE_foreign_monopolies_4
			}
		}
	}	

	focus = {
		id = GRE_cooperate_with_foreign_monopolies
		icon = GFX_goal_tripartite_pact
		dynamic = yes
		prerequisite = { focus = GRE_sophistry_and_science }
		prerequisite = { focus = GRE_rejuvenating_athens focus = GRE_making_use_of_our_islands focus = GRE_clear_the_slums }
		mutually_exclusive = { focus = GRE_crack_down_on_foreign_monopolies }
		x = -4
		y = 1
		relative_position_id = GRE_making_use_of_our_islands
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_political_power = 120
			if = { 
				limit = {
					NOT = {
						has_idea = GRE_foreign_monopolies_4
					}
				}
				effect_tooltip = { 
					swap_ideas = { 
						remove_idea = GRE_foreign_monopolies
						add_idea = GRE_cooperate_with_foreign_monopolies_spirit
					}
				}
			}
			else = {
				swap_ideas = { 
					remove_idea = GRE_foreign_monopolies_4
					add_idea = GRE_cooperate_with_foreign_monopolies_spirit
				}
			}
		}
	}

	focus = {
		id = GRE_academy_of_athens
		icon = GFX_focus_research
		prerequisite = { focus = GRE_cooperate_with_foreign_monopolies focus = GRE_crack_down_on_foreign_monopolies }
		x = 4
		y = 1
		relative_position_id = GRE_cooperate_with_foreign_monopolies
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}


### #  # #   # ###  ## ### #   # ### #  # ###     ### ###  ### ### 
 #  ## # #   # #   #    #  ## ## #   ## #  #       #  #  # #   #   
 #  # ##  # #  ##   #   #  # # # ##  # ##  #       #  ###  ##  ##  
 #  #  #  # #  #     #  #  #   # #   #  #  #       #  #  # #   #   
### #  #   #   ### ##   #  #   # ### #  #  #       #  #  # ### ### 


	focus = {
		id = GRE_four_year_plan
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = GRE_metaxism_focus }
		available = { 
			date < 1938.01.01
		}
		x = 4
		y = 1
		relative_position_id = GRE_metaxism_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = { 
			date > 1938.01.01
		}


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = { 
				limit = { 
					date > 1936.01.01
					date < 1937.01.01
				}
				add_timed_idea = { idea = GRE_four_year_plan_spirit days = 1460 }
			}
			else_if = { 
				limit = { 
					date > 1937.01.01
					date < 1938.01.01
				}
				add_timed_idea = { idea = GRE_four_year_plan_spirit days = 1095 }
			}
		}	
	}

	focus = {
		id = GRE_open_up_the_country
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = GRE_four_year_plan focus = GRE_extracting_more_from_our_soil }
		x = 0
		y = 1
		relative_position_id = GRE_four_year_plan
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			unlock_decision_category_tooltip = GRE_investment_decisions_category
		}
	}

	focus = {
		id = GRE_bolster_the_schachtplan
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = GRE_open_up_the_country }
		mutually_exclusive = { focus = GRE_renegotiate_debt_with_france focus = GRE_british_docking_rights }
		available = {
			has_idea = GRE_schachtplan
			NOT = {
				has_country_flag = GRE_germany_rebuffed
			}
		}
		bypass = {
			has_country_flag = GRE_germany_rebuffed
		}
		x = 0
		y = 1
		relative_position_id = GRE_open_up_the_country
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					is_historical_focus_on = no
					OR = { 
						has_completed_focus = GRE_recruit_the_fascists
						has_completed_focus = GRE_realign_ourselves_with_the_central_powers
					}
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = GRE_exploit_errata_in_schachtplan
			swap_ideas = {
				remove_idea = GRE_schachtplan
				add_idea = GRE_schachtplan_modified
			}
		}
	}

	focus = {
		id = GRE_rapprochement_with_the_italians
		icon = GFX_focus_befriend_italy
		prerequisite = { focus = GRE_bolster_the_schachtplan }
		available = { 
			NOT = {
				has_country_flag = GRE_italy_rebuffed
			}
		}
		bypass = {
			has_country_flag = GRE_italy_rebuffed
		}
		x = 0
		y = 1
		relative_position_id = GRE_bolster_the_schachtplan
		cost = 5
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					is_historical_focus_on = no
					OR = { 
						has_completed_focus = GRE_recruit_the_fascists
						has_country_flag = GRE_germany_rebuffed
					}
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = GRE_request_italian_assistance_with_industrialisation
		}
	}	

	focus = {
		id = GRE_british_docking_rights
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = GRE_open_up_the_country }
		mutually_exclusive = { focus = GRE_bolster_the_schachtplan focus = GRE_renegotiate_debt_with_france }
		available = { 
			NOT = {
				has_country_flag = GRE_britain_rebuffed
			}
		}
		bypass = {
			has_country_flag = GRE_britain_rebuffed
		}
		x = 2
		y = 1
		relative_position_id = GRE_open_up_the_country
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			unlock_decision_tooltip = GRE_trade_manufactured_ship_parts_for_investment
			diplomatic_relation = {
				country = ENG
				relation = docking_rights
				active = yes
            }
		}
	}	

	focus = {
		id = GRE_renegotiate_debt_with_france
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = GRE_open_up_the_country }
		mutually_exclusive = { focus = GRE_bolster_the_schachtplan focus = GRE_british_docking_rights }
		available = { 
			NOT = {
				has_country_flag = GRE_france_rebuffed
			}
		}
		bypass = {
			has_country_flag = GRE_france_rebuffed
		}
		x = 4
		y = 1
		relative_position_id = GRE_open_up_the_country
		cost = 5
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					is_historical_focus_on = no
					has_completed_focus = GRE_compromise_with_the_monarchists
					ENG = { has_completed_focus = ENG_concessions_to_the_trade_unions }
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = GRE_renegotiate_debt_with_france_tt
			hidden_effect = { 
				set_temp_variable = { a = GRE_debt_to_the_ifc_france_var }
				add_to_variable = { GRE_debt_to_the_ifc_paid_var = a }
				set_variable = { var = GRE_debt_to_the_ifc_france_var value = 0 }
				GRE_debt_check_effect = yes
			}
		}
	}	

	focus = {
		id = GRE_appeal_to_the_soviet_union
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = GRE_british_docking_rights focus = GRE_renegotiate_debt_with_france }
		available = { 
			NOT = {
				has_country_flag = GRE_soviets_rebuffed
			}
		}
		bypass = {
			has_country_flag = GRE_soviets_rebuffed
		}
		x = 1
		y = 1
		relative_position_id = GRE_british_docking_rights
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				AND = { 
					is_historical_focus_on = no
					OR = { 
						has_country_flag = GRE_britain_rebuffed
						has_country_flag = GRE_france_rebuffed
					}
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = GRE_attend_talks_with_the_presidium
		}
	}

 ##  ###  #   # ### ###      ###  ##  ###   ##  ###  ##     ### ###  ### ### 
#  # #  # ## ## #   #  #     #   #  # #  # #  # #   #        #  #  # #   #   
#### ###  # # # ##  #  #     ##  #  # ###  #    ##   #       #  ###  ##  ##  
#  # #  # #   # #   #  #     #   #  # #  # #  # #     #      #  #  # #   #   
#  # #  # #   # ### ###      #    ##  #  #  ##  ### ##       #  #  # ### ### 

	focus = {
		id = GRE_hellenic_armed_forces
		icon = GFX_focus_GRE_hellenic_armed_forces
		x = 46
		y = 0
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			army_experience = 10
			navy_experience = 10
			air_experience = 10
			unlock_decision_category_tooltip = GRE_hellenic_academy_category
		}
	}

	focus = {
		id = GRE_the_hellenic_air_force
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = GRE_hellenic_armed_forces }
		x = -7
		y = 1
		relative_position_id = GRE_hellenic_armed_forces
		cost = 5
		ai_will_do = {
			base = 1
		}

		available = {
			OR = {
				has_full_control_of_state = 182
				has_full_control_of_state = 185
				has_full_control_of_state = 47
			}
		}

		completion_reward = {
			air_experience = 5
			random_owned_controlled_state = {
				prioritize = { 182 }
				if = {
					limit = { 
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
					}
				}
			}
			random_owned_controlled_state = {	
				prioritize = { 185 } 
					if = {
						limit = { 
							is_controlled_by = ROOT
						}
						add_building_construction = {
							type = air_base
							level = 3
							instant_build = yes
						}
					}
				}
			random_owned_controlled_state = {	
				prioritize = { 47 }
				if = {
					limit = { 
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = GRE_the_hellenic_army
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = GRE_hellenic_armed_forces }
		x = 0
		y = 1
		relative_position_id = GRE_hellenic_armed_forces
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = GRE_the_hellenic_army
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				name = GRE_the_hellenic_army
				bonus = 1.0
				uses = 1
				category = engineers_tech
			}
		}
	}			

	focus = {
		id = GRE_the_hellenic_navy 
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GRE_hellenic_armed_forces }
		x = 7
		y = 1
		relative_position_id = GRE_hellenic_armed_forces
		cost = 5
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			navy_experience = 5
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}	
			}	
		}
	}

	focus = {
		id = GRE_a_modern_navy
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GRE_the_hellenic_navy }
		mutually_exclusive = { focus = GRE_abandon_the_greek_turkish_naval_treaty }
		x = 2
		y = 1
		relative_position_id = GRE_the_hellenic_navy
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = { 
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }
			}
			add_tech_bonus = {
				name = GRE_a_modern_navy
				bonus = 0.75
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = GRE_a_modern_navy
				bonus = 0.75
				uses = 1
				category = ss_tech
			}
		}
	}	

	focus = {
		id = GRE_abandon_the_greek_turkish_naval_treaty
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GRE_the_hellenic_navy }
		mutually_exclusive = { focus = GRE_a_modern_navy }
		x = -2
		y = 1
		relative_position_id = GRE_the_hellenic_navy
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		completion_reward = {
			custom_effect_tooltip = GRE_abandon_the_greek_turkish_naval_treaty_tt
			TUR = {
				add_opinion_modifier = { 
					target = GRE 
					modifier = GRE_aegean_troublemakers
				}
			}
		}
	}	

	focus = {
		id = GRE_a_fleet_fit_for_the_aegean
		icon = GFX_focus_generic_aegean_sea_focus
		prerequisite = { focus = GRE_abandon_the_greek_turkish_naval_treaty }
		x = 0
		y = 1
		relative_position_id = GRE_abandon_the_greek_turkish_naval_treaty
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_a_fleet_fit_for_the_aegean
				bonus = 1.0
				uses = 1
				category = bb_tech
				category = bc_tech
			}
			add_tech_bonus = {
				name = GRE_a_fleet_fit_for_the_aegean
				bonus = 0.75
				uses = 2
				category = naval_doctrine
			}
		}
	}	

	focus = {
		id = GRE_disrupting_the_great_powers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = GRE_a_modern_navy }
		x = 0
		y = 1
		relative_position_id = GRE_a_modern_navy
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_disrupting_the_great_powers
				bonus = 0.75
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = GRE_disrupting_the_great_powers
				bonus = 1.0
				uses = 3
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = GRE_the_cannon
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = GRE_a_fleet_fit_for_the_aegean }
		x = -1
		y = 1
		relative_position_id = GRE_a_fleet_fit_for_the_aegean
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			if = {
 				limit = { has_dlc = "Man the Guns" }
 				add_tech_bonus = {
 					name = GRE_the_cannon
					bonus = 1.00
					uses = 1
					category = bb_tech
				}
				add_tech_bonus = {
					name = GRE_the_cannon
					bonus = 1.00
					uses = 2
					category = naval_equipment
				}
 			}	
			else = {
				navy_experience = 15
			}
		}
	}					

	focus = {
		id = GRE_the_torpedo
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = GRE_disrupting_the_great_powers }
		x = 1
		y = 1
		relative_position_id = GRE_disrupting_the_great_powers
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			if = {
 				limit = { has_dlc = "Man the Guns" }
				add_tech_bonus = {
					name = GRE_the_torpedo
					bonus = 1.00
					uses = 2
					category = ss_tech
				}
				add_tech_bonus = {
					name = GRE_the_torpedo
					bonus = 1.00
					uses = 1
					category = naval_equipment
				}
 			}	
			else = {
				navy_experience = 15
			}
		}
	}

	focus = {
		id = GRE_a_long_and_proud_tradition
		icon = GFX_focus_GRE_a_long_and_proud_tradition
		prerequisite = { focus = GRE_disrupting_the_great_powers focus = GRE_a_fleet_fit_for_the_aegean }
		x = 0
		y = 3
		relative_position_id = GRE_the_hellenic_navy
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_stability = 0.05
			navy_experience = 10
			add_ideas = GRE_ancient_talents
		}
	}		

	focus = {
		id = GRE_the_backbone_of_our_army
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = GRE_the_hellenic_army }
		x = -2
		y = 1
		relative_position_id = GRE_the_hellenic_army
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_tech_bonus = {
				name = GRE_the_backbone_of_our_army
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = GRE_the_backbone_of_our_army
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			if = {
				limit = {
					NOT = { 
						has_idea = GRE_hellenic_army_2
					}
				}
				add_ideas = GRE_hellenic_army
			}
			if = {
				limit = {
					has_idea = GRE_hellenic_army_2
				}
				swap_ideas = {
					remove_idea = GRE_hellenic_army_2
					add_idea = GRE_hellenic_army_3
				}
			}
		}
	}

	focus = {
		id = GRE_a_legacy_of_war
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = GRE_the_hellenic_army }
		x = 2
		y = 1
		relative_position_id = GRE_the_hellenic_army
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_a_legacy_of_war
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					NOT = { 
						has_idea = GRE_hellenic_army
					}
				}
				add_ideas = GRE_hellenic_army_2
			}
			if = {
				limit = {
					has_idea = GRE_hellenic_army
				}
				swap_ideas = {
					remove_idea = GRE_hellenic_army
					add_idea = GRE_hellenic_army_3
				}
			}
		}
	}	

	focus = {
		id = GRE_embracing_modern_warfare
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = GRE_the_backbone_of_our_army }
		mutually_exclusive = { focus = GRE_new_weapons_old_tricks }
		x = 0
		y = 1
		relative_position_id = GRE_the_backbone_of_our_army
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_embracing_modern_warfare
				bonus = 0.75
				uses = 1
				category = cat_light_armor
			}
			add_tech_bonus = {
				name = GRE_embracing_modern_warfare
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}		

	focus = {
		id = GRE_new_weapons_old_tricks
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = GRE_a_legacy_of_war }
		mutually_exclusive = { focus = GRE_embracing_modern_warfare }
		x = 0
		y = 1
		relative_position_id = GRE_a_legacy_of_war
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = GRE_new_weapons_old_tricks
				bonus = 1.0
				uses = 1
				technology = tech_recon
				technology = tech_recon2
				technology = tech_recon3
			}
			add_tech_bonus = {
				name = GRE_new_weapons_old_tricks
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}	

	focus = {
		id = GRE_hellenic_armoured_corp
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = GRE_embracing_modern_warfare }
		x = 0
		y = 1
		relative_position_id = GRE_embracing_modern_warfare
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_hellenic_armoured_corp
				bonus = 1.0
				ahead_reduction = 1
				uses = 1
				category = cat_light_armor
				category = cat_medium_armor
			}
		}
	}	

	focus = {
		id = GRE_greek_mechanisation
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = GRE_new_weapons_old_tricks }
		x = 0
		y = 1
		relative_position_id = GRE_new_weapons_old_tricks
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_greek_mechanisation
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}		

	focus = {
		id = GRE_a_land_of_mountains
		icon = GFX_focus_GRE_a_land_of_mountains
		prerequisite = { focus = GRE_hellenic_armoured_corp focus = GRE_greek_mechanisation }
		x = 2
		y = 1
		relative_position_id = GRE_hellenic_armoured_corp
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = special_bonus
				bonus = 1.0
				uses = 2
				technology = tech_mountaineers
				technology = tech_mountaineers2
			}
			custom_effect_tooltip = GRE_mountain_training_effect
			hidden_effect = { set_technology = { mountain_warfare = 1 } }
		}
	}	

	focus = {
		id = GRE_destroying_our_foes
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GRE_the_hellenic_air_force }
		mutually_exclusive = { focus = GRE_protecting_our_skies }
		x = -2
		y = 1
		relative_position_id = GRE_the_hellenic_air_force
		cost = 10
		ai_will_do = {
			base = 0
			modifier = { 
				add = 1
				is_historical_focus_on = no
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_destroying_our_foes
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = GRE_destroying_our_foes
				bonus = 1.5
				uses = 1
				category = strategic_destruction_tree
			}
			add_tech_bonus = {
				name = GRE_destroying_our_foes
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
	}	

	focus = {
		id = GRE_protecting_our_skies
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = GRE_the_hellenic_air_force }
		mutually_exclusive = { focus = GRE_destroying_our_foes }
		x = 2
		y = 1
		relative_position_id = GRE_the_hellenic_air_force
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_protecting_our_skies
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = GRE_protecting_our_skies
				bonus = 1.5
				uses = 1
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = GRE_protecting_our_skies
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
		}
	}	

	focus = {
		id = GRE_escorts_for_our_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GRE_destroying_our_foes }
		x = 0
		y = 1
		relative_position_id = GRE_destroying_our_foes
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_escorts_for_our_bombers
				bonus = 1.5
				uses = 1
				category = air_doctrine
			}
			add_tech_bonus = {
				name = GRE_escorts_for_our_bombers
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter
			}
		}
	}		

	focus = {
		id = GRE_defending_our_seas
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GRE_protecting_our_skies }
		x = 0
		y = 1
		relative_position_id = GRE_protecting_our_skies
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_defending_our_seas
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = GRE_defending_our_seas
				bonus = 1.0
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = GRE_fund_the_hellenic_air_force_academy
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = GRE_escorts_for_our_bombers focus = GRE_defending_our_seas }
		x = 2
		y = 1
		relative_position_id = GRE_escorts_for_our_bombers
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			air_experience = 10
			add_ideas = GRE_hellenic_air_force_academy
		}
	}	

	focus = {
		id = GRE_the_double_headed_aquila
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = GRE_fund_the_hellenic_air_force_academy }
		available = { has_global_flag = form_byzantine_empire_flag }
		x = 0
		y = 1
		relative_position_id = GRE_fund_the_hellenic_air_force_academy
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_the_double_headed_aquila
				bonus = 1.0
				uses = 2
				ahead_reduction = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}		

	focus = {
		id = GRE_modern_cataphracts
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = GRE_a_land_of_mountains }
		available = { has_global_flag = form_byzantine_empire_flag }
		x = 0
		y = 1
		relative_position_id = GRE_a_land_of_mountains
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				name = GRE_modern_cataphracts
				technology = mechanised_infantry
			}
			add_tech_bonus = {
				name = GRE_modern_cataphracts
				bonus = 0.5
				ahead_reduction = 2
				uses = 1
				category = cat_heavy_armor
			}
			swap_ideas = {
				remove_idea = GRE_hellenic_army_3
				add_idea = GRE_byzantine_army
			}
		}
	}

	focus = {
		id = GRE_thema_nautikon
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = GRE_a_long_and_proud_tradition }
		available = { has_global_flag = form_byzantine_empire_flag }
		x = 0
		y = 1
		relative_position_id = GRE_a_long_and_proud_tradition
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = GRE_thema_nautikon
				bonus = 0.75
				uses = 2
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = GRE_thema_nautikon
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}		

}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = netherlands_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = HOL
			has_dlc = "Man the Guns"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }

 ##   ##  #    ##  #  # ###  ##  #       ### #  # ###  #  #  ## ### ###  #   #     ### ###  ### ### 
#  # #  # #   #  # ## #  #  #  # #        #  ## # #  # #  # #    #  #  #  # #       #  #  # #   #   
#    #  # #   #  # # ##  #  #### #        #  # ## #  # #  #  #   #  ###    #        #  ###  ##  ##  
#  # #  # #   #  # #  #  #  #  # #        #  #  # #  # #  #   #  #  #  #   #        #  #  # #   #   
 ##   ##  ###  ##  #  # ### #  # ###     ### #  # ###   ##  ##   #  #  #   #        #  #  # ### ### 


	focus = {
		id = HOL_obtain_foreign_colonial_investments
		available = {
			NOT = { has_war_with = USA }
			NOT = { has_war_with = ENG }
			any_country = {
				OR = {
					original_tag = HOL
					is_subject_of = HOL
				}
				has_full_control_of_state = 335
				has_full_control_of_state = 672
				has_full_control_of_state = 334
			}
			has_full_control_of_state = 695
			has_full_control_of_state = 309
		}
		bypass = {
		}
		
		icon = GFX_goal_generic_consumer_goods
		x = 3
		y = 0
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_category_tooltip = HOL_obtain_foreign_colonial_investments
			custom_effect_tooltip = HOL_obtain_foreign_colonial_investments_tt
		}
	}

#   # ###  ## ###     ### #  # ###  ### ###  ## 
#   # #   #    #       #  ## # #  #  #  #   #   
# # # ##   #   #       #  # ## #  #  #  ##   #  
# # # #     #  #       #  #  # #  #  #  #     # 
 # #  ### ##   #      ### #  # ###  ### ### ##  


	focus = {
		id = HOL_the_western_possessions
		available = {
			has_full_control_of_state = 695
			has_full_control_of_state = 309
		}
		prerequisite = { focus = HOL_obtain_foreign_colonial_investments }
		icon = GFX_goal_generic_construct_infrastructure
		x = -3
		y = 1
		relative_position_id = HOL_obtain_foreign_colonial_investments
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			695 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			309 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_expand_curacao_oil_refineries
		available = {
			has_full_control_of_state = 695
			OR = {
				threat > 0.2
				has_war = yes
			}
			OR = {
				GER = {
					is_in_faction_with = ROOT
				}
				AND = {
					USA = {
						NOT = { has_war_with = ROOT }
					}
					ENG = {
						NOT = { has_war_with = ROOT }
					}
				}
			}
			OR = {
				has_idea = free_trade
				has_idea = export_focus
			}
		}
		prerequisite = { focus = HOL_the_western_possessions }
		icon = GFX_goal_generic_oil_refinery
		x = 0
		y = 1
		relative_position_id = HOL_the_western_possessions
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			custom_effect_tooltip = HOL_expand_curacao_oil_refineries_tt
			695 = {
				add_resource = {
					type = oil
					amount = 24
				}
				if = {
					limit = {
						695 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = HOL_expand_curacao_oil_refineries
				bonus = 1.0
				uses = 1
				category = synth_resources
			}
		}
	}

	focus = {
		id = HOL_open_second_paranam_bauxite_mine
		available = {
			has_full_control_of_state = 309
			OR = {
				has_war = yes
				GER = {
					is_in_faction_with = ROOT
				}
				AND = {
					USA = {
						has_war = yes
						NOT = { has_war_with = ROOT }
					}
					ENG = {
						has_war = yes
						NOT = { has_war_with = ROOT }
					}
				}
			}
			OR = {
				has_idea = free_trade
				has_idea = export_focus
			}
		}
		prerequisite = { focus = HOL_expand_curacao_oil_refineries }
		icon = GFX_focus_generic_aluminum
		x = 0
		y = 1
		relative_position_id = HOL_expand_curacao_oil_refineries
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			309 = {
				add_resource = {
					type = aluminium
					amount = 36
				}
				if = {
					limit = {
						309 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_antilles_defenses
		available = {
			has_full_control_of_state = 695
		}
		prerequisite = { focus = HOL_expand_curacao_oil_refineries }
		icon = GFX_goal_generic_construct_military
		x = 2
		y = 2
		relative_position_id = HOL_expand_curacao_oil_refineries
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			695 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 153
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 153
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_pre_empt_venezuelan_aggression
		available = {
			custom_trigger_tooltip = {
				tooltip = HOL_pre_empt_venezuelan_aggression_tt
				NOT = {
					OR = {
						has_idea = HOL_shell_shocked_spectator_1
						has_idea = HOL_shell_shocked_spectator_2
						has_idea = HOL_shell_shocked_spectator_3
						has_idea = HOL_shell_shocked_spectator_4
						has_idea = HOL_shell_shocked_spectator_5
					}
				}
			}
			NOT = { has_idea = HOL_aloof_neutrality }
			has_global_flag = ven_claims_abc_islands
		}
		prerequisite = { focus = HOL_antilles_defenses }
		will_lead_to_war_with = VEN
		icon = GFX_goal_demand_sudetenland
		x = -1
		y = 1
		relative_position_id = HOL_antilles_defenses
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = VEN
			    expire = 0
			}
		}
	}

###  ##   ## ###     ### #  # ###  ### ###  ## 
#   #  # #    #       #  ## # #  #  #  #   #   
##  ####  #   #       #  # ## #  #  #  ##   #  
#   #  #   #  #       #  #  # #  #  #  #     # 
### #  # ##   #      ### #  # ###  ### ### ##  

	focus = {
		id = HOL_the_crown_jewel_colony
		available = {
			OR = {
				AND = {
					has_full_control_of_state = 335
					has_full_control_of_state = 672
				}
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 335
					has_full_control_of_state = 672
				}
			}
		}
		prerequisite = { focus = HOL_obtain_foreign_colonial_investments }
		icon = GFX_goal_generic_construct_infrastructure
		x = 3
		y = 1
		relative_position_id = HOL_obtain_foreign_colonial_investments
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			335 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			672 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					INS = {
						is_subject_of = HOL
						has_full_control_of_state = 335
						has_full_control_of_state = 672
					}
				}
				INS = {
					add_autonomy_ratio = {
						value = -0.025
						localization = HOL_the_crown_jewel_colony
					}
				}
			}
		}
	}

	focus = {
		id = HOL_java
		available = {
			OR = {
				has_full_control_of_state = 335
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 335
				}
			}
		}
		prerequisite = { focus = HOL_the_crown_jewel_colony }
		icon = GFX_focus_generic_industry_2
		x = 0
		y = 1
		relative_position_id = HOL_the_crown_jewel_colony
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			335 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					INS = {
						is_subject_of = HOL
						has_full_control_of_state = 335
					}
				}
				INS = {
					add_autonomy_ratio = {
						value = -0.05
						localization = HOL_java
					}
				}
			}
		}
	}

	focus = {
		id = HOL_reinforce_java
		available = {
			OR = {
				has_full_control_of_state = 335
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 335
				}
			}
		}
		prerequisite = { focus = HOL_java }
		icon = GFX_goal_generic_construct_military
		x = -2
		y = 2
		relative_position_id = HOL_java
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			335 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 7381
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 7381
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4608
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 4608
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					INS = {
						is_subject_of = HOL
						has_full_control_of_state = 335
					}
				}
				INS = {
					add_autonomy_ratio = {
						value = -0.025
						localization = HOL_reinforce_java
					}
				}
			}
		}
	}

	focus = {
		id = HOL_the_foundations_of_defense
		available = {
			OR = {
				has_full_control_of_state = 335
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 335
				}
			}
			has_full_control_of_state = 695
			custom_trigger_tooltip = {
				tooltip = HOL_pre_empt_venezuelan_aggression_tt
				NOT = {
					OR = {
						has_idea = HOL_shell_shocked_spectator_1
						has_idea = HOL_shell_shocked_spectator_2
						has_idea = HOL_shell_shocked_spectator_3
						has_idea = HOL_shell_shocked_spectator_4
						has_idea = HOL_shell_shocked_spectator_5
					}
				}
			}
		}
		prerequisite = { focus = HOL_antilles_defenses focus = HOL_reinforce_java }
		icon = GFX_focus_hol_the_foundations_of_defense
		x = -1
		y = 1
		relative_position_id = HOL_reinforce_java
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = HOL_the_foundations_of_defense
			335 = {
				custom_effect_tooltip = HOL_the_foundations_of_defense_tt
				hidden_effect = {
					add_building_construction = {
						type = naval_base
						level = 10
						province = 4608
						instant_build = yes
					}
				}
			}
			695 = {
				add_building_construction = {
					type = naval_base
					level = 2
					province = 153
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_sumatra
		available = {
			OR = {
				has_full_control_of_state = 672
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 672
				}
			}
		}
		prerequisite = { focus = HOL_java }
		icon = GFX_focus_generic_industry_2
		x = -1
		y = 1
		relative_position_id = HOL_java
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			672 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						672 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					INS = {
						is_subject_of = HOL
						has_full_control_of_state = 672
					}
				}
				INS = {
					add_autonomy_ratio = {
						value = -0.05
						localization = HOL_sumatra
					}
				}
			}
		}
	}

	focus = {
		id = HOL_borneo_and_the_grote_oost
		available = {
			OR = {
				AND = {
					has_full_control_of_state = 667
					has_full_control_of_state = 334
					has_full_control_of_state = 668
					has_full_control_of_state = 673
				}
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 667
					has_full_control_of_state = 334
					has_full_control_of_state = 668
					has_full_control_of_state = 673
				}
			}
		}
		prerequisite = { focus = HOL_java }
		icon = GFX_focus_generic_industry_1
		x = 1
		y = 1
		relative_position_id = HOL_java
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			667 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			334 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			668 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			673 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						673 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					INS = {
						is_subject_of = HOL
						has_full_control_of_state = 667
						has_full_control_of_state = 334
						has_full_control_of_state = 668
						has_full_control_of_state = 673
					}
				}
				INS = {
					add_autonomy_ratio = {
						value = -0.05
						localization = HOL_borneo_and_the_grote_oost
					}
				}
			}
		}
	}

 ##   ##  #  # ### ### #  # #  # ###     ### #  # ###     #   #  ##  ###      ### #  #     ###   ##  ###  ##  #   # ###  ##  
#  # #  # ## #  #   #  ## # #  # #        #  #  # #       #   # #  # #  #      #  ## #     #  # #  #  #  #  # #   #  #  #  # 
#    #  # # ##  #   #  # ## #  # ##       #  #### ##      # # # #### ###       #  # ##     ###  ####  #  ####  # #   #  #### 
#  # #  # #  #  #   #  #  # #  # #        #  #  # #       # # # #  # #  #      #  #  #     #  # #  #  #  #  #  # #   #  #  # 
 ##   ##  #  #  #  ### #  #  ##  ###      #  #  # ###      # #  #  # #  #     ### #  #     ###  #  #  #  #  #   #   ### #  # 

 	focus = {
		id = HOL_curtail_colonial_autonomy
		available = {
			country_exists = INS
			NOT = { has_completed_focus = HOL_oranje_boven }
			INS = { is_subject_of = HOL }
		}
		bypass = {
			INS = { exists = no }
			owns_state = 335
		}
		prerequisite = { focus = HOL_the_crown_jewel_colony }
		mutually_exclusive = { focus = HOL_the_zuiderzee_works }
		icon = GFX_focus_generic_treaty
		x = 2
		y = 3
		relative_position_id = HOL_the_crown_jewel_colony
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = {
				idea = HOL_curtail_colonial_autonomy_overlord
				days = 545
			}
			INS = {
				add_timed_idea = {
					idea = HOL_curtail_colonial_autonomy_subject
					days = 545
				}
				hidden_effect = {
					country_event = { id = mtg_netherlands.21 hours = 6 }
				}
			}
		}
	}

	focus = {
		id = HOL_continue_the_war_in_batavia
		prerequisite = { focus = HOL_sumatra }
		prerequisite = { focus = HOL_borneo_and_the_grote_oost }
		prerequisite = { focus = HOL_curtail_colonial_autonomy }
		available = {
			has_capitulated = yes
			NOT = { has_completed_focus = HOL_oranje_boven }
			OR = {
				INS = {
					is_subject_of = HOL
					has_autonomy_state = autonomy_integrated_puppet
					compare_autonomy_progress_ratio < 0.6
					has_full_control_of_state = 335
				}
				has_full_control_of_state = 335
			}
		}
		icon = GFX_focus_hol_continue_the_war_in_batavia
		x = 1
		y = 2
		relative_position_id = HOL_sumatra
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			activate_decision = HOL_relocate_government_to_batavia
			custom_effect_tooltip = HOL_continue_the_war_in_batavia_tt
			effect_tooltip = {
				remove_ideas = HOL_curtail_colonial_autonomy_overlord
				INS = {
					every_unit_leader = {
						set_nationality = HOL
					}
				}
				annex_country = {
				    target = INS
				    transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = INS
					}
					add_compliance = 70
				}
				set_capital = 335
			}
		}
	}

	focus = {
		id = HOL_a_western_capital
		available = {
			has_full_control_of_state = 335
		}
		prerequisite = { focus = HOL_continue_the_war_in_batavia }
		icon = GFX_focus_generic_industry_3
		x = -1
		y = 1
		relative_position_id = HOL_continue_the_war_in_batavia
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			335 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = industrial_complex
								size > 3
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_expand_the_colonial_army
		prerequisite = { focus = HOL_continue_the_war_in_batavia }
		icon = GFX_focus_generic_military_academy
		x = 1
		y = 1
		relative_position_id = HOL_continue_the_war_in_batavia
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = HOL_expand_the_colonial_army
			every_state = {
				limit = {
					is_core_of = INS
				}
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.25
					}
				}
			}
		}
	}

	focus = {
		id = HOL_colonial_shipbuilding
		available = {
			controls_state = 335
			controls_state = 672
			controls_state = 334
			controls_state = 673
			controls_state = 667
			controls_state = 309
		}
		prerequisite = { focus = HOL_a_western_capital }
		prerequisite = { focus = HOL_the_foundations_of_defense }
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -1
		y = 1
		relative_position_id = HOL_a_western_capital
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			335 = {
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			672 = {
				if = {
					limit = {
						672 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			334 = {
				if = {
					limit = {
						334 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			673 = {
				if = {
					limit = {
						673 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			667 = {
				if = {
					limit = {
						667 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			309 = {
				if = {
					limit = {
						309 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_the_east_indies_war_machine
		available = {
			has_full_control_of_state = 335
		}
		prerequisite = { focus = HOL_a_western_capital }
		prerequisite = { focus = HOL_expand_the_colonial_army }
		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = HOL_a_western_capital
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			335 = {
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = arms_factory
								size > 3
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_prepare_for_our_return
		available = {
		}
		bypass = {
			controls_state = 7
			controls_state = 35
			controls_state = 36
		}
		prerequisite = { focus = HOL_colonial_shipbuilding }
		prerequisite = { focus = HOL_the_east_indies_war_machine }
		icon = GFX_goal_generic_amphibious_assault
		x = 1
		y = 1
		relative_position_id = HOL_colonial_shipbuilding
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			335 = {
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			672 = {
				if = {
					limit = {
						672 = {
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
					}
				}
			}
			add_ideas = HOL_prepare_for_our_return
			add_tech_bonus = {
				name = HOL_prepare_for_our_return
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
		}
	}

	focus = {
		id = HOL_liberation
		available = {
			has_full_control_of_state = 7
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_prepare_for_our_return }
		icon = GFX_focus_hol_liberation
		x = 0
		y = 1
		relative_position_id = HOL_prepare_for_our_return
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			set_capital = 7
			add_stability = 0.1
			add_war_support = 0.05
			add_manpower = 150000
			add_equipment_to_stockpile = {
			    type = infantry_equipment
			    amount = 10000
			    producer = HOL
			}
			add_equipment_to_stockpile = {
			    type = support_equipment
			    amount = 500
			    producer = HOL
			}
			add_ideas = HOL_liberation
			HOL_de_crisisjaren_level_down = yes
		}
	}

 ##  ###   ##  #  # ###   ##  #  #     ### #  # ###      ##   ##  #   ###       ## ###  ##  #  # ###   ##  ###  ###  
#  # #  # #  # ## # #  # #  # ## #      #  #  # #       #    #  # #   #  #     #    #  #  # ## # #  # #  # #  # #  # 
#### ###  #### # ## #  # #  # # ##      #  #### ##      # ## #  # #   #  #      #   #  #### # ## #  # #### ###  #  # 
#  # #  # #  # #  # #  # #  # #  #      #  #  # #       #  # #  # #   #  #       #  #  #  # #  # #  # #  # #  # #  # 
#  # ###  #  # #  # ###   ##  #  #      #  #  # ###      ##   ##  ### ###      ##   #  #  # #  # ###  #  # #  # ###  

	focus = {
		id = HOL_abandon_the_gold_standard
		icon = GFX_focus_hol_abandon_the_gold_standard
		x = 13
		y = 0
		relative_position_id = HOL_obtain_foreign_colonial_investments
		cost = 10

		available_if_capitulated = yes
		completion_reward = {
			HOL_de_crisisjaren_level_down = yes
		}
	}

#   #  ##  ### #  # #    ##  #  # ###      ### #  # ###  #  #  ## ### ###  #   #     ### ###  ### ### 
## ## #  #  #  ## # #   #  # ## # #  #      #  ## # #  # #  # #    #  #  #  # #       #  #  # #   #   
# # # ####  #  # ## #   #### # ## #  #      #  # ## #  # #  #  #   #  ###    #        #  ###  ##  ##  
#   # #  #  #  #  # #   #  # #  # #  #      #  #  # #  # #  #   #  #  #  #   #        #  #  # #   #   
#   # #  # ### #  # ### #  # #  # ###      ### #  # ###   ##  ##   #  #  #   #        #  #  # ### ### 


	focus = {
		id = HOL_continue_the_public_works
		available = {
			has_full_control_of_state = 7
		}
		bypass = {
			NOT = { controls_state = 7 }
			NOT = { controls_state = 35 }
			NOT = { controls_state = 36 }
		}
		prerequisite = { focus = HOL_abandon_the_gold_standard }
		icon = GFX_goal_generic_construction
		x = -5
		y = 1
		relative_position_id = HOL_abandon_the_gold_standard
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_tech_bonus = {
				name = HOL_continue_the_public_works
				bonus = 1.0
				uses = 1
				category = industry
			}
			35 = {
				if = {
					limit = {
						35 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			HOL_de_crisisjaren_level_down = yes
		}
	}

	focus = {
		id = HOL_finish_the_noordoostpolder
		available = {
			has_full_control_of_state = 36
		}
		bypass = {
			NOT = { controls_state = 7 }
			NOT = { controls_state = 35 }
			NOT = { controls_state = 36 }
		}
		prerequisite = { focus = HOL_continue_the_public_works }
		icon = GFX_goal_generic_construction2
		x = -1
		y = 1
		relative_position_id = HOL_continue_the_public_works
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			36 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			HOL_de_crisisjaren_level_down = yes
		}
	}

	focus = {
		id = HOL_the_maastunnel
		available = {
			has_full_control_of_state = 7
			has_full_control_of_state = 35
		}
		bypass = {
			NOT = { controls_state = 7 }
			NOT = { controls_state = 35 }
			NOT = { controls_state = 36 }
		}
		prerequisite = { focus = HOL_continue_the_public_works }
		icon = GFX_goal_generic_construct_infrastructure
		x = 1
		y = 1
		relative_position_id = HOL_continue_the_public_works
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			7 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			35 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			HOL_de_crisisjaren_level_down = yes
		}
	}

	focus = {
		id = HOL_expand_the_artillerieinrichtingen
		available = {
			has_full_control_of_state = 7
		}
		bypass = {
			NOT = { controls_state = 7 }
			NOT = { controls_state = 35 }
			NOT = { controls_state = 36 }
		}
		prerequisite = { focus = HOL_finish_the_noordoostpolder }
		prerequisite = { focus = HOL_the_maastunnel }
		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = HOL_finish_the_noordoostpolder
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = HOL_expand_the_artillerieinrichtingen_tt
			7 = {
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_philips_focus
		prerequisite = { focus = HOL_expand_the_artillerieinrichtingen }
		icon = GFX_focus_hol_philips
		x = 2
		y = 1
		relative_position_id = HOL_expand_the_artillerieinrichtingen
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			custom_effect_tooltip = HOL_philips_focus_tt
			add_tech_bonus = {
				name = HOL_philips_focus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = HOL_philips_focus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = HOL_expand_RD_facilities
		prerequisite = { focus = HOL_philips_focus }
		icon = GFX_focus_research
		x = 0
		y = 1
		relative_position_id = HOL_philips_focus
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_research_slot = 1
		}
	}

### #  # ###     ### #  # ### ###  ### ###  ### ### ###     #   #  ##  ###  # #  ## 
 #  #  # #         # #  #  #  #  # #   #  #   # #   #       #   # #  # #  # # # #   
 #  #### ##       #  #  #  #  #  # ##  ###   #  ##  ##      # # # #  # ###  ##   #  
 #  #  # #       #   #  #  #  #  # #   #  # #   #   #       # # # #  # #  # # #   # 
 #  #  # ###     ###  ##  ### ###  ### #  # ### ### ###      # #   ##  #  # # # ##  

 	focus = {
		id = HOL_the_zuiderzee_works
		available = {
			has_full_control_of_state = 7
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_expand_the_artillerieinrichtingen }
		mutually_exclusive = { focus = HOL_curtail_colonial_autonomy }
		icon = GFX_focus_hol_the_zuiderzee_works
		x = -1
		y = 1
		relative_position_id = HOL_expand_the_artillerieinrichtingen
		cost = 30

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_the_zuiderzee_works
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = industry
			}
			7 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			36 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			HOL_de_crisisjaren_level_down = yes
			hidden_effect = { news_event = { id = mtg_news.47 days = 1 } }
		}
	}

	focus = {
		id = HOL_develop_the_randstad
		available = {
			has_full_control_of_state = 7
		}
		prerequisite = { focus = HOL_the_zuiderzee_works }
		mutually_exclusive = { focus = HOL_develop_the_zandstad }
		icon = GFX_goal_generic_construct_civ_factory
		x = -1
		y = 1
		relative_position_id = HOL_the_zuiderzee_works
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_develop_the_randstad
				bonus = 1.0
				uses = 1
				category = concentrated_industry_category
			}
			7 = {
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
				}
			}
			36 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_expand_the_ijmuiden_steel_mill
		available = {
			has_full_control_of_state = 7
		}
		prerequisite = { focus = HOL_develop_the_randstad }
		icon = GFX_focus_generic_steel
		x = 0
		y = 1
		relative_position_id = HOL_develop_the_randstad
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			7 = {
				add_resource = {
					type = steel
					amount = 16
				}
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_fokker
		available = {
			has_full_control_of_state = 7
		}
		prerequisite = { focus = HOL_expand_the_ijmuiden_steel_mill }
		icon = GFX_focus_hol_fokker
		x = 0
		y = 1
		relative_position_id = HOL_expand_the_ijmuiden_steel_mill
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = HOL_fokker_tt
			7 = {
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = arms_factory
								size > 3
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_domestic_jet_engine_designs
		prerequisite = { focus = HOL_fokker }
		icon = GFX_goal_generic_build_airforce
		x = 0
		y = 1
		relative_position_id = HOL_fokker
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_domestic_jet_engine_designs
				bonus = 1.0
				uses = 2
				category = jet_technology
			}
			HOL_domestic_jet_engine_designs_level_up = yes
		}
	}

	focus = {
		id = HOL_develop_the_zandstad
		available = {
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_the_zuiderzee_works }
		mutually_exclusive = { focus = HOL_develop_the_randstad }
		icon = GFX_goal_generic_construct_civ_factory
		x = 1
		y = 1
		relative_position_id = HOL_the_zuiderzee_works
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_develop_the_randstad
				bonus = 1.0
				uses = 1
				category = dispersed_industry_category
			}
			35 = {
				if = {
					limit = {
						35 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			36 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_friesland_agricultural_impetus
		available = {
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_develop_the_zandstad }
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 1
		relative_position_id = HOL_develop_the_zandstad
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = HOL_friesland_agricultural_impetus
			36 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_daf
		available = {
			has_full_control_of_state = 35
		}
		prerequisite = { focus = HOL_friesland_agricultural_impetus }
		icon = GFX_focus_hol_daf
		x = 0
		y = 1
		relative_position_id = HOL_friesland_agricultural_impetus
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = HOL_daf_tt
			35 = {
				if = {
					limit = {
						35 = {
							free_building_slots = {
								building = arms_factory
								size > 3
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_domestic_vehicle_designs
		prerequisite = { focus = HOL_daf }
		icon = GFX_goal_generic_army_motorized
		x = 0
		y = 1
		relative_position_id = HOL_daf
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_domestic_vehicle_designs
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
			add_ideas = HOL_domestic_vehicle_designs
		}
	}

	focus = {
		id = HOL_continental_shipbuilding
		available = {
			has_full_control_of_state = 7
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_fokker focus = HOL_daf }
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 1
		y = 2
		relative_position_id = HOL_fokker
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			7 = {
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			35 = {
				if = {
					limit = {
						35 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			36 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_domestic_innovation
		prerequisite = { focus = HOL_the_east_indies_war_machine focus = HOL_fokker focus = HOL_daf }
		available = {
			num_of_factories > 50
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		icon = GFX_focus_research
		x = -1
		y = 2
		relative_position_id = HOL_fokker
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = HOL_make_use_of_our_riches
		prerequisite = { focus = HOL_domestic_innovation }
		icon = GFX_goal_generic_construction2
		x = -1
		y = 1
		relative_position_id = HOL_domestic_innovation
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_make_use_of_our_riches
				bonus = 1.0
				uses = 2
				category = excavation_tech
			}
			add_ideas = HOL_make_use_of_our_riches
		}
	}

	focus = {
		id = HOL_the_ultimate_deterrent
		prerequisite = { focus = HOL_domestic_innovation }
		icon = GFX_focus_wonderweapons
		x = 1
		y = 1
		relative_position_id = HOL_domestic_innovation
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_the_ultimate_deterrent
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}

#   # ### #   ### ###  ##  ###  #   #     ### ###  ### ### 
## ##  #  #    #   #  #  # #  #  # #       #  #  # #   #   
# # #  #  #    #   #  #### ###    #        #  ###  ##  ##  
#   #  #  #    #   #  #  # #  #   #        #  #  # #   #   
#   # ### ### ###  #  #  # #  #   #        #  #  # ### ### 

	focus = {
		id = HOL_overturn_military_budget_cuts
		prerequisite = { focus = HOL_abandon_the_gold_standard }
		icon = GFX_goal_generic_army_doctrines
		x = 6
		y = 1
		relative_position_id = HOL_abandon_the_gold_standard
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			army_experience = 5
			add_war_support = 0.1
		}
	}

###  ### ### ### #  #  ## ###  ## 
#  # #   #   #   ## # #   #   #   
#  # ##  ##  ##  # ##  #  ##   #  
#  # #   #   #   #  #   # #     # 
###  ### #   ### #  # ##  ### ##  


	focus = {
		id = HOL_prepare_the_inundation_lines
		prerequisite = { focus = HOL_overturn_military_budget_cuts }
		icon = GFX_focus_hol_prepare_the_inundation_lines
		x = -6
		y = 1
		relative_position_id = HOL_overturn_military_budget_cuts
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = HOL_prepare_the_inundation_lines
			unlock_decision_category_tooltip = HOL_prepare_the_inundation_lines
			custom_effect_tooltip = HOL_prepare_the_inundation_lines_tt
		}
	}

	focus = {
		id = HOL_protect_against_britain
		available = {
			threat > 0.1
			has_full_control_of_state = 7
			has_full_control_of_state = 36
		}
		bypass = {
			has_defensive_war_with = ENG
			NOT = {
				focus_progress = {
					focus = HOL_germany_is_the_greater_threat
					progress > 0
				}
			}
		}
		prerequisite = { focus = HOL_prepare_the_inundation_lines }
		mutually_exclusive = { focus = HOL_germany_is_the_greater_threat }
		icon = GFX_focus_attack_britain
		x = -1
		y = 1
		relative_position_id = HOL_prepare_the_inundation_lines
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9498
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 9498
					instant_build = yes
				}
			}
			36 = {	
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 6336
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 6336
					instant_build = yes
				}
			}
			ENG = {
				add_opinion_modifier = { target = HOL modifier = HOL_protect_against_britain }
			}	
		}
	}

	focus = {
		id = HOL_further_reinforce_the_ports
		available = {
			threat > 0.15
			has_full_control_of_state = 7
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_protect_against_britain }
		icon = GFX_focus_generic_coastal_fort
		x = 0
		y = 1
		relative_position_id = HOL_protect_against_britain
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9498
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 9498
					instant_build = yes
				}
			}
			36 = {	
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 6336
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 6336
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_southward_defenses
		available = {
			threat > 0.2
			has_full_control_of_state = 7
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_further_reinforce_the_ports }
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = HOL_further_reinforce_the_ports
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 9498
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9498
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			35 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 11456
					instant_build = yes
				}
			}
			36 = {	
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 6336
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_germany_is_the_greater_threat
		available = {
			threat > 0.1
			has_full_control_of_state = 7
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}
		bypass = {
			has_defensive_war_with = GER
			NOT = {
				focus_progress = {
					focus = HOL_protect_against_britain
					progress > 0
				}
			}
		}
		prerequisite = { focus = HOL_prepare_the_inundation_lines }
		mutually_exclusive = { focus = HOL_protect_against_britain }
		icon = GFX_focus_attack_germany
		x = 1
		y = 1
		relative_position_id = HOL_prepare_the_inundation_lines
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 3314
					instant_build = yes
				}
			}
			36 = {	
				add_building_construction = {
					type = bunker
					level = 1
					province = 6241
					instant_build = yes
				}
			}
			35 = {	
				add_building_construction = {
					type = bunker
					level = 1
					province = 11456
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 6500
					instant_build = yes
				}
			}	
			GER = {
				add_opinion_modifier = { target = HOL modifier = HOL_germany_is_the_greater_threat }
			}	
		}
	}

	focus = {
		id = HOL_fortress_holland
		available = {
			threat > 0.15
			has_full_control_of_state = 7
			has_full_control_of_state = 35
		}
		prerequisite = { focus = HOL_germany_is_the_greater_threat }
		icon = GFX_goal_generic_fortify_city
		x = 0
		y = 1
		relative_position_id = HOL_germany_is_the_greater_threat
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 3314
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 9498
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 391
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			35 = {	
				add_building_construction = {
					type = bunker
					level = 2
					province = 11456
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}	
		}
	}

	focus = {
		id = HOL_modernize_the_grebbeline
		available = {
			threat > 0.2
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_fortress_holland }
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = HOL_fortress_holland
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			36 = {	
				add_building_construction = {
					type = bunker
					level = 2
					province = 6241
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}	
		}
	}

	focus = {
		id = HOL_war_on_pacifism
		available = {
			threat > 0.15
		}
		prerequisite = { focus = HOL_protect_against_britain focus = HOL_germany_is_the_greater_threat }
		icon = GFX_focus_hol_war_on_pacifism
		x = 1
		y = 3
		relative_position_id = HOL_protect_against_britain
		cost = 10

		cancel_if_invalid = no

		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_category_tooltip = HOL_war_on_pacifism
			custom_effect_tooltip = HOL_war_on_pacifism_tt
		}
	}

 ##  ###  #   # #   #     ### ###  ### ### 
#  # #  # ## ##  # #       #  #  # #   #   
#### ###  # # #   #        #  ###  ##  ##  
#  # #  # #   #   #        #  #  # #   #   
#  # #  # #   #   #        #  #  # ### ### 


	focus = {
		id = HOL_appoint_new_supreme_commander
		prerequisite = { focus = HOL_overturn_military_budget_cuts }
		icon = GFX_focus_generic_military_mission
		x = -1
		y = 1
		relative_position_id = HOL_overturn_military_budget_cuts
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = HOL_appoint_new_supreme_commander
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			remove_ideas = HOL_izaak_reijnders
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HOL_henri_winkelman
			remove_unit_leader = 980 #izaak_reijnders
			custom_effect_tooltip = HOL_appoint_new_supreme_commander_tt
			hidden_effect = {
				create_field_marshal = {
					name = "Henri Winkelman"
					gfx = "GFX_portrait_hol_henri_winkelman"
					traits = { defensive_doctrine trait_cautious unyielding_defender }
					skill = 4
					attack_skill = 2
					defense_skill = 4
					planning_skill = 4
					logistics_skill = 3
				}
			}
		}
	}

	focus = {
		id = HOL_modernize_our_infantry_equipment
		prerequisite = { focus = HOL_appoint_new_supreme_commander }
		mutually_exclusive = { focus = HOL_production_under_license }
		icon = GFX_goal_generic_small_arms
		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Death or Dishonor" }
			}
		}
		relative_position_id = HOL_appoint_new_supreme_commander
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_modernize_our_infantry_equipment
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = HOL_modernize_our_infantry_equipment
				bonus = 1.0
				uses = 1
				category = artillery
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				custom_effect_tooltip = HOL_modernize_our_infantry_equipment_tt
			}
		}
	}

	focus = {
		id = HOL_production_under_license
		prerequisite = { focus = HOL_appoint_new_supreme_commander }
		mutually_exclusive = { focus = HOL_modernize_our_infantry_equipment }

		allow_branch = {
			has_dlc = "Death or Dishonor"
		}

		available = {
		}
		icon = GFX_goal_generic_production
		x = 1
		y = 1
		relative_position_id = HOL_appoint_new_supreme_commander
		cost = 10

		available_if_capitulated = yes
		completion_reward = {
			add_ideas = HOL_production_under_license
			custom_effect_tooltip = HOL_production_under_license_tt
		}
	}

	focus = {
		id = HOL_light_tanks_for_the_colonies
		allow_branch = {
			always = yes
		}
		prerequisite = { focus = HOL_modernize_our_infantry_equipment focus = HOL_production_under_license }
		icon = GFX_goal_generic_army_tanks
		x = -1
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				NOT = { has_dlc = "Death or Dishonor" }
			}
		}
		relative_position_id = HOL_modernize_our_infantry_equipment
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = HOL_modernize_our_infantry_equipment }
					NOT = { has_completed_focus = HOL_production_under_license }
					has_dlc = "Death or Dishonor"
				}
				custom_effect_tooltip = HOL_light_tanks_for_the_colonies_tt
				effect_tooltip = {
					add_tech_bonus = {
						name = HOL_light_tanks_for_the_colonies
						bonus = 1.0
						uses = 1
						category = cat_light_armor
					}
					custom_effect_tooltip = HOL_light_tanks_for_the_colonies_2tt
					add_ideas = HOL_light_tanks_for_the_colonies
				}
			}
			if = {
				limit = {
					OR = {
						has_completed_focus = HOL_modernize_our_infantry_equipment
						NOT = { has_dlc = "Death or Dishonor" }
					}
				}
				add_tech_bonus = {
					name = HOL_light_tanks_for_the_colonies
					bonus = 1.0
					uses = 1
					category = cat_light_armor
				}
			}
			if = {
				limit = {
					has_completed_focus = HOL_production_under_license
				}
				add_ideas = HOL_light_tanks_for_the_colonies
			}
		}
	}

	focus = {
		id = HOL_secret_staff_talks
		available = {
			threat > 0.15
			OR = {
				GER = { has_added_tension_amount > 10 }
				ENG = { has_added_tension_amount > 10 }
				FRA = { has_added_tension_amount > 10 }
			}
			has_war = no
		}
		allow_branch = {
			always = yes
		}
		prerequisite = { focus = HOL_modernize_our_infantry_equipment focus = HOL_production_under_license }
		icon = GFX_goal_generic_intelligence_exchange
		x = 1
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				NOT = { has_dlc = "Death or Dishonor" }
			}
		}
		relative_position_id = HOL_modernize_our_infantry_equipment
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_category_tooltip = HOL_secret_staff_talks
			custom_effect_tooltip = HOL_secret_staff_talks_tt
		}
	}

	focus = {
		id = HOL_anti_tank_guns_for_the_continent
		allow_branch = {
			always = yes
		}
		prerequisite = { focus = HOL_modernize_our_infantry_equipment focus = HOL_production_under_license }
		icon = GFX_goal_generic_army_artillery2
		x = 3
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				NOT = { has_dlc = "Death or Dishonor" }
			}
		}
		relative_position_id = HOL_modernize_our_infantry_equipment
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = HOL_modernize_our_infantry_equipment }
					NOT = { has_completed_focus = HOL_production_under_license }
					has_dlc = "Death or Dishonor"
				}
				custom_effect_tooltip = HOL_light_tanks_for_the_colonies_tt
				effect_tooltip = {
					add_tech_bonus = {
						name = HOL_anti_tank_guns_for_the_continent
						bonus = 1.0
						uses = 1
						category = cat_anti_tank
					}
					custom_effect_tooltip = HOL_light_tanks_for_the_colonies_2tt
					add_ideas = HOL_anti_tank_guns_for_the_continent
				}
			}
			if = {
				limit = {
					OR = {
						has_completed_focus = HOL_modernize_our_infantry_equipment
						NOT = { has_dlc = "Death or Dishonor" }
					}
				}
				add_tech_bonus = {
					name = HOL_anti_tank_guns_for_the_continent
					bonus = 1.0
					uses = 1
					category = cat_anti_tank
				}
			}
			if = {
				limit = {
					has_completed_focus = HOL_production_under_license
				}
				add_ideas = HOL_anti_tank_guns_for_the_continent
			}
		}
	}

	focus = {
		id = HOL_lessons_from_the_last_war
		prerequisite = { focus = HOL_light_tanks_for_the_colonies focus = HOL_secret_staff_talks focus = HOL_anti_tank_guns_for_the_continent }
		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 1
		relative_position_id = HOL_secret_staff_talks
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = HOL_lessons_from_the_last_war
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
		}
	}

 ##  ### ###      ### ###  ### ### 
#  #  #  #  #      #  #  # #   #   
####  #  ###       #  ###  ##  ##  
#  #  #  #  #      #  #  # #   #   
#  # ### #  #      #  #  # ### ### 

	focus = {
		id = HOL_expand_the_mld
		available = {
			OR = {
				has_full_control_of_state = 335
				any_other_country = {
					is_subject_of = ROOT
					has_full_control_of_state = 335
				}
			}
		}
		bypass = {
			335 = {
				OWNER = { 
					NOT = {
						OR = {
							TAG = ROOT 
							is_subject_of = ROOT 
						}
					} 
				}
			}
		}
		prerequisite = { focus = HOL_overturn_military_budget_cuts }
		icon = GFX_goal_generic_air_doctrine
		x = 4
		y = 2
		relative_position_id = HOL_overturn_military_budget_cuts
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = HOL_expand_the_mld
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			335 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_protect_the_mainland
		bypass = {
			OR = {
				NOT = { controls_state = 7 }
				NOT = { controls_state = 35 }
				NOT = { controls_state = 36 }
			}
			NOT = {
				focus_progress = {
					focus = HOL_protect_the_colonies
					progress > 0
				}
			}
		}
		prerequisite = { focus = HOL_expand_the_mld }
		mutually_exclusive = { focus = HOL_protect_the_colonies }
		icon = GFX_goal_generic_air_fighter
		x = -1
		y = 1
		relative_position_id = HOL_expand_the_mld
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_protect_the_mainland
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = HOL_protect_the_colonies
		bypass = {
			custom_trigger_tooltip = {
				tooltip = netherlands_has_no_colonies_tt
				NOT = {
					OR = {
						controls_state = 335
						any_country = {
							is_subject_of = HOL
							controls_state = 335
						}
					}
					OR = {
						controls_state = 672
						any_country = {
							is_subject_of = HOL
							controls_state = 672
						}
					}
					OR = {
						controls_state = 334
						any_country = {
							is_subject_of = HOL
							controls_state = 334
						}
					}
					OR = {
						controls_state = 673
						any_country = {
							is_subject_of = HOL
							controls_state = 673
						}
					}
					OR = {
						controls_state = 667
						any_country = {
							is_subject_of = HOL
							controls_state = 667
						}
					}
					OR = {
						controls_state = 309
						any_country = {
							is_subject_of = HOL
							controls_state = 309
						}
					}
				}
				
				NOT = {
					focus_progress = {
						focus = HOL_protect_the_mainland
						progress > 0
					}
				}
			}
		}
		prerequisite = { focus = HOL_expand_the_mld }
		mutually_exclusive = { focus = HOL_protect_the_mainland }
		icon = GFX_goal_generic_air_naval_bomber
		x = 1
		y = 1
		relative_position_id = HOL_expand_the_mld
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_protect_the_colonies
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = HOL_modernize_the_air_fleet
		prerequisite = { focus = HOL_protect_the_mainland focus = HOL_protect_the_colonies }
		icon = GFX_goal_generic_air_production
		x = 1
		y = 1
		relative_position_id = HOL_protect_the_mainland
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_timed_idea = { idea = HOL_modernize_the_air_fleet days = 365 }
		}
	}

	focus = {
		id = HOL_strategic_bombing_defense
		available = {
			has_full_control_of_state = 7
		}
		prerequisite = { focus = HOL_modernize_the_air_fleet }
		icon = GFX_focus_generic_air_defense
		x = 0
		y = 1
		relative_position_id = HOL_modernize_the_air_fleet
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = HOL_strategic_bombing_defense
				bonus = 1
				uses = 1
				category = air_doctrine
			}
			7 = {			
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_longer_range_models
		prerequisite = { focus = HOL_strategic_bombing_defense }
		icon = GFX_goal_generic_air_bomber
		x = -1
		y = 1
		relative_position_id = HOL_strategic_bombing_defense
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_longer_range_models
				bonus = 1
				uses = 2
				category = cat_heavy_fighter
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = HOL_unsinkable_aircraft_carriers
		available = {
			OR = {
				AND = {
					has_full_control_of_state = 335
					has_full_control_of_state = 672
					has_full_control_of_state = 673
					has_full_control_of_state = 334
					has_full_control_of_state = 667
					has_full_control_of_state = 668
					has_full_control_of_state = 738
					has_full_control_of_state = 669
				}
				any_other_country = {
					is_subject_of = HOL
					has_full_control_of_state = 335
					has_full_control_of_state = 672
					has_full_control_of_state = 673
					has_full_control_of_state = 334
					has_full_control_of_state = 667
					has_full_control_of_state = 668
					has_full_control_of_state = 738
					has_full_control_of_state = 669
				}
			}
		}
		prerequisite = { focus = HOL_strategic_bombing_defense }
		mutually_exclusive = { focus = HOL_air_cover_for_the_new_fleet }
		icon = GFX_goal_generic_construct_military
		x = 1
		y = 1
		relative_position_id = HOL_strategic_bombing_defense
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			335 = {			
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			672 = {			
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			673 = {			
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			334 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			667 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			668 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			738 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			669 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}	
		}
	}

	focus = {
		id = HOL_aviatic_aspirations
		prerequisite = { focus = HOL_longer_range_models focus = HOL_unsinkable_aircraft_carriers }
		icon = GFX_goal_generic_build_airforce
		x = 1
		y = 1
		relative_position_id = HOL_longer_range_models
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = HOL_aviatic_aspirations
				bonus = 1
				uses = 2
				category = air_doctrine
			}
			HOL_domestic_jet_engine_designs_level_up = yes
		}
	}

#  #  ##  #   #  ##  #       ### ###  ### ### 
## # #  # #   # #  # #        #  #  # #   #   
# ## ####  # #  #### #        #  ###  ##  ##  
#  # #  #  # #  #  # #        #  #  # #   #   
#  # #  #   #   #  # ###      #  #  # ### ### 
	
	focus = {
		id = HOL_prepare_naval_expansion
		prerequisite = { focus = HOL_overturn_military_budget_cuts }
		available = {
			OR = {
				has_full_control_of_state = 7
				has_full_control_of_state = 35
				has_full_control_of_state = 36
			}
		}
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 8
		y = 2
		relative_position_id = HOL_overturn_military_budget_cuts
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = HOL_prepare_naval_expansion_3DY }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					NOT = { state = 7 }
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = HOL_prepare_naval_expansion_3DY
			}
		}
	}

	focus = {
		id = HOL_expand_the_amsterdam_petroleum_harbor
		prerequisite = { focus = HOL_prepare_naval_expansion }
		available = {
			has_full_control_of_state = 7
			7 = {
				free_building_slots = {
					building = fuel_silo
					size > 1
					include_locked = yes
				}
			}
		}
		icon = GFX_goal_generic_oil_refinery
		x = 2
		y = 1
		relative_position_id = HOL_prepare_naval_expansion
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			7 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HOL_cornerstone_of_colonial_defense
		prerequisite = { focus = HOL_prepare_naval_expansion }
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 1
		relative_position_id = HOL_prepare_naval_expansion
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_cornerstone_of_colonial_defense
				bonus = 1
				uses = 3
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = HOL_rely_on_submarines
		prerequisite = { focus = HOL_cornerstone_of_colonial_defense }
		mutually_exclusive = { focus = HOL_modernize_the_cruiser_fleet }
		icon = GFX_goal_generic_navy_submarine
		x = -1
		y = 1
		relative_position_id = HOL_cornerstone_of_colonial_defense
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_rely_on_submarines
				bonus = 1
				uses = 2
				category = ss_tech
			}
		}
	}

	focus = {
		id = HOL_modernize_the_cruiser_fleet
		prerequisite = { focus = HOL_cornerstone_of_colonial_defense }
		mutually_exclusive = { focus = HOL_rely_on_submarines }
		icon = GFX_focus_generic_cruiser2
		x = 1
		y = 1
		relative_position_id = HOL_cornerstone_of_colonial_defense
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_modernize_the_cruiser_fleet
				bonus = 1
				ahead_reduction = 2
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = HOL_the_battlecruiser_plan
		prerequisite = { focus = HOL_rely_on_submarines focus = HOL_modernize_the_cruiser_fleet focus = HOL_join_germany }
		available = {
			GER = {
				AND = {
						country_exists = GER
						has_opinion = { target = HOL value > 74 } 
				}
			}
		}
		bypass = {
			has_war_with = GER
		}
		icon = GFX_goal_generic_navy_battleship
		x = 1
		y = 1
		relative_position_id = HOL_rely_on_submarines
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			effect_tooltip = {
				set_technology = {
					basic_ship_hull_heavy = 1
					antiair2 = 1
					improved_fire_control_system = 1
					dp_secondary_battery = 1
				}
				create_equipment_variant = {
					name = "Design 1047 Battlecruiser"
					type = ship_hull_heavy_2
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = dp_ship_secondaries
						fixed_ship_armor_slot = ship_armor_bb_1
						front_1_custom_slot = ship_heavy_battery_1
						mid_1_custom_slot = ship_anti_air_2
						mid_2_custom_slot = dp_ship_secondaries
						rear_1_custom_slot = ship_heavy_battery_1
					}
				}
			}
			custom_effect_tooltip = HOL_the_battlecruiser_plan_tt
			GER = { country_event = { id = mtg_netherlands.7 hours = 6 } }
		}
	}

	focus = {
		id = HOL_air_cover_for_the_new_fleet
		prerequisite = { focus = HOL_the_battlecruiser_plan }
		mutually_exclusive = { focus = HOL_unsinkable_aircraft_carriers }
		icon = GFX_goal_generic_navy_carrier
		x = -1
		y = 1
		relative_position_id = HOL_the_battlecruiser_plan
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = HOL_air_cover_for_the_new_fleet
				bonus = 1
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = HOL_escorts_for_the_new_fleet
		prerequisite = { focus = HOL_the_battlecruiser_plan }
		icon = GFX_focus_generic_destroyer
		x = 1
		y = 1
		relative_position_id = HOL_the_battlecruiser_plan
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = HOL_escorts_for_the_new_fleet
				bonus = 1
				ahead_reduction = 2
				uses = 2
				category = dd_tech
			}
		}
	}

	focus = {
		id = HOL_naval_heritage
		prerequisite = { focus = HOL_air_cover_for_the_new_fleet focus = HOL_escorts_for_the_new_fleet }
		icon = GFX_goal_generic_build_navy
		x = 1
		y = 1
		relative_position_id = HOL_air_cover_for_the_new_fleet
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = HOL_naval_heritage
				bonus = 1
				uses = 2
				category = naval_doctrine
			}
			add_ideas = HOL_naval_heritage
		}
	}

###   ##  #   ### ### ###  ##   ##  #       ### ###  ### ### 
#  # #  # #    #   #   #  #  # #  # #        #  #  # #   #   
###  #  # #    #   #   #  #    #### #        #  ###  ##  ##  
#    #  # #    #   #   #  #  # #  # #        #  #  # #   #   
#     ##  ### ###  #  ###  ##  #  # ###      #  #  # ### ### 

	focus = {
		id = HOL_form_new_government
		bypass = {
			has_capitulated = yes
		}
		icon = GFX_goal_generic_improve_relations
		x = 27
		y = 0
		relative_position_id = HOL_abandon_the_gold_standard
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = mtg_netherlands.10 hours = 6 }
			effect_tooltip = {
				set_party_name = { ideology = democratic long_name = HOL_CHU_party_long name = HOL_CHU_party }
				create_country_leader = {
					name = "Dirk Jan de Geer"
					desc = "POLITICS_DIRK_JAN_DE_GEER_DESC"
					picture = "Portrait_Netherlands_Dirk_Jan_de_Geer.dds"
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						defeatist
					}
				}
				remove_ideas = HOL_weak_government
			}
		}
	}

	focus = {
		id = HOL_gateway_to_europe
		prerequisite = { focus = HOL_form_new_government }
		bypass = {
			OR = {
				has_war_with = GER
				has_war_with = ENG
			}
		}
		icon = GFX_focus_hol_gateway_to_europe
		x = 0
		y = 1
		relative_position_id = HOL_form_new_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 120
			unlock_decision_category_tooltip = HOL_gateway_to_europe_hol_category
			custom_effect_tooltip = HOL_gateway_to_europe_tt
		}
	}

	focus = {
		id = HOL_cave_to_the_germans
		prerequisite = { focus = HOL_gateway_to_europe }
		mutually_exclusive = { focus = HOL_maintain_trade_neutrality focus = HOL_cave_to_the_british }
		available = {
			custom_trigger_tooltip = {
				tooltip = HOL_cave_to_the_germans2_tt
				check_variable = { var = GER.ger_gateway_to_europe_influence value = 25 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = HOL_cave_to_the_germans_tt
				check_variable = { var = ger_temp_trade_influence value = 15 compare = greater_than_or_equals }
			}
		}
		bypass = {
			OR = {
				GER = { NOT = { has_government = fascism } }
				GER = { exists = no }
				GER = { has_completed_focus = GER_oppose_hitler }
				has_war_with = ENG
			}
			NOT = {
				OR = {
					focus_progress = {
						focus = HOL_cave_to_the_british
						progress > 0
					}
					focus_progress = {
						focus = HOL_maintain_trade_neutrality
						progress > 0
					}

				}
			}
		}
		icon = GFX_goal_generic_trade
		cancel_if_invalid = no
		x = -4
		y = 1
		relative_position_id = HOL_gateway_to_europe
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				is_historical_focus_on = no
				GER = { is_ai = no }
				check_variable = { var = ger_temp_trade_influence value = 15 compare = greater_than_or_equals }
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			effect_tooltip = {
				GER = {
					custom_effect_tooltip = HOL_trade_influence_tt
					add_political_power = HOL.gateway_to_europe_influence_pp_total
				}
			}
			add_ideas = free_trade
			add_timed_idea = { idea = HOL_caved_to_the_germans days = 1095 }
			GER = {
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_germans_ger }
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_germans_ger_trade }
				if = {
					limit = {
						INS = { is_subject_of = HOL }
					}
					add_opinion_modifier = { target = INS modifier = HOL_caved_to_the_germans_ger_trade }
				}
			}	
			ENG = {
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_germans_eng }
			}
			hidden_effect = { news_event = { id = mtg_news.10 hours = 6 } }
		}
	}

	focus = {
		id = HOL_maintain_trade_neutrality
		prerequisite = { focus = HOL_gateway_to_europe }
		mutually_exclusive = { focus = HOL_cave_to_the_germans focus = HOL_cave_to_the_british }
		available = {
			custom_trigger_tooltip = {
				tooltip = HOL_maintain_trade_neutrality2_tt
				check_variable = { var = ENG.eng_gateway_to_europe_influence value = 50 compare = greater_than_or_equals }
				check_variable = { var = GER.ger_gateway_to_europe_influence value = 50 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = HOL_maintain_trade_neutrality_tt
				check_variable = { var = eng_temp_trade_influence value = 5 compare = less_than_or_equals }
				check_variable = { var = eng_temp_trade_influence value = -5 compare = greater_than_or_equals }
			}
			NOT = { has_war_with = ENG }
			NOT = { has_war_with = GER }
		}
		bypass = {
			OR = {
				GER = { NOT = { has_government = fascism } }
				ENG = { NOT = { has_government = democratic } }
			}
			NOT = {
				OR = {
					focus_progress = {
						focus = HOL_cave_to_the_british
						progress > 0
					}
					focus_progress = {
						focus = HOL_cave_to_the_germans
						progress > 0
					}

				}
			}
		}
		icon = GFX_goal_generic_positive_trade_relations
		cancel_if_invalid = no
		x = 0
		y = 1
		relative_position_id = HOL_gateway_to_europe
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			ROOT = {
				custom_effect_tooltip = HOL_trade_influence_tt
				add_political_power = gateway_to_europe_influence_pp_total
			}
			add_opinion_modifier = { target = GER modifier = HOL_essential_dutch_trade }
			GER = {
				add_opinion_modifier = { target = HOL modifier = HOL_maintained_trade_neutrality }
				add_opinion_modifier = { target = HOL modifier = HOL_essential_dutch_trade }
			}
			add_opinion_modifier = { target = ENG modifier = HOL_essential_dutch_trade }
			ENG = {
				add_opinion_modifier = { target = HOL modifier = HOL_maintained_trade_neutrality }
				add_opinion_modifier = { target = HOL modifier = HOL_essential_dutch_trade }
			}
			hidden_effect = { news_event = { id = mtg_news.12 hours = 6 } }
		}
	}

	focus = {
		id = HOL_cave_to_the_british
		prerequisite = { focus = HOL_gateway_to_europe }
		mutually_exclusive = { focus = HOL_cave_to_the_germans focus = HOL_maintain_trade_neutrality }
		available = {
			custom_trigger_tooltip = {
				tooltip = HOL_cave_to_the_british2_tt
				check_variable = { var = ENG.eng_gateway_to_europe_influence value = 25 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = HOL_cave_to_the_british_tt
				check_variable = { var = eng_temp_trade_influence value = 15 compare = greater_than_or_equals }
			}
		}
		bypass = {
			OR = {
				ENG = { NOT = { has_government = democratic } }
				ENG = { exists = no }
				has_war_with = GER
			}
			NOT = {
				OR = {
					focus_progress = {
						focus = HOL_maintain_trade_neutrality
						progress > 0
					}
					focus_progress = {
						focus = HOL_cave_to_the_germans
						progress > 0
					}

				}
			}
		}
		icon = GFX_goal_generic_trade
		cancel_if_invalid = no
		x = 4
		y = 1
		relative_position_id = HOL_gateway_to_europe
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				is_historical_focus_on = no
				ENG = { is_ai = no }
				check_variable = { var = eng_temp_trade_influence value = 15 compare = greater_than_or_equals }
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			effect_tooltip = {
				ENG = {
					custom_effect_tooltip = HOL_trade_influence_tt
					add_political_power = HOL.gateway_to_europe_influence_pp_total
				}
			}
			add_ideas = limited_exports
			add_timed_idea = { idea = HOL_caved_to_the_british days = 1095 }
			GER = {
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_british_ger }
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_british_ger_trade }
				if = {
					limit = {
						INS = { is_subject_of = HOL }
					}
					add_opinion_modifier = { target = INS modifier = HOL_caved_to_the_british_ger_trade }
				}
			}	
			ENG = {
				add_opinion_modifier = { target = HOL modifier = HOL_caved_to_the_british_eng }
			}
			hidden_effect = { news_event = { id = mtg_news.11 hours = 6 } }
		}
	}

###  ##   ##  ##  ### #   # 
#   #  # #   #  #  #  ## ## 
##  ####  #  #     #  # # # 
#   #  #   # #  #  #  #   # 
#   #  # ##   ##  ### #   # 

	focus = {
		id = HOL_volk_en_vaderland
		prerequisite = { focus = HOL_cave_to_the_germans }
		icon = GFX_goal_support_fascism
		x = -3
		y = 1
		relative_position_id = HOL_cave_to_the_germans
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_timed_idea = { idea = HOL_volk_en_vaderland days = 1095 }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HOL_meinout_rost_van_tonningen
		}
	}

	focus = {
		id = HOL_de_jeugdstorm
		available = {
			has_government = fascism
		}
		prerequisite = { focus = HOL_volk_en_vaderland }
		icon = GFX_goal_generic_more_territorial_claims
		x = 1
		y = 1
		relative_position_id = HOL_volk_en_vaderland
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
			    ideology = fascism
			    popularity = 0.05
			}
			add_war_support = 0.05
			add_ideas = HOL_de_jeugdstorm
		}
	}

	focus = {
		id = HOL_strength_over_blood
		available = {
			has_government = fascism
		}
		prerequisite = { focus = HOL_volk_en_vaderland }
		icon = GFX_focus_generic_support_the_left_right
		x = -1
		y = 1
		relative_position_id = HOL_volk_en_vaderland
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			remove_ideas = HOL_aloof_neutrality
			add_war_support = 0.1
			if = {
				limit = {
					has_idea = HOL_weak_government
				}
				remove_ideas = HOL_weak_government
			}
		}
	}

 ###  ##  ### #  #      ##  ### ###  #   #  ##  #  # #   # 
   # #  #  #  ## #     #    #   #  # ## ## #  # ## #  # #  
   # #  #  #  # ##     # ## ##  ###  # # # #### # ##   #   
#  # #  #  #  #  #     #  # #   #  # #   # #  # #  #   #   
 ##   ##  ### #  #      ##  ### #  # #   # #  # #  #   #   


	focus = {
		id = HOL_join_germany
		available = {
			GER = { has_government = fascism }
			NOT = { has_war_with = GER }
		}
		bypass = {
			is_in_faction_with = GER
			NOT = {
				focus_progress = {
					focus = HOL_the_netherlands_first
					progress > 0
				}
			}
		}
		prerequisite = { focus = HOL_strength_over_blood }
		mutually_exclusive = { focus = HOL_the_netherlands_first }
		icon = GFX_focus_chi_mission_to_germany
		x = -1
		y = 1
		relative_position_id = HOL_strength_over_blood
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			GER = { country_event = { id = generic.2 hours = 6 } }
		}
	}

	focus = {
		id = HOL_german_technological_exchange
		prerequisite = { focus = HOL_join_germany }
		icon = GFX_goal_tfv_generic_tech_sharing
		x = -1
		y = 1
		relative_position_id = HOL_join_germany
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_to_tech_sharing_group = HOL_ger_research
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = HOL_ger_research
			}
		}
	}

	focus = {
		id = HOL_beginnings_of_a_dutch_blitzkrieg
		prerequisite = { focus = HOL_german_technological_exchange }
		mutually_exclusive = { focus = HOL_assume_the_naval_burden }
		available = {
			GER = {
				has_tech = basic_medium_tank
			}
		}
		icon = GFX_focus_generic_tank_production
		x = -1
		y = 3
		relative_position_id = HOL_german_technological_exchange
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				if = {
					limit = {
						GER = {
							NOT = { has_tech = advanced_medium_tank }
							NOT = { has_tech = improved_medium_tank }
							NOT = { has_tech = basic_medium_tank }
						}
					}
					custom_effect_tooltip = HOL_beginnings_of_a_dutch_blitzkrieg_tt_1
				}
				GER = {
					if = {
						limit = {
							has_tech = advanced_medium_tank
						}
						create_production_license = {
							target = HOL
							equipment = {
								type = medium_tank_equipment_3
							}
							cost_factor = 0
						}
						HOL = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_3
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = improved_medium_tank
							NOT = { has_tech = advanced_medium_tank }
						}
						create_production_license = {
							target = HOL
							equipment = {
								type = medium_tank_equipment_2
							}
							cost_factor = 0
						}
						HOL = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_2
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = basic_medium_tank
						}
						create_production_license = {
							target = HOL
							equipment = {
								type = medium_tank_equipment_1
							}
							cost_factor = 0
						}
						HOL = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_1
							    amount = 250
							    producer = GER
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Death or Dishonor" }
				}
				if = {
					limit = {
						GER = {
							NOT = { has_tech = advanced_medium_tank }
							NOT = { has_tech = improved_medium_tank }
							NOT = { has_tech = basic_medium_tank }
						}
					}
					custom_effect_tooltip = HOL_beginnings_of_a_dutch_blitzkrieg_tt_2
				}
				GER = {
					if = {
						limit = {
							has_tech = advanced_medium_tank
						}
						HOL = {
							add_tech_bonus = {
								name = HOL_beginnings_of_a_dutch_blitzkrieg
								bonus = 1
								uses = 1
								technology = advanced_medium_tank
							}
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_3
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = improved_medium_tank
							NOT = { has_tech = advanced_medium_tank }
						}
						HOL = {
							add_tech_bonus = {
								name = HOL_beginnings_of_a_dutch_blitzkrieg
								bonus = 1
								uses = 1
								technology = improved_medium_tank
							}
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_2
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = basic_medium_tank
						}
						HOL = {
							add_tech_bonus = {
								name = HOL_beginnings_of_a_dutch_blitzkrieg
								bonus = 1
								uses = 1
								technology = basic_medium_tank
							}
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_1
							    amount = 250
							    producer = GER
							}
						}
					}
				}
			}
			add_offsite_building = { type = arms_factory level = 4 }
		}
	}

	focus = {
		id = HOL_placate_the_japanese
		available = {
			JAP = { has_government = fascism }
			NOT = { has_war_with = JAP }
			OR = {
				AND = {
					controls_state = 335
					controls_state = 672
					controls_state = 334
					controls_state = 673
					controls_state = 667
				}
				any_country = {
					is_subject_of = HOL
					controls_state = 335
					controls_state = 672
					controls_state = 334
					controls_state = 673
					controls_state = 667
				}
			}
		}
		bypass = {
			has_war_with = JAP
			NOT = {
				OR = {
					AND = {
						controls_state = 335
						controls_state = 672
						controls_state = 334
						controls_state = 673
						controls_state = 667
						controls_state = 309
					}
					any_country = {
						is_subject_of = HOL
						controls_state = 335
						controls_state = 672
						controls_state = 334
						controls_state = 673
						controls_state = 667
						controls_state = 309
					}
				}
			}
		}
		prerequisite = { focus = HOL_join_germany }
		icon = GFX_focus_chi_collaboration_with_the_japanese
		x = 0
		y = 2
		relative_position_id = HOL_join_germany
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = mtg_netherlands.11 hours = 6 }
		}
	}

	focus = {
		id = HOL_assume_the_naval_burden
		available = {
			has_full_control_of_state = 7
			has_full_control_of_state = 36
		}
		prerequisite = { focus = HOL_placate_the_japanese }
		mutually_exclusive = { focus = HOL_beginnings_of_a_dutch_blitzkrieg }
		icon = GFX_goal_generic_occupy_states_coastal
		x = 0
		y = 2
		relative_position_id = HOL_placate_the_japanese
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = HOL_assume_the_naval_burden
			7 = {
				if = {
					limit = {
						7 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			35 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			36 = {
				if = {
					limit = {
						36 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

#  # ### ### #  # ### ###  #    ##  #  # ###   ##     ### ### ###   ## ### 
## # #    #  #  # #   #  # #   #  # ## # #  # #       #    #  #  # #    #  
# ## ##   #  #### ##  ###  #   #### # ## #  #  #      ##   #  ###   #   #  
#  # #    #  #  # #   #  # #   #  # #  # #  #   #     #    #  #  #   #  #  
#  # ###  #  #  # ### #  # ### #  # #  # ###  ##      #   ### #  # ##   #  

	focus = {
		id = HOL_the_netherlands_first
		available = {
			NOT = {
				is_in_faction_with = GER
			}
		}
		prerequisite = { focus = HOL_strength_over_blood }
		mutually_exclusive = { focus = HOL_join_germany }
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 1
		relative_position_id = HOL_strength_over_blood
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_war_support = 0.1
		}
	}

	focus = {
		id = HOL_implement_the_program
		prerequisite = { focus = HOL_the_netherlands_first }
		icon = GFX_goal_generic_military_sphere
		x = 0
		y = 2
		relative_position_id = HOL_the_netherlands_first
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_ideas = HOL_implement_the_program
			add_stability = 0.05
			add_popularity = {
			    ideology = fascism
			    popularity = 0.05
			}
			if = {
				limit = {
					has_idea = extensive_conscription
				}
				add_ideas = service_by_requirement
			}
			else_if = {
				limit = {
					has_idea = limited_conscription
				}
				add_ideas = extensive_conscription
			}
			else_if = {
				limit = {
					has_idea = volunteer_only
				}
				add_ideas = limited_conscription
			}
			else_if = {
				limit = {
					has_idea = disarmed_nation
				}
				add_ideas = volunteer_only
			}
			if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				add_ideas = war_economy
			}
			else_if = {
				limit = {
					has_idea = low_economic_mobilisation
				}
				add_ideas = partial_economic_mobilisation
			}
			else_if = {
				limit = {
					has_idea = civilian_economy
				}
				add_ideas = low_economic_mobilisation
			}
			else_if = {
				limit = {
					has_idea = isolation
				}
				add_ideas = civilian_economy
			}
		}
	}

	focus = {
		id = HOL_taking_back_french_flanders
		prerequisite = { focus = HOL_implement_the_program }
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 2
		relative_position_id = HOL_implement_the_program
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			random_other_country = {
				limit = {
					owns_state = 29
					has_full_control_of_state = 29
				}
				HOL = {
					add_state_claim = 29
					create_wargoal = {
					    type = take_state_focus
					    generator = { 29 }
					    target = PREV
					    expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = HOL_the_united_netherlands
		available = {
			NOT = { is_in_faction_with = BEL }
			NOT = { is_in_faction_with = LUX }
			custom_trigger_tooltip = {
				tooltip = HOL_pre_empt_venezuelan_aggression_tt
				NOT = {
					OR = {
						has_idea = HOL_shell_shocked_spectator_1
						has_idea = HOL_shell_shocked_spectator_2
						has_idea = HOL_shell_shocked_spectator_3
						has_idea = HOL_shell_shocked_spectator_4
						has_idea = HOL_shell_shocked_spectator_5
					}
				}
			}
		}
		bypass = {
			has_full_control_of_state = 6
			has_full_control_of_state = 34
			has_full_control_of_state = 8
		}
		prerequisite = { focus = HOL_join_germany focus = HOL_the_netherlands_first }
		will_lead_to_war_with = BEL
		will_lead_to_war_with = LUX
		icon = GFX_focus_hol_united_netherlands
		x = 1
		y = 1
		relative_position_id = HOL_join_germany
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = annex_everything
			    target = BEL
			    expire = 0
			}
			create_wargoal = {
			    type = annex_everything
			    target = LUX
			    expire = 0
			}
		}
	}

	focus = {
		id = HOL_taking_back_our_old_colonies
		available = {
			NOT = { is_in_faction_with = FRA }
			NOT = { is_in_faction_with = ENG }
			NOT = { is_in_faction_with = SAF }
		}
		bypass = {
			has_full_control_of_state = 694
			has_full_control_of_state = 308
			has_full_control_of_state = 691
			has_full_control_of_state = 687
			has_full_control_of_state = 310
			has_full_control_of_state = 274
			has_full_control_of_state = 681
			has_full_control_of_state = 275
			has_full_control_of_state = 719
			has_full_control_of_state = 422
		}
		prerequisite = { focus = HOL_the_united_netherlands }
		will_lead_to_war_with = FRA
		will_lead_to_war_with = ENG
		will_lead_to_war_with = SAF
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 2
		relative_position_id = HOL_the_united_netherlands
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_state_claim = 694
			add_state_claim = 308
			add_state_claim = 691
			add_state_claim = 687
			add_state_claim = 310
			add_state_claim = 274
			add_state_claim = 681
			add_state_claim = 275
			add_state_claim = 719
			add_state_claim = 422
			create_wargoal = {
			    type = take_state_focus
			    generator = { 694 310 }
			    expire = 0
			    target = FRA
			}
			create_wargoal = {
			    type = take_state_focus
			    generator = { 308 691 687 274 422 }
			    expire = 0
			    target = ENG
			}
			create_wargoal = {
			    type = take_state_focus
			    generator = { 681 275 719 }
			    expire = 0
			    target = SAF
			}
		}
	}

	focus = {
		id = HOL_imperial_ambitions
		available = {
			NOT = { is_in_faction_with = USA }
		}
		bypass = {
			has_full_control_of_state = 357
			has_full_control_of_state = 358
			has_full_control_of_state = 359
			has_full_control_of_state = 361
		}

		prerequisite = { focus = HOL_taking_back_our_old_colonies }
		will_lead_to_war_with = USA
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 2
		relative_position_id = HOL_taking_back_our_old_colonies
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_ideas = HOL_imperial_ambitions
			add_war_support = 0.1
			add_state_claim = 357
			add_state_claim = 358
			add_state_claim = 359
			add_state_claim = 361
			create_wargoal = {
			    type = take_state_focus
			    generator = { 357 358 359 361 }
			    target = USA
			    expire = 0
			}
		}
	}

 ##   ##  #   # #   # #  # #  # ###  ## #   # 
#  # #  # ## ## ## ## #  # ## #  #  #   ## ## 
#    #  # # # # # # # #  # # ##  #   #  # # # 
#  # #  # #   # #   # #  # #  #  #    # #   # 
 ##   ##  #   # #   #  ##  #  # ### ##  #   # 

 	focus = {
		id = HOL_legacy_of_the_de_zeven_provincien_mutiny
		prerequisite = { focus = HOL_maintain_trade_neutrality }
		mutually_exclusive = { focus = HOL_oranje_boven }
		icon = GFX_focus_hol_legacy_of_the_de_zeven_provincien_mutiny
		x = -2
		y = 1
		relative_position_id = HOL_maintain_trade_neutrality
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_timed_idea = { idea = HOL_legacy_of_the_de_zeven_provincien_mutiny days = 1095 }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HOL_saul_de_groot
			hidden_effect = {
				if = {
					limit = {
						ENG = {
							NOT = { has_government = communism }
						}
					}
					ENG = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = 200
						}
					}
				}
				if = {
					limit = {
						USA = {
							NOT = { has_government = communism }
						}
					}
					USA = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = 200
						}
					}
				}
				if = {
					limit = {
						FRA = {
							NOT = { has_government = communism }
						}
					}
					FRA = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = 200
						}
					}
				}
			}
		}
	}

	focus = {
		id = HOL_decolonization
		available = {
			has_government = communism
			OR = {
				CRC = { is_subject_of = HOL }
				695 = { is_fully_controlled_by = HOL }
				SUR = { is_subject_of = HOL }
				309 = { is_fully_controlled_by = HOL }
				custom_trigger_tooltip = {
					tooltip = HOL_decolonization_tt2
					AND = {
						672 = { is_fully_controlled_by = HOL }
						335 = { is_fully_controlled_by = HOL }
						334 = { is_fully_controlled_by = HOL }
						667 = { is_fully_controlled_by = HOL }
						673 = { is_fully_controlled_by = HOL }
						668 = { is_fully_controlled_by = HOL }
						738 = { is_fully_controlled_by = HOL }
						669 = { is_fully_controlled_by = HOL }
					}
				}
				AND = {
					INS = { is_subject_of = HOL }
					custom_trigger_tooltip = {
						tooltip = HOL_decolonization_tt1
						672 = { is_fully_controlled_by = INS }
						335 = { is_fully_controlled_by = INS }
						334 = { is_fully_controlled_by = INS }
						667 = { is_fully_controlled_by = INS }
						673 = { is_fully_controlled_by = INS }
						668 = { is_fully_controlled_by = INS }
						738 = { is_fully_controlled_by = INS }
						669 = { is_fully_controlled_by = INS }
					}
				}
			}
		}
		bypass = {
			NOT = {
				OR = {
					672 = { is_owned_by = HOL }
					335 = { is_owned_by = HOL }
					334 = { is_owned_by = HOL }
					667 = { is_owned_by = HOL }
					673 = { is_owned_by = HOL }
					668 = { is_owned_by = HOL }
					738 = { is_owned_by = HOL }
					669 = { is_owned_by = HOL }
					695 = { is_owned_by = HOL }
					309 = { is_owned_by = HOL }
				}
			}
			NOT = {
				OR = {
					CRC = { is_subject_of = HOL }
					SUR = { is_subject_of = HOL }
					INS = { is_subject_of = HOL }
				}
			}
		}
		prerequisite = { focus = HOL_legacy_of_the_de_zeven_provincien_mutiny }
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = -1
		y = 1
		relative_position_id = HOL_legacy_of_the_de_zeven_provincien_mutiny
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					672 = { is_fully_controlled_by = HOL }
					335 = { is_fully_controlled_by = HOL }
					334 = { is_fully_controlled_by = HOL }
					667 = { is_fully_controlled_by = HOL }
					673 = { is_fully_controlled_by = HOL }
					668 = { is_fully_controlled_by = HOL }
					738 = { is_fully_controlled_by = HOL }
					669 = { is_fully_controlled_by = HOL }
				}
				INS = {
					every_unit_leader = {
						set_nationality = HOL
					}
				}
				release = INS
				hidden_effect = {
					INS = {
						drop_cosmetic_tag = yes
						retire_country_leader = yes
					}
				}
			}
			if = {
				limit = {
					INS = { is_subject_of = HOL }
					672 = { is_fully_controlled_by = INS }
					335 = { is_fully_controlled_by = INS }
					334 = { is_fully_controlled_by = INS }
					667 = { is_fully_controlled_by = INS }
					673 = { is_fully_controlled_by = INS }
					668 = { is_fully_controlled_by = INS }
					738 = { is_fully_controlled_by = INS }
					669 = { is_fully_controlled_by = INS }
				}
				hidden_effect = {
					INS = {
						drop_cosmetic_tag = yes
						retire_country_leader = yes
					}
				}
				set_autonomy = {
				    target = INS
				    autonomy_state = autonomy_free
				}
			}
			set_province_name = { id = 7381 name = "Jakarta" }
			set_province_name = { id = 4608 name = "Surabaya" }
			if = {
				limit = {
					OR = {
						CRC = { is_subject_of = HOL }
						695 = { is_fully_controlled_by = HOL }
					}
				}
				release = CRC
			}
			if = {
				limit = {
					OR = {
						SUR = { is_subject_of = HOL }
						309 = { is_fully_controlled_by = HOL }
					}
				}
				release = SUR
			}
			add_stability = -0.1
			add_political_power = 150
			add_manpower = 150000
			add_timed_idea = { idea = HOL_redirected_investments days = 365 }
			custom_effect_tooltip = HOL_decolonization_tt
			hidden_effect = {
				division_template = {
					name = "KNIL Divisie"
					priority = 1
					division_names_group = INS_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
				}
				7 = {
					create_unit = {
						division = "name = \"1. KNIL Divisie 'Java'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"2. KNIL Divisie 'Java'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"3. KNIL Divisie 'Java'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"4. KNIL Divisie 'Sumatra'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"5. KNIL Divisie 'Sumatra'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"6. KNIL Divisie 'Borneo'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"7. KNIL Divisie 'Borneo'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
					create_unit = {
						division = "name = \"8. KNIL Divisie 'Celebes'\" division_template = \"KNIL Divisie\" start_experience_factor = 0.5" 
						owner = HOL
					}
				}
			}
			hidden_effect = { news_event = { id = mtg_news.50 days = 1 } }
		}
	}

	focus = {
		id = HOL_red_is_the_new_orange
		available = {
			has_government = communism
		}
		prerequisite = { focus = HOL_legacy_of_the_de_zeven_provincien_mutiny }
		icon = GFX_goal_tfv_burn_the_royal_portraits
		x = 1
		y = 1
		relative_position_id = HOL_legacy_of_the_de_zeven_provincien_mutiny
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			remove_ideas = HOL_wilhelmina
			add_war_support = 0.1
			add_ideas = HOL_red_is_the_new_orange
			if = {
				limit = {
					has_idea = HOL_weak_government
				}
				remove_ideas = HOL_weak_government
			}
		}
	}

 ##  ### ### ### ###  #   #     #    ##  #   #  ##  #   ### #   #     ###  ##      #   #  ##   ##  ##   ##  #   # 
#  # #   #    #  #  # ## ##     #   #  #  # #  #  # #    #   # #       #  #  #     ## ## #  # #   #  # #  # #   # 
#### ##  ##   #  ###  # # #     #   #  #   #   #### #    #    #        #  #  #     # # # #  #  #  #    #  # # # # 
#  # #   #    #  #  # #   #     #   #  #   #   #  # #    #    #        #  #  #     #   # #  #   # #  # #  # # # # 
#  # #   #   ### #  # #   #     ###  ##    #   #  # ###  #    #        #   ##      #   #  ##  ##   ##   ##   # #  

	focus = {
		id = HOL_affirm_loyalty_to_moscow
		available = {
			NOT = { has_war_with = SOV }
		}
		bypass = {
			is_in_faction_with = SOV
			NOT = {
				OR = {
					focus_progress = {
						focus = HOL_join_the_french
						progress > 0
					}
					focus_progress = {
						focus = HOL_bastion_of_true_communism
						progress > 0
					}
				}
			}
		}
		prerequisite = { focus = HOL_decolonization }
		prerequisite = { focus = HOL_red_is_the_new_orange }
		mutually_exclusive = { focus = HOL_join_the_french focus = HOL_bastion_of_true_communism }
		icon = GFX_focus_chi_mission_to_the_soviet_union
		x = -2
		y = 1
		relative_position_id = HOL_decolonization
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			SOV = { country_event = { id = generic.2 hours = 6 } }
			remove_ideas = HOL_aloof_neutrality
		}
	}

	focus = {
		id = HOL_soviet_technical_teams
		prerequisite = { focus = HOL_affirm_loyalty_to_moscow }
		icon = GFX_goal_generic_production2
		x = -1
		y = 1
		relative_position_id = HOL_affirm_loyalty_to_moscow
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = HOL_soviet_technical_teams
		}
	}

	focus = {
		id = HOL_making_the_ends_of_europe_meet
		available = {
			NOT = { is_in_faction_with = GER }
		}
		bypass = {
			has_war_with = GER
		}
		prerequisite = { focus = HOL_soviet_technical_teams }
		will_lead_to_war_with = GER
		icon = GFX_focus_attack_germany
		x = 0
		y = 2
		relative_position_id = HOL_soviet_technical_teams
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = GER
			    expire = 0
			}
		}
	}

 ###  ##  ### #  #     ### #  # ###     ### ###  ### #  #  ##  #  # 
   # #  #  #  ## #      #  #  # #       #   #  # #   ## # #  # #  # 
   # #  #  #  # ##      #  #### ##      ##  ###  ##  # ## #    #### 
#  # #  #  #  #  #      #  #  # #       #   #  # #   #  # #  # #  # 
 ##   ##  ### #  #      #  #  # ###     #   #  # ### #  #  ##  #  # 

 	focus = {
		id = HOL_join_the_french
		available = {
			NOT = { has_war_with = FRA }
			FRA = {
				OR = {
					has_completed_focus = FRA_humanite_unie
					has_completed_focus = FRA_loyalty_to_the_cause
					has_completed_focus = FRA_anti_fascist_coalition
				}
				has_government = ROOT
				is_faction_leader = yes
			}
		}
		bypass = {
			is_in_faction_with = FRA
			NOT = {
				OR = {
					focus_progress = {
						focus = HOL_affirm_loyalty_to_moscow
						progress > 0
					}
					focus_progress = {
						focus = HOL_bastion_of_true_communism
						progress > 0
					}
				}
			}
		}
		prerequisite = { focus = HOL_decolonization }
		prerequisite = { focus = HOL_red_is_the_new_orange }
		mutually_exclusive = { focus = HOL_affirm_loyalty_to_moscow focus = HOL_bastion_of_true_communism }
		icon = GFX_focus_chi_reach_out_to_france
		x = 0
		y = 1
		relative_position_id = HOL_decolonization
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			FRA = { country_event = { id = generic.2 hours = 6 } }
			remove_ideas = HOL_aloof_neutrality
			hidden_effect = {
				if = {
					limit = {
						SOV = { has_government = communism }
					}
					SOV = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = 200
						}
					}
				}
			}
		}
	}

	focus = {
		id = HOL_french_military_mission
		prerequisite = { focus = HOL_join_the_french }
		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 2
		relative_position_id = HOL_join_the_french
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = HOL_french_military_mission
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			add_ideas = HOL_french_military_mission
		}
	}

	focus = {
		id = HOL_socialist_industrial_support
		prerequisite = { focus = HOL_affirm_loyalty_to_moscow focus = HOL_join_the_french }
		icon = GFX_goal_generic_soviet_construction
		x = 1
		y = 1
		relative_position_id = HOL_affirm_loyalty_to_moscow
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_offsite_building = { type = arms_factory level = 4 }
		}
	}

	focus = {
		id = HOL_for_the_common_good
		prerequisite = { focus = HOL_socialist_industrial_support }
		icon = GFX_focus_generic_socialist_science
		x = -1
		y = 1
		relative_position_id = HOL_socialist_industrial_support
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					NOT = { is_in_faction_with = SOV }
					NOT = { is_in_faction_with = FRA }
				}
				custom_effect_tooltip = HOL_for_the_common_good_tt
			}
			if = {
				limit = {
					is_in_faction_with = FRA
					NOT = { is_in_faction_with = SOV }
				}
				add_to_tech_sharing_group = HOL_fra_research
				every_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_to_tech_sharing_group = HOL_fra_research
				}
			}
			if = {
				limit = {
					is_in_faction_with = SOV
				}
				add_to_tech_sharing_group = HOL_sov_research
				every_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					add_to_tech_sharing_group = HOL_sov_research
				}
			}
		}
	}

	focus = {
		id = HOL_mobilize_the_masses
		prerequisite = { focus = HOL_socialist_industrial_support }
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 2
		relative_position_id = HOL_socialist_industrial_support
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = HOL_mobilize_the_masses
		}
	}

###   ##   ## ### ###  ##  #  #      ##  ###     ### ###  #  # ###      ##   ##  #   # #   # #  # #  # ###  ## #   # 
#  # #  # #    #   #  #  # ## #     #  # #        #  #  # #  # #       #  # #  # ## ## ## ## #  # ## #  #  #   ## ## 
###  ####  #   #   #  #  # # ##     #  # ##       #  ###  #  # ##      #    #  # # # # # # # #  # # ##  #   #  # # # 
#  # #  #   #  #   #  #  # #  #     #  # #        #  #  # #  # #       #  # #  # #   # #   # #  # #  #  #    # #   # 
###  #  # ##   #  ###  ##  #  #      ##  #        #  #  #  ##  ###      ##   ##  #   # #   #  ##  #  # ### ##  #   # 

	focus = {
		id = HOL_bastion_of_true_communism
		available = {
			NOT = { is_in_faction_with = SOV }
			NOT = { is_in_faction_with = FRA }
		}
		prerequisite = { focus = HOL_decolonization }
		prerequisite = { focus = HOL_red_is_the_new_orange }
		mutually_exclusive = { focus = HOL_affirm_loyalty_to_moscow focus = HOL_join_the_french }
		icon = GFX_focus_generic_join_comintern
		x = 2
		y = 1
		relative_position_id = HOL_decolonization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_war_support = 0.1
			add_ideas = HOL_bastion_of_true_communism
			remove_ideas = HOL_aloof_neutrality
			hidden_effect = {
				SOV = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 200
					}
				}
				if = {
					limit = {
						FRA = {
							has_government = communism
						}
					}
					FRA = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = ROOT
							value = 200
						}
					}
				}
			}
		}
	}

	focus = {
		id = HOL_bring_socialism_south
		available = {
			NOT = { is_in_faction_with = BEL }
			NOT = { is_in_faction_with = LUX }
			custom_trigger_tooltip = {
				tooltip = HOL_pre_empt_venezuelan_aggression_tt
				NOT = {
					OR = {
						has_idea = HOL_shell_shocked_spectator_1
						has_idea = HOL_shell_shocked_spectator_2
						has_idea = HOL_shell_shocked_spectator_3
						has_idea = HOL_shell_shocked_spectator_4
						has_idea = HOL_shell_shocked_spectator_5
					}
				}
			}
		}
		bypass = {
			has_full_control_of_state = 6
			has_full_control_of_state = 34
			has_full_control_of_state = 8
		}
		prerequisite = { focus = HOL_bastion_of_true_communism focus = HOL_join_the_french focus = HOL_affirm_loyalty_to_moscow }
		will_lead_to_war_with = BEL
		will_lead_to_war_with = LUX
		icon = GFX_goal_generic_war_with_comintern
		x = -1
		y = 1
		relative_position_id = HOL_bastion_of_true_communism
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = BEL
			    expire = 0
			}
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = LUX
			    expire = 0
			}
		}
	}

	focus = {
		id = HOL_enemies_on_all_fronts
		prerequisite = { focus = HOL_bastion_of_true_communism }
		icon = GFX_goal_generic_allies_build_infantry
		x = 1
		y = 1
		relative_position_id = HOL_bring_socialism_south
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = HOL_enemies_on_all_fronts
		}
	}

	focus = {
		id = HOL_haven_of_tolerance
		prerequisite = { focus = HOL_enemies_on_all_fronts }
		icon = GFX_goal_support_communism
		x = 0
		y = 2
		relative_position_id = HOL_enemies_on_all_fronts
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.05
			add_ideas = HOL_haven_of_tolerance
		}
	}

	focus = {
		id = HOL_pre_empt_western_intervention
		available = {
			OR = {
				ENG = { NOT = { has_government = communism } }
				FRA = { NOT = { has_government = communism } }
				USA = { NOT = { has_government = communism } }
			}
			OR = {
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = FRA }
				NOT = { is_in_faction_with = USA }
			}
		}
		prerequisite = { focus = HOL_french_military_mission focus = HOL_enemies_on_all_fronts }
		will_lead_to_war_with = ENG
		will_lead_to_war_with = FRA
		will_lead_to_war_with = USA
		icon = GFX_goal_generic_occupy_start_war
		x = 1
		y = 1
		relative_position_id = HOL_french_military_mission
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = {
					AND = {
						NOT = { is_in_faction_with = USA }
						USA = { has_war = yes }
						strength_ratio = {
							tag = USA
							ratio = 0.5
						}
					}
					AND = {
						NOT = { is_in_faction_with = ENG }
						ENG = { has_war = yes }
						strength_ratio = {
							tag = ENG
							ratio = 0.7
						}
					}
					AND = {
						NOT = { is_in_faction_with = FRA }
						FRA = { has_war = yes }
						strength_ratio = {
							tag = FRA
							ratio = 0.9
						}
					}
				}
			}
		}

		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					ENG = {
						NOT = { has_government = communism }
						NOT = { is_in_faction_with = HOL }
					}
				}
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = ENG
				    expire = 0
				}
			}
			if = {
				limit = {
					FRA = {
						NOT = { has_government = communism }
						NOT = { is_in_faction_with = HOL }
					}
				}
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = FRA
				    expire = 0
				}
			}
			if = {
				limit = {
					USA = {
						NOT = { has_government = communism }
						NOT = { is_in_faction_with = HOL }
					}
				}
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = USA
				    expire = 0
				}
			}
		}
	}

#   #  ##  #  #  ##  ###   ##  #  # ###  ## #   #    #  # ### #  # ### ###   ##  #   ### ### #   # 
## ## #  # ## # #  # #  # #  # #  #  #  #   ## ##    ## # #   #  #  #  #  # #  # #    #   #   # #  
# # # #  # # ## #### ###  #    ####  #   #  # # # ## # ## ##  #  #  #  ###  #### #    #   #    #   
#   # #  # #  # #  # #  # #  # #  #  #    # #   #    #  # #   #  #  #  #  # #  # #    #   #    #   
#   #  ##  #  # #  # #  #  ##  #  # ### ##  #   #    #  # ###  ##   #  #  # #  # ### ###  #    #   

	focus = {
		id = HOL_oranje_boven
		available = {
			NOT = { has_completed_focus = HOL_curtail_colonial_autonomy }
		}
		prerequisite = { focus = HOL_maintain_trade_neutrality }
		mutually_exclusive = { focus = HOL_legacy_of_the_de_zeven_provincien_mutiny }
		icon = GFX_focus_hol_oranje_boven
		x = 2
		y = 1
		relative_position_id = HOL_maintain_trade_neutrality
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_ideas = HOL_oranje_boven_1
		}
	}

	focus = {
		id = HOL_symbol_of_resistance
		prerequisite = { focus = HOL_oranje_boven }
		icon = GFX_focus_generic_support_the_left_right
		x = -1
		y = 1
		relative_position_id = HOL_oranje_boven
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = HOL_oranje_boven_1
				add_idea = HOL_oranje_boven_2
			}
		}
	}

	focus = {
		id = HOL_replace_the_defeatist_government
		prerequisite = { focus = HOL_oranje_boven focus = HOL_unity_through_democracy }
		available = {
			has_war = yes
		}
		bypass = {
			has_government = neutrality
		}
		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 1
		relative_position_id = HOL_oranje_boven
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			country_event = { id = mtg_netherlands.14 }
			effect_tooltip = {
				add_popularity = {
				    ideology = democratic
				    popularity = -0.05
				}
				retire_country_leader = yes
				create_country_leader = {
					name = "Pieter Sjoerds Gerbrandy"
					desc = "POLITICS_PIETER_SJOERDS_GERBRANDY_DESC"
					picture = "portrait_hol_pieter_sjoerds_gerbrandy.dds"
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						little_churchill
					}
				}
				if = {
					limit = {
						has_idea = HOL_weak_government
					}
					remove_ideas = HOL_weak_government
				}
			}
		}
	}

	focus = {
		id = HOL_the_only_man_in_the_dutch_government
		available = {
			neutrality > 0.45
			NOT = { has_completed_focus = HOL_curtail_colonial_autonomy }
		}
		prerequisite = { focus = HOL_symbol_of_resistance }
		prerequisite = { focus = HOL_replace_the_defeatist_government }
		icon = GFX_focus_hol_the_only_man_in_the_dutch_government
		x = 1
		y = 1
		relative_position_id = HOL_symbol_of_resistance
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			set_politics = { ruling_party = neutrality elections_allowed = no }
			remove_ideas = HOL_wilhelmina
			create_country_leader = {
				name = "Wilhelmina"
				desc = "POLITICS_WILHELMINA_DESC"
				picture = "portrait_hol_wilhelmina.dds"
				expire = "1965.1.1"
				ideology = centrism
				female = yes
				traits = {
					wilhelmina
					disdain_for_politicians_1
					queen_of_the_people
				}
			}
		}
	}

	focus = {
		id = HOL_de_vernieuwing
		prerequisite = { focus = HOL_the_only_man_in_the_dutch_government }
		icon = GFX_goal_generic_demand_territory
		x = -1
		y = 1
		relative_position_id = HOL_the_only_man_in_the_dutch_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 200
			set_temp_variable = {
				var = ban_communism_var
				value = party_popularity@communism
			}
			multiply_temp_variable = {
				var = ban_communism_var
				value = -1
			}
			add_popularity = {
				ideology = communism
				popularity = ban_communism_var
			}
			set_temp_variable = {
				var = ban_fascism_var
				value = party_popularity@fascism
			}
			multiply_temp_variable = {
				var = ban_fascism_var
				value = -1
			}
			add_popularity = {
				ideology = fascism
				popularity = ban_fascism_var
			}
			set_temp_variable = {
				var = ban_democratic_var
				value = party_popularity@democratic
			}
			multiply_temp_variable = {
				var = ban_democratic_var
				value = -1
			}
			add_popularity = {
				ideology = democratic
				popularity = ban_democratic_var
			}
			swap_ruler_traits = { remove = disdain_for_politicians_1 add = disdain_for_politicians_2 }
		}
	}

	focus = {
		id = HOL_depillarization
		prerequisite = { focus = HOL_the_only_man_in_the_dutch_government }
		icon = GFX_goal_generic_national_unity
		x = 1
		y = 1
		relative_position_id = HOL_the_only_man_in_the_dutch_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_stability = 0.1
			add_ideas = HOL_depillarization
		}
	}

	focus = {
		id = HOL_a_new_dutch_unity
		prerequisite = { focus = HOL_de_vernieuwing }
		prerequisite = { focus = HOL_depillarization }
		icon = GFX_goal_anschluss
		x = 1
		y = 1
		relative_position_id = HOL_de_vernieuwing
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_war_support = 0.15
			add_stability = 0.05
		}
	}

	focus = {
		id = HOL_revive_the_buffer_state_proposal
		available = {
			is_in_faction_with = ENG
			has_war_together_with = ENG
			BEL = {
				is_in_faction_with = ROOT
				has_war_together_with = ROOT
			}
			LUX = {
				is_in_faction_with = ROOT
				has_war_together_with = ROOT
			}
			OR = {
				AND = {
					ROOT = { has_capitulated = no }
					BEL = { has_capitulated = yes }
					LUX = { has_capitulated = yes }
				}
				AND = {
					ROOT = { has_capitulated = yes }
					BEL = { has_capitulated = yes }
					LUX = { has_capitulated = yes }
					custom_trigger_tooltip = {
						tooltip = HOL_revive_the_buffer_state_proposal_tt1
						check_variable = { HOL.legitimacy > BEL.legitimacy }
					}
					custom_trigger_tooltip = {
						tooltip = HOL_revive_the_buffer_state_proposal_tt2
						check_variable = { HOL.legitimacy > LUX.legitimacy }
					}
				}
			}
		}
		prerequisite = { focus = HOL_a_new_dutch_unity }
		prerequisite = { focus = HOL_request_allied_favors }
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		relative_position_id = HOL_a_new_dutch_unity
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			ENG = { country_event = { id = mtg_netherlands.15 hours = 6 } }
		}
	}

	focus = {
		id = HOL_royal_arms_purchases
		available = {
			
		}
		prerequisite = { focus = HOL_de_vernieuwing }
		icon = GFX_goal_generic_construct_mil_factory
		x = 0
		y = 2
		relative_position_id = HOL_de_vernieuwing
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_offsite_building = { type = arms_factory level = 3 }
		}
	}

	focus = {
		id = HOL_develop_the_south
		available = {
			has_full_control_of_state = 6
			has_full_control_of_state = 34
			has_full_control_of_state = 8
		}
		cancel_if_invalid = yes
		prerequisite = { focus = HOL_revive_the_buffer_state_proposal }
		icon = GFX_goal_generic_construct_civilian
		x = 0
		y = 1
		relative_position_id = HOL_revive_the_buffer_state_proposal
		cost = 10

		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			6 = {
				if = {
					limit = {
						6 = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			34 = {
				if = {
					limit = {
						34 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			8 = {
				if = {
					limit = {
						8 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = HOL_wilhelminism
		available = {
			OR = {
				AND = {
					has_war_with = GER
					GER = { has_government = fascism }
				}
				AND = {
					NOT = { has_war_with = GER }
					GER = { has_completed_focus = GER_revive_the_kaiserreich }
				}
			}
		}
		prerequisite = { focus = HOL_a_new_dutch_unity }
		icon = GFX_goal_generic_dangerous_deal
		x = 0
		y = 3
		relative_position_id = HOL_a_new_dutch_unity
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					is_in_faction = yes
					NOT = { has_war_with = GER }
					GER = { has_completed_focus = GER_revive_the_kaiserreich }
				}
				leave_faction = yes
				GER = { country_event = { id = generic.2 } }
			}
			if = {
				limit = {
					is_in_faction = no
					NOT = { has_war_with = GER }
					GER = { has_completed_focus = GER_revive_the_kaiserreich }
				}
				GER = { country_event = { id = generic.2 } }
			}
			if = {
				limit = {
					has_war_with = GER
					GER = { has_government = fascism }
				}
				every_country = {
					limit = {
						OR = {
							tag = ENG
							tag = USA
							tag = FRA
							tag = BEL
						}
						has_government = democratic
					}
					add_opinion_modifier = { target = HOL modifier = HOL_wilhelminism }
					hidden_effect = {
						add_ai_strategy = {
							type = antagonize
							id = "HOL"
							value = 200
						}
						add_ai_strategy = {
							type = befriend
							id = "HOL"
							value = -200
						}
						add_ai_strategy = {
							type = alliance
							id = "HOL"
							value = -200
						}
					}
				}
				custom_effect_tooltip = HOL_wilhelminism_tt
				hidden_effect = { add_ideas = HOL_german_defectors_1 }
				division_template = {
					name = "Hare Majesteits Duitse Legioen"
					priority = 1
					division_names_group = HOL_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
			
	    			   	infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
			
	    			   	infantry = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 2 y = 2 }
					}
		
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
				GER = {
					add_ideas = HOL_german_defectors_2
					country_event = { id = mtg_netherlands.70 }
				}
			}
			if = {
				limit = {
					NOT = { has_war_with = GER }
					NOT = { GER = { has_completed_focus = GER_revive_the_kaiserreich } }
				}
				effect_tooltip = {
					every_country = {
						limit = {
							OR = {
								tag = ENG
								tag = USA
								tag = FRA
								tag = BEL
							}
							has_government = democratic
						}
						add_opinion_modifier = { target = HOL modifier = HOL_wilhelminism }
					}
					custom_effect_tooltip = HOL_wilhelminism_tt
					GER = {
						add_ideas = HOL_german_defectors_2
						country_event = { id = mtg_netherlands.71 }
					}
				}
			}
		}
	}

###  ### #   #  ##   ##  ###   ##  ### ###  ##  
#  # #   ## ## #  # #  # #  # #  #  #   #  #  # 
#  # ##  # # # #  # #    ###  ####  #   #  #    
#  # #   #   # #  # #  # #  # #  #  #   #  #  # 
###  ### #   #  ##   ##  #  # #  #  #  ###  ##  

	focus = {
		id = HOL_unity_through_democracy
		prerequisite = { focus = HOL_cave_to_the_british }
		icon = GFX_goal_support_democracy
		x = 3
		y = 1
		relative_position_id = HOL_cave_to_the_british
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.05
			add_timed_idea = { idea = HOL_unity_through_democracy days = 1095 }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HOL_willem_schermerhorn
			hidden_effect = {
				if = {
					limit = {
						ENG = {
							has_government = democratic
						}
					}
					ENG = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -200
						}
						add_ai_strategy = {
							type = protect
							id = ROOT
							value = -200
						}
					}
				}
			}
		}
	}

 ##   ##      #   # ### ### #  #     ###  ###  ### ###  ##  ### #  # 
#    #  #     #   #  #   #  #  #     #  # #  #  #   #  #  #  #  ## # 
# ## #  #     # # #  #   #  ####     ###  ###   #   #  ####  #  # ## 
#  # #  #     # # #  #   #  #  #     #  # #  #  #   #  #  #  #  #  # 
 ##   ##       # #  ###  #  #  #     ###  #  # ###  #  #  # ### #  # 


	focus = {
		id = HOL_go_with_britain
		available = {
			ENG = { has_government = democratic }
			threat > 0.25
		}
		bypass = {
			is_in_faction_with = ENG
			NOT = {
				focus_progress = {
					focus = HOL_lead_the_minor_democracies
					progress > 0
				}
			}
		}
		prerequisite = { focus = HOL_oranje_boven focus = HOL_unity_through_democracy }
		mutually_exclusive = { focus = HOL_lead_the_minor_democracies }
		icon = GFX_focus_chi_british_cooperation
		x = 3
		y = 1
		relative_position_id = HOL_oranje_boven
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = HOL_aloof_neutrality
			ENG = { country_event = { id = generic.2 hours = 6 } }
		}
	}

	focus = {
		id = HOL_de_vaarplicht
		prerequisite = { focus = HOL_replace_the_defeatist_government }
		prerequisite = { focus = HOL_go_with_britain }
		icon = GFX_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = HOL_replace_the_defeatist_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = HOL_de_vaarplicht
		}
	}

	focus = {
		id = HOL_request_allied_favors
		available = {
			is_in_faction_with = ENG
			has_war = yes
			OR = {
				has_capitulated = no
				has_legitimacy > 40
			}
		}
		prerequisite = { focus = HOL_de_vaarplicht }
		icon = GFX_goal_generic_major_alliance
		x = 0
		y = 2
		relative_position_id = HOL_de_vaarplicht
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 60
			unlock_decision_category_tooltip = HOL_request_allied_favors
			custom_effect_tooltip = HOL_request_allied_favors_tt
		}
	}

	focus = {
		id = HOL_the_singapore_conferences
		prerequisite = { focus = HOL_go_with_britain }
		available = {
			has_completed_focus = HOL_unity_through_democracy
			has_government = democratic
			is_in_faction_with = ENG
			is_in_faction_with = AST
			is_in_faction_with = MAL
			NOT = { has_war_with = USA }
			OR = {
				MAL = { has_full_control_of_state = 336 }
				ENG = { has_full_control_of_state = 336 }
			}
		}
		bypass = {
			has_war_with = JAP
			NOT = { has_completed_focus = HOL_oranje_boven }
		}
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 1
		y = 1
		relative_position_id = HOL_go_with_britain
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_the_singapore_conferences
				bonus = 1.0
				uses = 4
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = HOL_ship_a_day_sinking_quotas
		available = {
			has_war = yes
		}
		prerequisite = { focus = HOL_de_vaarplicht focus = HOL_the_singapore_conferences }
		icon = GFX_goal_generic_navy_submarine
		x = 1
		y = 1
		relative_position_id = HOL_de_vaarplicht
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = HOL_ship_a_day_sinking_quotas
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = HOL_ship_a_day_sinking_quotas
				bonus = 1.0
				uses = 1
				category = submarine_doctrine
			}
			random_unit_leader = {
				limit = {
					has_id = 981
				}
				add_attack = 1
				add_maneuver = 2
				add_coordination = 1
			}
		}
	}

	focus = {
		id = HOL_allied_technological_developments
		prerequisite = { focus = HOL_the_singapore_conferences }
		icon = GFX_goal_tfv_generic_tech_sharing
		x = 1
		y = 1
		relative_position_id = HOL_the_singapore_conferences
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = HOL_allied_technological_developments
		}
	}

	focus = {
		id = HOL_american_west_indies_protectorate
		available = {
			has_war = yes
			NOT = { has_war_with = USA }
		}
		prerequisite = { focus = HOL_ship_a_day_sinking_quotas }
		prerequisite = { focus = HOL_allied_technological_developments }
		icon = GFX_focus_chi_mission_to_the_us
		x = 1
		y = 1
		relative_position_id = HOL_ship_a_day_sinking_quotas
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = USA
				}
				695 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 153
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 153
						instant_build = yes
					}
				}
				309 = {
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 10906
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 10906
						instant_build = yes
					}
				}
				division_template = {
					name = "American Garrison"
					priority = 1
					division_names_group = USA_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						infantry = { x = 3 y = 0 }
						infantry = { x = 3 y = 1 }
						infantry = { x = 3 y = 2 }
					}
					support = {
					    artillery = { x = 0 y = 0 }
					    engineer = { x = 0 y = 1 }
					}
				}
				695 = {
					create_unit = {
						division = "name = \"1. American Garrison\" division_template = \"American Garrison\" start_experience_factor = 0.5" 
						owner = HOL
					}
				}
				309 = {
					create_unit = {
						division = "name = \"2. American Garrison\" division_template = \"American Garrison\" start_experience_factor = 0.5" 
						owner = HOL
					}
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = USA }
				}
				custom_effect_tooltip = HOL_american_west_indies_protectorate_tt
				effect_tooltip = {
					USA = {
						add_war_support = 0.1
						give_guarantee = HOL
					}
				}
				USA = { country_event = { id = mtg_netherlands.26 } }
			}
		}
	}

	focus = {
		id = HOL_combined_chiefs_of_staff_representation
		available = {
			is_in_faction_with = ENG
			is_in_faction_with = USA
			has_war = yes
			OR = {
				has_capitulated = no
				has_legitimacy > 80
			}
		}
		prerequisite = { focus = HOL_request_allied_favors }
		prerequisite = { focus = HOL_american_west_indies_protectorate }
		icon = GFX_focus_generic_military_academy
		x = 1
		y = 1
		relative_position_id = HOL_request_allied_favors
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = HOL_combined_chiefs_of_staff_representation
		}
	}

	focus = {
		id = HOL_the_fourth_ally
		available = {
			is_in_faction_with = ENG
			is_in_faction_with = USA
			has_war = yes
			NOT = { has_war_with = SOV }
			has_full_control_of_state = 335
			has_full_control_of_state = 672
		}
		prerequisite = { focus = HOL_combined_chiefs_of_staff_representation }
		icon = GFX_focus_hol_the_fourth_ally
		x = 0
		y = 1
		relative_position_id = HOL_combined_chiefs_of_staff_representation
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			335 = {
				if = {
					limit = {
						335 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
							type = dockyard
							level = 2
							instant_build = yes
					}
				}
			}
			672 = {
				if = {
					limit = {
						672 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
							type = dockyard
							level = 2
							instant_build = yes
					}
				}
			}
			add_ideas = HOL_the_fourth_ally
		}
	}

	focus = {
		id = HOL_zandery_military_airport
		available = {
			is_in_faction_with = USA
			has_war = yes
			has_full_control_of_state = 309
			has_full_control_of_state = 695
		}
		prerequisite = { focus = HOL_american_west_indies_protectorate }
		icon = GFX_goal_generic_construct_military
		x = 1
		y = 2
		relative_position_id = HOL_american_west_indies_protectorate
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			309 = {	
				add_building_construction = {
					type = air_base
					level = 8
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			695 = {	
				add_building_construction = {
					type = radar_station
					level = 3
					instant_build = yes
				}
			}
		}
	}

#   ###  ##  ###      ### #  # ###     #   # ### #  #  ##  ###      ###  ### #   #  ##   ##  ###   ##   ##  ### ###  ## 
#   #   #  # #  #      #  #  # #       ## ##  #  ## # #  # #  #     #  # #   ## ## #  # #  # #  # #  # #  #  #  #   #   
#   ##  #### #  #      #  #### ##      # # #  #  # ## #  # ###      #  # ##  # # # #  # #    ###  #### #     #  ##   #  
#   #   #  # #  #      #  #  # #       #   #  #  #  # #  # #  #     #  # #   #   # #  # #  # #  # #  # #  #  #  #     # 
### ### #  # ###       #  #  # ###     #   # ### #  #  ##  #  #     ###  ### #   #  ##   ##  #  # #  #  ##  ### ### ##  

	focus = {
		id = HOL_lead_the_minor_democracies
		available = {
			has_war = no
			is_in_faction = no
		}
		prerequisite = { focus = HOL_unity_through_democracy }
		mutually_exclusive = { focus = HOL_go_with_britain }
		icon = GFX_goal_generic_demand_territory
		x = 2
		y = 1
		relative_position_id = HOL_unity_through_democracy
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 120
			remove_ideas = HOL_aloof_neutrality
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					is_major = no
					has_government = democratic
				}
				add_opinion_modifier = { target = HOL modifier = HOL_lead_the_minor_democracies }
				add_timed_idea = { idea = HOL_lead_the_minor_democracies days = 1095 }
			}
		}
	}

	focus = {
		id = HOL_form_the_benelux
		available = {
			is_in_faction = no
			is_subject = no
			BEL = { is_in_faction = no }
			LUX = { is_in_faction = no }
		}
		bypass = {
			BEL = { exists = no }
			LUX = { exists = no }
		}
		prerequisite = { focus = HOL_lead_the_minor_democracies }
		icon = GFX_goal_generic_position_armies
		x = -1
		y = 1
		relative_position_id = HOL_lead_the_minor_democracies
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = HOL_benelux
			BEL = {
				custom_effect_tooltip = HOL_form_the_benelux_bel_tt
			}
			LUX = {
				custom_effect_tooltip = HOL_form_the_benelux_lux_tt
			}
			hidden_effect = {
				BEL = { country_event = { id = generic.5 hours = 6 } }
				LUX = { country_event = { id = generic.5 hours = 6 } }
			}
			hidden_effect = { news_event = { id = mtg_news.53 days = 1 } }
			if = {
				limit = {
					has_idea = HOL_weak_government
				}
				remove_ideas = HOL_weak_government
			}
			unlock_decision_tooltip = HOL_propose_benelux_unification
		}
	}

	focus = {
		id = HOL_responsibility_for_our_own_defense
		prerequisite = { focus = HOL_lead_the_minor_democracies }
		icon = GFX_goal_generic_build_tank
		x = 1
		y = 1
		relative_position_id = HOL_lead_the_minor_democracies
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_war_support = 0.05
			add_ideas = HOL_responsibility_for_our_own_defense
		}
	}

	focus = {
		id = HOL_lessons_from_the_low_countries
		prerequisite = { focus = HOL_form_the_benelux }
		prerequisite = { focus = HOL_responsibility_for_our_own_defense }
		icon = GFX_goal_generic_construct_military
		x = 1
		y = 1
		relative_position_id = HOL_form_the_benelux
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = HOL_lessons_from_the_low_countries
		}
	}

	focus = {
		id = HOL_foundations_for_a_european_union
		available = {
			is_faction_leader = yes
		}
		prerequisite = { focus = HOL_lessons_from_the_low_countries }
		icon = GFX_goal_generic_national_unity
		x = 0
		y = 1
		relative_position_id = HOL_lessons_from_the_low_countries
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			set_faction_name = european_union
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					is_major = no
					has_government = democratic
					NOT = { is_in_faction_with = ROOT }
				}
				country_event = { id = generic.5 hours = 6 }
			}
			hidden_effect = { news_event = { id = mtg_news.54 days = 1 } }
		}
	}

	focus = {
		id = HOL_the_continents_best_and_brightest
		prerequisite = { focus = HOL_foundations_for_a_european_union }
		icon = GFX_goal_tfv_generic_tech_sharing
		x = -1
		y = 1
		relative_position_id = HOL_foundations_for_a_european_union
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_to_tech_sharing_group = HOL_europe_research
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = HOL_europe_research
			}
		}
	}

	focus = {
		id = HOL_the_best_defense
		available = {
			NOT = { is_in_faction_with = GER }
			NOT = { is_in_faction_with = ENG }
		}
		prerequisite = { focus = HOL_foundations_for_a_european_union }
		will_lead_to_war_with = GER
		will_lead_to_war_with = ENG
		icon = GFX_goal_generic_major_war
		x = 1
		y = 1
		relative_position_id = HOL_foundations_for_a_european_union
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = GER
			    expire = 0
			}
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = ENG
			    expire = 0
			}
		}
	}


}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = hungarian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = HUN
			#always = no
			has_dlc = "Death or Dishonor"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1600 }

#	focus = {
#		id = HUN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	############################
	##### BALANCED BUDGET ######
	############################

	focus = {
		id = HUN_balanced_budget
		icon = GFX_goal_generic_consumer_goods
		mutually_exclusive = { focus = HUN_economic_intervention }
		x = 5
		y = 0

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = HUN_strengthen_the_monarchists
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = HUN_balanced_budget }
		x = 0
		y = 1
		relative_position_id = HUN_balanced_budget

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = HUN_hungarian_monarchy
			set_party_name = { ideology = neutrality long_name = HUN_legitimists_party_long name = HUN_legitimists_party }
		}
	}

	focus = {
		id = HUN_elect_a_king
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = HUN_strengthen_the_monarchists }
		x = 0
		y = 2
		relative_position_id = HUN_balanced_budget

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			neutrality > 0.3
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_hungarian_monarchy
				add_idea = HUN_hungarian_monarchy_2
			}
		}
	}


	############################
	##### HABSBURG PRINCE ######
	############################

	focus = {
		id = HUN_invite_the_habsburg_prince
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = HUN_elect_a_king }
		mutually_exclusive = { focus =  HUN_elect_a_democratic_king }
		mutually_exclusive = { focus =  HUN_elect_a_fascist_king }
		x = -3
		y = 1
		relative_position_id = HUN_elect_a_king

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_government = neutrality
		}

		bypass = {
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			create_navy_leader = {
				name = "Miklós Horthy"
				gfx = GFX_Portrait_hungary_miklos_horthy_admiral
				traits = { gunnery_expert navy_media_personality superior_tactician }
				skill = 3
				id = 556 #Navy Miklos
				attack_skill = 2
				defense_skill = 2
				maneuvering_skill = 2
				coordination_skill = 4				
			}
			create_country_leader = {
				name = "Otto von Habsburg"
				desc = "POLITICS_OTTO_VON_HABSBURG_DESC"
				picture = GFX_Portrait_hungary_otto_von_hapsburg
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					
				}
			}
			swap_ideas = {
				add_idea = HUN_habsburg_restored
				remove_idea = HUN_hungarian_monarchy_2
			}
			set_rule = { can_create_factions = yes }
			hidden_effect = {
				news_event = { id = news.290 }
			}
		}
	}

	focus = {
		id = HUN_demand_a_referendum
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = HUN_invite_the_habsburg_prince }
		mutually_exclusive = { focus = HUN_take_austria_by_force }
		x = -1
		y = 1
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			NOT = { has_war_with = AUS }
			is_subject = no
			AUS = {
				OR = {
					exists = yes
					is_subject = no
				}
			}
		}

		bypass = {
			OR = {
				AND = {
					owns_state = 4
					owns_state = 153
					owns_state = 152
				}
				has_global_flag = GER_reformed_austro_hungarian_empire
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			AUS = { country_event = { id = DOD_hungary.1 } }
		}
	}

	focus = {
		id = HUN_take_austria_by_force
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = HUN_invite_the_habsburg_prince }
		mutually_exclusive = { focus = HUN_demand_a_referendum }
		x = 1
		y = 1
		relative_position_id = HUN_invite_the_habsburg_prince
		will_lead_to_war_with = AUS
		will_lead_to_war_with = GER #if after Anschluss
		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 0.5
				AUS = { is_in_faction = yes }
			}
		}

		available = {
			4 = {
				OWNER = {
					controls_state = PREV
				}
			}
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			random_country = {
				limit = {
					owns_state = 4
				}
				HUN = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						expire = 0
						generator = { 4 152 153 }
					}
				}
			}
			add_state_claim = 152
			add_state_claim = 153
			add_state_claim = 4
		}
	}

	focus = {
		id = HUN_proclaim_the_restoration_of_austria_hungary
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = HUN_demand_a_referendum focus = HUN_take_austria_by_force }
		x = 0
		y = 2
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			controls_state = 152
			controls_state = 153
			controls_state = 4
			is_subject = no
		}

		bypass = {
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MANPOWER }
		completion_reward = {
			set_cosmetic_tag = HUN_EMPIRE
			hidden_effect = { AUS = { set_cosmetic_tag = AUS_NOT_WHITE } }
			152 = { add_core_of = ROOT }
			153 = { add_core_of = ROOT }
			4 = { add_core_of = ROOT }
			69 = { add_core_of = ROOT }
			9 = { add_core_of = ROOT }
			75 = { add_core_of = ROOT }
			74 = { add_core_of = ROOT }
			72 = { add_core_of = ROOT }
			70 = { add_core_of = ROOT }
			664 = { add_core_of = ROOT }
			71 = { add_core_of = ROOT }
			73 = { add_core_of = ROOT }
			hidden_effect = {
				news_event = { id = news.295 }
			}
			set_global_flag = form_austria_hungary_flag
			set_global_flag = GER_reformed_austro_hungarian_empire
			
		}
	}

	focus = {
		id = HUN_protect_czechoslovakia
		icon = GFX_goal_generic_defence
		prerequisite = { focus = HUN_proclaim_the_restoration_of_austria_hungary }
		x = 0
		y = 3
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_subject = no
			country_exists = CZE
		}

		bypass = {
			CZE = {
				OR = {
					exists = no
					is_subject = yes
				}
			}
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			CZE = { country_event = { id = DOD_hungary.10 } }
		}
	}

	

	focus = {
		id = HUN_claim_transylvania
		icon = GFX_focus_generic_strike_at_democracy2
		prerequisite = { focus = HUN_protect_czechoslovakia }
		x = -1
		y = 4
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_army_manpower = { size > 200000 }
			76 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
		}

		bypass = {
			controls_state = 76
			controls_state = 83
			controls_state = 84
			controls_state = 82
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 76
			add_state_claim = 83
			add_state_claim = 84
			add_state_claim = 82
			if = {
				limit = {
					NOT = {
						has_war_with = ROM
					}
					threat < 0.5
					ROM = {
						OR = {
							owns_state = 76
							owns_state = 83
							owns_state = 84
							owns_state = 82
						}
					}
				}
				ROM = { country_event = DOD_hungary.50 }
			}
			else = {
				add_ai_strategy = {
					type = conquer
  					id = ROM
  					value = 200
				}
			}	
		}
	}

	focus = {
		id = HUN_march_to_the_shore
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = HUN_claim_transylvania }
		x = -1
		y = 5
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_army_manpower = { size > 250000 }
			109 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
		}

		bypass = {
			controls_state = 102
			controls_state = 103
			controls_state = 109
			controls_state = 104
			controls_state = 45
			controls_state = 163
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 102
			add_state_claim = 103
			add_state_claim = 109
			add_state_claim = 104
			add_state_claim = 163
			add_state_core = 764
			add_state_core = 45
			if = {
				limit = {
					OR = {
						103 = { is_controlled_by = YUG }
						103 = { controller = { is_subject_of = YUG } }
						103 = { controller = { is_in_faction_with = YUG } }
					}
				}
				add_ai_strategy = {
					type = conquer
  					id = YUG
  					value = 200
				}
			}
		}
	}

	focus = {
		id = HUN_reclaim_venetia
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = HUN_march_to_the_shore }
		x = -1
		y = 6
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_army_manpower = { size > 300000 }
			160 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
		}

		bypass = {
			is_subject = no
			controls_state = 736
			controls_state = 160
			controls_state = 39
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 736
			add_state_claim = 160
			add_state_claim = 39
			if = {
				limit = {
					160 = { is_controlled_by = ITA }
				}
				add_ai_strategy = {
					type = conquer
  					id = ITA
  					value = 200
				}
			}
		}
	}


	focus = {
		id = HUN_claim_galicia
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = HUN_protect_czechoslovakia }
		x = 1
		y = 5
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_army_manpower = { size > 200000 }
			89 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
		}

		bypass = {
			controls_state = 88
			controls_state = 89
			controls_state = 91
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 88
			add_state_claim = 89
			add_state_claim = 91
			if = {
				limit = {
					89 = {
						OWNER = {
							not = { is_guaranteed_by = GER }
						}
					}
				}
				89 = {
					OWNER = {
						ROOT = {
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = HUN_claim_the_bucovina
		icon = GFX_focus_generic_strike_at_democracy2
		prerequisite = { focus = HUN_claim_galicia }
		x = 1
		y = 6
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_subject = no
		}

		bypass = {
			controls_state = 80
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 80
		}
	}
	focus = {
		id = HUN_reclaim_the_empire
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_reclaim_venetia }
		prerequisite = { focus = HUN_claim_the_bucovina }
		x = 0
		y = 7
		relative_position_id = HUN_invite_the_habsburg_prince

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_subject = no
			NOT = {
				controls_state = 455
				controls_state = 454
				controls_state = 66 
				controls_state = 67 
				controls_state = 162
				controls_state = 17 
				controls_state = 159
				controls_state = 161
				controls_state = 762
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 455
			add_state_claim = 454
			add_state_claim = 66 
			add_state_claim = 67 
			add_state_claim = 162
			add_state_claim = 17 
			add_state_claim = 159
			add_state_claim = 161
			add_state_claim = 762
		}
	}

	############################
	##### DEMOCRATIC KING ######
	############################

	focus = {
		id = HUN_elect_a_democratic_king
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = HUN_elect_a_king }
		mutually_exclusive = { focus =  HUN_elect_a_fascist_king }
		mutually_exclusive = { focus =  HUN_invite_the_habsburg_prince }
		x = 0
		y = 1
		relative_position_id = HUN_elect_a_king

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = HUN_hungarian_monarchy_democratic
				remove_idea = HUN_hungarian_monarchy_2
			}
			add_ideas = HUN_dynastic_ties
			unlock_decision_tooltip = HUN_call_in_sweden
			add_ideas = HUN_charles_v
			add_relation_modifier = {
				target = SWE
				modifier = HUN_dynastic_ties_license
			}
			hidden_effect = {
				news_event = { id = news.296 }
			}
			add_ai_strategy = {
				type = befriend
				id = "SWE"
				value = 200
			}
			add_ai_strategy = {
				type = support
				id = "SWE"
				value = 200
			}
			SWE = {
				add_ai_strategy = {
					type = befriend
					id = "HUN"
					value = 200
				}
				add_ai_strategy = {
					type = support
					id = "HUN"
					value = 200
				}
			}
			hidden_effect = { set_cosmetic_tag = HUN_MONARCHY }
		}
	}

	focus = {
		id = HUN_responsible_government
		icon = GFX_goal_support_democracy
		prerequisite = { focus = HUN_elect_a_democratic_king }
		x = 0
		y = 1
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			democratic > 0.4
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_politics = { ruling_party = democratic }
			hold_election = HUN

			swap_ideas = {
				add_idea = HUN_his_majestys_government
				remove_idea = HUN_hungarian_monarchy_democratic
			}
			hidden_effect = {
				if = {
					limit = { 
						#has_dlc = "Battle for the Bosporus" #TODO
					}
					remove_opinion_modifier = {
						target = CZE
						modifier = BFTB_incongruous_neighbors
					}
					remove_opinion_modifier = {
						target = ROM
						modifier = BFTB_incongruous_neighbors
					}
					remove_opinion_modifier = {
						target = YUG
						modifier = BFTB_incongruous_neighbors
					}
					every_country = {
						limit = {
							has_opinion_modifier = BFTB_balkan_pact_enemy
						}
						remove_opinion_modifier = {
							target = HUN
							modifier = BFTB_balkan_pact_enemy
						}
					}
				}
			}
		}
	}

	focus = {
		id = HUN_rapproachement_with_little_entente
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = HUN_responsible_government }
		x = 0
		y = 2
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {
			OR = {
				NOT = { has_idea = HUN_treaty_of_triannon }
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					FRA = { 
						exists = yes
						is_subject = no
						has_completed_focus = FRA_strengthen_the_little_entente 
					}
				}
				FRA = { country_event = { id = DOD_hungary.30 } }
			}
			if = {
				limit = {
					country_exists = ROM
					OR = {
						FRA = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
						FRA = { exists = no }
						FRA = { is_subject = yes }
					}
				}
				ROM = { country_event = { id = DOD_hungary.30 } }
			}
			
		}
	}

	focus = {
		id = HUN_join_allies
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = HUN_rapproachement_with_little_entente }
		mutually_exclusive = { focus = HUN_the_balkan_pact }
		x = -1
		y = 3
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
				factor = 0
					ENG = { has_capitulated = yes }
			}
			modifier = {
				factor = 0.2
					ENG = { surrender_progress > 0.2 }
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			ENG = {
				exists = yes
				is_puppet = no
				NOT = {
					has_war_with = HUN
				}
			}
			any_other_country = {
				is_major = yes
				is_faction_leader = yes
				has_government = democratic
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = HUN	
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						not = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = generic.2 }
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}

	focus = {
		id = HUN_the_balkan_pact
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = HUN_rapproachement_with_little_entente }
		mutually_exclusive = { focus = HUN_join_allies }
		x = 1
		y = 3
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_in_faction = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_create_factions = yes } 
			create_faction = HUN_BALKAN_FACTION
		}
	}

	focus = {
		id = HUN_an_unlikely_alliance
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_the_balkan_pact }
		x = 1
		y = 4
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			ROM = {
				is_in_faction = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			ROM = { country_event = generic.5 }
		}
	}

	focus = {
		id = HUN_joint_oil_exploitation_company
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = HUN_join_allies }
		x = -1
		y = 4
		relative_position_id = HUN_elect_a_democratic_king

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			is_in_faction_with = ENG
			ENG = {
				is_faction_leader = yes
				has_government = democratic
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_oil_exploitation_company_tech_group
			ENG = { add_to_tech_sharing_group = HUN_joint_oil_exploitation_company_tech_group }
		}
	}


	############################
	####### FASCIST KING #######
	############################

	focus = {
		id = HUN_elect_a_fascist_king
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = HUN_elect_a_king }
		mutually_exclusive = { focus =  HUN_elect_a_democratic_king }
		mutually_exclusive = { focus =  HUN_invite_the_habsburg_prince }
		x = 3
		y = 1
		relative_position_id = HUN_elect_a_king

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality				
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = HUN_hungarian_monarchy_fascism
				remove_idea = HUN_hungarian_monarchy_2
			}
			set_cosmetic_tag = HUN_MONARCHY
			if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = { ideology = fascism popularity = 0.05 }
				create_country_leader = {
					name = "Friedrich Franz of Mecklenburg-Schwerin"
					desc = "POLITICS_FRIEDRICH_FRANZ_OF_MECKLENBURG-SCHWERIN_DESC"
					picture = GFX_Portrait_hungary_friedrich_franz
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						fascist_sympathies
					}
					id = 501 #Neutral Franz
				}
				hidden_effect = {
					create_country_leader = {
						name = "Friedrich Franz of Mecklenburg-Schwerin"
						desc = "POLITICS_FRIEDRICH_FRANZ_OF_MECKLENBURG-SCHWERIN_DESC"
						picture = GFX_Portrait_hungary_friedrich_franz
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
						id = 502 #Nazi Franz
					}
				}
				else = {
					create_country_leader = {
						name = "Friedrich Franz of Mecklenburg-Schwerin"
						desc = "POLITICS_FRIEDRICH_FRANZ_OF_MECKLENBURG-SCHWERIN_DESC"
						picture = GFX_Portrait_hungary_friedrich_franz
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
						id = 502 #Nazi Franz
					}
				}
			}
			hidden_effect = {
				news_event = { id = news.297 }
			}
		}
	}

	############################
	## ECONOMIC INTERVENTION ###
	############################

	focus = {
		id = HUN_economic_intervention
		icon = GFX_goal_generic_demand_territory
		mutually_exclusive = { focus = HUN_balanced_budget }
		x = 15
		y = 0

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = HUN_interventionism
		}
	}



	############################
	####### FASCIST PATH #######
	############################

	focus = {
		id = HUN_strengthen_fascists
		icon = GFX_goal_support_fascism
		prerequisite = { focus = HUN_economic_intervention }
		mutually_exclusive = { focus = HUN_council_of_peoples_commissars }
		x = -5
		y = 1
		relative_position_id = HUN_economic_intervention

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = { idea = HUN_strengthen_fascists days = 720 }
			add_popularity = { ideology = fascism popularity = 0.05 }
			set_party_name = { ideology = fascism long_name = HUN_arrow_cross_party_long name = HUN_arrow_cross_party }
			hidden_effect = {
				create_country_leader = {
					name = "Miklós Horthy"
					desc = "POLITICS_MIKLOS_HORTHY_DESC"
					picture = "Portrait_Hungary_Miklos_Horthy.dds"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						anti_communist
					}
					id = 503 #Horthy fascist
				}
			}
		}
	}

	focus = {
		id = HUN_renounce_the_treaty_of_trianon
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = HUN_strengthen_fascists focus = HUN_elect_a_fascist_king }
		x = 0
		y = 3
		relative_position_id = HUN_strengthen_fascists

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			OR = {
				has_government = fascism
				fascism > 0.4
			}
			is_subject = no
		}

		bypass = {
			NOT = {
				has_idea = HUN_treaty_of_triannon
				has_idea = HUN_treaty_of_triannon_2
				has_idea = HUN_treaty_of_triannon_3
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			add_threat = 1
			if = {
				limit = { 
					FRA = { 
						has_completed_focus = FRA_strengthen_the_little_entente 
						exists = yes
						is_subject = no
					} 

				}
				FRA = { country_event = { id = DOD_hungary.40 } }
			}
			if = {
				limit = { 
					OR = {
						NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } } 
						FRA = { exists = no }
						FRA = { is_subject = yes }
					}
				} #Romania gets the event if France not engaged in Balkans
				ROM = { country_event = { id = DOD_hungary.40 } }	 
			}
			
			#make Horthy or King dude leader. depending on focus picked earlier
			
			if = {
				limit = {
					has_completed_focus = HUN_strengthen_fascists
				}
				if = {
					#Retire Horthy if neutral leader
					limit = {
						has_country_leader = { id = 500 }
					}
					hidden_effect = { 
						retire_country_leader = yes 
					}
				}
			}

			if = {
				limit = {
					has_completed_focus = HUN_elect_a_fascist_king
				}
				if = {
					#Retire Franz if he neutral leader
					limit = {
						has_country_leader = { id = 501 }
					}
					hidden_effect = { retire_country_leader = yes }
				}

				#Undecided
				if = {
					limit = {
						NOT = { has_completed_focus = HUN_elect_a_fascist_king }
						NOT = { has_completed_focus = HUN_strengthen_fascists }
					}
					custom_effect_tooltip = HUN_renounce_the_treaty_of_trianon_tt
				}

				
			}
			if = {
				limit = {
					NOT = { has_government = fascism }
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}
		}
	}

	focus = {
		id = HUN_renew_the_rome_protocols
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = HUN_strengthen_fascists }
		mutually_exclusive = { focus = HUN_trade_deal_with_germany }
		x = 2
		y = 1
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
                factor = 0
                is_historical_focus_on = yes
            }
		}

		available = {
			NOT = { has_war_with = ITA }
			NOT = { has_war_with = AUS }
			ITA = {
				NOT = { has_war_with = AUS }
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			AUS = {
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
		}

		bypass = {

		}
		historical_ai = {
			GER = {
				OR = {
					exists = no
					NOT = {
						has_government = fascism #historical AI should only pick this if Germany doesn't exist or isn't fascist
					}
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			swap_ideas = {
				add_idea = HUN_interventionism_2
				remove_idea = HUN_interventionism
			}
			if = {
				limit = {
					country_exists = AUS
				}
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
			}
			if = {
				limit = {
					country_exists = ITA
				}
				reverse_add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
			}
			news_event = { id = news.312 }
		}
	}

	focus = {
		id = HUN_protect_austria
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = HUN_renew_the_rome_protocols }
		x = 2
		y = 2
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {
			4 = {
				NOT = { is_owned_by = AUS }
			}
			152 = {
				NOT = { is_owned_by = AUS }
			}
			153 = {
				NOT = { is_owned_by = AUS }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			#This modifies the AI change in germany.4 Aschluss event
			give_guarantee = AUS
		}
	}

	focus = {
		id = HUN_alliance_with_italy
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_protect_austria }
		x = 2
		y = 3
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			NOT = { has_war_with = ITA }
			is_subject = no
			is_in_faction = no
			ITA = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				is_subject = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			if = {
				limit = {
					ITA = { is_in_faction = no }
				}
				HUN = {
					set_rule = { can_create_factions = yes }
					create_faction = HUN_PACT_OF_ROME_FACTION
					ITA = { 
						country_event = generic.5 
						add_ai_strategy = {
							type = alliance
							id = "HUN"
							value = 200
						}
					}
					if = {
						limit = {
							country_exists = AUS
						}
						AUS = {
							country_event = generic.5
						}
					}
				}
			}
			if = {
				limit = {
					ITA = { is_faction_leader = yes }
				}
				ITA = {
					country_event = generic.2
				}
			}
			if = {
				limit = {
					ITA = { is_in_faction_with = FRA }
				}
				FRA = {
					country_event = generic.2
				}
			}
			hidden_effect = {
				news_event = { id = news.313 }
			}
			
		}
	}

	focus = {
		id = HUN_trade_deal_with_germany
		icon = GFX_goal_generic_trade
		prerequisite = { focus = HUN_renounce_the_treaty_of_trianon }
		mutually_exclusive = { focus = HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = HUN_renounce_the_treaty_of_trianon
		available = {
			NOT = { GER = { has_government = communism } }
		}

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			NOT = { has_war_with = GER }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_opinion_modifier = { target = GER modifier = HUN_trade_deal_with_germany }
			reverse_add_opinion_modifier = { target = GER modifier = HUN_trade_deal_with_germany }
			swap_ideas = {
				add_idea = HUN_interventionism_2
				remove_idea = HUN_interventionism
			}
		}
	}

	focus = {
		id = HUN_joint_aluminum_mining_company
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = HUN_trade_deal_with_germany }
		x = 0
		y = 2
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}

	focus = {
		id = HUN_join_axis
		icon = GFX_goal_anschluss
		prerequisite = { focus = HUN_joint_aluminum_mining_company }
		x = 0
		y = 3
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
					GER = { has_capitulated = yes }
			}
			modifier = {
				GER = { surrender_progress > 0.25 }
				factor = 0.1
			}
		}

		available = {
			NOT = { has_war_with = GER }
			is_subject = no
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = HUN	
				}
			}
			GER = {
				is_faction_leader = yes
				has_government = fascism
				is_subject = no
			}
		}

		bypass = {
			AND = { 
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
					has_government = fascism
				}
			} 
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			GER = {
				country_event = generic.2
			}
		}
	}

	focus = {
		id = HUN_reaffirm_territorial_claims
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = HUN_renounce_the_treaty_of_trianon }
		x = -2
		y = 3
		relative_position_id = HUN_renounce_the_treaty_of_trianon

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 0.25
				OR = {
					YUG = {
						is_in_faction = yes
					}
					ROM = {
						is_in_faction = yes 
					}					
				}
			}
			modifier = {
				factor = 4
				is_in_faction = yes
				NOT = {
					OR = {
						is_in_faction_with = GER
						is_in_faction_with = ROM
						is_in_faction_with = YUG
					}
				}
			}
		}

		available = {
			is_puppet = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_core = 76
			add_state_core = 83
			add_state_core = 84
			add_state_core = 664
			add_state_core = 45
			add_state_core = 764
			add_state_claim = 82
		}
	}

	focus = {
		id = HUN_demand_transylvania
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus =  HUN_reaffirm_territorial_claims }
		x = -1
		y = 1
		relative_position_id = HUN_reaffirm_territorial_claims
		will_lead_to_war_with = ROM
		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

			ROM = {
				controls_state = 76
				controls_state = 83
				controls_state = 84
			}
			is_puppet = no
			NOT = {
				is_in_faction_with = ROM
			}
			NOT = {
				has_war_with = ROM
			}
			strength_ratio = { tag = ROM ratio > 0.66 }
			has_army_manpower = { size > 200000 }
		
		}

		bypass = {
			OR = {
				664 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				NOT = {
					ROM = {
						controls_state = 76
						controls_state = 83
						controls_state = 84
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {	
			custom_effect_tooltip = HUN_demands_tt		
			ROM = { country_event = { id = DOD_hungary.50 } }
			hidden_effect = {
				news_event = { id = news.300 }
			}
		}
	}

	focus = {
		id = HUN_demand_southern_slovakia
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_reaffirm_territorial_claims }
		x = 1
		y = 1
		relative_position_id = HUN_reaffirm_territorial_claims
		will_lead_to_war_with = CZE
		will_lead_to_war_with = SLO
		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			
			if = {
				limit = { 
					country_exists = CZE 
					664 = { is_owned_by = CZE }
				}
				strength_ratio = { tag = CZE ratio > 0.75 }
			}
			if = {
				limit = { 
					country_exists = SLO 
					664 = { is_owned_by = SLO }
				}
				strength_ratio = { tag = SLO ratio > 0.75 }
			}
				
			
			has_army_manpower = { size > 120000 }
		}

		bypass = {
			OR = {
				owns_state = 664
				664 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				AND = {
					NOT = { CZE = { owns_state = 664 } }
					NOT = { SLO = { owns_state = 664 } }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					CZE = {
						exists = yes 
						owns_state = 664
					}
				}
				if = {
					limit = {
						CZE = { is_subject = yes }
					}
					create_wargoal = {
						type = take_state_focus
						target = CZE
						expire = 0
						generator = { 664 }
					}
					else = {
						CZE = { country_event = DOD_hungary.80 }
					}
				}
			}
			if = {
				limit = {
					664 = { is_owned_by = POL } #exchanged Danzig for Slovakia
				}
				create_wargoal = {
					type = take_state_focus
					target = POL
					expire = 0
					generator = { 664 }
				}
			}
			if = {
				limit = {
					SLO = { 
						exists = yes 
						owns_state = 664
					}
				}
				SLO = { country_event = DOD_hungary.80 }
			}
			
		}
	}

	focus = {
		id = HUN_demand_the_vojvodina
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_demand_transylvania }
		prerequisite = { focus = HUN_demand_southern_slovakia }
		x = 0
		y = 2
		relative_position_id = HUN_reaffirm_territorial_claims
		will_lead_to_war_with = YUG
		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			strength_ratio = { tag = YUG ratio > 0.75 }
			has_army_manpower = { size > 175000 }
		}

		bypass = {
			OR = {
				YUG = {
					exists = no
				}
				owns_state = 45
				45 = {
					OWNER = {
						is_in_faction_with = ROOT
					}
				}
				45 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					OR = {
						has_war_with = YUG
						45 = {
							NOT = {
								is_owned_by = YUG
								owner = { is_subject_of = YUG }
							}
						}
					}
				}
				45 = { add_core_of = HUN }
				else = {
					if = {
						limit = {
							YUG = { 
								is_subject = yes 
								owns_state = 45
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = YUG
							expire = 0
							generator = { 45 }
						}
						else = {
							if = {
								limit = {
									OR = {
										45 = { is_owned_by = YUG }
										45 = { owner = { is_subject_of = YUG } }
									}
								}
								YUG = { country_event = DOD_hungary.90 }
							}
						}
					}
				}
			}
			hidden_effect = {
				news_event = { id = news.306 }
			}
		}
	}

	focus = {
		id = HUN_claim_overlordship_over_slovakia
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = HUN_demand_southern_slovakia }
		x = 2
		y = 2
		relative_position_id = HUN_reaffirm_territorial_claims
		will_lead_to_war_with = SLO
		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			OR = {
				SLO = {
					exists = yes
					NOT = { is_puppet_of = HUN }
				}
				any_other_country = {
					owns_state = 70
					owns_state = 71
					owns_state = 72
					owns_state = 73
					NOT = {
						has_war_with = HUN
					}
				}
			}
			if = {
				limit = { country_exists = SLO }
				strength_ratio = { tag = SLO ratio > 0.75 }
				NOT = { has_war_with = SLO }
			}
			has_army_manpower = { size > 175000 }
		}

		bypass = {
			OR = {
				SLO = {
					is_subject_of = HUN
				}
				AND = {
					owns_state = 70
					owns_state = 71
					owns_state = 72
					owns_state = 73
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					70 = {
						controller = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
					SLO = { exists = no } 
					any_other_country = {
						NOT = {
							owns_state = 70
							owns_state = 71
							owns_state = 72
							owns_state = 73
						}
					}
				}
				70 = {
					controller = {
						country_event = DOD_hungary.100
					}
				}
			}
			if = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = no
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { country_event = DOD_hungary.107 }
			}
			if = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { OVERLORD = { country_event = DOD_hungary.107 } }
			}
			hidden_effect = {
				news_event = { id = news.309 }
			}
		}
	}

	focus = {
		id = HUN_proclaim_greater_hungary
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		prerequisite = { focus = HUN_demand_the_vojvodina }
		x = 0
		y = 3
		relative_position_id = HUN_reaffirm_territorial_claims

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			OR = {
				owns_state = 664
				owns_state = 73
				owns_state = 76
				owns_state = 84
				owns_state = 83
				owns_state = 82
				owns_state = 45
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			custom_effect_tooltip = HUN_GREATER_tt
			set_cosmetic_tag = HUN_GREATER
			add_stability = 0.1
			hidden_effect = {
				news_event = { id = news.299 }
			}
		}
	}


	############################
	#### COMMUNIST BRANCH ######
	############################

	focus = {
		id = HUN_council_of_peoples_commissars
		icon = GFX_goal_support_communism
		prerequisite = { focus = HUN_economic_intervention }
		mutually_exclusive = { focus = HUN_strengthen_fascists }
		relative_position_id = HUN_economic_intervention
		x = 2
		y = 1

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = HUN_interventionism_communism
				remove_idea = HUN_interventionism
			}
		}
	}

	focus = {
		id = HUN_assassinate_horthy
		icon = GFX_focus_hun_assassinate_horthy
		x = 0
		y = 1
		relative_position_id = HUN_economic_intervention
		prerequisite = { focus = HUN_council_of_peoples_commissars }
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			communism > 0.3

		}

		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = { has_country_leader = { id = 500 } }
				kill_country_leader = yes
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			news_event = { id = news.314 }
		}
	}

	focus = {
		id = HUN_the_hungarian_red_army
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = HUN_assassinate_horthy }
		x = -3
		y = 2
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			NOT = {
				has_idea = HUN_treaty_of_triannon
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = HUN_the_hungarian_red_army
		}
	}

	focus = {
		id = HUN_soviet_hungarian_military_academy
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = HUN_the_hungarian_red_army }
		x = -3
		y = 3
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = HUN_soviet_hungarian_military_academy_tech_group
			SOV = { add_to_tech_sharing_group = HUN_soviet_hungarian_military_academy_tech_group }
		}
	}

	focus = {
		id = HUN_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = HUN_assassinate_horthy }
		mutually_exclusive = { focus = HUN_the_revolutionary_council }
		x = 0
		y = 2
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0
					SOV = { has_capitulated = yes }
			}
		}

		available = {
			NOT = { has_war_with = SOV }
			any_other_country = {
				is_major = yes
				has_government = communism
				not = { has_war_with = ROOT }
			}
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = HUN	
				}
			}
			is_subject = no
			SOV = { is_faction_leader = yes }
			communism > 0.5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
					}
				}
				SOV = {
					country_event = generic.2
				}
				if = {
					limit = {
						SOV = {
							NOT = {
								has_completed_focus = SOV_great_purge
							}
						}
					}
					retire_country_leader = yes
					create_country_leader = {
						name = "Bela Kun"
						desc = "POLITICS_BELA_KUN_DESC"
						picture = GFX_Portrait_hungary_bela_kun
						expire = "1965.1.1"
						ideology = marxism
						traits = {
						}
					}
				}
			}
			else = {
				get_best_alliance_match_communism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}

	focus = {
		id = HUN_the_revolutionary_council
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = HUN_assassinate_horthy }
		mutually_exclusive = { focus = HUN_join_comintern }
		x = 2
		y = 1
		relative_position_id = HUN_assassinate_horthy

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_in_faction = no
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_create_factions = yes } 
			create_faction = HUN_FACTION_COMMIE
		}
	}

	focus = {
		id = HUN_pressure_romania
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = HUN_join_comintern }
		x = -1
		y = 3
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			ROM = { 
				exists = yes 
				NOT = { is_in_faction_with = SOV }
				NOT = { has_war_with = SOV }
				OR = {
					owns_state = 76
					owns_state = 78
				}
			}
			NOT = { has_war_with = SOV }
			SOV = { 
				is_faction_leader = yes 
				exists = yes
				is_subject = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = DOD_hungary.110 }
		}
	}

	focus = {
		id = HUN_intervene_in_czechoslovakia
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = HUN_join_comintern }
		x = 1
		y = 3
		relative_position_id = HUN_council_of_peoples_commissars

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			CZE = { exists = yes }
			NOT = { has_war_with = SOV }
			CZE = { NOT = { is_in_faction_with = SOV } }
			SOV = { is_faction_leader = yes }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = DOD_hungary.120 }
		}
	}

	############################
	##### INDUSTRY BRANCH ######
	############################

	focus = {
		id = HUN_industrial_revitalization
		icon = GFX_goal_generic_construction
		x = 22
		y = 0

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_industrial_revitalization
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = HUN_reintegrate_the_railroads
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = HUN_industrial_revitalization }
		x = 0
		y = 1
		relative_position_id = HUN_industrial_revitalization

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_3
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			if = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 155 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf
			}
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_2
			}
			random_owned_controlled_state = {
				prioritize = { 664 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_3
			}
			if = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			if = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}
		}
	}

	focus = {
		id = HUN_support_domestic_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = HUN_reintegrate_the_railroads }
		x = -1
		y = 2
		relative_position_id = HUN_industrial_revitalization

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_support_domestic_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_support_domestic_industry_IC
			}
		}
	}

	focus = {
		id = HUN_support_urbanization
		icon = GFX_goal_generic_construction
		prerequisite = { focus = HUN_reintegrate_the_railroads }
		x = 1
		y = 2
		relative_position_id = HUN_industrial_revitalization
		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 3
				}
			}
		}
	}

	focus = {
		id = HUN_institute_for_industrial_techniques
		icon = GFX_focus_research
		prerequisite = { focus = HUN_support_urbanization }
		prerequisite = { focus = HUN_support_domestic_industry }
		x = 0
		y = 3
		relative_position_id = HUN_industrial_revitalization
		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = HUN_announce_the_gyor_program
		icon = GFX_goal_generic_production
		prerequisite = { focus = HUN_institute_for_industrial_techniques }
		x = 0
		y = 4
		relative_position_id = HUN_industrial_revitalization

		cost = 10

		ai_will_do = {
			factor = 90
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_announce_the_gyor_program
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	############################
	#### CIVILIAN INDUSTRY #####
	############################

	focus = {
		id = HUN_civilian_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = HUN_announce_the_gyor_program }
		mutually_exclusive = { focus = HUN_domestic_arms_industry }
		x = -1
		y = 1
		relative_position_id = HUN_announce_the_gyor_program

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_civilian_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_civilian_industry_IC
			}
		}
	}

	

	focus = {
		id = HUN_invite_foreign_investors
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = HUN_civilian_industry }
		x = -2
		y = 1
		relative_position_id = HUN_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = HUN_invite_foreign_investors
		}
	}

	focus = {
		id = HUN_expand_the_manfred_weiss_steel_works
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_invite_foreign_investors }
		x = -3
		y = 2
		relative_position_id = HUN_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_expand_the_manfred_weiss_steel_works_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_expand_the_manfred_weiss_steel_works_IC
				add_resource = {
					type = steel
					amount = 12
				}
			}
		}
	}

	focus = {
		id = HUN_expand_the_aluminum_industry
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_invite_foreign_investors }
		x = -1
		y = 2
		relative_position_id = HUN_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}

	focus = {
		id = HUN_expand_the_technical_university_of_budapest
		icon = GFX_focus_research
		prerequisite = { focus = HUN_expand_the_manfred_weiss_steel_works }
		prerequisite = { focus = HUN_expand_the_aluminum_industry }
		x = -2
		y = 3
		relative_position_id = HUN_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	############################
	###### ARMS INDUSTRY #######
	############################

	focus = {
		id = HUN_domestic_arms_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = HUN_announce_the_gyor_program }
		mutually_exclusive = { focus = HUN_civilian_industry }
		x = 1
		y = 1
		relative_position_id = HUN_announce_the_gyor_program

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_domestic_arms_industry_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_domestic_arms_industry_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_domestic_arms_industry_AF1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_domestic_arms_industry_AF2
			}
		}
	}

	

	focus = {
		id = HUN_aeronautic_technology_institute
		icon = GFX_focus_research
		prerequisite = { focus = HUN_domestic_arms_industry }
		x = 1
		y = 1
		relative_position_id = HUN_domestic_arms_industry

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = HUN_boost_hungarian_aviation_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = HUN_aeronautic_technology_institute }
		x = 1
		y = 3
		relative_position_id = HUN_domestic_arms_industry

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_boost_hungarian_aviation_industry_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_boost_hungarian_aviation_industry_AF1
			}
		}
	}


	############################
	#### Synthetic INDUSTRY #####
	############################

	focus = {
		id = HUN_autarky
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = HUN_civilian_industry focus = HUN_domestic_arms_industry }
		x = 0
		y = 2
		relative_position_id = HUN_announce_the_gyor_program

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_synthetic_industry
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
		}
	}

	focus = {
		id = HUN_synthetic_industry
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = HUN_autarky }
		x = 0
		y = 3
		relative_position_id = HUN_announce_the_gyor_program

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			has_tech = synth_oil_experiments
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {

			random_state = {
				limit = {
					has_state_flag = HUN_synthetic_industry_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = { NOT = { has_tech = synth_oil_experiments } }
				custom_effect_tooltip = HUN_synthetic_oil_tt
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_synthetic_industry_AF1
			}
		}
	}

	############################
	##### MILITARY STUFFS ######
	############################

	focus = {
		id = HUN_secret_rearmament
		icon = GFX_focus_secret_rearmament
		x = 33
		y = 0

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {
			NOT = { has_idea = HUN_treaty_of_triannon }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = HUN_secret_rearmament
		}
	}

	focus = {
		id = HUN_war_games
		icon = GFX_goal_poland_goal
		prerequisite = { focus = HUN_secret_rearmament }
		x = -1
		y = 1
		relative_position_id = HUN_secret_rearmament

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 25
		}
	}

	focus = {
		id = HUN_theoretical_air_efforts
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = HUN_secret_rearmament }
		x = 1
		y = 1
		relative_position_id = HUN_secret_rearmament

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_theoretical_air_efforts
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = HUN_bled_agreement
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = HUN_war_games focus = HUN_theoretical_air_efforts }
		x = 0
		y = 2
		relative_position_id = HUN_secret_rearmament

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {
			OR = {
				AND = {
					NOT = { has_idea = HUN_treaty_of_triannon }
					NOT = { has_idea = HUN_treaty_of_triannon_2 }
				}
				has_idea = HUN_treaty_of_triannon_3
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
				}
				FRA = { country_event = DOD_hungary.140 }
			}
			if = {
				limit = {
					NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } }
				}
				ROM = { country_event = DOD_hungary.140 }
			}

			custom_effect_tooltip = HUN_bled_agreement_custom_effect_tooltip
		}
	}

	############################
	######## AIR STUFFS ########
	############################

	focus = {
		id = HUN_establish_the_air_force
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = HUN_bled_agreement }
		x = -5
		y = 4
		relative_position_id = HUN_secret_rearmament

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = HUN_establish_the_air_force
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = HUN_indigenous_designs
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = HUN_establish_the_air_force }
		prerequisite = { focus = HUN_boost_hungarian_aviation_industry }
		mutually_exclusive = { focus = HUN_license_foreign_designs }
		mutually_exclusive = { focus = HUN_joint_air_development }
		x = -2
		y = 5
		relative_position_id = HUN_establish_the_air_force

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = HUN_indigenous_designs
		}
	}

	focus = {
		id = HUN_heavy_fighter_effort
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = HUN_indigenous_designs }
		mutually_exclusive = { focus = HUN_light_fighter_effort }
		x = -3
		y = 1
		relative_position_id = HUN_indigenous_designs

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_heavy_fighter_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				technology = heavy_fighter1
				technology = heavy_fighter2
				technology = heavy_fighter3
			}
		}
	}

	focus = {
		id = HUN_light_fighter_effort
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = HUN_indigenous_designs }
		mutually_exclusive = { focus = HUN_heavy_fighter_effort }
		x = -1
		y = 1
		relative_position_id = HUN_indigenous_designs

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
		}
	}

	focus = {
		id = HUN_cas_focus
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = HUN_indigenous_designs }
		mutually_exclusive = { focus = HUN_tac_focus }
		x = 1
		y = 1
		relative_position_id = HUN_indigenous_designs

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_cas_focus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				technology = CAS1
				technology = CAS2
				technology = CAS3
			}
		}
	}

	focus = {
		id = HUN_tac_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = HUN_indigenous_designs }
		mutually_exclusive = { focus = HUN_cas_focus }
		x = 3
		y = 1
		relative_position_id = HUN_indigenous_designs

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_tac_focus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = HUN_license_foreign_designs
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = HUN_establish_the_air_force }
		mutually_exclusive = { focus = HUN_indigenous_designs }
		mutually_exclusive = { focus = HUN_joint_air_development }
		x = 5
		y = 5
		relative_position_id = HUN_establish_the_air_force

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_license_foreign
		}
	}

	focus = {
		id = HUN_fighter_competition
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = HUN_license_foreign_designs }
		x = -1
		y = 1
		relative_position_id = HUN_license_foreign_designs

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				has_tech = fighter3
				has_tech = heavy_fighter3
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			country_event = DOD_hungary.150 
		}
	}

	focus = {
		id = HUN_bomber_competition
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = HUN_license_foreign_designs }
		x = 1
		y = 1
		relative_position_id = HUN_license_foreign_designs

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			NOT = {
				has_tech = CAS3
				has_tech = tactical_bomber3
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_HUN = yes
							is_available_tac_HUN = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_HUN = yes
							is_available_tac_HUN = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_HUN = yes
							is_available_tac_HUN = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_HUN = yes
							is_available_tac_HUN = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_HUN = yes
							is_available_tac_HUN = yes
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			country_event = DOD_hungary.160
		}
	}

	focus = {
		id = HUN_joint_air_development
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = HUN_establish_the_air_force }
		mutually_exclusive = { focus = HUN_license_foreign_designs }
		mutually_exclusive = { focus = HUN_indigenous_designs }
		x = 2
		y = 5
		relative_position_id = HUN_establish_the_air_force

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_air_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_air_development_group
			}
		}
	}

	############################
	####### ARMY STUFFS ########
	############################

	focus = {
		id = HUN_army_maneuvers
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = HUN_bled_agreement }
		x = 6
		y = 1
		relative_position_id = HUN_bled_agreement

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = HUN_army_maneuvers
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	############################
	###### MOBILE BRANCH #######
	############################

	focus = {
		id = HUN_mobile_focus
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = HUN_army_maneuvers }
		mutually_exclusive = { focus = HUN_home_defense }
		x = -2
		y = 1
		relative_position_id = HUN_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_mobile_focus
				bonus = 1.0
				uses = 1
				category = cat_mobile_warfare
			}
		}
	}

	focus = {
		id = HUN_the_botond
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = HUN_mobile_focus }
		x = -2
		y = 1
		relative_position_id = HUN_mobile_focus

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_the_botond
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = HUN_motorized_logistics
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = HUN_the_botond }
		x = -1
		y = 4
		relative_position_id = HUN_mobile_focus

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_motorized_logistics
				bonus = 1.0
				uses = 2
				category = hospital_tech
				category = logistics_tech
			}
		}
	}

	focus = {
		id = HUN_develop_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = HUN_mobile_focus }
		mutually_exclusive = { focus = HUN_assault_gun_focus }
		x = 0
		y = 1
		relative_position_id = HUN_mobile_focus

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_develop_tanks
				ahead_reduction = 2
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = HUN_assault_gun_focus
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = HUN_mobile_focus focus = HUN_home_defense }
		mutually_exclusive = { focus = HUN_develop_tanks }
		x = 2
		y = 1
		relative_position_id = HUN_mobile_focus

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = HUN_assault_gun_focus
		}
	}

	focus = {
		id = HUN_joint_tank_procurement
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = HUN_develop_tanks focus = HUN_assault_gun_focus }
		x = 1
		y = 2
		relative_position_id = HUN_mobile_focus

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_tank_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_tank_development_group
			}
			
		}
	}

	focus = {
		id = HUN_armored_warfare
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = HUN_the_botond }
		x = 0
		y = 1
		relative_position_id = HUN_the_botond

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_armored_warfare
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = HUN_mobile_corps_doctrine
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = HUN_armored_warfare }
		x = 0
		y = 2
		relative_position_id = HUN_the_botond

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_mobile_corps_doctrine
				bonus = 1.0
				uses = 1
				category = cat_mobile_warfare
			}
		}
	}

	############################
	##### HOME DEF BRANCH ######
	############################

	focus = {
		id = HUN_home_defense
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = HUN_army_maneuvers }
		mutually_exclusive = { focus = HUN_mobile_focus }
		x = 2
		y = 1
		relative_position_id = HUN_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_home_defense
				bonus = 1.0
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}

	focus = {
		id = HUN_danuvia_submachine_guns
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = HUN_home_defense }
		x = 0
		y = 1
		relative_position_id = HUN_home_defense

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_danuvia_submachine_guns
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = HUN_artillery_effort
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = HUN_danuvia_submachine_guns }
		x = 0
		y = 2
		relative_position_id = HUN_home_defense

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_artillery_effort
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = HUN_light_infantry_divisions_doctrine
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = HUN_danuvia_submachine_guns }
		x = 2
		y = 2
		relative_position_id = HUN_home_defense

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_tech_tt
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_unit_tt
			hidden_effect = {
				if = {
					limit = { has_tech = tech_engineers }
					division_template = {
						name = "Light Division"
						division_names_group = HUN_INF_01
						priority = 2
		
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
							engineer = { x = 0 y = 1 }
						}
					}
					else = {
						division_template = {
							name = "Light Division"
							division_names_group = HUN_INF_01
							priority = 2
			
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
					
			    	   		 	infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								engineer = { x = 0 y = 1 }
							}
						}					
					}
				}	
				random_owned_controlled_state = {
					prioritize = { 43 }
					limit = { ROOT = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"1. Light Division\" division_template = \"Light Division\" start_experience_factor = 1.0" 
						owner = HUN
					}
				}
			}
			hidden_effect = { set_technology = { HUN_light_infantry_tech = 1 } }
		}
	}

	focus = {
		id = HUN_form_parachute_battalions
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = HUN_light_infantry_divisions_doctrine }
		x = 2
		y = 3
		relative_position_id = HUN_home_defense

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = HUN_form_parachute_battalions
				bonus = 3.0
				uses = 1
				category = para_tech
			}
		}
	}

	############################
	##### Naval Branch    ######
	############################

	focus = {
		id = HUN_naval_warfare
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = HUN_secret_rearmament }
		x = 12
		y = 1
		relative_position_id = HUN_secret_rearmament

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			any_state = {
				is_controlled_by = HUN
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			navy_experience = 15
			add_ideas = HUN_naval_warfare
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = HUN_ganz_danubius
		}
	}

	focus = {
		id = HUN_restauration
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = HUN_naval_warfare }
		mutually_exclusive = { focus = HUN_reform }
		x = -1
		y = 2
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_restauration
				bonus = 3.0
				uses = 1
				category = cat_fleet_in_being
			}

		}
	}

	focus = {
		id = HUN_capital_ships
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = HUN_restauration }
		x = -2
		y = 3
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_capital_ships
				bonus = 1.0
				uses = 2
				category = bc_tech
				category = bb_tech
			}

		}
	}


	focus = {
		id = HUN_reform
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = HUN_naval_warfare }
		mutually_exclusive = { focus = HUN_restauration }
		x = 1
		y = 2
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_reform
				bonus = 1.0
				uses = 2
				category = cat_trade_interdiction
				category = cat_base_strike
			}

		}
	}

	focus = {
		id = HUN_destroyer
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = HUN_restauration Focus = HUN_reform }
		x = 0
		y = 3
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_destroyer
				bonus = 3.0
				uses = 1
				category = dd_tech
			}

		}
	}

	focus = {
		id = HUN_cruisers
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = HUN_destroyer }
		x = 0
		y = 4
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_cruisers
				bonus = 1.0
				uses = 2
				category = cl_tech
				category = ca_tech
			}

		}
	}

	focus = {
		id = HUN_submarines
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = HUN_reform }
		x = 2
		y = 3
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_submarines
				bonus = 3.0
				uses = 1
				category = ss_tech
			}

		}
	}


	focus = {
		id = HUN_carriers
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = HUN_submarines }
		x = 2
		y = 4
		relative_position_id = HUN_naval_warfare

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_carriers
				bonus = 3.0
				uses = 1
				category = cv_tech
			}

		}
	}
}
focus_tree = {
	id = italian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ITA
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1100 }

	focus = {
		id = ITA_ethiopian_war_logistics
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 0
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		bypass = {
			550 = { NOT = { is_owned_and_controlled_by = ITA } }
			# Need province based trigger for this to work
			#550 = {		
			#	NOT = { 
			#		free_building_slots = {
			#			building = infrastructure
			#			size > 1
			#		} 
			#	}
			#	NOT = { 
			#		free_building_slots = {
			#			building = naval_base
			#			size > 2
			#		} 
			#	}
			#}
			559 = { NOT = { is_owned_and_controlled_by = ITA } }
			# Need province based trigger for this to work
			#559 = {
			#	NOT = { 
			#		free_building_slots = {
			#			building = infrastructure
			#			size > 2
			#		} 
			#	}
			#	NOT = { 
			#		free_building_slots = {
			#			building = naval_base
			#			size > 3
			#		} 
			#	}
			#}
		}

		completion_reward = {
			if = { limit = { 550 = { is_owned_and_controlled_by = ITA } }
				550 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				550 = {
					add_building_construction = {
						type = naval_base
						level = 3
						province = 12766
						instant_build = yes
					}
				}
			}

			if = { limit = { 559 = { is_owned_and_controlled_by = ITA } }
				559 = {
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
				}
      	559 = {
					add_building_construction = {
						type = naval_base
						level = 4
						province = 12991
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_industrial_effort
		icon = GFX_goal_generic_construct_civ_factory
		text = industrial_effort
		prerequisite = { focus = ITA_ethiopian_war_logistics }
		x = 0
		y = 1
		relative_position_id = ITA_ethiopian_war_logistics
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_on_continent = europe
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}				
			}
		}
	}

	focus = {
		id = ITA_industrial_effort_2
		icon = GFX_goal_generic_construct_mil_factory
		text = industrial_effort_2
		prerequisite = { focus = ITA_industrial_effort }
		x = 0
		y = 1
		relative_position_id = ITA_industrial_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							arms_factory > 0
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_on_continent = europe
						}
					}					
				}
				random_owned_controlled_state = {
					limit = {
						arms_factory > 0
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						is_on_continent = europe
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						arms_factory > 0
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						is_on_continent = europe
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}			
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_on_continent = europe
						}
					}					
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}			
			}
		}
	}

	focus = {
		id = ITA_fortification_effort
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ITA_industrial_effort_2 }
		x = 0
		y = 2
		relative_position_id = ITA_industrial_effort_2
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			# French border
			158 = {
				custom_effect_tooltip = ITA_fortification_effort_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 611
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6780
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9738
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11721
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11891
						instant_build = yes
					}
				}
			}
			# Dodecanese
			164 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 10007
					instant_build = yes
				}
			}
			# Sardinia
			114 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 9863
					instant_build = yes
				}
			}
			# Sicily
			115 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4159
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_extra_tech_slot
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = ITA_industrial_effort_2 }
		x = 1
		y = 1
		relative_position_id = ITA_industrial_effort_2
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = ITA_italian_highways
		icon = GFX_goal_generic_construct_infrastructure
		text = ITA_italian_highways
		prerequisite = { focus = ITA_extra_tech_slot }
		x = 0
		y = 2
		relative_position_id = ITA_extra_tech_slot
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			2 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			117 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			156 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			157 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			158 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			159 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			160 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			161 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			162 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}									
			
		}
	}	
	
	
	focus = {
		id = ITA_prospect_for_oil
		icon = GFX_goal_generic_production
		text = ITA_prospect_for_oil
		prerequisite = { focus = ITA_italian_highways }
		available = {
			ITA = {
				controls_state = 662
			}
		}
		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_italian_highways
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_resource = {
				type = oil
				amount = 8
				state = 662
			}
			662 = {
				set_state_flag = sirte_oil_developed
			}
		}
	}
	
	focus = {
		id = ITA_libyan_refineries
		icon = GFX_goal_generic_oil_refinery
		text = ITA_libyan_refineries
		prerequisite = { focus = ITA_prospect_for_oil }
		available = {
			ITA = {
				controls_state = 450
			}
			450 = {
				NOT = {
					has_state_flag = benghazi_oil_developed
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = ITA_prospect_for_oil
		cost = 10

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_resource = {
				type = oil
				amount = 4
				state = 450
			}
			450 = {
				set_state_flag = benghazi_oil_developed
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}	
		
		}
	}	
	
	
	
	focus = {
		id = ITA_libyan_infrastructure
		icon = GFX_goal_generic_construct_civilian
		text = ITA_libyan_infrastructure
		prerequisite = { focus = ITA_prospect_for_oil }
		x = 1
		y = 1
		relative_position_id = ITA_prospect_for_oil
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			450  = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
			662 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			449 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			451 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			448 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			
		}
	}		

		

	focus = {
		id = ITA_army_primacy
		icon = GFX_goal_generic_axis_build_infantry
		x = 4
		y = 0
		cost = 10
		ai_will_do = {
			factor = 0.25
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							arms_factory > 0
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}				
			}

			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ITA_modernized_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = ITA_army_primacy }
		x = -1
		y = 1
		relative_position_id = ITA_army_primacy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = ITA_modernized_army
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_modernized_artillery }
		prerequisite = { focus = ITA_industrial_effort }
		x = 0
		y = 1
		relative_position_id = ITA_modernized_artillery
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = special_bonus
				bonus = 1.0
				uses = 1
				category = recon_tech
				#technology = tech_recon
				#technology = tech_recon2
				#technology = tech_recon3
			}
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ITA_special_forces
		icon = GFX_goal_generic_special_forces
		text = special_forces
		prerequisite = { focus = ITA_modernized_army }
		x = 0
		y = 2
		relative_position_id = ITA_modernized_army
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = special_bonus
				bonus = 1.0
				uses = 1
				category = para_tech
				#technology = paratroopers
				#technology = paratroopers2
			}
			add_tech_bonus = {
				name = special_bonus
				ahead_reduction = 2
				uses = 1
				category = mountaineers_tech
				#technology = tech_mountaineers2
			}
		}
	}

	focus = {
		id = ITA_armored_effort
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = ITA_special_forces }
		x = 0
		y = 1
		relative_position_id = ITA_special_forces
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 2
				category = armor
			}
		}
	}

	focus = {
		id = ITA_mare_nostrum
		icon = GFX_goal_generic_build_navy
		x = 6
		y = 0
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 50
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}				
			}

			add_tech_bonus = {
				name = naval_doc_bonus
				bonus = 1.0
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = ITA_air_innovation
		icon = GFX_goal_generic_build_airforce
		text = air_innovation
		prerequisite = { focus = ITA_army_primacy focus = ITA_mare_nostrum }
		x = 1
		y = 1
		relative_position_id = ITA_army_primacy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = ITA_carrier_effort
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = ITA_mare_nostrum }
		x = 1
		y = 1
		relative_position_id = ITA_mare_nostrum
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = cv_bonus
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = ITA_capital_ships
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ITA_mare_nostrum }
		x = 3
		y = 1
		relative_position_id = ITA_mare_nostrum
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = bb_bonus
				bonus = 1.0
				uses = 2
				category = bb_tech
				category = bc_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1.0
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = ITA_bomber_effort
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ITA_army_primacy }
		prerequisite = { focus = ITA_air_innovation }
		x = 0
		y = 3
		relative_position_id = ITA_army_primacy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {

			add_tech_bonus = {
				name = ITA_bomber_effort
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				#technology = tactical_bomber2
				#technology = tactical_bomber3
			}
			add_tech_bonus = {
				name = ITA_bomber_effort
				bonus = 1.0
				uses = 1
				category = cas_bomber
				#technology = CAS2
				#technology = CAS3
			}
		}
	}

	focus = {
		id = ITA_naval_air_effort
		icon = GFX_goal_generic_air_naval_bomber
		text = naval_air_effort
		prerequisite = { focus = ITA_air_innovation }
		prerequisite = { focus = ITA_carrier_effort }
		x = 1
		y = 2
		relative_position_id = ITA_air_innovation
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = naval_air_effort
				bonus = 1.0
				uses = 1
				category = naval_bomber
				#technology = naval_bomber1
				#technology = naval_bomber2
				#technology = naval_bomber3
			}
		}
	}

	focus = {
		id = ITA_atlantic_fleet
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = ITA_carrier_effort }
		prerequisite = { focus = ITA_capital_ships }
		x = 1
		y = 2
		relative_position_id = ITA_carrier_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = ITA_atlantic_fleet
				bonus = 1.0
				uses = 1
				category = cv_tech
			}
			add_tech_bonus = {
				name = ITA_atlantic_fleet
				bonus = 1.0
				uses = 1
				category = bb_tech
			}
		}
	}

	focus = {
		id = ITA_marines_and_landing_craft
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = ITA_atlantic_fleet }
		x = 0
		y = 1
		relative_position_id = ITA_atlantic_fleet
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = ITA_marines_and_landing_craft
				bonus = 1.0
				uses = 1
				category = marine_tech
				#technology = marines
				#technology = marines2
			}
			add_tech_bonus = {
				name = ITA_marines_and_landing_craft
				bonus = 1.0
				uses = 1
				category = tp_tech
				#technology = transport
				#technology = landing_craft
				#technology = tank_landing_craft
			}
		}
	}

	focus = {
		id = ITA_air_innovation_2
		icon = GFX_goal_generic_build_airforce
		text = air_innovation_2
		prerequisite = { focus = ITA_bomber_effort focus = ITA_naval_air_effort }
		x = 1
		y = 1
		relative_position_id = ITA_bomber_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = ITA_jet_engine_effort
		icon = GFX_focus_rocketry
		prerequisite = { focus = ITA_air_innovation_2 }
		x = 0
		y = 1
		relative_position_id = ITA_air_innovation_2
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
		# Caproni Campini N.1
			add_tech_bonus = {
				name = ITA_jet_engine_effort
				bonus = 1.0
				uses = 1
				category = jet_technology
				#technology = jet_engines
				#technology = jet_fighter1
			}
		}
	}

	focus = {
		id = ITA_light_ship_effort
		icon = GFX_goal_generic_navy_cruiser
		x = 11
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = con_def_bonus
				bonus = 1.0
				uses = 1
				category = convoy_defense_tree
				#technology = convoy_sailing
				#technology = convoy_sailing_ti
				#technology = convoy_sailing_bs
			}
		}
	}

	focus = {
		id = ITA_escort_effort
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = ITA_light_ship_effort }
		x = 1
		y = 1
		relative_position_id = ITA_light_ship_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = ITA_escort_effort
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = ITA_escort_effort
				bonus = 1.0
				uses = 2
				category = convoy_defense_tree

				#technology = convoy_escorts
				#technology = convoy_escorts_bs
				#technology = escort_carriers
			}
		}
	}

	focus = {
		id = ITA_submarine_effort
		icon = GFX_goal_generic_navy_submarine
		text = submarine_effort
		prerequisite = { focus = ITA_light_ship_effort }
		x = -1
		y = 2
		relative_position_id = ITA_light_ship_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 1.0
				uses = 2
				category = submarine_doctrine
				#technology = submarine_operations
				#technology = undersea_blockade
				#technology = convoy_interdiction
				#technology = submarine_offensive
			}
		}
	}

	focus = {
		id = ITA_sea_wolves
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = ITA_submarine_effort }
		prerequisite = { focus = ITA_german_millitary_cooperation }
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		x = -1
		y = 3
		relative_position_id = ITA_submarine_effort
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = ITA_sea_wolves
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = ITA_sea_wolves
				bonus = 1.0
				uses = 2
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = ITA_victoryinETH
		icon = GFX_goal_generic_propaganda
		available = {
			OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
			}
		}
		
		bypass = {
			ETH = { exists = yes }
			NOT = { has_war_with = ETH }
		}

		available_if_capitulated = yes

		x = 15
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.1
		}
	}
	
	focus = {
		id = ITA_slovenia_dalmatia_claims
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_victoryinETH }
		mutually_exclusive = { focus = ITA_yugoslavia_friend }
		x = -1
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 10
		ai_will_do = {
			factor = 1
		}

		bypass = {
			NOT = { country_exists = YUG }
		}

		completion_reward = {
			add_state_claim = 102
			add_state_claim = 103
			add_named_threat = { threat = 4 name = ITA_slovenia_dalmatia_claims_threat }
			USA = {
				set_country_flag = { flag = USA_yugoslavia_window days = 60 value = 1 }
			}
			YUG = {
				add_opinion_modifier = { target = ITA modifier = claimed_western_yugoslavia }
				if = {
					limit = {
						ROOT = { has_government = fascism }
						NOT = { has_government = fascism }
						NOT = { has_idea_with_trait = fascist_demagogue }
						fascism < 0.3
					}
					add_popularity = {
						ideology = fascism
						popularity = -0.07
					}
				}
				if = {
					limit = { 
						ROOT = { has_government = communism }
						NOT = { has_government = communism }
						NOT = { has_idea_with_trait = communist_revolutionary }
						NOT = { has_completed_focus = YUG_recognize_the_soviet_union }
						communism < 0.3
					}
					add_popularity = {
						ideology = communism
						popularity = -0.07
					}
				}
				if = {
					limit = {
						ROOT = { has_government = democratic }
						NOT = { has_government = democratic }
						NOT = { has_idea_with_trait = democratic_reformer }
						democratic < 0.3
					}
					add_popularity = {
						ideology = democratic
						popularity = -0.07
					}
				}
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.192 }
			}
		}
	}

	focus = {
		id = ITA_yugoslavia_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_victoryinETH }
		mutually_exclusive = { focus = ITA_slovenia_dalmatia_claims }
		x = 1
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 10
		ai_will_do = {
			factor = 0.25
		}

		available = {
			country_exists = YUG
			NOT = {
				has_war_with = YUG
			}
		}

		completion_reward = {
			YUG = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			hidden_effect = {
				news_event = { id = news.193 }
			}
		}
	}

	focus = {
		id = ITA_support_nationalist_spain
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_victoryinETH }
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPR = {
					has_civil_war = no
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { has_civil_war = no }
			}
		}
		cancel_if_invalid = no
		x = 5
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 4.4
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}
		}
	}

	focus = {
		id = ITA_demand_balearic_islands
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_support_nationalist_spain }
		mutually_exclusive = { focus = ITA_spanish_italian_faction }
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war = no
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_war = no
					owns_state = 177
				}
			}
			is_puppet = no
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war_with = ROOT
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_war_with = ROOT
				owns_state = 177
			}
		}
		x = 1
		y = 3
		relative_position_id = ITA_support_nationalist_spain
		cost = 10
		search_filters = { FOCUS_FILTER_ANNEXATION }

		ai_will_do = {
			factor = 1
		}	
		
		completion_reward = {
			random_other_country = {
				limit = {
					owns_state = 177
				}
				country_event = { id = italy.9 }
			}
		}
	}

	focus = {
		id = ITA_bulgaria_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_slovenia_dalmatia_claims focus = ITA_yugoslavia_friend }
		x = 0
		y = 1
		relative_position_id = ITA_slovenia_dalmatia_claims
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			country_exists = BUL
			NOT = {
				has_war_with = BUL
			}
		}
		bypass = {
			NOT = { country_exists = BUL }
		}
		completion_reward = {
			BUL = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = ITA_albania_war_goal
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_slovenia_dalmatia_claims focus = ITA_yugoslavia_friend }
		will_lead_to_war_with = ALB
		x = 2
		y = 1
		relative_position_id = ITA_slovenia_dalmatia_claims
		
		available = {
			country_exists = ALB
		}

		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1937.1.1
			}	
		}	
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					ALB = { has_war = no }
				}
				ALB = { country_event = { id = italy.3 } }
			}
			else = {
				create_wargoal = {
					type = take_state_focus
					target = ALB
					generator = { 44 }
				}
			}
		}
	}

	focus = {
		id = ITA_pact_of_steel
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = ITA_bulgaria_friend }
		mutually_exclusive = { focus = ITA_italy_first }
		available = {
			NOT = { has_war_with = GER }
			custom_trigger_tooltip = {
				tooltip = ITA_germ_italy_same_tt
				OR = {
					AND = {
						has_government = fascism
						GER = { 
							has_government = fascism 
							country_exists = GER
						}
					}
					AND = {
						has_government = neutrality
						GER = { 
							has_government = neutrality
							country_exists = GER
						}
					}
					AND = {
						has_government = communism
						GER = { 
							has_government = communism
							country_exists = GER
						}
					}
					AND = {
						has_government = democratic
						GER = { 
							has_government = democratic
							country_exists = GER
						}
					}
				}
			}
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
			is_in_faction = no
		}
		bypass = {
			is_in_faction = yes
			is_in_faction_with = GER
		}
		x = -1
		y = 1
		relative_position_id = ITA_bulgaria_friend
		cost = 10
		ai_will_do = {
			factor = 10

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 0.1
				ai_irrationality > 30
			}

			modifier = {
				factor = 0
				OR = {
					GER = { has_completed_focus = GER_reestablish_free_elections }
					GER = { has_completed_focus = GER_expatriate_the_communists }
				}
			}
		}
		completion_reward = {
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.184 }
			}
		}
	}

	focus = {
		id = ITA_german_millitary_cooperation
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_pact_of_steel }

		available = {
			NOT = { has_war_with = GER }
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		
		x = -3
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = ITA_german_millitary_cooperation_focus
		}
	}

	

	focus = {
		id = ITA_italy_first
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = ITA_bulgaria_friend }
		mutually_exclusive = { focus = ITA_pact_of_steel }
		available = {
			is_subject = no
			NOT = { has_war_with = BUL }
			NOT = { is_in_faction_with = GER }
			NOT = { is_in_faction_with = ENG }
			OR = {
				owns_state = 44
				owns_state = 102
			}
			is_in_faction = no
		}
		bypass = {
			is_in_faction = yes
			NOT = { is_in_faction_with = GER }
		}
		cancel = {
			is_in_faction_with = GER
		}
		x = 1
		y = 1
		relative_position_id = ITA_bulgaria_friend
		cost = 10
		ai_will_do = {
			factor = 2.5

			modifier = {
				factor = 2
				ai_irrationality > 20
			}

			modifier = {
				factor = 2
				ai_irrationality > 30
			}

			modifier = {
				factor = 2
				ai_irrationality > 35
			}
		}	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			set_rule = { can_create_factions = yes }
			create_faction = "italy_empire_faction"

			if = {
				limit = {
					BUL = { 
						is_ai = yes
						is_subject = no
						is_in_faction = no
					}					
				}
				add_to_faction = BUL
				BUL = {
					add_ai_strategy = {
						type = alliance
						id = "ITA"
						value = 200
					}
				}
			}
			YUG = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				# REVISIT Possibly clear old negative modifier if Slovenia and Dalmatia were taken
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.185 }
			}
		}
	}

	focus = {
		id = ITA_go_after_france
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = ITA_italy_first }
		available = {
			country_exists = FRA
			FRA = {
				OR = {
					owns_state = 1
					owns_state = 735
					owns_state = 458
				}
			}
			NOT = { is_in_faction_with = FRA }
		}
		will_lead_to_war_with = FRA
		x = 2
		y = 1
		relative_position_id = ITA_italy_first
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 1.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 1.5
				ai_irrationality > 30
			}

			modifier = {
				factor = 2
				ai_irrationality > 35
			}
		}			
		completion_reward = {
			create_wargoal = {
				target = FRA
				type = take_state_focus
				expire = 0
				generator = { 1 735 458 }
			}
		}
	}	

	focus = {
		id = ITA_romania_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_bulgaria_friend }
		x = 3
		y = 1
		relative_position_id = ITA_bulgaria_friend
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			country_exists = ROM
			NOT = {
				has_war_with = ROM
			}
			has_government = fascism
		}
		bypass = {
			ROM = {
				OR = {
					NOT = { country_exists = ROM }
					has_capitulated = yes
				}
			}
		}
		completion_reward = {
			ROM = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = ITA_german_rd_treaty
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		cancel = { has_war_with = GER }
		x = -1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			# Actual reward effects added in event if Soviets approve
			effect_tooltip = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.0
					uses = 1
					category = synth_resources
				}
				# Balance research bonus to 2 techs in armor, also in event
				add_tech_bonus = {
					name = armor_bonus
					bonus = 1.0
					uses = 2
					category = armor
				}
			}
		}
	}

	focus = {
		id = ITA_secret_weapons
		icon = GFX_goal_generic_secret_weapon
		text = secret_weapons
		prerequisite = { focus = ITA_german_millitary_cooperation }
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		x = 1
		y = 1
		relative_position_id = ITA_german_millitary_cooperation
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 2
				category = electronics
				category = rocketry
				category = nuclear
			}
		}
	}

	focus = {
		id = ITA_spanish_italian_faction
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ITA_italy_first }
		prerequisite = { focus = ITA_support_nationalist_spain }
		mutually_exclusive = { focus = ITA_demand_balearic_islands }
		available = {
			is_in_faction = yes
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				has_civil_war = no
				NOT = { has_war_with = ROOT }
				is_in_faction = no
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}			
		}
		bypass = {
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				is_in_faction_with = ROOT
			}
		}
		x = 4
		y = 1
		relative_position_id = ITA_italy_first
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_ideas = fascist_influence 
				country_event = { id = generic.5 }           
			}
		}
	}

	focus = {
		id = ITA_portugal_friend
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = ITA_spanish_italian_faction }
		x = 0
		y = 1
		relative_position_id = ITA_spanish_italian_faction
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = yes
			country_exists = POR
			NOT = {
				has_war_with = POR
			}
		}

		completion_reward = {
			POR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.5 }
			}
		}
	}

	focus = {
		id = ITA_greece_war_goal
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = ITA_pact_of_steel focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_greece_friend }
		available = {
			NOT = { is_in_faction_with = GRE }
			NOT = { has_war_with = GRE }
			GRE = { NOT = { is_puppet_of = ITA } }
			country_exists = GRE
		}
		will_lead_to_war_with = GRE
		x = 1
		y = 3
		relative_position_id = ITA_pact_of_steel
		cost = 10
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = GRE
				expire = 0
				generator = { 47 } # Athens
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.186 } 
			}
		}
	}

	focus = {
		id = ITA_greece_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_greece_war_goal focus = ITA_turkey_friend }
		x = 1
		y = 3
		relative_position_id = ITA_italy_first
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			country_exists = GRE
			NOT = {
				has_war_with = GRE
			}
			has_government = fascism
		}

		bypass = {
			NOT = { country_exists = GRE }
		}

		completion_reward = {
			GRE = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.187 } 
			}
		}
	}

	focus = {
		id = ITA_claims_on_turkey
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_greece_friend }
		available = {
			TUR = {
				owns_state = 342
			}
		}
		will_lead_to_war_with = TUR
		x = 0
		y = 1
		relative_position_id = ITA_greece_friend
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = GRE
					TUR = { owns_state = 339 }
				}

				GRE = { country_event = greece.4 }
			}
			create_wargoal = {
			target = TUR
			type = take_state_focus
			expire = 0
			generator = { 342 }
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.189 }
			}
		}
	}

	focus = {
		id = ITA_claims_on_france
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			is_puppet = no
			is_in_faction_with = GER
			GER = { 
				controls_state = 16 				
				GER = { is_faction_leader = yes }
			}
			custom_trigger_tooltip = {
			 tooltip = ITA_claims_on_france_tt
				any_other_country = {
					original_tag = FRA
					has_government = fascism
					owns_state = 735
					controls_state = 735
					owns_state = 1
					controls_state = 1
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 1.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 1.5
				ai_irrationality > 30
			}

			modifier = {
				factor = 2
				ai_irrationality > 35
			}
		}	
		completion_reward = {
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 735
					}
				}
				set_global_flag = ITA_claims_on_france_735
			}
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 1
					}
				}
				set_global_flag = ITA_claims_on_france_1
			}

			GER = { country_event = germany.104 }			
		}
	}
	

	focus = {
		id = ITA_turkey_friend
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_greece_friend }
		x = 3
		y = 3
		relative_position_id = ITA_italy_first
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = TUR
			NOT = {
				has_war_with = TUR
			}
			has_government = fascism
		}

		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
			hidden_effect = {
				news_event = {
					hours = 6 id = news.188
				}
			}
		}
	}

	focus = {
		id = ITA_anti_uk_war_goals
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = ITA_italy_first }	
		available = {
			NOT = { is_in_faction_with = ENG }
		}	
		bypass = {
			OR = {
				has_war_with = ENG
				is_in_faction_with = GER
				NOT = { country_exists = ENG }
			}
		}
		will_lead_to_war_with = ENG
		x = 0
		y = 1
		relative_position_id = ITA_italy_first
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 1.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 1.5
				ai_irrationality > 30
			}

			modifier = {
				factor = 2
				ai_irrationality > 35
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = ENG
				expire = 0
				generator = { 118 453 116 183 } # Gibraltar, Suez, Malta, Cyprus
			}
		}
	}

	focus = {
		id = ITA_japan_friend
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = ITA_anti_uk_war_goals }
		available = {
			JAP = { 
				is_in_faction = no
				country_exists = JAP
				has_government = ROOT
			}
		}
		x = 0
		y = 1
		relative_position_id = ITA_anti_uk_war_goals
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 1
		}			
		completion_reward = {
			JAP = { add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus } }
		}
	}

}
focus_tree = {
	id = japan_wtt_focus
	
	country = {
		factor = 0
		modifier = {
			add = 20
			tag = JAP
			always = no
		}
	}
	

	default = no

	continuous_focus_position = { x = 20 y = 1200 }

	focus = {
		id = JAP_the_unthinkable_option
		icon = GFX_goal_support_communism
		mutually_exclusive = {
			focus = JAP_purge_the_kodoha_faction
			focus = JAP_support_the_kodoha_faction
			focus = JAP_strengthen_civilian_government
		}
		x = 3
		y = 0

		cost = 10

		ai_will_do = {
			factor = 2
		}

		allow_branch = {
			has_dlc = "Waking the Tiger"
		}

		available = {

		}

		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = JAP_the_unthinkable_option
			if = {
		    	limit = {
		    	    has_DLC = "Waking the Tiger"
		    	}
		    	custom_effect_tooltip = available_political_advisor
		    	show_ideas_tooltip = sanzo_nosaka
			}
			add_political_power = 200
		}
	}

	focus = {
		id = JAP_approach_the_young_officers
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = JAP_the_unthinkable_option }
		x = -1
		y = 1
		relative_position_id = JAP_the_unthinkable_option

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			has_government = communism			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			custom_effect_tooltip = JAP_approach_the_young_officers_tt
			hidden_effect = {
				create_corps_commander = {
					traits = { JAP_communist_sympathizer trickster}
					id = 750 #communist general 1
					attack_skill = 1
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 2
					skill = 3
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer trait_mountaineer trait_cautious}
					id = 751 #communist general 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 2
					skill = 2
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer trait_reckless politically_connected}
					id = 752 #communist general 3
					attack_skill = 4
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 3
					skill = 3
				}
			}
			add_war_support = 0.1
		}
	}

	focus = {
		id = JAP_exchange_the_exiles
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = JAP_the_unthinkable_option }
		x = 1
		y = 1
		relative_position_id = JAP_the_unthinkable_option

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			has_government = communism			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			MAN = {
				country_event = wtt_japan.21
				custom_effect_tooltip = JAP_if_man_accepts
				effect_tooltip = {
					global_every_army_leader = {
						limit = {
							OWNER = { tag = ROOT }
							has_trait = JAP_samurai_lineage
						}
						set_nationality = PREV
					}
				}
			}
		}
	}

	focus = {
		id = JAP_open_up_the_universities
		icon = GFX_focus_research
		prerequisite = { focus = JAP_exchange_the_exiles }
		x = 1
		y = 1
		relative_position_id = JAP_exchange_the_exiles

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = JAP_cast_the_die
		icon = GFX_focus_jap_cast_the_die
		prerequisite = { focus = JAP_approach_the_young_officers }
		prerequisite = { focus = JAP_exchange_the_exiles }
		x = 1
		y = 1
		relative_position_id = JAP_approach_the_young_officers

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {
			has_government = communism			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						has_country_leader = { id = 700 ruling_only = yes }
					}
					remove_country_leader_trait = imperial_sanction
				}
			}
			remove_ideas = JAP_the_unthinkable_option
			set_capital = 532
			start_civil_war = {
				ruling_party = communism
				ideology = ROOT
				size = 0.8
				capital = 282
				states = { 282 533 536 555 529 530 528 526 524 645 648 646 647 684 633 609 745 527 525 }
				keep_unit_leaders = {
					750 751 752
				}
			}
			custom_effect_tooltip = cast_the_die_TT
			if = {
				limit = {
					MEN = { is_subject_of = ROOT }
				}
				set_autonomy = { target = MEN autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					MAN = { is_subject_of = ROOT }
				}
				set_autonomy = { target = MAN autonomy_state = autonomy_free } 
				MAN = {
					set_autonomy = { target = MEN autonomy_state = autonomy_integrated_puppet }
				}
			}
			if = {
				limit = {
					MAN = { has_idea = MAN_kwantung_veto }
				}
				MAN = { remove_ideas = MAN_kwantung_veto }
			}
			hidden_effect = {
				division_template = { name = "Japanese People's Regiment" division_names_group = JAP_INF_01 is_locked = yes regiments = { infantry = { x = 0 y = 0 } infantry = { x = 1 y = 0 } infantry = { x = 2 y = 0 } } }
				532 = {
					create_unit = { 
						division = "name = \"1. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"2. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"3. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"4. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"5. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
				}
				531 = {
					create_unit = { 
						division = "name = \"6. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"7. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"8. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"9. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"10. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
				}
				534 = {
					create_unit = { 
						division = "name = \"11. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"12. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
				}
				535 = {
					create_unit = { 
						division = "name = \"13. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
					create_unit = { 
						division = "name = \"14. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
				}
				537 = {
					create_unit = { 
						division = "name = \"15. Japanese People's Regiment\" division_template = \"Japanese People's Regiment\" start_experience_factor = 0" 
						owner = ROOT
					}
				}
			}
			hidden_effect = {
				random_other_country = {
					limit = {
						original_tag = JAP
						has_government = fascism
					}
					hidden_effect = {
						division_template = { name = "Japanese Loyalist Regiment" division_names_group = JAP_INF_01 is_locked = yes regiments = { infantry = { x = 0 y = 0 } infantry = { x = 1 y = 0 } infantry = { x = 2 y = 0 } } }
						529 = {
							create_unit = { 
								division = "name = \"1. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"2. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"3. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"4. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"5. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
						}
						530 = {
							create_unit = { 
								division = "name = \"6. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"7. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
						}
						533 = {
							create_unit = { 
								division = "name = \"8. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
							create_unit = { 
								division = "name = \"9. Japanese Loyalist Regiment\" division_template = \"Japanese Loyalist Regiment\" start_experience_factor = 0" 
								owner = PREV
							}
						}
					}
				}
			}
			add_stability = -0.1
		}
	}

	focus = {
		id = JAP_the_fate_of_the_imperial_family
		icon = GFX_goal_tfv_burn_the_royal_portraits
		prerequisite = { focus = JAP_cast_the_die }
		x = -2
		y = 1
		relative_position_id = JAP_cast_the_die

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_civil_war = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			country_event = wtt_japan.31
		}
	}

	focus = {
		id = JAP_rebuild_the_civil_service
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = JAP_the_fate_of_the_imperial_family }
		x = -1
		y = 1
		relative_position_id = JAP_the_fate_of_the_imperial_family

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = JAP_reeducation_campaign
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = JAP_the_fate_of_the_imperial_family }
		x = 1
		y = 1
		relative_position_id = JAP_the_fate_of_the_imperial_family

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			has_stability < 0.5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_ideas = JAP_reeducation_campaign
		}
	}

	focus = {
		id = JAP_finish_the_fight
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = JAP_rebuild_the_civil_service }
		prerequisite = { focus = JAP_reeducation_campaign }
		x = 0
		y = 2
		relative_position_id = JAP_the_fate_of_the_imperial_family

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = MAN
			MAN = {
				has_government = fascism
			}
		}

		bypass = {
			OR = {
				has_wargoal_against = MAN
				has_war_with = MAN
				MAN = {
					exists = no
				}
				MAN = {
					not = {
						has_government = fascism
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		will_lead_to_war_with = MAN
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				target = MAN
				type = puppet_wargoal_focus
				expire = 0
			}
		}
	}

	focus = {
		id = JAP_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = JAP_finish_the_fight }
		prerequisite = { focus = JAP_communist_volunteers }
		mutually_exclusive = { focus = JAP_asian_communist_solidarity }
		x = 0
		y = 3
		relative_position_id = JAP_the_fate_of_the_imperial_family

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = communism
			is_subject = no
			NOT = { has_war_with = SOV }
			NOT = { is_in_faction_with = SOV }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			#Join SOV faction. If SOV has no faction or is not faction leader, form own faction and cry a lot.
			if = {
				limit = {
					SOV = {
						is_faction_leader = yes
						has_government = communism
					}
				}
				SOV = { country_event = generic.2 }
			}
			else_if = {
				limit = {
					SOV = {
						is_in_faction = yes
						is_faction_leader = no
						has_government = communism
					}
				}
				random_country = {
					limit = {
						is_in_faction_with = SOV
						is_faction_leader = yes
					}
					country_event = generic.2
				}
			}
			else = {
				set_rule = { can_create_factions = yes }
				create_faction = JAP_the_new_international
				SOV = { country_event = generic.5 }
			}
		}
	}

	focus = {
		id = JAP_red_brigades
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = JAP_cast_the_die }
		x = 0
		y = 1
		relative_position_id = JAP_cast_the_die

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_government = communism
			has_civil_war = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = JAP_red_brigades
		}
	}

	focus = {
		id = JAP_communist_volunteers
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = JAP_red_brigades }
		x = 0
		y = 2
		relative_position_id = JAP_red_brigades

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = communism
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = JAP_communist_volunteers
		}
	}

	focus = {
		id = JAP_asian_communist_solidarity
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = JAP_finish_the_fight }
		prerequisite = { focus = JAP_communist_volunteers }
		mutually_exclusive = { focus = JAP_join_comintern }
		x = 0
		y = 3
		relative_position_id = JAP_red_brigades

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				PRC = { surrender_progress > 0 }
			}
		}

		available = {
			has_government = communism
			is_subject = no
			NOT = { has_war_with = event_target:WTT_communist_china }
			event_target:WTT_communist_china = {
				has_government = communism
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					event_target:WTT_communist_china = { is_faction_leader = yes }
				}
				event_target:WTT_communist_china = { country_event = generic.2 }
			}
			else_if = {
				limit = {
					is_faction_leader = yes
				}
				event_target:WTT_communist_china = { country_event = generic.5 }
			}
			else = {
				create_faction = JAP_asian_communist_solidarity
				custom_effect_tooltip = JAP_asian_communist_solidarity_tt
				hidden_effect = {
					event_target:WTT_communist_china = { country_event = generic.5 }
				}
			}
		}
	}

	focus = {
		id = JAP_nationalize_the_zaibatsus
		icon = GFX_focus_jap_zaibatsu
		prerequisite = { focus = JAP_cast_the_die }
		x = 2
		y = 1
		relative_position_id = JAP_cast_the_die

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_civil_war = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_zaibatsus_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_nationalize_the_zaibatsus				
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_zaibatsus_factories
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_nationalize_the_zaibatsus				
			}
		}
	}

	focus = {
		id = JAP_people_owned_mines
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = JAP_nationalize_the_zaibatsus }
		x = -1
		y = 1
		relative_position_id = JAP_nationalize_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = JAP_people_owned_mines
		}
	}

	focus = {
		id = JAP_public_works
		icon = GFX_goal_generic_construction
		prerequisite = { focus = JAP_nationalize_the_zaibatsus }
		x = 1
		y = 1
		relative_position_id = JAP_nationalize_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_full_control_of_state = 535
			has_full_control_of_state = 533
			has_full_control_of_state = 528
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			535 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			533 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			528 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}			
		}
	}

	focus = {
		id = JAP_tokyo_aluminum_plant
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = JAP_people_owned_mines }
		prerequisite = { focus = JAP_public_works }
		x = 0
		y = 2
		relative_position_id = JAP_nationalize_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			has_full_control_of_state = 282
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			282 = {
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}
	}

	focus = {
		id = JAP_purge_the_kodoha_faction
		icon = GFX_goal_generic_major_war
		mutually_exclusive = { focus = JAP_the_unthinkable_option focus = JAP_support_the_kodoha_faction focus = JAP_strengthen_civilian_government }
		x = 8
		y = 0
		relative_position_id = JAP_the_unthinkable_option
		offset = {
			x = -8
			y = 0
			trigger = {
				NOT = { has_dlc = "Waking the Tiger" }
			}
		}

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = JAP_liaison_conference
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = JAP_purge_the_kodoha_faction }
		x = -1
		y = 1
		relative_position_id = JAP_purge_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = JAP_liaison_conference
			every_army_leader = {
				add_planning = 1
			}
		}
	}

	focus = {
		id = JAP_greater_east_asian_co_prosperity_sphere
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = JAP_liaison_conference }
		x = -1
		y = 1
		relative_position_id = JAP_liaison_conference

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = JAP_greater_east_asian_co_prosperity_sphere
		}
	}

	focus = {
		id = JAP_intervene_in_china
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = JAP_greater_east_asian_co_prosperity_sphere }
		will_lead_to_war_with = CHI
		x = -1
		y = 1
		relative_position_id = JAP_greater_east_asian_co_prosperity_sphere

		cost = 10

		available = { 
			is_puppet = no 
			NOT = { has_war_with = CHI }
		}
		bypass = {
			OR = {
				AND = {
					608 = {
						NOT = {
							is_controlled_by = CHI
							is_controlled_by = PRC
							is_controlled_by = SHX
						}
					}
					597 = {
						NOT = {
							is_controlled_by = CHI
							is_controlled_by = PRC
							is_controlled_by = SHX
						}
					}
					614 = {
						NOT = {
							is_controlled_by = CHI
							is_controlled_by = PRC
							is_controlled_by = SHX
						}
					}
				}
				has_war_with = CHI
			}
		}

		will_lead_to_war_with = CHI

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1937.1.1
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					CHI = { #if CHI owns one of these states, they get the event
						OR = {
							controls_state = 608
							controls_state = 597
							controls_state = 614
						}
					}
				}
				CHI = {
					country_event = china.1
				}
			}
			if = {
				limit = {
					PRC = { #only fires the event for PRC if they control ALL of the states (to ensure that only one of them gets it, to avoid issues when one selects to turn over the states and the other doesn't)
						AND = {
							controls_state = 608
							controls_state = 597
							controls_state = 614
						}
					}
				}
				PRC = {
					country_event = china.1
				}
			}
			if = {
				limit = {
					SHX = { #only fires the event for SHX if they control ALL of the states (to ensure that only one of them gets it, to avoid issues when one selects to turn over the states and the other doesn't)
						AND = {
							controls_state = 608
							controls_state = 597
							controls_state = 614
						}
					}
				}
				SHX = {
					country_event = china.1
				}
			}
			add_named_threat = { threat = 1 name = JAP_intervene_in_china }
			add_ideas = JAP_intervene_in_china_5
			unlock_decision_tooltip = JAP_china_step_up_war_effort
		}
	}

	focus = {
		id = JAP_secure_china
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = JAP_intervene_in_china }
		x = 0
		y = 1
		relative_position_id = JAP_intervene_in_china

		cost = 10

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				threat < 0.9
			}
		}

		available = {
			CHI = {
				surrender_progress > 0.3
			}
			has_war_with = USA
		}

		bypass = {
			OR = {
				NOT = { JAP_has_idea_JAP_intervene_in_china = yes }
				CHI = { has_capitulated = yes }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			JAP_intervene_in_china_remove = yes
			add_named_threat = { threat = 15 name = JAP_secure_china }		
			USA = { add_war_support = 0.05 }	
			unlock_decision_tooltip = JAP_ichi_go
		}
	}

	focus = {
		id = JAP_develop_chinese_resources
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = JAP_secure_china }
		x = 0
		y = 2
		relative_position_id = JAP_intervene_in_china

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			has_full_control_of_state = 605
			has_full_control_of_state = 325
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			605 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
			325 = {
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				unlock_decision_category_tooltip = prospect_for_resources
			}
		}
	}

	focus = {
		id = JAP_strike_south_doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = JAP_greater_east_asian_co_prosperity_sphere }
		prerequisite = { focus = JAP_sign_tripartite_pact }
		x = 0
		y = 2
		relative_position_id = JAP_liaison_conference

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				FRA = { has_war = yes }
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_strike_south_doctrine
				bonus = 1.0
				uses = 2
				category = naval_doctrine	
			}
			unlock_decision_tooltip = JAP_pressure_france
		}
	}

	focus = {
		id = JAP_non_aggression_pact_with_the_soviet_union
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = JAP_strike_south_doctrine }
		x = 0
		y = 2
		relative_position_id = JAP_strike_south_doctrine

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {
			OR = {
				has_non_aggression_pact_with = SOV
				has_war_with = SOV
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = { id = wtt_japan.11 } }
		}
	}

	focus = {
		id = JAP_bypass_the_philippines
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = JAP_non_aggression_pact_with_the_soviet_union }
		mutually_exclusive = { focus = JAP_secure_the_philippines }
		x = -1
		y = 1
		relative_position_id = JAP_non_aggression_pact_with_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_bypass_the_philippines
				bonus = 1.0
				uses = 1
				category = tp_tech
			}
		}
	}

	focus = {
		id = JAP_secure_the_philippines
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = JAP_non_aggression_pact_with_the_soviet_union }
		mutually_exclusive = { focus = JAP_bypass_the_philippines }
		x = 1
		y = 1
		relative_position_id = JAP_non_aggression_pact_with_the_soviet_union

		will_lead_to_war_with = PHI

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				"PHI" = {
					has_war = yes
					NOT = { has_war_with = JAP }
				}
			}
			modifier = {
				has_war_with = SOV
				factor = 0
			}
			modifier = {
				has_War_with = event_target:WTT_current_china_leader
				event_target:WTT_current_china_leader = {
					surrender_progress < 0.2
				}
				factor = 0
			}
		}

		available = {

		}

		bypass = {
			OR = {
				has_war_with = PHI
				has_wargoal_against = PHI
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		will_lead_to_war_with = PHI

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				target = "PHI"
				type = puppet_wargoal_focus
				expire = 0
				expire = 0
			}
			add_ai_strategy = {
				type = conquer
				id = "PHI"
				value = 200
			}
		}
	}

	focus = {
		id = JAP_strike_on_the_southern_resource_area
		icon = GFX_focus_jap_strike_south
		prerequisite = { focus = JAP_secure_the_philippines focus = JAP_bypass_the_philippines }
		x = 1
		y = 1
		relative_position_id = JAP_bypass_the_philippines

		will_lead_to_war_with = ENG
		will_lead_to_war_with = MAL
		will_lead_to_war_with = INS

		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1940.1.1
			}
			modifier = {
				factor = 0
				ENG = { has_war = no }
				HOL = { has_war = no }
			}
			modifier = {
				has_war_with = SOV
				factor = 0
			}
		}

		available = {

		}

		bypass = {
			OR = {			
				has_wargoal_against = INS
				has_war_with = INS
			}
			OR = {
				has_wargoal_against = MAL
				has_war_with = MAL
			}
			OR = {
				AND = {
					671 = {
						NOT = { is_controlled_by = FRA }
					}
					670 = {
						NOT = { is_controlled_by = FRA }
					}
					286 = {
						NOT = { is_controlled_by = FRA }
					}
					741 = {
						NOT = { is_controlled_by = FRA }
					}
				}
				has_wargoal_against = FRA
				has_war_with = FRA
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_wargoal_against = INS }
					NOT = { has_war_with = INS }
					country_exists = INS
					if = {
						limit = {
							INS = { is_subject_of = HOL }
						}
						OR = {
							has_country_flag = HOL_declare_war_indies_allowed
							HOL = { NOT = { has_completed_focus = HOL_placate_the_japanese } }
						}
					}
				}
				create_wargoal = {
					target = INS
					type = annex_everything
					expire = 0
				}
				add_ai_strategy = {
					type = conquer
					id = "INS"
					value = 200
				}
			}
			if = {
				limit = {
					INS = { exists = no }
					335 = {
						CONTROLLER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
					if = {
						limit = {
							335 = {
								CONTROLLER = {
									tag = HOL
								}
							}
						}
						OR = {
							has_country_flag = HOL_declare_war_indies_allowed
							HOL = { NOT = { has_completed_focus = HOL_placate_the_japanese } }
						}
					}
				}
				335 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								type = take_state_focus
								expire = 0
								generator = { 335 334 672 673 668 667 669 738 }
							}
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}
			}
			if = {
				limit = {
					NOT = { has_wargoal_against = MAL }
					NOT = { has_war_with = MAL }
					country_exists = MAL
				}
				create_wargoal = {
					target = MAL
					type = annex_everything
					expire = 0
				}
				add_ai_strategy = {
					type = conquer
					id = "MAL"
					value = 200
				}
			}
			if = {
				limit = {
					MAL = { exists = no }
					336 = {
						CONTROLLER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				336 = {
					OWNER = {
						ROOT = {
							create_wargoal = {
								target = PREV
								type = take_state_focus
								expire = 0
								generator = { 336 }
							}
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						671 = {
							is_controlled_by = FRA
						}
						670 = {
							is_controlled_by = FRA
						}
						286 = {
							is_controlled_by = FRA
						}
						741 = {
							is_controlled_by = FRA
						}
					}
					NOT = { has_wargoal_against = FRA }
					NOT = { has_war_with = FRA }
				}
				#Might be generating on states FRA does not own, but not worth the time to get it exact. Should have no gameplay impact.
				create_wargoal = {
					target = FRA
					type = take_state_focus
					expire = 0
					generator = { 671 670 286 741 }
				}
			}
		}
	}

	focus = {
		id = JAP_alliance_with_siam
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = JAP_strike_south_doctrine }
		x = 1
		y = 1
		relative_position_id = JAP_strike_south_doctrine

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			is_faction_leader = yes
			country_exists = SIA
		}

		bypass = {
			is_in_faction_with = SIA
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			SIA = { country_event = generic.5 }
			add_ai_strategy = {
				type = protect
				id = "SIA"
				value = 100
			}
		}
	}

	focus = {
		id = JAP_exploit_the_southern_resource_area
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = JAP_strike_on_the_southern_resource_area }
		prerequisite = { focus = JAP_coal_liquification }
		x = 1
		y = 1
		relative_position_id = JAP_strike_on_the_southern_resource_area

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_full_control_of_state = 333
				has_full_control_of_state = 672
				has_full_control_of_state = 334
			}
			has_full_control_of_state = 336
			has_full_control_of_state = 671
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			336 = {
				add_resource = {
					type = aluminium
					amount = 12
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			333 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			672 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			334 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			671 = {
				add_resource = {
					type = aluminium
					amount = 6
				}
			}
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				unlock_decision_category_tooltip = prospect_for_resources
			}
		}
	}

	focus = {
		id = JAP_sign_tripartite_pact
		icon = GFX_goal_anschluss
		prerequisite = { focus = JAP_liaison_conference }
		x = 1
		y = 1
		relative_position_id = JAP_liaison_conference

		cost = 10

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				NOT = { GER = { is_in_faction_with = ITA } }
			}
		}

		available = {
			any_country = {
				original_tag = GER
				has_government = fascism
				NOT = { has_war_with = ROOT }
			}
			any_country = {
				original_tag = ITA
				has_government = fascism
				NOT = { has_war_with = ROOT }
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = JAP_sign_tripartite_pact_bypass_tt
				OR = {
					NOT = {
						any_country = {
							original_tag = GER
							has_government = fascism
						}
					}
					any_country = {
						original_tag = GER
						has_government = fascism
						has_war_with = ROOT
					}
					NOT = {
						any_country = {
							original_tag = ITA
							has_government = fascism
						}
					}
					any_country = {
						original_tag = ITA
						has_government = fascism
						has_war_with = ROOT
					}	
				}	
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			random_country = {
				limit = {
					original_tag = GER
					has_government = fascism
				}
				country_event = { id = wtt_japan.109 days = 1 }
			}
		}
	}

	focus = {
		id = JAP_guide_the_zaibatsus
		icon = GFX_focus_jap_zaibatsu
		prerequisite = { focus = JAP_purge_the_kodoha_faction }
		x = 1
		y = 1
		relative_position_id = JAP_purge_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_zaibatsus_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_guide_the_zaibatsus				
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_zaibatsus_factories
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_guide_the_zaibatsus
			}
		}
	}

	focus = {
		id = JAP_nationalize_war_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = JAP_guide_the_zaibatsus }
		prerequisite = { focus = JAP_national_mobilization_law }
		x = 0
		y = 2
		relative_position_id = JAP_guide_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_nationalize_war_industry_AF
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = JAP_nationalize_war_industry_IC
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_nationalize_war_industry_AF
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}					
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_nationalize_war_industry_IC
			}
		}
	}

	focus = {
		id = JAP_coal_liquification
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = JAP_nationalize_war_industry }
		x = 0
		y = 6
		relative_position_id = JAP_guide_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			528 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			528 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = JAP_coal_liquification
				bonus = 1.0
				uses = 1
				category = synth_resources	
			}
		}
	}

	focus = {
		id = JAP_national_mobilization_law
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = JAP_guide_the_zaibatsus focus = JAP_challenge_the_zaibatsus }
		x = 2
		y = 1
		relative_position_id = JAP_guide_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {	
					has_war_support < 0.5
				}
				add_war_support = 0.1
			}
			else_if = {
				limit = {
					has_idea = war_economy
				}
				add_political_power = 150
			}
			else = {
				add_ideas = war_economy
			}
		}
	}

	focus = {
		id = JAP_national_research_policy
		icon = GFX_focus_research
		prerequisite = { focus = JAP_national_mobilization_law }
		x = 0
		y = 1
		relative_position_id = JAP_national_mobilization_law

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = JAP_imperial_arsenals
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = JAP_national_mobilization_law }
		prerequisite = { focus = JAP_challenge_the_zaibatsus }
		x = 2
		y = 1
		relative_position_id = JAP_national_mobilization_law

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_imperial_arsenals1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = JAP_imperial_arsenals2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = PREV
					is_core_of = ROOT	
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}					
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_imperial_arsenals1
			}
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = PREV
					is_core_of = ROOT	
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}					
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_imperial_arsenals2
			}
		}
	}

	focus = {
		id = JAP_national_defense_state
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = JAP_nationalize_war_industry focus = JAP_imperial_arsenals }
		x = -2
		y = 1
		relative_position_id = JAP_imperial_arsenals

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {
					has_war_support < 0.8
				}
				add_war_support = 0.1
			}
			else_if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 150
			}
			else = {
				add_ideas = tot_economic_mobilisation
			}
		}
	}

	focus = {
		id = JAP_spiritual_mobilization
		icon = GFX_focus_jap_spiritual_mobilization
		prerequisite = { focus = JAP_national_defense_state }
		x = -1
		y = 1
		relative_position_id = JAP_national_defense_state

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = spiritual_mobilization_idea
		}
	}

	focus = {
		id = JAP_warrior_spirit
		icon = GFX_focus_generic_japanese_imperial_glory
		prerequisite = { focus = JAP_national_defense_state }
		x = 1
		y = 1
		relative_position_id = JAP_national_defense_state

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = no
			}
			modifier = {
				factor = 10
				surrender_progress > 0.9
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
			if = { 
				limit = {
					has_dlc = "Waking the Tiger"
				}
				custom_effect_tooltip = cost_reduced_last_stand 
			}
		}
	}

	focus = {
		id = JAP_strengthen_the_divine_wind
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = JAP_spiritual_mobilization }
		prerequisite = { focus = JAP_warrior_spirit }
		x = 1
		y = 1
		relative_position_id = JAP_spiritual_mobilization

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_tech = rocket_engines
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = JAP_strengthen_the_divine_wind_effect
			hidden_effect = { set_technology = { suicide_craft = 1 } }
		}
	}

	focus = {
		id = JAP_support_the_kodoha_faction
		icon = GFX_goal_generic_military_deal
		mutually_exclusive = { focus = JAP_purge_the_kodoha_faction focus = JAP_the_unthinkable_option focus = JAP_strengthen_civilian_government }
		x = 8
		y = 0
		relative_position_id = JAP_purge_the_kodoha_faction

		cost = 5

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100
			country_event = { id = wtt_japan.108 }
			set_party_name = { 
			    ideology = neutrality 
			    long_name = JAP_neutrality_party_kodoha_long 
			    name = JAP_neutrality_party_kodoha 
			}
		}
	}

	focus = {
		id = JAP_challenge_the_zaibatsus
		icon = GFX_focus_jap_zaibatsu
		prerequisite = { focus = JAP_support_the_kodoha_faction }
		x = -3
		y = 1
		relative_position_id = JAP_support_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_zaibatsus_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_zaibatsus_challenged			
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_zaibatsus_factories
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_zaibatsus_challenged
			}
		}
	}

	focus = {
		id = JAP_showa_restoration
		icon = GFX_focus_jap_showa_restoration
		prerequisite = { focus = JAP_support_the_kodoha_faction }
		mutually_exclusive = { focus = JAP_modern_shogunate }
		x = 1
		y = 1
		relative_position_id = JAP_support_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			set_cosmetic_tag = JAP_showa_restoration
			swap_ideas = {
				remove_idea = JAP_militarism
				add_idea = JAP_militarism_showa
			}
		}
	}

	focus = {
		id = JAP_modern_shogunate
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = JAP_support_the_kodoha_faction }
		mutually_exclusive = { focus = JAP_showa_restoration }
		x = -1
		y = 1
		relative_position_id = JAP_support_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			swap_ideas = {
				remove_idea = JAP_militarism
				add_idea = JAP_militarism_shogunate
			}
		}
	}

	focus = {
		id = JAP_prepare_for_war_with_the_soviet_union
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = JAP_modern_shogunate focus = JAP_showa_restoration }
		x = 1
		y = 1
		relative_position_id = JAP_modern_shogunate

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_prepare_for_war_with_the_soviet_union
				bonus = 1.0
				uses = 1
				category = land_doctrine	
			}
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_owned_by = ROOT
					any_neighbor_state = {
						OR = {
							is_controlled_by = SOV
							AND = {
								is_controlled_by = MON
								MON = { is_in_faction_with = SOV }
							}
							AND = {
								is_controlled_by = SIK
								SIK = { is_in_faction_with = SOV }
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			MAN = {
				every_owned_state = {
					limit = {
						is_fully_controlled_by = MAN
						is_owned_by = MAN
						MAN = { is_puppet_of = JAP }
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			MEN = {
				every_owned_state = {
					limit = {
						is_fully_controlled_by = MEN
						is_owned_by = MEN
						MEN = { is_puppet_of = JAP }
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = JAP_join_the_london_naval_treaty
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = JAP_prepare_for_war_with_the_soviet_union }
		x = -1
		y = 1
		relative_position_id = JAP_prepare_for_war_with_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {			
			NOT = { has_war_with = FRA }
			NOT = { has_war_with = ENG }
			NOT = { has_war_with = USA }
		}

		bypass = {
			has_naval_treaty_trigger = yes 
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = { not = { has_dlc = "Man the Guns" } }
				add_ideas = JAP_the_london_naval_treaty
				unlock_decision_tooltip = { decision = JAP_break_the_london_naval_treaty show_effect_tooltip = yes }
			}
			else = {
				add_ideas = MTG_naval_treaty_adherent
			}
			FRA = { add_opinion_modifier = { target = ROOT modifier = JAP_join_the_london_naval_treaty } }
			USA = { add_opinion_modifier = { target = ROOT modifier = JAP_join_the_london_naval_treaty } }
			ENG = { add_opinion_modifier = { target = ROOT modifier = JAP_join_the_london_naval_treaty } }
			add_opinion_modifier = { target = FRA modifier = JAP_join_the_london_naval_treaty }
			add_opinion_modifier = { target = USA modifier = JAP_join_the_london_naval_treaty }
			add_opinion_modifier = { target = ENG modifier = JAP_join_the_london_naval_treaty }
		}
	}

	focus = {
		id = JAP_build_up_the_manchurian_army
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = JAP_prepare_for_war_with_the_soviet_union }
		x = 1
		y = 1
		relative_position_id = JAP_prepare_for_war_with_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			MAN = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			has_equipment = { infantry_equipment > 1999 }
		}

		bypass = {
			MAN = {
				exists = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			send_equipment = {
				target = MAN
				equipment = infantry_equipment
				amount = 2000
				old_prioritised = yes
			}
			if = {
				limit = { has_equipment = { support_equipment > 500 } }
				send_equipment = {
					target = MAN
					equipment = support_equipment
					amount = 500
					old_prioritised = yes
				}
			}
			if = {
				limit = { has_equipment = { artillery_equipment > 250 } }
				send_equipment = {
					target = MAN
					equipment = artillery_equipment
					amount = 250
					old_prioritised = yes
				}
			}
			MAN = {
				add_tech_bonus = {
					name = JAP_build_up_the_manchurian_army
					bonus = 1.0
					uses = 2
					category = land_doctrine	
				}
				add_autonomy_ratio = {
					value = -0.08333
					localization = JAP_build_up_the_manchurian_army
				}
			}
			MAN = {
				country_event = wtt_japan.41
			}
		}
	}

	focus = {
		id = JAP_create_a_manchurian_imperial_air_force
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = JAP_build_up_the_manchurian_army }
		x = 0
		y = 1
		relative_position_id = JAP_build_up_the_manchurian_army

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			MAN = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
		}

		bypass = {
			MAN = {
				exists = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		

		completion_reward = {
			air_experience = 25
			MAN = {
				add_tech_bonus = {
					name = JAP_create_a_manchurian_imperial_air_force
					bonus = 1.0
					uses = 1
					category = tactical_bomber
					category = cat_strategic_bomber
					category = naval_bomber
					category = cas_bomber
				}
				add_tech_bonus = {
					name = JAP_create_a_manchurian_imperial_air_force
					bonus = 1.0
					uses = 1
					category = light_fighter
					category = cat_heavy_fighter
				}
				every_owned_state = {
					limit = {
						is_fully_controlled_by = MAN
						is_owned_by = MAN
						MAN = { is_puppet_of = JAP }
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.08333
					localization = JAP_build_up_the_manchurian_army
				}
			}
		}
	}

	focus = {
		id = JAP_non_aggression_pact_with_china
		icon = GFX_goal_anschluss
		prerequisite = { focus = JAP_join_the_london_naval_treaty }
		x = 0
		y = 1
		relative_position_id = JAP_join_the_london_naval_treaty

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			OR = {
				has_war_with = event_target:WTT_current_china_leader
				has_non_aggression_pact_with = CHI
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			CHI = { country_event = wtt_japan.11 } #TODO_WTT_CD make a proper is nationalist china trigger
			609 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 6969
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11822
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 12043
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					MAN = {
						is_puppet_of = ROOT
					}
				}
				MAN = {
					610 = {
						if = {
							limit = { is_controlled_by = PREV }
							add_building_construction = {
								type = bunker
								level = 3
								province = 3955
								instant_build = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					MEN = {
						is_puppet_of = ROOT
					}
				}
				MEN = {
					611 = {
						if = {
							limit = { is_controlled_by = PREV }
							add_building_construction = {
								type = bunker
								level = 3
								province = 1137
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 3
								province = 6904
								instant_build = yes
							}
							add_building_construction = {
								type = bunker
								level = 3
								province = 9776
								instant_build = yes
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = JAP_technological_exchange
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = JAP_non_aggression_pact_with_china }
		prerequisite = { focus = JAP_create_a_manchurian_imperial_air_force }
		x = 1
		y = 1
		relative_position_id = JAP_non_aggression_pact_with_china

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			has_war_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					has_country_leader = { id = 700 } #Hirohito
				}
				remove_country_leader_trait = warrior_code
			}
			random_country = {
				limit = {
					original_tag = GER
					has_government = fascism
					is_faction_leader = yes
				}
				if = {
					limit = {
						not = {
							is_in_faction_with = ROOT
						}
					}
					country_event = generic.2
				}
				if = {
					limit = {
						OR = {
							has_dlc = "Together for Victory"
							has_dlc = "Death or Dishonor"
							has_dlc = "Waking the Tiger"
						}
					}
					add_to_tech_sharing_group = JAP_technological_exchange
					ROOT = { add_to_tech_sharing_group = JAP_technological_exchange }
				}
			}
		}
	}

	focus = {
		id = JAP_preemptive_war
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = JAP_technological_exchange }
		x = 0
		y = 1
		relative_position_id = JAP_technological_exchange

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {
			OR = {				
				has_war_with = SOV
				has_wargoal_against = SOV
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				target = SOV
				type = annex_everything
				expire = 0
			}
			unlock_decision_tooltip = JAP_war_with_soviet_union
			if = {
				limit = {
					has_country_leader = { id = 700 ruling_only = yes }
				}
				remove_country_leader_trait = imperial_sanction
			}
		}
	}

	focus = {
		id = JAP_establish_the_northern_resource_area
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = JAP_preemptive_war }
		prerequisite = { focus = JAP_imperial_arsenals }
		x = -2
		y = 1
		relative_position_id = JAP_preemptive_war

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_tech = excavation1
			has_full_control_of_state = 564
			OR = {
				has_full_control_of_state = 657
				has_full_control_of_state = 408
				has_full_control_of_state = 560
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			657 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			408 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			560 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			564 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				unlock_decision_category_tooltip = prospect_for_resources
			}
		}
	}

	focus = {
		id = JAP_german_rocketry
		icon = GFX_focus_rocketry
		prerequisite = { focus = JAP_preemptive_war }
		x = 0
		y = 1
		relative_position_id = JAP_preemptive_war

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = GER
			NOT = { has_war_with = GER }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_german_rocketry
				bonus = 1.0
				uses = 1
				category = rocketry	
			}
			add_ideas = JAP_german_rocketry
			random_country = {
				limit = {
					original_tag = GER
					has_government = fascism
					is_faction_leader = yes
				}
				if = {
					limit = {
						OR = {
							has_dlc = "Together for Victory"
							has_dlc = "Death or Dishonor"
							has_dlc = "Waking the Tiger"
						}
					}
					add_to_tech_sharing_group = JAP_german_rocketry
					ROOT = { add_to_tech_sharing_group = JAP_german_rocketry }
				}
			}
		}
	}

	focus = {
		id = JAP_strengthen_civilian_government
		icon = GFX_goal_support_democracy
		mutually_exclusive = { focus = JAP_purge_the_kodoha_faction focus = JAP_support_the_kodoha_faction focus = JAP_the_unthinkable_option }
		x = 4
		y = 0
		relative_position_id = JAP_support_the_kodoha_faction

		cost = 10

		ai_will_do = {
			factor = 2
		}

		allow_branch = {
			has_dlc = "Waking the Tiger"
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_political_power = 120
			add_timed_idea = { idea = JAP_strengthen_civilian_government days = 1095 }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = kijuro_shidehara
		}
	}

	focus = {
		id = JAP_ally_with_the_zaibatsus
		icon = GFX_focus_jap_zaibatsu
		prerequisite = { focus = JAP_strengthen_civilian_government }
		x = -1
		y = 1
		relative_position_id = JAP_strengthen_civilian_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_full_control_of_state = 282
			has_full_control_of_state = 529
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_zaibatsus_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = JAP_zaibatsus_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = JAP_zaibatsus
				add_idea = JAP_nationalize_the_zaibatsus				
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_zaibatsus_factories
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = JAP_zaibatsus_factories }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_zaibatsus_factories
			}
			swap_ideas = {
				add_idea = JAP_zaibatsus_empowered
				remove_idea = JAP_zaibatsus
			}
		}
	}

	focus = {
		id = JAP_research_spending
		icon = GFX_focus_research
		prerequisite = { focus = JAP_strengthen_civilian_government }
		x = 1
		y = 1
		relative_position_id = JAP_strengthen_civilian_government

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = JAP_pre_emptive_coup
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = JAP_research_spending focus = JAP_ally_with_the_zaibatsus }
		x = 0
		y = 1
		relative_position_id = JAP_ally_with_the_zaibatsus

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			democratic > 0.3
		}

		bypass = {
			has_government = democratic
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						has_country_leader = { id = 700 ruling_only = yes }
					}
					remove_country_leader_trait = imperial_sanction
				}
			}
			country_event = { id = wtt_japan.114 }
			effect_tooltip = {
				if = {
					limit = {
						MAN = { is_subject_of = ROOT }
					}
					set_autonomy = { target = MAN autonomy_state = autonomy_free }
				}
				if = {
					limit = {
						MAN = { has_idea = MAN_kwantung_veto }
					}
					MAN = { remove_ideas = MAN_kwantung_veto }
				}
				if = {
					limit = {
						MEN = { is_subject_of = ROOT }
					}
					MAN = { puppet = MEN }
				}
				add_popularity = { ideology = democratic popularity = 0.1 }
				start_civil_war = {
					ruling_party = democratic
					ideology = fascism
					size = 0.5
				}
				if = {
					limit = {
						any_state = {
							is_controlled_by = ROOT
							is_core_of = KOR
						}
					}
					release = KOR
					set_autonomy = { target = KOR autonomy_state = autonomy_free }
				}
			}
		}
	}

	focus = {
		id = JAP_purge_the_militarists
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = JAP_research_spending focus = JAP_ally_with_the_zaibatsus }
		x = 0
		y = 1
		relative_position_id = JAP_research_spending

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			remove_ideas = JAP_militarism
			MAN = {
				add_ideas = MAN_militarism #TODO_WTT_CD consider moving to MAN idea file
			}
		}
	}

	focus = {
		id = JAP_the_showa_constitution
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = JAP_pre_emptive_coup }
		prerequisite = { focus = JAP_purge_the_militarists }
		x = 1
		y = 1
		relative_position_id = JAP_pre_emptive_coup

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_civil_war = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = JAP_hirohito
		}
	}

	focus = {
		id = JAP_west_pacific_treaty_organization
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = JAP_the_showa_constitution }
		mutually_exclusive = { focus = JAP_rekindle_the_old_alliance }
		x = -1
		y = 1
		relative_position_id = JAP_the_showa_constitution

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				CHI = { has_government = democratic }
			}
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = JAP_west_pacific_treaty_organization
		}
	}

	focus = {
		id = JAP_rekindle_the_old_alliance
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = JAP_the_showa_constitution }
		mutually_exclusive = { focus = JAP_west_pacific_treaty_organization }
		x = 1
		y = 1
		relative_position_id = JAP_the_showa_constitution

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = democratic
			is_subject = no
			ENG = {
				has_government = democratic
				is_faction_leader = yes
			}
			NOT = { has_war_with = ENG }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			if = {
				limit = {
					ENG = {
						is_faction_leader = yes
						has_government = democratic
					}
				}
				ENG = { country_event = generic.2 }
			}
			else_if = {
				limit = {
					ENG = {
						is_in_faction = yes
						is_faction_leader = no
						has_government = democratic
					}
				}
				random_country = {
					limit = {
						is_in_faction_with = ENG
						is_faction_leader = yes
					}
					country_event = generic.2
				}
			}
			else = {
				set_rule = { can_create_factions = yes }
				create_faction = JAP_the_old_alliance
				ENG = { country_event = generic.5 }
			}
		}
	}

	focus = {
		id = JAP_pacific_guardian 
		icon = GFX_focus_jap_pacific_guardian
		prerequisite = { focus = JAP_west_pacific_treaty_organization focus = JAP_rekindle_the_old_alliance }
		x = 1
		y = 1
		relative_position_id = JAP_west_pacific_treaty_organization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_category_tooltip = JAP_pacific_guardian
		}
	}

	focus = {
		id = JAP_anti_communist_bulwark
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = JAP_pacific_guardian }
		x = -1
		y = 1
		relative_position_id = JAP_pacific_guardian

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				SOV = { has_war = yes }
			}
		}

		available = {
			NOT = { has_government = communism }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			SOV = { add_opinion_modifier = { target = ROOT modifier = JAP_anti_communist_bulwark } }
			PRC = { add_opinion_modifier = { target = ROOT modifier = JAP_anti_communist_bulwark } }
			add_opinion_modifier = { target = SOV modifier = JAP_anti_communist_bulwark }
			add_opinion_modifier = { target = PRC modifier = JAP_anti_communist_bulwark }
		}
	}

	focus = {
		id = JAP_anti_communist_volunteers
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = JAP_anti_communist_bulwark }
		x = 0
		y = 1
		relative_position_id = JAP_anti_communist_bulwark

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				any_country = {
					has_government = democratic
					has_war_with = SOV
				}
			}
		}

		available = {
			NOT = { has_government = communism }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = JAP_anti_communist_volunteers
		}
	}

	focus = {
		id = JAP_the_korean_question
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = JAP_pacific_guardian }
		x = 1
		y = 1
		relative_position_id = JAP_pacific_guardian

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = KOR }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					country_exists = KOR
					has_government = democratic
				}
				KOR = { country_event = generic.5 }
			}
			else_if = {
				limit = {
					country_exists = KOR
					NOT = { has_government = democratic }
					is_subject = no
				}
				KOR = { add_timed_idea = { idea = democratic_influence days = 360 } }
			}
			else_if = {
				limit = {
					has_full_control_of_state = 525
					has_full_control_of_state = 527
					KOR = { exists = no }
				}
				activate_mission_tooltip = JAP_release_korea
				set_country_flag = JAP_release_korea_activate
			}
			else_if = {
				limit = {
					MAN = {
						has_government = fascism
						has_full_control_of_state = 525
						has_full_control_of_state = 527
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = MAN
					expire = 0
					generator = { 525 527 }
				}
			}
		}
	}

	focus = {
		id = JAP_liberate_manchuria
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = JAP_the_korean_question }
		x = 0
		y = 1
		relative_position_id = JAP_the_korean_question

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			MAN = { NOT = { has_government = democratic } }
		}

		bypass = {
			OR = {
				NOT = { country_exists = MAN }
				MAN = { has_government = democratic }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					MAN = {
						exists = yes
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
				create_wargoal = {
					type = topple_government
					target = MAN
					expire = 0
				}
			}
			if = {
				limit = {
					SOV = {
						owns_state = 610
						owns_state = 716
						owns_state = 328
						owns_state = 715
						owns_state = 714
						owns_state = 717
					}
				}
				create_wargoal = {
					target = SOV
					type = take_state_focus
					expire = 0
					generator = { 610 716 328 715 714 717 }
				}
			}
			unlock_decision_tooltip = JAP_return_manchuria
			custom_effect_tooltip = JAP_liberate_manchuria_tt
		}
	}

	focus = {
		id = JAP_ultimate_deterrence
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = JAP_liberate_manchuria }
		prerequisite = { focus = JAP_anti_communist_volunteers }
		x = -2
		y = 1
		relative_position_id = JAP_liberate_manchuria

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_global_flag = first_nuke_dropped
			}
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = JAP_ultimate_deterrence
			every_country = {
				limit = { is_in_faction_with = ROOT }				
				add_to_tech_sharing_group = JAP_ultimate_deterrence
			}
		}
	}

	focus = {
		id = JAP_full_sovereignty_for_the_philippines
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = JAP_liberate_manchuria }
		x = 0
		y = 1
		relative_position_id = JAP_liberate_manchuria

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			"PHI" = {
				is_subject = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			"PHI" = { OVERLORD = { country_event = { id = wtt_japan.104 days = 1 } } }
		}
	}

	focus = {
		id = JAP_the_manchurian_project
		icon = GFX_focus_jap_manchurian_project
		x = 6
		y = 0
		relative_position_id = JAP_strengthen_civilian_government
		offset = {
			x = -4
			y = 0
			trigger = {
				NOT = { has_dlc = "Waking the Tiger" }
			}
		}

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_completed_focus = JAP_support_the_kodoha_faction
					has_completed_focus = JAP_purge_the_kodoha_faction
				}
			}
			modifier = {
				factor = 10
				has_completed_focus = JAP_technological_exchange
			}
		}

		available = {
			MAN = { is_subject_of = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			MAN = {				
				add_stability = 0.1
				add_war_support = 0.1
				add_political_power = 150
			}
		}
	}

	focus = {
		id = JAP_expand_the_showa_steel_works
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = JAP_the_manchurian_project }
		x = 2
		y = 1
		relative_position_id = JAP_the_manchurian_project

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			716 = { is_fully_controlled_by = MAN }
			MAN = { is_subject_of = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			716 = {
				if = {
					limit = {
						MAN = { has_focus_tree = generic_focus }
					}
					add_resource = {
						type = steel
						amount = 16
					}				
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = JAP_develop_aluminum_sources
		icon = GFX_goal_generic_construction
		prerequisite = { focus = JAP_expand_the_showa_steel_works }
		x = 0
		y = 1
		relative_position_id = JAP_expand_the_showa_steel_works

		allow_branch = {
			MAN = { has_focus_tree = generic_focus }
		}

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			328 = { is_fully_controlled_by = MAN }
			MAN = { is_subject_of = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			328 = {
				if = {
					limit = {
						MAN = { has_focus_tree = generic_focus }
					}
					add_resource = {
						type = aluminium
						amount = 12
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = JAP_expand_manchurian_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = JAP_the_manchurian_project }
		x = -2
		y = 1
		relative_position_id = JAP_the_manchurian_project

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			MAN = { is_subject_of = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			MAN = {			
				random_state = {
					limit = {
						has_state_flag = JAP_expand_manchurian_railways_Inf1
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_state = {
					limit = {
						has_state_flag = JAP_expand_manchurian_railways_Inf2
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			MAN = {
				random_owned_controlled_state = {
					limit = {
						is_fully_controlled_by = PREV						
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					set_state_flag = JAP_expand_manchurian_railways_Inf1
				}
				random_owned_controlled_state = {
					limit = {
						is_fully_controlled_by = PREV						
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = JAP_expand_manchurian_railways_Inf2
				}
			}
		}
	}

	focus = {
		id = JAP_light_industry_development
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = JAP_expand_manchurian_railways }
		x = -1
		y = 1
		relative_position_id = JAP_expand_manchurian_railways

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			MAN = {
				is_subject_of = ROOT
				has_full_control_of_state = 715
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			715 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = JAP_heavy_industry_development
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = JAP_expand_manchurian_railways }
		x = 1
		y = 1
		relative_position_id = JAP_expand_manchurian_railways

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			MAN = {
				is_subject_of = ROOT
				has_full_control_of_state = 716				
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			716 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = JAP_japanese_settlement
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = JAP_heavy_industry_development }
		prerequisite = { focus = JAP_light_industry_development }
		x = 0
		y = 2
		relative_position_id = JAP_expand_manchurian_railways

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			MAN = {
				is_subject_of = ROOT
				has_full_control_of_state = 715
				has_full_control_of_state = 610
				has_full_control_of_state = 328
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			715 = { add_extra_state_shared_building_slots = 1 }
			610 = { add_extra_state_shared_building_slots = 1 }
			328 = { add_extra_state_shared_building_slots = 1 }
		}
	}

	focus = {
		id = JAP_fortify_the_border
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = JAP_the_manchurian_project }
		x = 0
		y = 1
		relative_position_id = JAP_the_manchurian_project 

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				has_completed_focus = JAP_technological_exchange
			}
		}

		available = {
			MAN = { is_subject_of = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			MAN = {
				every_owned_state = {
					limit = {
						is_fully_controlled_by = PREV
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = yes
							level < 2
						}
					}
				}				
			}
		}
	}

	focus = {
		id = JAP_army_expansion_law
		icon = GFX_goal_generic_army_doctrines
		x = 6
		y = 0
		relative_position_id = JAP_the_manchurian_project 

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_support_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			army_experience = 30
		}
	}

	focus = {
		id = JAP_small_arms_modernization
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = JAP_army_expansion_law }
		x = -1
		y = 1
		relative_position_id = JAP_army_expansion_law

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_completed_focus = JAP_support_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_small_arms_modernization
				bonus = 1.0
				uses = 1
				category = infantry_weapons	
			}
		}
	}

	focus = {
		id = JAP_supremacy_of_technology
		icon = GFX_goal_generic_production
		prerequisite = { focus = JAP_small_arms_modernization }
		mutually_exclusive = { focus = JAP_supremacy_of_will }
		x = 0
		y = 1
		relative_position_id = JAP_small_arms_modernization

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_strengthen_civilian_government
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = JAP_supremacy_of_technology
		}
	}

	focus = {
		id = JAP_modern_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus =JAP_supremacy_of_technology  }
		x = -1
		y = 1
		relative_position_id = JAP_supremacy_of_technology

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_modern_artillery
				bonus = 1.0
				uses = 2
				category = artillery	
			}
		}
	}

	focus = {
		id = JAP_armored_divisions
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = JAP_supremacy_of_technology }
		x = 0
		y = 2
		relative_position_id = JAP_supremacy_of_technology

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_armored_divisions
				bonus = 1.0
				uses = 1
				category = armor	
			}
		}
	}

	focus = {
		id = JAP_bicycle_battalions
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = JAP_supremacy_of_technology focus = JAP_supremacy_of_will }
		x = 1
		y = 1
		relative_position_id = JAP_supremacy_of_technology

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			set_technology = { bicycle_infantry = 1 }
		}
	}

	focus = {
		id = JAP_army_expansion
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = JAP_army_expansion_law }
		x = 1
		y = 1
		relative_position_id = JAP_army_expansion_law

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_support_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = hajime_sugiyama
		}
	}

	focus = {
		id = JAP_supremacy_of_will
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = JAP_army_expansion }
		mutually_exclusive = { focus = JAP_supremacy_of_technology }
		x = 0
		y = 1
		relative_position_id = JAP_army_expansion

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_support_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = JAP_superior_will
		}
	}

	focus = {
		id = JAP_fighter_modernization
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = JAP_army_expansion_law focus = JAP_new_naval_estimates }
		x = 4
		y = 2
		relative_position_id = JAP_army_expansion_law

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_support_the_kodoha_faction
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_fighter_modernization
				bonus = 1.0
				uses = 1
				category = light_fighter		
			}
			add_tech_bonus = {
				name = JAP_fighter_modernization
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter	
			}
		}
	}

	focus = {
		id = JAP_range_focus
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = JAP_fighter_modernization }
		x = -1
		y = 1
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = aichi
		}
	}

	focus = {
		id = JAP_agility_focus
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = JAP_fighter_modernization }
		x = 1
		y = 1
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = mitsubishi
		}
	}

	focus = {
		id = JAP_the_zero
		icon = GFX_focus_jap_zero
		prerequisite = { focus = JAP_first_air_fleet }
		prerequisite = { focus = JAP_agility_focus }
		x = 1
		y = 1
		relative_position_id = JAP_agility_focus

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {
			has_tech = cv_fighter2
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = JAP_the_zero_tt
			hidden_effect = { set_technology = { cv_fighter2 = 1 } }
		}
	}

	focus = {
		id = JAP_bomber_modernization
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = JAP_range_focus focus = JAP_agility_focus }
		x = 0
		y = 2
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_bomber_modernization
				bonus = 1.0
				uses = 1
				category = cas_bomber
				category = tactical_bomber					
			}
		}
	}

	focus = {
		id = JAP_strategic_bomber_effort
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = JAP_range_focus }
		prerequisite = { focus = JAP_bomber_modernization }
		x = -1
		y = 3
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_strategic_bomber_effort
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber	
			}
		}
	}

	focus = {
		id = JAP_unified_fighter_development
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = JAP_agility_focus }
		prerequisite = { focus = JAP_the_zero }
		x = 1
		y = 3
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			remove_ideas = JAP_duplicate_research_efforts
		}
	}

	focus = {
		id = JAP_jet_prototypes
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = JAP_unified_fighter_development focus = JAP_strategic_bomber_effort }
		x = 0
		y = 4
		relative_position_id = JAP_fighter_modernization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_jet_prototypes
				bonus = 1.0
				uses = 2
				category = jet_technology
			}
		}
	}

	focus = {
		id = JAP_new_naval_estimates
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 8
		y = 0
		relative_position_id = JAP_army_expansion_law

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = JAP_new_naval_estimates_DY1
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = JAP_new_naval_estimates_DY2
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				add_tech_bonus = {
					name = JAP_supremacy_of_the_battlefleet
					bonus = 1.0
					uses = 1
					category = shbb_tech	
				}
			}
			else = {
				navy_experience = 50
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_new_naval_estimates_DY1
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT	
					not = {
						OR = {
							state = 646
							state = 645
							state = 555
						}
					}				
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = JAP_new_naval_estimates_DY2
			}
		}
	}

	focus = {
		id = JAP_carrier_warfare_experiments
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = JAP_new_naval_estimates }
		mutually_exclusive = { focus = JAP_supremacy_of_the_battlefleet }
		x = -1
		y = 1
		relative_position_id = JAP_new_naval_estimates

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_carrier_warfare_experiments
				bonus = 1.00
				uses = 2
				category = cat_base_strike
			}
		}
	}

	focus = {
		id = JAP_expand_the_snlf
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = JAP_carrier_warfare_experiments focus = JAP_supremacy_of_the_battlefleet }
		x = 0
		y = 2
		relative_position_id = JAP_new_naval_estimates

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = JAP_expand_the_snlf
			add_tech_bonus = {
				name = JAP_expand_the_snlf
				bonus = 1.0
				uses = 1
				category = marine_tech	
			}
		}
	}

	focus = {
		id = JAP_first_air_fleet
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = JAP_carrier_warfare_experiments }
		x = 0
		y = 2
		relative_position_id = JAP_carrier_warfare_experiments

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_completed_focus = JAP_purge_the_kodoha_faction
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = JAP_first_air_fleet
		}
	}

	focus = {
		id = JAP_modern_escorts
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = JAP_first_air_fleet focus = JAP_the_ultimate_battleship }
		x = 1
		y = 1
		relative_position_id = JAP_first_air_fleet

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_modern_escorts
				bonus = 1.0
				uses = 1
				category = dd_tech	
			}
		}
	}

	focus = {
		id = JAP_supremacy_of_the_battlefleet
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = JAP_new_naval_estimates }
		mutually_exclusive = { focus = JAP_carrier_warfare_experiments }
		x = 1
		y = 1
		relative_position_id = JAP_new_naval_estimates

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_supremacy_of_the_battlefleet
				bonus = 1.0
				uses = 1
				category = bb_tech
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = kure_naval_arsenal
		}
	}

	focus = {
		id = JAP_the_ultimate_battleship
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = JAP_supremacy_of_the_battlefleet }
		x = 0
		y = 2
		relative_position_id = JAP_supremacy_of_the_battlefleet

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			AND = {
				has_tech = heavy_battleship
				has_tech = heavy_battleship2
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				add_tech_bonus = {
					name = JAP_the_ultimate_battleship
					bonus = 3.0
					uses = 1
					category = shbb_tech	
				}
			}
			else = {
				if = {
					limit = {
						not = { has_tech = ship_hull_super_heavy }
					}
					set_technology = {
						ship_hull_super_heavy = 1
					}
				}
				create_equipment_variant = {
					name = "Yamato Class"
					type = ship_hull_super_heavy_1
					name_group = JAP_BB_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_super_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb
						front_1_custom_slot = ship_anti_air_1
						front_2_custom_slot = empty
						mid_1_custom_slot = empty
						mid_2_custom_slot = ship_secondaries_2
						mid_3_custom_slot = ship_secondaries_2
						rear_1_custom_slot = ship_super_heavy_battery_1
						rear_2_custom_slot = ship_airplane_launcher_1
					}
				}
				custom_effect_tooltip = JAP_yamato_tt
				hidden_effect = {
					add_equipment_production = {
						equipment = {
							type = ship_hull_super_heavy_1
							creator = "JAP" 
							version_name = "Yamato Class"
						}
						name = "Yamato" 
						requested_factories = 1
						progress = 0.75
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_super_heavy_1
							creator = "JAP" 
							version_name = "Yamato Class"
						}
						name = "Musashi" 
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
				}
			}
		}
	}

	focus = {
		id = JAP_cruiser_modernization
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = JAP_new_naval_estimates }
		x = 3
		y = 1
		relative_position_id = JAP_new_naval_estimates

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = JAP_cruiser_modernization
				bonus = 3.0
				uses = 1
				category = cl_tech	
				category = ca_tech	
			}
		}
	}

	focus = {
		id = JAP_long_lance_torpedoes
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = JAP_cruiser_modernization }
		x = 0
		y = 1
		relative_position_id = JAP_cruiser_modernization

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = the_long_lance
		}
	}

	focus = {
		id = JAP_torpedo_cruisers
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = JAP_long_lance_torpedoes }
		x = 0
		y = 1
		relative_position_id = JAP_long_lance_torpedoes

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				set_technology = { torpedo_cruiser = 1 }
			}
			else = {
				set_technology = { torpedo_cruiser_mtg = 1 }
			}
		}
	}
}
focus_tree = {
	id = manchukuo_focus
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = MAN
			has_dlc = "Waking the Tiger"
			always = no
		}
	}
	

	default = no

	continuous_focus_position = { x = 20 y = 1600 }

#	focus = {
#		id = CHI_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	focus = {
		id = MAN_pacify_the_countryside
		icon = GFX_goal_generic_major_war
		x = 6
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			unlock_decision_category_tooltip = MAN_banditry_category
			set_variable = { MAN_maintain_control_timer = 180 }
			custom_effect_tooltip = MAN_pacify_the_countryside_effect_tooltip
		}
	}

	focus = {
		id = MAN_army_modernization
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = MAN_pacify_the_countryside }
		x = -2
		y = 1
		relative_position_id = MAN_pacify_the_countryside

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			army_experience = 30
		}
	}

	focus = {
		id = MAN_mukden_military_academy
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = MAN_army_modernization }
		x = 0
		y = 1
		relative_position_id = MAN_army_modernization

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}	

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}
		
		completion_reward = {
			add_ideas = MAN_mukden_military_academy
		}
	}

	focus = {
		id = MAN_invite_japanese_settlers
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = MAN_pacify_the_countryside }
		x = 0
		y = 1
		relative_position_id = MAN_pacify_the_countryside

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_idea = MAN_banditry }
			NOT = { has_war_with = JAP }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_industrial_effort_2_2IC }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_state = {
				limit = { is_fully_controlled_by = ROOT }
				add_manpower = 25417
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_invite_japanese_settlers_2IC
			}
			random_owned_state = {
				limit = { is_fully_controlled_by = ROOT }
				add_manpower = 33846
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = MAN_invite_japanese_settlers_2IC
			}
		}
	}

	focus = {
		id = MAN_collective_farms
		icon = GFX_goal_generic_construction
		prerequisite = { focus = MAN_invite_japanese_settlers }
		x = 0
		y = 1
		relative_position_id = MAN_invite_japanese_settlers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = MAN_law_university
		icon = GFX_focus_research
		prerequisite = { focus = MAN_collective_farms focus = MAN_mukden_military_academy focus = MAN_expand_the_textile_industry }
		x = 0
		y = 1
		relative_position_id = MAN_collective_farms

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MAN_research_and_education_department
		icon = GFX_focus_research
		prerequisite = { focus = MAN_law_university }
		x = 0
		y = 1
		relative_position_id = MAN_law_university

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				num_of_factories > 50
				all_state = {
					OR = {
						NOT = { is_core_of = CHI }
						NOT = { is_core_of = PRC }
						OR = {
							is_controlled_by = ROOT
							CONTROLLER = { is_in_faction_with = ROOT }
							CONTROLLER = { is_subject_of = ROOT }
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1			
		}
	}

	focus = {
		id = MAN_trade_delegation
		icon = GFX_goal_generic_trade
		prerequisite = { focus = MAN_pacify_the_countryside }
		x = 2
		y = 1
		relative_position_id = MAN_pacify_the_countryside

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = MAN_trade_delegation
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = MAN_expand_the_textile_industry
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = MAN_trade_delegation }
		x = 0
		y = 1
		relative_position_id = MAN_trade_delegation

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = MAN_expand_the_textile_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_expand_the_textile_industry_IC
			}
		}
	}

	focus = {
		id = MAN_obedience
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = MAN_army_modernization }
		mutually_exclusive = { focus = MAN_assertiveness }
		x = -2
		y = 4
		relative_position_id = MAN_army_modernization

		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = MAN_hoankyoku
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = MAN_obedience }
		x = -2
		y = 1
		relative_position_id = MAN_obedience

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }
		complete_tooltip = {

		}

		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = MAN_first_five_year_plan
		icon = GFX_goal_generic_production
		prerequisite = { focus = MAN_obedience }
		x = 0
		y = 1
		relative_position_id = MAN_obedience

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			country_event = wtt_manchukou.11
		}
	}

	focus = {
		id = MAN_invite_japanese_investors
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = MAN_first_five_year_plan }
		x = -1
		y = 1
		relative_position_id = MAN_first_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = { has_war_with = JAP }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MAN_songgotu_zhanshan
			random_state = {
				limit = {
					has_state_flag = MAN_invite_japanese_investors_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MAN_songgotu_zhanshan
			random_owned_controlled_state = {
				prioritize = { 328 }
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_invite_japanese_investors_IC
			}
		}
	}

	focus = {
		id = MAN_expand_the_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = MAN_invite_japanese_investors }
		x = 0
		y = 1
		relative_position_id = MAN_invite_japanese_investors

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			OR = {
				716 = {
					is_fully_controlled_by = ROOT
				}
				328 = {
					is_fully_controlled_by = ROOT
				} 
				610 = {
					is_fully_controlled_by = ROOT
				} 
				717 = {
					is_fully_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { 716 = { is_fully_controlled_by = ROOT } }
				716 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { 328 = { is_fully_controlled_by = ROOT } }
				328 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				} 
			}
			if = {
				limit = { 610 = { is_fully_controlled_by = ROOT } }
				610 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				} 
			}
			if = {
				limit = { 717 = { is_fully_controlled_by = ROOT } }
				717 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = MAN_develop_aluminum_sources
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = MAN_invite_japanese_investors }
		x = -2
		y = 1
		relative_position_id = MAN_invite_japanese_investors

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_tech = excavation1 }
				add_tech_bonus = {
					name = MAN_develop_aluminum_sources
					bonus = 1.0
					uses = 1
					category = excavation_tech
				}
			}
			else = {
				set_technology = { excavation1 = 1 }
			}
			unlock_decision_tooltip = MAN_develop_kirin_aluminium_deposits
		}
	}

	focus = {
		id = MAN_expand_showa_steel_works
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = MAN_develop_aluminum_sources }
		x = 0
		y = 1
		relative_position_id = MAN_develop_aluminum_sources

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			716 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			716 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			unlock_decision_tooltip = MAN_develop_liaotung_iron_ore_deposits
		}
	}

	focus = {
		id = MAN_social_research_unit
		icon = GFX_focus_research
		prerequisite = { focus = MAN_expand_the_railways }
		x = 0
		y = 2
		relative_position_id = MAN_invite_japanese_investors

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MAN_second_five_year_plan
		icon = GFX_goal_generic_production
		prerequisite = { focus = MAN_social_research_unit }
		prerequisite = { focus = MAN_expand_showa_steel_works }
		prerequisite = { focus = MAN_mamc }
		x = 0
		y = 4
		relative_position_id = MAN_first_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			if = {
				limit = { has_idea = MAN_five_year_plan_air }
				NOT = { has_idea = MAN_five_year_plan_air }
			}
			if = {
				limit = { has_idea = MAN_five_year_plan_tank }
				NOT = { has_idea = MAN_five_year_plan_tank }
			}
			if = {
				limit = { has_idea = MAN_five_year_plan_industry }
				NOT = { has_idea = MAN_five_year_plan_industry }
			}
			if = {
				limit = {
					NOT = { has_idea = MAN_five_year_plan_air }
					NOT = { has_idea = MAN_five_year_plan_tank }
					NOT = { has_idea = MAN_five_year_plan_industry }
				}
				NOT = { has_idea = MAN_five_year_plan_air }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			country_event = wtt_manchukou.11
		}
	}

	focus = {
		id = MAN_national_defense_state
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = MAN_second_five_year_plan }
		x = 0
		y = 1
		relative_position_id = MAN_second_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = MAN_national_defense_state
		}
	}

	focus = {
		id = MAN_mukden_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MAN_first_five_year_plan }
		x = 1
		y = 1
		relative_position_id = MAN_first_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			716 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			716 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MAN_mamc
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = MAN_mukden_arsenal }
		x = 0
		y = 1
		relative_position_id = MAN_mukden_arsenal

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MAN_mamc_light
			show_ideas_tooltip = MAN_mamc_medium
			show_ideas_tooltip = MAN_mamc_heavy
		}
	}

	focus = {
		id = MAN_alliance_with_the_kwantung_army
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = MAN_first_five_year_plan }
		x = 3
		y = 1
		relative_position_id = MAN_first_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			remove_ideas = MAN_kwantung_veto
			add_tech_bonus = {
				name = MAN_alliance_with_the_kwantung_army
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = MAN_chinese_leadership
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = MAN_alliance_with_the_kwantung_army }
		x = 0
		y = 1
		relative_position_id = MAN_alliance_with_the_kwantung_army

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			MAN_low_legitimacy_level_down = yes
		}
	}

	focus = {
		id = MAN_vassalize_mengukuo
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MAN_chinese_leadership }
		x = -1
		y = 1
		relative_position_id = MAN_chinese_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject_of = JAP
			NOT = { has_war_with = JAP }
			NOT = { has_war_with = MEN }
			MEN = {
				exists = yes
				is_subject_of = JAP
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		complete_tooltip = {

		}

		completion_reward = {
			annex_country = { target = MEN transfer_troops = yes }
		}
	}

	focus = {
		id = MAN_national_cooperation_government
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = MAN_chinese_leadership }
		x = 1
		y = 1
		relative_position_id = MAN_chinese_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
		completion_reward = {
			every_state = {
				limit = { is_core_of = CHI }
				add_core_of = ROOT
			}
		}
	}

	focus = {
		id = MAN_the_two_emperors
		icon = GFX_goal_anschluss
		prerequisite = { focus = MAN_vassalize_mengukuo }
		prerequisite = { focus = MAN_national_cooperation_government }
		x = 0
		y = 2
		relative_position_id = MAN_chinese_leadership

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject_of = JAP
			compare_autonomy_state > autonomy_wtt_imperial_protectorate			
			MAN = { 
				ic_ratio = {
					tag = JAP
					ratio > 0.2
				}
			}
			strength_ratio = {
				tag = JAP
				ratio > 0.25
			}
		}

		bypass = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_autonomy_ratio = {
				value = 0.15
				localization = MAN_the_two_emperors
			}
		}
	}

	focus = {
		id = MAN_assertiveness
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = MAN_trade_delegation }
		mutually_exclusive = { focus = MAN_obedience }
		x = 2
		y = 4
		relative_position_id = MAN_trade_delegation

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			MAN_low_legitimacy_level_down = yes
			set_country_flag = MAN_assertiveness
			JAP = { 
				set_autonomy = {
					target = MAN
					autonomy_state = autonomy_wtt_imperial_subject
				}
			}			
		}
	}

	focus = {
		id = MAN_request_control_of_the_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = MAN_assertiveness }
		x = 0
		y = 1
		relative_position_id = MAN_assertiveness

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				716 = {
					is_fully_controlled_by = ROOT
				}
				328 = {
					is_fully_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			unlock_decision_tooltip = MAN_divert_machine_tools
			if = {
				limit = { 716 = { is_fully_controlled_by = ROOT } }
				716 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = { 717 = { is_fully_controlled_by = ROOT } }
				717 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = { 715 = { is_fully_controlled_by = ROOT } }
				715 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = { 328 = { is_fully_controlled_by = ROOT } }
				328 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				} 
			}
		}
	}

	focus = {
		id = MAN_staff_the_court_with_manchus
		icon = GFX_goal_generic_intelligence_exchange
		mutually_exclusive = { focus = MAN_five_equal_peoples }
		prerequisite = { focus = MAN_request_control_of_the_railways }
		x = -1
		y = 1
		relative_position_id = MAN_request_control_of_the_railways

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = MAN_expand_the_imperial_guards
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = MAN_staff_the_court_with_manchus }
		x = -1
		y = 1
		relative_position_id = MAN_staff_the_court_with_manchus

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			custom_effect_tooltip = MAN_expand_the_imperial_guards_tt
			hidden_effect = {
				division_template = {
					name = "Imperial Guards Division"
					priority = 2
					division_names_group = MAN_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
			
	    	   		 	infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
			
	    	   		 	infantry = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 2 y = 2 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 328 }
					create_unit = {
						division = "name = \"1. Imperial Guards Division\" division_template = \"Imperial Guards Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"2. Imperial Guards Division\" division_template = \"Imperial Guards Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"3. Imperial Guards Division\" division_template = \"Imperial Guards Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"4. Imperial Guards Division\" division_template = \"Imperial Guards Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
				}			
			}			
		}
	}

	focus = {
		id = MAN_local_arms_procurement
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MAN_expand_the_imperial_guards }
		x = 0
		y = 1
		relative_position_id = MAN_expand_the_imperial_guards

		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			unlock_decision_tooltip = MAN_fund_underground_gun_shops
			every_state = {
				limit = {
					has_state_flag = MAN_local_arms_procurement_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = MAN_fund_underground_gun_shops
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT 	
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_local_arms_procurement_AF
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT 	
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = MAN_local_arms_procurement_AF
			}
		}
	}

	focus = {
		id = MAN_bolster_nationalism
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = MAN_staff_the_court_with_manchus focus = MAN_five_equal_peoples }
		x = 1
		y = 1
		relative_position_id = MAN_staff_the_court_with_manchus

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			MAN_low_legitimacy_level_down = yes
			add_ideas = MAN_bolster_nationalism
			unlock_decision_tooltip = MAN_recruit_bandits_generic
		}
	}

	focus = {
		id = MAN_five_equal_peoples
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = { focus = MAN_staff_the_court_with_manchus }
		prerequisite = { focus = MAN_request_control_of_the_railways }
		x = 1
		y = 1
		relative_position_id = MAN_request_control_of_the_railways

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = MAN_white_russian_advisers
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = MAN_five_equal_peoples }
		x = 1
		y = 1
		relative_position_id = MAN_five_equal_peoples

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = MAN_white_russian_advisers
		}
	}

	focus = {
		id = MAN_empower_the_legislative_council
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = MAN_five_equal_peoples }
		x = 3
		y = 1
		relative_position_id = MAN_five_equal_peoples

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_political_power = 150
			MAN_low_legitimacy_level_down = yes
		}
	}

	focus = {
		id = MAN_five_people_armies
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = MAN_white_russian_advisers }
		x = 0
		y = 1
		relative_position_id = MAN_white_russian_advisers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = MAN_five_people_armies
			unlock_decision_tooltip = MAN_raise_manchu_banner
			custom_effect_tooltip = MAN_five_people_armies_tt
			hidden_effect = {
				division_template = {
					name = "People's Volunteers Division"
					priority = 2
					division_names_group = MAN_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 328 }
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
					create_unit = {
						division = "name = \"People's Volunteers Division\" division_template = \"People's Volunteers Division\" start_experience_factor = 1.0" 
						owner = MAN
					}
				}			
			}
		}
	}

	focus = {
		id = MAN_purge_the_general_affairs_council
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = MAN_bolster_nationalism  }
		x = 0
		y = 1
		relative_position_id = MAN_bolster_nationalism 

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = 0.1
			unlock_decision_tooltip = MAN_prepare_to_seize_arms
			if = {
				limit = {
					has_idea = MAN_kwantung_veto
				}
				remove_ideas = MAN_kwantung_veto
			}
		}
	}

	focus = {
		id = MAN_reform_the_civil_service
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = MAN_purge_the_general_affairs_council }
		x = -2
		y = 1
		relative_position_id = MAN_purge_the_general_affairs_council

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = MAN_independence_war
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = MAN_purge_the_general_affairs_council }
		x = 0
		y = 1
		relative_position_id = MAN_purge_the_general_affairs_council

		cost = 10

		ai_will_do = {
			factor = 100
			modifier = {
				strength_ratio = { tag = JAP ratio < 0.3 }
				factor = 0
			}
			
		}

		available = {
		
		}

		bypass = {
			is_subject = no
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		will_lead_to_war_with = JAP

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			hidden_effect = { OVERLORD = { save_event_target_as = overlord_target } }
			OVERLORD = { set_autonomy = { target = ROOT autonomy_state = autonomy_free } }
			effect_tooltip = {		
				if = {
					limit = {
						is_in_faction_with = OVERLORD
					}
					leave_faction = yes
				}
				declare_war_on = {
					target = OVERLORD
					type = puppet_wargoal_focus
				}
			}
			hidden_effect = {
				if = {
					limit = {
						is_in_faction_with = event_target:overlord_target
					}
					leave_faction = yes
				}
				declare_war_on = {
					target = event_target:overlord_target
					type = puppet_wargoal_focus
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.48 days = 2 }
			}
			
			add_country_leader_trait = nationalist_symbol
		}
	}

	focus = {
		id = MAN_imperial_divinity
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = MAN_independence_war }
		x = -1
		y = 1
		relative_position_id = MAN_independence_war

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		completion_reward = {
			MAN_low_legitimacy_level_down = yes
		}
	}

	focus = {
		id = MAN_imperial_university
		icon = GFX_focus_research
		prerequisite = { focus = MAN_imperial_divinity }
		x = -1
		y = 1
		relative_position_id = MAN_imperial_divinity

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MAN_move_capitals
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = MAN_imperial_divinity }
		prerequisite = { focus = MAN_reclaim_the_empire }
		x = 1
		y = 1
		relative_position_id = MAN_imperial_divinity

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			608 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			set_capital = 608
			MAN_low_legitimacy_level_down = yes
		}
	}

	focus = {
		id = MAN_claim_the_mandate_of_heaven
		icon = GFX_focus_man_claim_the_mandate_of_heaven
		prerequisite = { focus = MAN_move_capitals }
		x = 0
		y = 1
		relative_position_id = MAN_move_capitals

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			all_state = { 
				OR = {
					NOT = { is_core_of = ROOT }
					state = 729
					state = 326
					state = 728
					state = 524
					is_controlled_by = ROOT
				}
				
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			MAN_low_legitimacy_clear_all = yes	
			set_cosmetic_tag = MAN_restored
			hidden_effect = {
				news_event = { id = wtt_news.44 days = 2 }
				kill_country_leader = yes 
				if = {
					limit = {
						has_government = fascism
					}
					create_country_leader = {
						name = "Xuantong"
						picture = "GFX_portrait_man_henry_pu_yi_emperor"
						expire = "1960.1.1"
						ideology = rexism
						traits = {
						}
					}
				}
				else_if = {
					limit = {
						has_government = neutrality
					}
					create_country_leader = {
						name = "Xuantong"
						picture = "GFX_portrait_man_henry_pu_yi_emperor"
						expire = "1960.1.1"
						ideology = despotism
						traits = {
						}
					}
				}
			}
		}
	}

	focus = {
		id = MAN_reclaim_the_empire
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = MAN_independence_war }
		x = 1
		y = 1
		relative_position_id = MAN_independence_war

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_war_support = 0.1
			set_rule = { can_create_factions = yes }
			every_state = {
				limit = { is_core_of = CHI }
				add_core_of = ROOT
			}
		}
	}

	focus = {
		id = MAN_assert_our_authority
		icon = GFX_goal_demand_sudetenland
		mutually_exclusive = { focus = MAN_offer_vassalization }
		prerequisite = { focus = MAN_reclaim_the_empire }
		x = 1
		y = 1
		relative_position_id = MAN_reclaim_the_empire

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			every_country = {
				limit = {
					is_independent_china_or_warlord = yes
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
		}
	}

	focus = {
		id = MAN_offer_vassalization
		icon = GFX_goal_generic_air_doctrine
		mutually_exclusive = { focus = MAN_assert_our_authority }
		prerequisite = { focus = MAN_reclaim_the_empire }
		x = 3
		y = 1
		relative_position_id = MAN_reclaim_the_empire

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			every_country = {
				limit = {
					is_chinese_warlord = yes
					not = { tag = event_target:WTT_current_china_leader }
				}
				country_event = { id = wtt_manchukou.1 }
			}
		}
	}



	shared_focus = CHI_invite_foreign_investors
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_CHI_INFLATION}
### search_filters = {FOCUS_FILTER_USA_CONGRESS}
### search_filters = {FOCUS_FILTER_TFV_AUTONOMY}
### search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
### search_filters = {FOCUS_FILTER_MEX_CAUDILLO_REBELLION}

focus_tree = {
	id = mexico_focus_tree
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = MEX
			has_dlc = "Man the Guns"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 70 y = 1100 }

	focus = {
		id = MEX_focus_plan_of_agua_prieta
		icon = GFX_focus_hol_the_foundations_of_defense
		x = 23
		y = 0

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_exile_calles
		icon = GFX_focus_mex_exile_calles
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_jefe_maximo }
		x = -1
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = MEX_callistas
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_bartolome_garcia_correa
		}
	}

	focus = {
		id = MEX_focus_jefe_maximo
		icon = GFX_focus_mex_jefe_maximo
		mutually_exclusive = { focus = MEX_focus_exile_calles }
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		x = 1
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				create_field_marshal = {
					name = "Plutarco E. Calles"
					id = 711
					gfx = "GFX_portrait_mex_calles_military"
					traits = { harsh_leader } # Incited many rebellions with his heavy hand
					skill = 4
					attack_skill = 5
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 4
				}
				else = {
					create_field_marshal = {
						name = "Plutarco E. Calles"
						id = 711
						gfx = "GFX_portrait_mex_calles_military"
						traits = { harsh_leader } # Incited many rebellions with his heavy hand
						skill = 4
						attack_skill = 5
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
				}
			}
			swap_ideas = {
				remove_idea = MEX_callistas
				add_idea = MEX_plutarco_calles
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_aaron_saenz
			if = {
				limit = {
					NOT = {
						OR = {
							has_global_flag = trotsky_exile_mexico
							has_global_flag = flag_mexico_invited_trotsky_to_government
						}
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}			
		}
	}
	
	focus = {
		id = MEX_focus_national_bank
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 9
		y = 0

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_banco_de_mexico		
		}
	}

	focus = {
		id = MEX_focus_agricultural_credit_bank
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = MEX_focus_national_bank }
		mutually_exclusive = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 1
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_government = communism
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_alberto_pani
		}
	}
	focus = {
		id = MEX_focus_confederation_of_mexican_workers
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = MEX_focus_agricultural_credit_bank }
		x = -2
		y = 1
		relative_position_id = MEX_focus_agricultural_credit_bank

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 120
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_vicente_lombardo
		}
	}
	focus = {
		id = MEX_focus_rent_freeze
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = MEX_focus_confederation_of_mexican_workers }
		x = 0
		y = 1
		relative_position_id = MEX_focus_confederation_of_mexican_workers

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_political_power = 120
			add_stability = 0.05
		}
	}
	focus = {
		id = MEX_focus_ejido_worker_militias
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = MEX_focus_rent_freeze }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rent_freeze

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
				has_idea = MEX_church_power_3
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}
		completion_reward = {
			MEX_decrease_church_power = yes
			add_ideas = MEX_ejido_worker_militias
		}
	}
	
	focus = {
		id = MEX_focus_party_of_the_revolution
		icon = GFX_goal_support_communism
		prerequisite = { focus = MEX_focus_ejido_worker_militias }
		x = 0
		y = 1
		relative_position_id = MEX_focus_ejido_worker_militias

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			communism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			
			add_stability = 0.05
			add_war_support = 0.05

			if = {
				limit = {
					has_country_leader = { name = "Lázaro Cárdenas" }
				}
				create_country_leader = {
					name = "Lázaro Cárdenas"
					desc = "POLITICS_LAZARO_CARDENAS_DESC"
					picture = "Portrait_Mexico_Lazaro_Cardenas.dds"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						protector_of_the_campesinos
					}
				}
				create_country_leader = {
					name = "Plutarco E. Calles"
					desc = "POLITICS_PLUTARCO_E_CALLES_DESC"
					picture = GFX_portrait_mex_calles_civil
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						el_jefe_maximo
					}
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Vicente Lombardo" }
				}
				create_country_leader = {
					name = "Vicente Lombardo"
					desc = "POLITICS_VICENTE_LOMBARDO_DESC"
					picture = GFX_portrait_mex_vicente_lombardo
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						the_dean_of_mexican_marxism
					}
				}
				create_country_leader = {
					name = "Plutarco E. Calles"
					desc = "POLITICS_PLUTARCO_E_CALLES_DESC"
					picture = GFX_portrait_mex_calles_civil
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						el_jefe_maximo
					}
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			
			set_party_name = { ideology = communism name = MEX_democratic_party_mexican_revolution_party_short long_name = MEX_democratic_party_mexican_revolution_party_long }
			
			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}
	
	focus = {
		id = MEX_focus_rural_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = MEX_focus_agricultural_credit_bank }
		x = 0
		y = 1
		relative_position_id = MEX_focus_agricultural_credit_bank

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					OR = {
						state = 477
						state = 485
						state = 478
						state = 479
						state = 480
						state = 481
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_peripheral_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = MEX_focus_rural_infrastructure }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rural_infrastructure

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					OR = {
						state = 476
						state = 475
						state = 474
						state = 484
						state = 482
						state = 483
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_rural_schools
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_peripheral_infrastructure }
		x = 0
		y = 1
		relative_position_id = MEX_focus_peripheral_infrastructure

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MEX_focus_liberalize_the_banking_sector
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = MEX_focus_national_bank }
		mutually_exclusive = { focus = MEX_focus_agricultural_credit_bank }
		x = 3
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
			
			modifier = {
				factor = 10
				has_government = democratic
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_luis_montes_de_oca
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_strike_breaking
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberalize_the_banking_sector

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = MEX_strike_breaking
		}
	}

	focus = {
		id = MEX_focus_urban_development
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = MEX_focus_strike_breaking }
		x = 0
		y = 1
		relative_position_id = MEX_focus_strike_breaking

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			277 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			477 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			478 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			485 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_cientifico_camarilla
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_urban_development }
		x = 0
		y = 1
		relative_position_id = MEX_focus_urban_development

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = MEX_focus_end_land_reform
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MEX_focus_liberalize_the_banking_sector }
		x = 2
		y = 1
		relative_position_id = MEX_focus_liberalize_the_banking_sector

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			add_stability = -0.05
			add_political_power = 200
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_privatization
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = MEX_focus_end_land_reform }
		x = 0
		y = 1
		relative_position_id = MEX_focus_end_land_reform

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 477
						state = 485
						state = 478
						state = 479
						state = 480
					}
				}
				add_extra_state_shared_building_slots = 1
			}
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_caudillo_private_armies
		icon = GFX_focus_mex_caudillo_private_armies
		prerequisite = { focus = MEX_focus_privatization }
		x = 0
		y = 1
		relative_position_id = MEX_focus_privatization

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			add_ideas = MEX_caudillo_private_armies
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_support_general_cedillo
		icon = GFX_focus_mex_support_general_cedillo
		prerequisite = { focus = MEX_focus_caudillo_private_armies }
		mutually_exclusive = { focus = MEX_focus_arrest_general_cedillo }
		x = 0
		y = 1
		relative_position_id = MEX_focus_caudillo_private_armies

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_global_flag = flag_mexico_cedillo_has_revolted
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CAUDILLO_REBELLION}
		completion_reward = {
			custom_effect_tooltip = tooltip_mexico_cedillo_will_be_placated
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				create_field_marshal = {
					name = "Saturnino Cedillo Martínez"
					id = 708
					gfx = "GFX_portrait_mex_saturnino_cedillo"
					traits = { trait_reckless trickster} # Futile rebellion
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				else = {
					create_field_marshal = {
						name = "Saturnino Cedillo Martínez"
						id = 708
						gfx = "GFX_portrait_mex_saturnino_cedillo"
						traits = { trait_reckless trickster } # Futile rebellion
						skill = 3
						attack_skill = 4
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 2
					}
				}
			}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = MEX_saturnino_cedillo
			MEX_remove_cedillo_tension = yes
		}
	}
	
	focus = {
		id = MEX_focus_oil_field_expansion
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = MEX_focus_rural_schools focus = MEX_focus_cientifico_camarilla }
		x = 1
		y = 2
		relative_position_id = MEX_focus_rural_schools

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 480
						state = 479
						state = 477
						state = 476
					}
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
	}
	
	focus = {
		id = MEX_focus_royal_dutch_shell
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		mutually_exclusive = { focus = MEX_focus_nationalize_the_oil_fields }
		x = -2
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
			
			modifier = {
				factor = 0
				OR = {
					NOT = {
						country_exists = ENG
					}
					ENG = {
						NOT = {
							has_government = democratic
						}
					}
				}	
			}
		}

		available = {
			NOT = {
				has_war_with = ENG
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			USA = {
				remove_resource_rights = 480
			}
			480 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
			add_tech_bonus = {
				name = synth_resources
				bonus = 1.0
				uses = 2
				category = synth_resources
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_royal_dutch_shell
		}
	}
	
	focus = {
		id = MEX_focus_oil_revenue_reinvestment
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = MEX_focus_royal_dutch_shell focus = MEX_focus_nationalize_the_oil_fields }
		x = 0
		y = 2
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 477
						state = 479
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_capital_reserves
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = MEX_focus_oil_revenue_reinvestment }
		x = 0
		y = 1
		relative_position_id = MEX_focus_oil_revenue_reinvestment

		cost = 10

		ai_will_do = {
			factor = 1 # Don't think the AI bothers with licences
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				add_ideas = MEX_capital_reserves
			}
			if = {
				limit = {
					NOT = { has_dlc = "Death or Dishonor" }
				}
				add_political_power = 150
			}
		}
	}
	
	focus = {
		id = MEX_focus_community_of_nations
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = MEX_focus_royal_dutch_shell }
		x = 0
		y = 2
		relative_position_id = MEX_focus_royal_dutch_shell

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				ENG = {
					exists = no
				}
				ENG = {
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					ENG = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					ENG = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = ENG
				modifier = anglo_mexican_diplomacy
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = anglo_mexican_diplomacy
				}
			}
			if = {
				limit = {
					ENG = { is_faction_leader = yes }
				}
				ENG = {
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					ENG = {
						is_in_faction = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = ENG
					}
					country_event = generic.2
				}
			}
			else = {
				create_faction = MEX_focus_community_of_nations
				ENG = {
					country_event = generic.5
				}
			}
		}
	}

	focus = {
		id = MEX_focus_purchase_belize
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = MEX_focus_community_of_nations }
		x = 0
		y = 1
		relative_position_id = MEX_focus_community_of_nations

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
			311 = {
				is_owned_by = ENG
			}
		}

		bypass = {
		NOT= {
			311 = {
				is_owned_by = ENG
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			ENG = {
				country_event = {
					id = mexico.12
					days = 1
				}
			}
		}
	}

	focus = {
		id = MEX_focus_nationalize_the_oil_fields
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		mutually_exclusive = { focus = MEX_focus_royal_dutch_shell }
		x = 2
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = USA
					}
					NOT = {
						has_war_with = ROOT
					}
					NOT = {
						is_subject_of = ROOT
					}
				}
				add_opinion_modifier = {
					target = MEX
					modifier = sanctions
				}
				country_event = {
					days = 1
					id = mexico.2
				}
				custom_effect_tooltip = tooltip_mexico_they_may_declare_war
			}
			remove_ideas = MEX_oil_concessions
			USA = {
				remove_resource_rights = 479
				remove_resource_rights = 480
			}
			ENG = {
				remove_resource_rights = 477
				remove_resource_rights = 476
			}
			custom_effect_tooltip = available_industrial_concern

			show_ideas_tooltip = MEX_pemex
		}
	}
	focus = {
		id = MEX_focus_northern_steel_plants
		icon = GFX_focus_generic_steel
		prerequisite = { focus = MEX_focus_oil_field_expansion }
		x = 7
		y = 1
		relative_position_id = MEX_focus_oil_field_expansion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			480 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}
			482 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
	}
	focus = {
		id = MEX_focus_german_resource_exchange
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_oppose_yanqui_imperialism }
		mutually_exclusive = { focus = MEX_focus_compensation }
		x = 4
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			country_exists = GER
			is_subject = no
			NOT = {
				has_war_with = GER
			}
		}

		bypass = {
			GER = {
				OR = {
					exists = no
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			GER = {
				country_event = {
					id = mexico.34
					days = 1
				}
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				GER = {
					if = {
						limit = {
							has_dlc = "Death or Dishonor"
						}
						if = {
							limit = {
								has_tech = advanced_light_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = improved_light_tank
								NOT = { has_tech = advanced_light_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = basic_light_tank
								NOT = { has_tech = improved_light_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = light_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_medium_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = improved_medium_tank
								NOT = { has_tech = advanced_medium_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = basic_medium_tank
								NOT = { has_tech = improved_medium_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = medium_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = advanced_heavy_tank
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_3
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = improved_heavy_tank
								NOT = { has_tech = advanced_heavy_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_2
								}
								cost_factor = 0
							}
						}
						if = {
							limit = {
								has_tech = basic_heavy_tank
								NOT = { has_tech = improved_heavy_tank }
							}
							create_production_license = {
								target = MEX
								equipment = {
									type = heavy_tank_equipment_1
								}
								cost_factor = 0
							}
						}
						MEX = {
							add_tech_bonus = {
								name = armor
								bonus = 1.0
								uses = 1
								category = armor
							}
						}
					}
					if = {
						limit = {
							NOT = { has_dlc = "Death or Dishonor" }
						}
						MEX = {
							add_tech_bonus = {
								name = armor
								bonus = 1.0
								uses = 2
								category = armor
							}
						}
					}
				}
				give_resource_rights = { receiver = GER state = 476 }
			}
		}
	}

	focus = {
		id = MEX_focus_new_world_order
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = MEX_focus_german_resource_exchange }
		x = 0
		y = 1
		relative_position_id = MEX_focus_german_resource_exchange

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = GER
			}
			GER = {
				is_in_faction = yes
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				GER = {
					exists = no
				}
				GER = {
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					GER = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					GER = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = GER
				modifier = german_mexican_diplomacy
			}
			
			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = german_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_oppose_yanqui_imperialism
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_german_resource_exchange }
		mutually_exclusive = { focus = MEX_focus_compensation }
		x = 2
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
			
			modifier = {
				factor = 0.1
				NOT = {
					country_exists = SOV
				}
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.05
		}
	}

	focus = {
		id = MEX_focus_international_proletarianism
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = MEX_focus_oppose_yanqui_imperialism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_oppose_yanqui_imperialism

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				exists = yes
				is_in_faction = yes
				is_subject = no
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				SOV = {
					exists = no
				}
				SOV = {
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					SOV = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					SOV = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}

			add_opinion_modifier = {
				target = SOV
				modifier = russo_mexican_diplomacy
			}
			
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = russo_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}
	
	focus = {
		id = MEX_focus_interior_defence_plan # hurr build the wall. how's that swampy drainy stuff workin out for ya?
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = MEX_focus_international_proletarianism focus = MEX_focus_new_world_order }
		x = 1
		y = 1
		relative_position_id = MEX_focus_international_proletarianism

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 100
				has_war_with = USA
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			
			unlock_decision_tooltip = MEX_decision_interior_defence_plan
		
			483 = {
				add_building_construction = { type = bunker province = 8033 level = 1 instant_build = yes }
			}
			482 = {
				add_building_construction = { type = bunker province = 7935 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 10830 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 10916 level = 1 instant_build = yes }
			}
			481 = {
				add_building_construction = { type = bunker province = 8003 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 7921 level = 1 instant_build = yes }
			}
			480 = {
				add_building_construction = { type = bunker province = 7973 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 12835 level = 1 instant_build = yes }
			}
			478 = {
				add_building_construction = { type = bunker province = 10172 level = 1 instant_build = yes }
			}
			479 = {
				add_building_construction = { type = bunker province = 4956 level = 1 instant_build = yes }
			}
		}
	}

	focus = {
		id = MEX_focus_compensation
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = MEX_focus_nationalize_the_oil_fields }
		mutually_exclusive = { focus = MEX_focus_german_resource_exchange }
		mutually_exclusive = { focus = MEX_focus_oppose_yanqui_imperialism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_nationalize_the_oil_fields

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				NOT = {
					country_exists = USA
				}
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			every_country = {
				limit = {
					OR = {
						tag = ENG
						tag = USA
					}
					NOT = {
						has_war_with = ROOT
					}
					NOT = {
						is_subject_of = ROOT
					}
				}
				country_event = {
					days = 1
					id = mexico.4
				}
			}
		}
	}

	focus = {
		id = MEX_focus_liberty_and_justice_for_all
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = MEX_focus_compensation }
		x = 0
		y = 1
		relative_position_id = MEX_focus_compensation

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				NOT = {
					country_exists = USA
				}
			}
		}

		available = {
			is_subject = no
			NOT = {
				has_war_with = USA
			}
			USA = {
				is_in_faction = yes
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				USA = {
					exists = no
				}
				USA = {
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = {
					USA = { has_government = neutrality }
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = democratic }
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = fascism }
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
			}
			else_if = {
				limit = {
					USA = { has_government = communism }
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
			}
			
			add_opinion_modifier = {
				target = USA
				modifier = american_mexican_diplomacy
			}
			
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = american_mexican_diplomacy
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					country_event = {
						id = mexico.8
						days = 1
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_aztec_eagles
		icon = GFX_focus_chi_flying_tigers
		prerequisite = { focus = MEX_focus_liberty_and_justice_for_all }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberty_and_justice_for_all

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_war = yes
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = air_doctrine
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			add_opinion_modifier = {
				target = USA
				modifier = aztec_eagles_opinion
			}
			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = aztec_eagles_opinion
				}
			}
		}
	}

	focus = {
		id = MEX_focus_international_peacekeepers
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = MEX_focus_aztec_eagles focus = MEX_focus_purchase_belize }
		x = -2
		y = 1
		relative_position_id = MEX_focus_aztec_eagles

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_offensive_war = no
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = MEX_international_peacekeepers
		}
	}
	
	focus = {
		id = MEX_focus_purge_the_bureaucracy
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = MEX_focus_exile_calles }
		x = -5
		y = 1
		relative_position_id = MEX_focus_exile_calles

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				create_corps_commander = {
					name = "José Gonzalo Escobar"
					id = 709
					gfx = "GFX_portrait_mex_jose_gonzalo_escobar"
					traits = { cavalry_officer } # Cavalry commander
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				else = {
					create_corps_commander = {
						name = "José Gonzalo Escobar"
						id = 709
						gfx = "GFX_portrait_mex_jose_gonzalo_escobar"
						traits = { cavalry_officer } # Cavalry commander
						skill = 3
						attack_skill = 4
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 2
					}
				}
			}
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = MEX_jose_gonzalo_escobar
		}
	}

	focus = {
		id = MEX_focus_institutional_revolution
		icon = GFX_goal_support_democracy
		prerequisite = { focus = MEX_focus_purge_the_bureaucracy }
		x = 1
		y = 1
		relative_position_id = MEX_focus_purge_the_bureaucracy

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			democratic > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			
			add_stability = 0.1
			
			if = {
				limit = {
					has_country_leader = { name = "Lázaro Cárdenas" }
				}
				create_country_leader = {
					name = "Lázaro Cárdenas"
					desc = "POLITICS_LAZARO_CARDENAS_DESC"
					picture = "Portrait_Mexico_Lazaro_Cardenas.dds"
					expire = "1965.1.1"
					ideology = socialism
					traits = {
						refounder_of_mexico
					}
				}
				create_country_leader = {
					name = "Plutarco E. Calles"
					desc = "POLITICS_PLUTARCO_E_CALLES_DESC"
					picture = GFX_portrait_mex_calles_civil
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						el_jefe_maximo
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			
			set_party_name = { ideology = democratic name = MEX_democratic_party_institutional_revolutionary_party_short long_name = MEX_democratic_party_institutional_revolutionary_party_long }
		}
	}	

	focus = {
		id = MEX_focus_arrest_general_cedillo
		icon = GFX_focus_mex_arrest_general_cedillo
		prerequisite = { focus = MEX_focus_purge_the_bureaucracy }
		mutually_exclusive = { focus = MEX_focus_support_general_cedillo }
		x = -1
		y = 3
		relative_position_id = MEX_focus_purge_the_bureaucracy

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_global_flag = flag_mexico_cedillo_has_revolted
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = tooltip_mexico_cedillo_will_be_neutralised
			add_war_support = 0.05
			MEX_remove_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_control_the_army
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = MEX_focus_exile_calles focus = MEX_focus_jefe_maximo }
		x = 1
		y = 1
		relative_position_id = MEX_focus_exile_calles

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = MEX_focus_repeal_the_calles_law
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = MEX_focus_control_the_army }
		mutually_exclusive = { focus = MEX_focus_enforce_the_calles_law }
		x = -3
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_stability = 0.05
			MEX_increase_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_abolish_capital_punishment
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = MEX_focus_repeal_the_calles_law }
		x = 0
		y = 1
		relative_position_id = MEX_focus_repeal_the_calles_law

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 160
		}
	}

	focus = {
		id = MEX_focus_enforce_the_calles_law
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MEX_focus_control_the_army }
		mutually_exclusive = { focus = MEX_focus_repeal_the_calles_law }
		x = -1
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			NOT = {
				has_country_leader = {
					name = "Salvador Abascal"
					ruling_only = yes
				}
			}					
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_war_support = 0.05
			MEX_decrease_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_triumph_over_the_cristeros
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = MEX_focus_enforce_the_calles_law }
		x = 0
		y = 1
		relative_position_id = MEX_focus_enforce_the_calles_law

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = MEX_focus_professional_army
				}
				create_corps_commander = {
					name = "Pablo González Garza"
					id = 710
					gfx = "GFX_portrait_mex_pablo_gonzalez"
					traits = { harsh_leader } # Prince of terror, led assassination of Pancho Villa
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 5
					logistics_skill = 2
				}
				else = {
					create_corps_commander = {
						name = "Pablo González Garza"
						id = 710
						gfx = "GFX_portrait_mex_pablo_gonzalez"
						traits = { harsh_leader } # Prince of terror, led assassination of Pancho Villa
						skill = 3
						attack_skill = 3
						defense_skill = 2
						planning_skill = 4
						logistics_skill = 1
					}
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_pablo_gonzalez
		}
	}

	focus = {
		id = MEX_focus_state_education
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_abolish_capital_punishment focus = MEX_focus_triumph_over_the_cristeros }
		mutually_exclusive = { focus = MEX_focus_knights_of_columbus }
		mutually_exclusive = { focus = MEX_focus_legion_of_christ }
		x = 1
		y = 1
		relative_position_id = MEX_focus_abolish_capital_punishment

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
		
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			add_research_slot = 1
			MEX_decrease_church_power = yes
			
		}
	}

	focus = {
		id = MEX_focus_xefo
		icon = GFX_goal_generic_radar
		prerequisite = { focus = MEX_focus_state_education }
		x = 0
		y = 1
		relative_position_id = MEX_focus_state_education

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 2
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_law_on_industrial_promotion
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = MEX_focus_xefo }
		x = 0
		y = 1
		relative_position_id = MEX_focus_xefo

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 478
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_nafinsa
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MEX_focus_law_on_industrial_promotion }
		x = 0
		y = 1
		relative_position_id = MEX_focus_law_on_industrial_promotion

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_tech = synth_oil_experiments
				}
				every_state = {
					limit = {
						OR = {
							state = 277
							state = 485
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
				else = {
					every_state = {
						limit = {
							OR = {
								state = 277
								state = 485
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_engineering_school
		icon = GFX_focus_research2
		prerequisite = { focus = MEX_focus_northern_steel_plants focus = MEX_focus_xefo }
		x = 1
		y = 1
		relative_position_id = MEX_focus_northern_steel_plants

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = MEX_escuela_de_ingeneria_electrica
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_television_innovators
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_engineering_school }
		x = 0
		y = 1
		relative_position_id = MEX_focus_engineering_school

		cost = 20

		available = {
			num_of_factories > 50
		}
		
		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
			add_tech_bonus = {
				name = electronics
				bonus = 1.0
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = MEX_focus_antidisestablishmentarianism
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = MEX_focus_control_the_army }
		x = 1
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			OR = {
				has_idea = MEX_church_power_3
				has_idea = MEX_church_power_4
				has_idea = MEX_church_power_5
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_transfer_lands_to_church
			if = {
				limit = {
					NOT = {
						OR = {
							has_global_flag = trotsky_exile_mexico
							has_global_flag = flag_mexico_invited_trotsky_to_government
						}
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}			
		}
	}

	focus = {
		id = MEX_focus_rewrite_the_constitution
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = MEX_focus_antidisestablishmentarianism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_antidisestablishmentarianism

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_pardon_cristero_fighter
			unlock_decision_tooltip = MEX_decision_attend_public_mass
		}
	}

	focus = {
		id = MEX_focus_knights_of_columbus
		icon = GFX_goal_support_democracy
		prerequisite = { focus = MEX_focus_rewrite_the_constitution }
		mutually_exclusive = { focus = MEX_focus_state_education }
		mutually_exclusive = { focus = MEX_focus_legion_of_christ }
		x = -1
		y = 1
		relative_position_id = MEX_focus_rewrite_the_constitution

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_knights_of_columbus
		}
	}
	
	focus = {
		id = MEX_focus_catholic_politics
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = MEX_focus_knights_of_columbus }
		x = 0
		y = 2
		relative_position_id = MEX_focus_knights_of_columbus

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_idea = MEX_church_power_5
			democratic > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			
			add_stability = 0.1
			
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			create_country_leader = {
				name = "Luis María Martínez"
				desc = "POLITICS_LUIS_MARIA_MARTINEZ_DESC"
				picture = "GFX_portrait_MEX_Luis_Maria_Martinez"
				expire = "1965.1.1"
				ideology = socialism
				traits = {
					primate_of_mexico
				}
			}
			
			set_party_name = { ideology = democratic name = MEX_democratic_party_national_action_party_short long_name = MEX_democratic_party_national_action_party_long }
			
			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}
	
	focus = {
		id = MEX_focus_social_catholicism
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = MEX_focus_catholic_politics }
		x = 0
		y = 1
		relative_position_id = MEX_focus_catholic_politics

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_knights_of_columbus
				add_idea = MEX_social_catholicism
			}
		}
	}
	
	focus = {
		id = MEX_focus_legion_of_christ
		icon = GFX_goal_support_fascism
		prerequisite = { focus = MEX_focus_rewrite_the_constitution }
		mutually_exclusive = { focus = MEX_focus_state_education }
		mutually_exclusive = { focus = MEX_focus_knights_of_columbus }
		x = 1
		y = 1
		relative_position_id = MEX_focus_rewrite_the_constitution

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_legion_of_christ
		}

			#name will be used as focus/idea instead
			#set_party_name = { ideology = fascism name = MEX_fascist_party_legionnaires_of_christ_short long_name = MEX_fascist_party_legionnaires_of_christ_long }		
	}
	
	focus = {
		id = MEX_focus_crusade_against_atheism
		icon = GFX_focus_mex_restore_the_army_of_christ
		prerequisite = { focus = MEX_focus_legion_of_christ }
		x = 0
		y = 2
		relative_position_id = MEX_focus_legion_of_christ

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_idea = MEX_church_power_5
			fascism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			
			add_war_support = 0.1
			
			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}
			
			hidden_effect = {set_cosmetic_tag = MEX_cristero } # Hidden because the tooltip looks odd together with ideology changes
		}
	}

	focus = {
		id = MEX_focus_triumph_of_synarchism
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = MEX_focus_crusade_against_atheism }
		x = 0
		y = 1
		relative_position_id = MEX_focus_crusade_against_atheism

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_legion_of_christ
				add_idea = MEX_triumph_of_synarchism
			}
		}
	}

	focus = {
		id = MEX_focus_church_schools
		icon = GFX_focus_research
		prerequisite = { focus = MEX_focus_knights_of_columbus focus = MEX_focus_legion_of_christ }
		x = 1
		y = 1
		relative_position_id = MEX_focus_knights_of_columbus

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = MEX_focus_synarchist_communes
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = MEX_focus_social_catholicism focus = MEX_focus_triumph_of_synarchism }
		x = 1
		y = 1
		relative_position_id = MEX_focus_social_catholicism

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 476
						state = 481
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = MEX_focus_reform_the_cristero_guard
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = MEX_focus_synarchist_communes }
		mutually_exclusive = { focus = MEX_focus_synarchist_youth }
		x = -1
		y = 1
		relative_position_id = MEX_focus_synarchist_communes

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			create_corps_commander = {
				name = "Jesús Degollado Guízar"
				gfx = GFX_portrait_mex_jesus_degollado_guizar
				traits = { trait_reckless infantry_officer }
				skill = 3
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 4
			}
			custom_effect_tooltip = tooltip_mexico_reform_the_cristero_guard
			
			hidden_effect = {
				division_template = {
					name = "Guardia Cristera"
					division_names_group = MEX_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 277 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 483 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 478 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 481 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 475 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 476 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 477 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 485 }
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
			}
		}
	}
	
	focus = {
		id = MEX_focus_synarchist_youth
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = MEX_focus_synarchist_communes }
		mutually_exclusive = { focus = MEX_focus_reform_the_cristero_guard}
		x = 1
		y = 1
		relative_position_id = MEX_focus_synarchist_communes

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = synarchist_youth
		}
	}
	
	focus = {
		id = MEX_focus_ban_political_militias
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_legacy_of_revolution }
		x = 4
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_politicised_army
				add_idea = MEX_politicised_army_2
			}
			MEX_decrease_cedillo_tension = yes
		}
	}
	
	focus = {
		id = MEX_focus_revolutionary_women
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = MEX_focus_ban_political_militias focus = MEX_focus_legacy_of_revolution }
		x = 1
		y = 1
		relative_position_id = MEX_focus_ban_political_militias

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 277
						state = 479
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_womens_suffrage
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = MEX_focus_revolutionary_women }
		x = 1
		y = 1
		relative_position_id = MEX_focus_revolutionary_women

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {		
			has_elections = yes
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}
		completion_reward = {
			MEX_increase_church_power = yes
			add_ideas = MEX_womens_suffrage
		}
	}
	
	focus = {
		id = MEX_focus_soldaderas
		icon = GFX_focus_mex_soldaderas
		prerequisite = { focus = MEX_focus_revolutionary_women }
		mutually_exclusive = { focus = MEX_focus_professional_army }
		x = 0
		y = 2
		relative_position_id = MEX_focus_revolutionary_women

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			army_experience = 5
			set_rule = {
				can_generate_female_aces = yes
			}
			every_state = {
				limit = {
					OR = {
						state = 476
						state = 485
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = MEX_focus_depoliticised_army
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = MEX_focus_control_the_army }
		prerequisite = { focus = MEX_focus_ban_political_militias }
		x = 3
		y = 1
		relative_position_id = MEX_focus_control_the_army

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY}
		completion_reward = {
			remove_ideas = MEX_politicised_army_2
			add_tech_bonus = {
				name = land_doctrine
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			MEX_decrease_cedillo_tension = yes
		}
	}
	
	focus = {
		id = MEX_focus_professional_army
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = MEX_focus_depoliticised_army }
		mutually_exclusive = { focus = MEX_focus_soldaderas }
		x = 0
		y = 1
		relative_position_id = MEX_focus_depoliticised_army

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			army_experience = 15
			every_army_leader = {
				add_planning = 1
				add_logistics = 1
			}
			add_ideas = MEX_professional_army
			MEX_decrease_cedillo_tension = yes
		}
	}

	focus = {
		id = MEX_focus_legacy_of_revolution
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = MEX_focus_plan_of_agua_prieta }
		mutually_exclusive = { focus = MEX_focus_ban_political_militias }
		x = 9
		y = 1
		relative_position_id = MEX_focus_plan_of_agua_prieta

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_politicised_army
				add_idea = MEX_revolutionary_army
			}
		}
	}
	
	focus = {
		id = MEX_focus_the_gold_shirts
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = MEX_focus_legacy_of_revolution }
		mutually_exclusive = { focus = MEX_focus_the_red_shirts }
		x = -1
		y = 2
		relative_position_id = MEX_focus_legacy_of_revolution

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_revolutionary_army
				add_idea = MEX_right_wing_paramilitaries
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_jose_vasconcelos
			
			if = {
				limit = {
					NOT = {
						OR = {
							has_global_flag = trotsky_exile_mexico
							has_global_flag = flag_mexico_invited_trotsky_to_government
						}
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
		}
	}

	focus = {
		id = MEX_focus_revanchist_revolution
		icon = GFX_goal_support_fascism
		prerequisite = { focus = MEX_focus_the_gold_shirts }
		x = -1
		y = 1
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			fascism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_communist_revolution }
			OR = {
				has_idea = MEX_church_power_1
				has_idea = MEX_church_power_2
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			
			add_war_support = 0.1
			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}				
				set_politics = {
					ruling_party = fascism
					elections_allowed = yes
				}
			}			
			if = {
				limit = {
					has_completed_focus = MEX_focus_jefe_maximo
				}
				create_country_leader = {
					name = "Plutarco E. Calles"
					desc = "POLITICS_PLUTARCO_E_CALLES_DESC"
					picture = "GFX_portrait_mex_calles_civil"
					expire = "1965.1.1"
					ideology = fascism_ideology #changed to "regular fascism" to differenciate from Abascal
					traits = {
						el_jefe_maximo
					}
				}
				remove_ideas = MEX_plutarco_calles
			}
			else_if = {
				limit = {
					has_completed_focus = MEX_focus_support_general_cedillo
				}
				create_country_leader = {
					name = "Saturnino Cedillo"
					desc = "POLITICS_SATURNINO_CEDILLO_DESC"
					picture = "GFX_portrait_mex_saturnino_cedillo"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						strongman_of_san_luis_potosi
					}
				}
			}
			set_party_name = { ideology = neutrality name = MEX_democratic_party_institutional_revolutionary_party_short long_name = MEX_democratic_party_institutional_revolutionary_party_long }
			set_party_name = { ideology = fascism name = MEX_fascist_party_national_revolutionary_party_short long_name = MEX_fascist_party_national_revolutionary_party_long }
		}
	}

	focus = {
		id = MEX_focus_the_red_shirts
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = MEX_focus_legacy_of_revolution }
		mutually_exclusive = { focus = MEX_focus_the_gold_shirts }
		x = 1
		y = 2
		relative_position_id = MEX_focus_legacy_of_revolution

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			MEX_decrease_church_power = yes
			swap_ideas = {
				remove_idea = MEX_revolutionary_army
				add_idea = MEX_left_wing_paramilitaries
			}
		}
	}
	
	focus = {
		id = MEX_focus_communist_revolution
		icon = GFX_goal_support_communism
		prerequisite = { focus = MEX_focus_the_red_shirts }
		x = 1
		y = 1
		relative_position_id = MEX_focus_the_red_shirts

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			communism > 0.4
			has_civil_war = no
			NOT = { has_completed_focus = MEX_focus_party_of_the_revolution }
			NOT = { has_completed_focus = MEX_focus_institutional_revolution }
			NOT = { has_completed_focus = MEX_focus_catholic_politics }
			NOT = { has_completed_focus = MEX_focus_crusade_against_atheism }
			NOT = { has_completed_focus = MEX_focus_revanchist_revolution }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			
			add_stability = 0.05
			add_war_support = 0.05
			
			if = {
				limit = {
					has_global_flag = flag_mexico_invited_trotsky_to_government
					NOT = { has_global_flag = flag_trotsky_dead }
					NOT = {
						SOV = {
							has_country_leader = { ruling_only = yes name = "Leon Trotsky" }
						}
					}
				}
				create_country_leader = {
					name = "Leon Trotsky"
					desc = "POLITICS_LEON_TROTSKY_DESC"
					picture = "gfx/leaders/SOV/Portrait_Leon_Trotsky.dds"
					expire = "1965.1.1"
					ideology = leninism
					traits = {
						exiled_revolutionary
					}
				}
				add_ai_strategy = {
					type = antagonize
					id = SOV
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = SOV
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = SOV
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = SOV
					value = -200
				}
				SOV = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = -200
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = -200
					}
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			
			if = {
				limit = {
					has_global_flag = flag_mexico_invited_trotsky_to_government
				}
				set_party_name = { ideology = communism name = MEX_party_workers_peasants_mexico_short long_name = MEX_party_workers_peasants_mexico_long }
			}
		}
	}
	
	focus = {
		id = MEX_focus_hispanic_culture
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = MEX_focus_the_gold_shirts }
		prerequisite = { focus = MEX_focus_international_struggle }
		x = 0
		y = 2
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_international_struggle
				add_idea = MEX_hispanic_culture
			}
		}
	}

	focus = {
		id = MEX_focus_revolutionary_class_war
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = MEX_focus_the_red_shirts }
		prerequisite = { focus = MEX_focus_international_struggle }
		x = 0
		y = 2
		relative_position_id = MEX_focus_the_red_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_international_struggle
				add_idea = MEX_proletarian_class_army
			}
		}
	}

	focus = {
		id = MEX_focus_international_struggle
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = MEX_focus_the_gold_shirts focus = MEX_focus_the_red_shirts }
		x = 1
		y = 1
		relative_position_id = MEX_focus_the_gold_shirts

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = MEX_international_struggle
		}
	}
	
	focus = {
		id = MEX_focus_spanish_civil_war_refugees
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = MEX_focus_professional_army focus = MEX_focus_soldaderas focus = MEX_focus_hispanic_culture focus = MEX_focus_revolutionary_class_war }
		x = 1
		y = 2
		relative_position_id = MEX_focus_soldaderas

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				date > 1940.1.1
				has_global_flag = spanish_civil_war
				has_global_flag = scw_over
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
			}
			else = {
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}								
			}						
			add_tech_bonus = {
				name = tooltip_spanish_civil_war_technical_knowledge
				bonus = 1.0
				uses = 1
				category = industry
				category = electronics
			}
		}
	}
	
	focus = {
		id = MEX_focus_falangist_veterans
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = MEX_focus_spanish_civil_war_refugees }
		mutually_exclusive = { focus = MEX_focus_support_spains_loyalists }
		x = -1
		y = 1
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			NOT = { has_government = communism }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY FOCUS_FILTER_MEX_CHURCH_AUTHORITY}
		completion_reward = {
			unlock_decision_tooltip = MEX_decision_support_spanish_fascists
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_tech_bonus = {
				name = tooltip_falangist_veterans_doctrine_knowledge
				bonus = 1.0
				uses = 1
				category = land_doctrine
				category = air_doctrine
			}
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				every_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = falangist_veterans_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPA
						has_government = fascism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = falangist_veterans_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_opinion_modifier = {
					target = SPA
					modifier = falangist_veterans_opinion
				}
				SPA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = falangist_veterans_opinion
					}
				}
			}
			if = {
				limit = {
					NOT = {
						OR = {
							has_global_flag = trotsky_exile_mexico
							has_global_flag = flag_mexico_invited_trotsky_to_government
						}
					}
				}
				set_global_flag = trotsky_not_welcome_in_mexico
			}
			MEX_increase_church_power = yes
		}
	}

	focus = {
		id = MEX_focus_support_spains_loyalists
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = MEX_focus_spanish_civil_war_refugees }
		mutually_exclusive = { focus = MEX_focus_falangist_veterans }
		x = 1
		y = 1
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = { has_government = fascism }
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			unlock_decision_tooltip = MEX_decision_support_spanish_loyalists
			
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			
			add_war_support = 0.05
			add_stability = 0.05
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				every_other_country = {
					limit = {
						original_tag = SPR
						has_government = communism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = loyalist_spanish_government_support_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPA
						has_government = communism
					}
					ROOT = {
						add_opinion_modifier = {
							target = PREV
							modifier = loyalist_spanish_government_support_opinion
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_opinion_modifier = {
					target = SPD
					modifier = loyalist_spanish_government_support_opinion
				}
				SPD = {
					add_opinion_modifier = {
						target = ROOT
						modifier = loyalist_spanish_government_support_opinion
					}
				}
			}
			MEX_decrease_church_power = yes
		}
	}
	
	focus = {
		id = MEX_focus_hispanic_alliance
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = MEX_focus_falangist_veterans }
		mutually_exclusive = { focus = MEX_focus_realpolitik }
		x = -2
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MEX_CHURCH_AUTHORITY FOCUS_FILTER_STABILITY}
		completion_reward = {			
			set_rule = { can_create_factions = yes }
			
			if = {
				limit = {
					has_completed_focus = MEX_focus_crusade_against_atheism
				}
				create_faction = faction_mexico_synarchist_pact
			}
			else = {
				create_faction = faction_mexico_hispanic_alliance
			}
			hidden_effect = {
				news_event = {
					id = mexico.46
				}
			}
			
			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity
			
			MEX_increase_church_power = yes
			
			if = {
				limit = {
					has_government = fascism
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							OR = {
								original_tag = BRA
								original_tag = MEX
								original_tag = HOL # Apparently they get included when they go into exile in Curacao
								original_tag = ENG # Just in case
								original_tag = FRA # Just in case
							}
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_synarchist_influence
    					days = 720
					}
					set_country_flag = received_MEX_synarchist_influence
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							OR = {
								original_tag = BRA
								original_tag = MEX
							}
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_propaganda_pact
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = MEX_focus_hispanic_alliance }
		x = -1
		y = 1
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			has_government = fascism
			any_allied_country = {
				has_government = fascism
			}
			any_enemy_country = {
				has_government = communism
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = MEX_focus_invite_brazil
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 1
		y = 1
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			is_in_faction = yes
			BRA = {
				is_in_faction = no
			}
			NOT = {
				has_war_with = BRA
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity
			if = {
				limit = {
					has_government = fascism
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_synarchist_influence
    					days = 720
					}
					set_country_flag = received_MEX_synarchist_influence
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_bolivarian_agitation
						days = 720
					}
					set_country_flag = received_MEX_bolivarian_agitation
				}
			}
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
				BRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_realpolitik
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = MEX_focus_falangist_veterans focus = MEX_focus_support_spains_loyalists }
		mutually_exclusive = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 0
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 120
		}
	}
	
	focus = {
		id = MEX_focus_bolivarian_alliance
		icon = GFX_goal_anschluss
		prerequisite = { focus = MEX_focus_support_spains_loyalists }
		mutually_exclusive = { focus = MEX_focus_realpolitik }
		x = 2
		y = 2
		relative_position_id = MEX_focus_spanish_civil_war_refugees

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				has_government = communism
				has_government = neutrality
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			
			create_faction = faction_mexico_bolivarian_alliance

			hidden_effect = {
				news_event = {
					id = mexico.47
				}
			}
			
			unlock_decision_category_tooltip = MEX_category_hispanic_solidarity
			
			MEX_decrease_church_power = yes
						
			if = {
				limit = {
					has_government = communism
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							OR = {
								original_tag = BRA
								original_tag = MEX
							}
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
					add_timed_idea = {
						idea = MEX_bolivarian_agitation
						days = 720
					}
					set_country_flag = received_MEX_bolivarian_agitation
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = south_america
						}
						NOT = {
							OR = {
								original_tag = BRA
								original_tag = MEX
							}
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = mexico_hispanic_diplomacy
					}
				}
			}
		}
	}
	
	focus = {
		id = MEX_focus_smash_the_bureaucrats
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = MEX_focus_bolivarian_alliance }
		x = 0
		y = 1
		relative_position_id = MEX_focus_bolivarian_alliance

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			OR = {
				has_country_leader = {
					name = "Leon Trotsky"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Hernán Laborde"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Valentín Campa"
					ruling_only = yes
				}							
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = MEX_idea_vanguard_of_the_4th_international
			
			if = {
				limit = {
					is_faction_leader = yes
				}
				set_faction_name = faction_mexico_4th_international
			}
			
			if = {
				limit = {
					NOT = {
						is_in_faction_with = SOV
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SOV
					expire = 0
				}
			}
			add_tech_bonus = {
				name = tooltip_socialist_marine_corps
				bonus = 1.0
				uses = 1
				category = tp_tech 
				category = marine_tech
			}
		}
	}
	
	focus = {
		id = MEX_focus_liberate_the_antilles
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = MEX_focus_bolivarian_alliance }
		x = 2
		y = 1
		relative_position_id = MEX_focus_bolivarian_alliance

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_pressure_the_caribbean
			}
			random_country = {
				limit = {
					original_tag = FRA
					OR = {
						AND = {
							owns_state = 694
							has_full_control_of_state = 694
						}
						AND = {
							owns_state = 310
							has_full_control_of_state = 310
						}
						CAY = {
							is_subject_of = PREV
						}
						GDL = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
			random_country = {
				limit = {
					original_tag = USA
					OR = {
						AND = {
							owns_state = 686
							has_full_control_of_state = 686
						}
						PUE = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}						
			random_country = {
				limit = {
					original_tag = HOL
					OR = {
						AND = {
							owns_state = 309
							has_full_control_of_state = 309
						}
						AND = {
							owns_state = 153
							has_full_control_of_state = 153
						}
						SUR = {
							is_subject_of = PREV
						}
						CRC = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}
			random_country = {
				limit = {
					original_tag = ENG
					OR = {
						AND = {
							owns_state = 691 #trinidad
							has_full_control_of_state = 691
						}
						AND = {
							owns_state = 692
							has_full_control_of_state = 692
							owns_state = 308
							has_full_control_of_state = 308							
						}
						AND = {
							owns_state = 687 #british guyana
							has_full_control_of_state = 687
						}						
						AND = {
							owns_state = 689 #jamaica
							has_full_control_of_state = 689
						}
						AND = {
							owns_state = 690 #bahamas
							has_full_control_of_state = 690
							owns_state = 693
							has_full_control_of_state = 693							
						}
						AND = {
							owns_state = 311 #belize
							has_full_control_of_state = 311
						}																		
						BLZ = {
							is_subject_of = PREV
						}
						GYA = {
							is_subject_of = PREV
						}
						TRI = {
							is_subject_of = PREV
						}
						BAS = {
							is_subject_of = PREV
						}
						BAH = {
							is_subject_of = PREV
						}
						JAM = {
							is_subject_of = PREV
						}																								
					}
				}
				country_event = { id = mexico.54 hours = 6 }
			}			
		}
	}
	
	focus = {
		id = MEX_focus_one_world_government
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = MEX_focus_smash_the_bureaucrats }
		x = 0
		y = 1
		relative_position_id = MEX_focus_smash_the_bureaucrats

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_faction_leader = yes
			is_subject = no
			OR = {
				SOV = {
					is_subject_of = ROOT
				}
				SOV = {
					exists = no
				}
				NOT = {
					SOV = {
						has_country_leader = {
							name = "Joseph Stalin"
							ruling_only = yes
						}
					}
				}
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_other_country = { #first ask faction leaders to disband communist factions and join Trotsky, then ask the communist minors to join
				limit = {
					is_faction_leader = yes
					has_government = communism
					is_subject = no
					NOT = {
						has_war_with = MEX
					}
				}
				country_event = { #4th international congress
					id = mexico.52
				}
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				every_other_country = {
					limit = {
						is_in_faction = no
						has_government = communism
						is_subject = no
					}
					country_event = {
						id = generic.5
					}
				}
			}
		}
	}

	focus = {
		id = MEX_focus_coastal_defence_plan
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = MEX_focus_hispanic_alliance focus = MEX_focus_bolivarian_alliance }
		x = 2
		y = 2
		relative_position_id = MEX_focus_hispanic_alliance

		cost = 5

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 100
				has_war_with = USA
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
		
			unlock_decision_tooltip = MEX_decision_coastal_defence_plan
			
			481 = {
				add_building_construction = { type = coastal_bunker province = 8057 level = 1 instant_build = yes }
			}
			485 = {
				add_building_construction = { type = bunker province = 8032 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 8032 level = 1 instant_build = yes }
			}
			277 = {
				add_building_construction = { type = bunker province = 1965 level = 1 instant_build = yes }
			}
			477 = {
				add_building_construction = { type = bunker province = 8089 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 12810 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 12810 level = 1 instant_build = yes }
			}
			476 = {
				add_building_construction = { type = bunker province = 10889 level = 1 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 10889 level = 1 instant_build = yes }
				add_building_construction = { type = bunker province = 2021 level = 1 instant_build = yes }
			}
		}
	}
	
	focus = {
		id = MEX_focus_march_southwards
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = MEX_focus_interior_defence_plan focus = MEX_focus_coastal_defence_plan }
		x = 8
		y = 1
		relative_position_id = MEX_focus_interior_defence_plan

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_marching_southwards
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = GUA
						is_core_of = HON
						is_core_of = ELS
						state = 311 # British Honduras
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		GUA = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = GUA
                    expire = 0
                }
            }
            if = {
            	limit = {
            		HON = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = HON
                    expire = 0
                }
            }
            if = {
            	limit = {
            		ELS = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ELS
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = GUA
		will_lead_to_war_with = HON
		will_lead_to_war_with = ELS
	}
	
	focus = {
		id = MEX_focus_unify_centroamerica
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = MEX_focus_march_southwards }
		x = 0
		y = 1
		relative_position_id = MEX_focus_march_southwards

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_unify_centroamerica
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = NIC
						is_core_of = COS
						is_core_of = PAN
						state = 685 # Panama Canal
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		NIC = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = NIC
                    expire = 0
                }
            }
            if = {
            	limit = {
            		COS = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = COS
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PAN = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PAN
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = NIC
		will_lead_to_war_with = COS
		will_lead_to_war_with = PAN
	}
	
	focus = {
		id = MEX_focus_liberate_the_caribbean
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = -2
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_pressure_the_caribbean
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = CUB
						is_core_of = DOM
						is_core_of = HAI
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		CUB = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CUB
                    expire = 0
                }
            }
            if = {
            	limit = {
            		DOM = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = DOM
                    expire = 0
                }
            }
            if = {
            	limit = {
            		HAI = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = HAI
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BAH = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BAH
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BAS = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BAS
                    expire = 0
                }
            }
            if = {
            	limit = {
            		JAM = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = JAM
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PUE = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PUE
                    expire = 0
                }
            }
            if = {
            	limit = {
            		CRC = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CRC
                    expire = 0
                }
            }
            if = {
            	limit = {
            		TRI = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = TRI
                    expire = 0
                }
            }
            if = {
            	limit = {
            		GDL = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = GDL
                    expire = 0
                }
            }
		}

		will_lead_to_war_with = CUB
		will_lead_to_war_with = DOM
		will_lead_to_war_with = HAI
	    will_lead_to_war_with = BAH
	    will_lead_to_war_with = BAS
	    will_lead_to_war_with = JAM
	    will_lead_to_war_with = PUE
	    will_lead_to_war_with = CRC
	    will_lead_to_war_with = TRI
	    will_lead_to_war_with = GDL		
	}
	
	focus = {
		id = MEX_focus_integrate_the_caribbean
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = MEX_focus_liberate_the_caribbean }
		x = 0
		y = 1
		relative_position_id = MEX_focus_liberate_the_caribbean

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				controls_state = 315
				controls_state = 318
				controls_state = 319
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_integrate_cuba
			unlock_decision_tooltip = MEX_decision_integrate_haiti
			unlock_decision_tooltip = MEX_decision_integrate_the_dominican_republic			
		}
	}
	
	focus = {
		id = MEX_focus_push_past_the_darien_gap
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 3
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 1
				name = threat_mexico_push_south_of_the_darien_gap
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = COL
						is_core_of = ECU
						is_core_of = VEN
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		COL = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = COL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		ECU = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ECU
                    expire = 0
                }
            }
            if = {
            	limit = {
            		VEN = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = VEN
                    expire = 0
                }
            } 
		}
		will_lead_to_war_with = COL
		will_lead_to_war_with = ECU
		will_lead_to_war_with = VEN
	}

	focus = {
		id = MEX_focus_andean_offensive
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = MEX_focus_push_past_the_darien_gap }
		x = 0
		y = 1
		relative_position_id = MEX_focus_push_past_the_darien_gap

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 2
				name = threat_mexico_andean_offensive
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = PRU
						is_core_of = BOL
						is_core_of = PAR
						is_core_of = URG
						is_core_of = CHL
						is_core_of = ARG						
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				add_claim_by = ROOT
			}
            if = {
            	limit = {
            		ARG = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = ARG
                    expire = 0
                }
            }
            if = {
            	limit = {
            		CHL = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = CHL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		URG = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = URG
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PAR = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PAR
                    expire = 0
                }
            }
            if = {
            	limit = {
            		BOL = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = BOL
                    expire = 0
                }
            }
            if = {
            	limit = {
            		PRU = {
						exists = yes
            			NOT = {
            				OR = {
            					is_in_faction_with = ROOT
                            	is_subject_of = ROOT
            				}
            			}
            		}
            	}
            	create_wargoal = {
                    type = annex_everything
                    target = PRU
                    expire = 0
                }
            }
		}
		will_lead_to_war_with = PRU
		will_lead_to_war_with = BOL
		will_lead_to_war_with = PAR
		will_lead_to_war_with = URG
		will_lead_to_war_with = CHL
		will_lead_to_war_with = ARG
	}	

	focus = {
		id = MEX_focus_seize_the_panama_canal
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 1
		y = 2
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_war_with = USA
			}
			NOT = {
				is_in_faction_with = USA
			}
		}

		bypass = {
			NOT = {
				USA = {
					owns_state = 685
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_operation_just_cause
		}
		will_lead_to_war_with = USA
	}

	focus = {
		id = MEX_focus_integrate_the_south
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = MEX_focus_unify_centroamerica }
		x = 0
		y = 1
		relative_position_id = MEX_focus_unify_centroamerica

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				controls_state = 312
				controls_state = 313
				controls_state = 314
				controls_state = 317
				controls_state = 316
				controls_state = 304
				controls_state = 311
				controls_state = 685
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = MEX_decision_integrate_guatamala
			unlock_decision_tooltip = MEX_decision_integrate_honduras
			unlock_decision_tooltip = MEX_decision_integrate_el_salvador
			unlock_decision_tooltip = MEX_decision_integrate_nicaragua
			unlock_decision_tooltip = MEX_decision_integrate_costa_rica
			unlock_decision_tooltip = MEX_decision_integrate_panama
			unlock_decision_tooltip = MEX_decision_integrate_panama_canal
			unlock_decision_tooltip = MEX_decision_integrate_belize
		}
	}
	
	focus = {
		id = MEX_focus_fortify_the_canal
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = MEX_focus_seize_the_panama_canal }
		x = 1
		y = 1
		relative_position_id = MEX_focus_seize_the_panama_canal

		cost = 5

		ai_will_do = {
			factor = 80
		}

		available = {
			controls_state = 685
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			685 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 7617
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 7617
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}								
			}			
		}

	}
	focus = {
		id = MEX_focus_rescind_the_mexican_cession
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = MEX_focus_seize_the_panama_canal }
		x = -1
		y = 1
		relative_position_id = MEX_focus_seize_the_panama_canal

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			threat > 0.5
			NOT = {
				is_in_faction_with = USA
			}
			NOT = {
				has_non_aggression_pact_with = USA
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_named_threat = {
				threat = 5
				name = threat_mexico_rescind_cession
			}
			if = {
				limit = {
					country_exists = USA
				}
				create_wargoal = {
					type = take_state_focus
					target = USA
					expire = 0
					generator = { 375 376 377 378 379 380 382 }
				}
			}
			every_other_country = {
				limit = {
					NOT = { tag = USA }
					original_tag = USA
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						expire = 0
						generator = { 375 376 377 378 379 380 382 }
					}
				}
			}
			
			every_state = {
				limit = {
					OR = {
						state = 375
						state = 376
						state = 377
						state = 378
						state = 379
						state = 380
						state = 382
					}
					NOT = {
						is_core_of = ROOT
					}
					NOT = {
						is_claimed_by = ROOT
					}
				}
				add_claim_by = ROOT
			}
		}
		will_lead_to_war_with = USA
	}
	
	focus = {
		id = MEX_focus_redeem_aztlan
		icon = GFX_focus_mex_redeem_aztlan
		prerequisite = { focus = MEX_focus_rescind_the_mexican_cession }
		x = 0
		y = 1
		relative_position_id = MEX_focus_rescind_the_mexican_cession

		cost = 30

		ai_will_do = {
			factor = 100
		}

		available = {
			375 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			376 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			377 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			378 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			379 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			380 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
			382 = {
				controller = {
					OR = {
						is_subject_of = ROOT
						tag = ROOT
					}
				}
			}
		}

		bypass = {
			
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_political_power = -300
			every_state = {
				limit = {
					OR = {
						state = 375
						state = 376
						state = 377
						state = 378
						state = 379
						state = 380
						state = 382
					}
				}
				add_core_of = ROOT
				hidden_effect = {
					remove_claim_by = ROOT
				}
			}
			if = {
				limit = {
					USA = {
						is_subject_of = ROOT
					}
				}
				annex_country = { target = USA }
			}
		}
	}
	
	focus = {
		id = MEX_focus_military_budget_review
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = MEX_focus_national_bank }
		x = -6
		y = 1
		relative_position_id = MEX_focus_national_bank

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = tooltip_military_budget_review
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = MEX_manuel_avila
		}
	}

	focus = {
		id = MEX_focus_gulf_coast_naval_yards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = -2
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war_with = USA
			}
			
			modifier = {
				factor = 10
				has_war_with = ENG
			}
			
			modifier = {
				factor = 10
				has_war_with = GER
			}
			
			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 479
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_astimar_gulf
		}
	}

	focus = {
		id = MEX_focus_pacific_coast_naval_yards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = 0
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war_with = USA
			}
			
			modifier = {
				factor = 10
				has_war_with = ENG
			}
			
			modifier = {
				factor = 10
				has_war_with = GER
			}
			
			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 485
						state = 478
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_astimar_pacific
		}
	}

	focus = {
		id = MEX_focus_brown_water_navy
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = MEX_focus_pacific_coast_naval_yards focus = MEX_focus_gulf_coast_naval_yards }
		x = -1
		y = 2
		relative_position_id = MEX_focus_pacific_coast_naval_yards

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war_with = USA
			}
			
			modifier = {
				factor = 10
				has_war_with = ENG
			}
			
			modifier = {
				factor = 10
				has_war_with = GER
			}
			
			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = MEX_brown_water_navy
			add_tech_bonus = {
				name = naval_doctrine
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = tooltip_escort_ships
				bonus = 1.0
				uses = 1
				category = dd_tech
				category = cl_tech
			}
		}
	}

	focus = {
		id = MEX_focus_blue_water_navy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = MEX_focus_brown_water_navy }
		mutually_exclusive = { focus = MEX_focus_raiding_navy }
		x = -1
		y = 1
		relative_position_id = MEX_focus_brown_water_navy

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war_with = USA
			}
			
			modifier = {
				factor = 10
				has_war_with = GER
			}
			
			modifier = {
				factor = 10
				has_war_with = SOV
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_brown_water_navy
				add_idea = MEX_blue_water_navy
			}
			add_tech_bonus = {
				name = naval_doctrine
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = tooltip_capital_ships
				bonus = 1.0
				uses = 1
				category = ca_tech
				category = bb_tech
			}
		}
	}

	focus = {
		id = MEX_focus_raiding_navy
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = MEX_focus_brown_water_navy }
		mutually_exclusive = { focus = MEX_focus_blue_water_navy }
		x = 1
		y = 1
		relative_position_id = MEX_focus_brown_water_navy

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war_with = USA
			}
			
			modifier = {
				factor = 10
				has_war_with = ENG
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			swap_ideas = {
				remove_idea = MEX_brown_water_navy
				add_idea = MEX_raiding_navy
			}
			add_tech_bonus = {
				name = naval_doctrine
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = ss_tech
				bonus = 1.0
				uses = 1
				category = ss_tech
				category = bc_tech
			}
		}
	}

	focus = {
		id = MEX_focus_heroic_military_college
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = MEX_focus_military_budget_review }
		x = 2
		y = 1
		relative_position_id = MEX_focus_military_budget_review

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 30
			add_tech_bonus = {
				name = land_doctrine
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = MEX_manuel_perez_trevino
		}
	}
	
	focus = {
		id = MEX_focus_weapons_modernisation
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = MEX_focus_heroic_military_college }
		x = -1
		y = 1
		relative_position_id = MEX_focus_heroic_military_college

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}
	
	focus = {
		id = MEX_focus_tank_workshops
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = MEX_focus_weapons_modernisation }
		x = 0
		y = 1
		relative_position_id = MEX_focus_weapons_modernisation

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = armor
				bonus = 1.0
				uses = 1
				category = armor
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_tga
		}
	}
	
	focus = {
		id = MEX_focus_aviation_workshops
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = MEX_focus_heroic_military_college }
		x = 1
		y = 1
		relative_position_id = MEX_focus_heroic_military_college

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = air_doctrine
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = MEX_tnca
		}
	}
	
	focus = {
		id = MEX_focus_military_aviation_specialists
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = MEX_focus_aviation_workshops }
		x = 0
		y = 1
		relative_position_id = MEX_focus_aviation_workshops

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = air_equipment
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = air_doctrine
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = MEX_focus_army_expansion_programme
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = MEX_focus_tank_workshops }
		prerequisite = { focus = MEX_focus_military_aviation_specialists }
		x = 1
		y = 1
		relative_position_id = MEX_focus_tank_workshops

		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 0.1
				has_war = no
			}
			
			modifier = {
				factor = 10
				has_war = yes
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 478
						state = 277
						state = 477
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_war = no
				}
				custom_effect_tooltip = tooltip_mexico_stability_hit_for_peacetime_expansion
				add_stability = -0.05
			}
		}
	}
	
	focus = {
		id = MEX_focus_heavy_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = MEX_focus_army_expansion_programme }
		mutually_exclusive = { focus = MEX_focus_aerial_artillery }
		x = -1
		y = 1
		relative_position_id = MEX_focus_army_expansion_programme
		
		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
			
			modifier = {
				factor = 10
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = MEX_heavy_artillery
		}
	}

	focus = {
		id = MEX_focus_aerial_artillery
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = MEX_focus_army_expansion_programme }
		mutually_exclusive = { focus = MEX_focus_heavy_artillery }
		x = 1
		y = 1
		relative_position_id = MEX_focus_army_expansion_programme
		
		cost = 10

		ai_will_do = {
			factor = 100
			
			modifier = {
				factor = 10
				has_war = yes
			}
			
			modifier = {
				factor = 0.1
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = MEX_aerial_artillery
		}
	}		
}
focus_tree = {
	id = new_zealander_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = NZL
			has_dlc = "Together for Victory"
			always = no
		}

		#modifier = {
		#	add = 10
		#	original_tag = NZL
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no

#	focus = {
#		id = NZL_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id =
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}






	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = NZL_transfer_the_new_zealand_division
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 16
		y = 0

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {
			NOT = { is_subject_of = ENG }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = NZL_transfer_ships_tt
			ENG = {
			    transfer_ship = {
			        prefer_name = "HMS Achilles"
			        type = light_cruiser
			        target = NZL
			    }
			    transfer_ship = {
			        prefer_name = "HMS Leander"
			        type = light_cruiser
			        target = NZL
			    }
			}
		}
	}

	focus = {
		id = NZL_form_the_rnzn
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = NZL_transfer_the_new_zealand_division }
		x = 0
		y = 1
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = NZL_form_the_rnzn
				bonus = 1.0
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = NZL_expand_devonport_naval_base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = NZL_form_the_rnzn }
		x = -1
		y = 2
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_expand_devonport_naval_base_DY
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_expand_devonport_naval_base_DY
			}
			284 = {
				add_building_construction = {
					type = naval_base
					province = 4543
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = NZL_coastal_defense
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = NZL_form_the_rnzn }
		x = 1
		y = 2
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
		}

		bypass = {
			NOT = {
				controls_state = 284
			}
			NOT = {
				controls_state = 723
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					OR = {
						state = 284
						state = 723
					}
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}

				#Extra fort on naval bases
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = NZL_destroyer_effort
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = NZL_expand_devonport_naval_base }
		mutually_exclusive = { focus = NZL_submarine_effort }
		x = -2
		y = 3
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_destroyer_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = NZL_submarine_effort
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = NZL_expand_devonport_naval_base }
		mutually_exclusive = { focus = NZL_destroyer_effort }
		x = 0
		y = 3
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_submarine_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = NZL_light_cruiser_effort
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = NZL_destroyer_effort focus = NZL_submarine_effort }
		x = -2
		y = 4
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_light_cruiser_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cl_tech
			}
		}
	}

	focus = {
		id = NZL_capital_ship_effort
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = NZL_destroyer_effort focus = NZL_submarine_effort }
		x = 0
		y = 4
		relative_position_id = NZL_transfer_the_new_zealand_division

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_capital_ship_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bb_tech
				category = cv_tech
			}
		}
	}


	############################
	####### AIR SECTION ########
	############################

	focus = {
		id = NZL_expand_the_nzpaf
		icon = GFX_goal_generic_air_doctrine
		x = 21
		y = 0

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_equipment_to_stockpile = {
				type = nav_bomber_equipment_1
				amount = 56
				producer = ENG
			}
			if = {
				limit = {
					ENG = { has_tech = tactical_bomber1 }
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment_1
					amount = 30
					producer = ENG
				}
				else = {
					add_equipment_to_stockpile = {
						type = tac_bomber_equipment_0
						amount = 30
						producer = ENG
					}	
				}
			}
		}
	}

	focus = {
		id = NZL_form_the_rnzaf
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = NZL_expand_the_nzpaf }
		x = 0
		y = 1
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = NZL_expand_the_nzpaf_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = NZL_form_the_rnzaf
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_expand_the_nzpaf_AB
			}
			add_tech_bonus = {
				name = NZL_form_the_rnzaf
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = NZL_fighter_focus
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = NZL_form_the_rnzaf }
		mutually_exclusive = { focus = NZL_bomber_focus }
		x = -1
		y = 2
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_fighter_focus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = NZL_bomber_focus
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = NZL_form_the_rnzaf }
		mutually_exclusive = { focus = NZL_fighter_focus }
		x = 1
		y = 2
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_bomber_focus
				bonus = 1.00
				uses = 1
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = NZL_defend_our_islands
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = NZL_form_the_rnzaf focus = NZL_coastal_defense }
		x = -3
		y = 3
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_defend_our_islands
				bonus = 1.00
				uses = 2
				category = naval_air
			}
		}
	}

	focus = {
		id = NZL_modern_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = NZL_fighter_focus focus = NZL_bomber_focus }
		mutually_exclusive = { focus = NZL_heavy_bombers }
		x = -1
		y = 3
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_modern_fighters
				bonus = 1.0
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = NZL_heavy_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = NZL_fighter_focus focus = NZL_bomber_focus }
		mutually_exclusive = { focus = NZL_modern_fighters }
		x = 1
		y = 3
		relative_position_id = NZL_expand_the_nzpaf

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_heavy_bombers
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber
			}
		}
	}

	
	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = NZL_national_roads_board
		icon = GFX_goal_generic_construct_infrastructure
		x = 25
		y = 0

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_national_roads_board_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

			random_state = {
				limit = {
					has_state_flag = NZL_national_roads_board_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_national_roads_board_Inf1
			}

			random_owned_controlled_state = {
				prioritize = { 723 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_national_roads_board_Inf2
			}
		}
	}

	focus = {
		id = NZL_new_zealand_steel
		icon = GFX_goal_generic_production2
		prerequisite = { focus = NZL_national_roads_board }
		x = -2
		y = 1
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 284 
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			284 = {
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}
	}

	focus = {
		id = NZL_taranaki_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = NZL_national_roads_board }
		x = 0
		y = 1
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 284
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			284 = {
				add_resource = {
					type = oil
					amount = 5
				}
			}
		}
	}

	focus = {
		id = NZL_wairarapa_sheep_farms
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = NZL_national_roads_board }
		x = 2
		y = 1
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_bureau_of_industry
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = NZL_wairarapa_sheep_farms
		}
	}

	focus = {
		id = NZL_bureau_of_industry
		icon = GFX_goal_generic_production
		prerequisite = { focus = NZL_new_zealand_steel focus = NZL_taranaki_oil }
		x = 0
		y = 2
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_wairarapa_sheep_farms
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_bureau_of_industry_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				limit = {				
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_bureau_of_industry_IC1
			}
		}
	}

	focus = {
		id = NZL_department_of_scientific_and_industrial_research
		icon = GFX_focus_research
		prerequisite = { focus = NZL_bureau_of_industry }
		x = -1
		y = 3
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 35
			modifier = {
				factor = 2
				has_completed_focus = NZL_heavy_bombers
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = NZL_industrial_conscription
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = NZL_wairarapa_sheep_farms }
		prerequisite = { focus = NZL_bureau_of_industry }
		x = 1
		y = 3
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_domestic_arms_industry
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no		
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_industrial_conscription_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_industrial_conscription_AF
			}
		}
	}

	focus = {
		id = NZL_think_big
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = NZL_industrial_conscription }
		prerequisite = { focus = NZL_domestic_arms_industry }
		x = 2
		y = 4
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_department_of_scientific_and_industrial_research
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_think_big_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = NZL_think_big_AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				limit = {				
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_think_big_IC1
			}
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_think_big_AF
			}
		}
	}

	focus = {
		id = NZL_project_seal
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = NZL_heavy_bombers focus = NZL_modern_fighters }
		prerequisite = { focus = NZL_department_of_scientific_and_industrial_research }
		x = -2
		y = 4
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_project_seal
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	focus = {
		id = NZL_national_defense_institute
		icon = GFX_focus_research
		prerequisite = { focus = NZL_project_seal }
		x = -2
		y = 5
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = NZL_expand_the_university_of_auckland
		icon = GFX_focus_research
		prerequisite = { focus = NZL_think_big }
		prerequisite = { focus = NZL_department_of_scientific_and_industrial_research }
		x = 0
		y = 5
		relative_position_id = NZL_national_roads_board

		cost = 10

		ai_will_do = {
			factor = 35
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}


	############################
	####### ARMY SECTION #######
	############################
	
	focus = {
		id = NZL_army_reforms
		icon = GFX_goal_generic_army_doctrines
		x = 30
		y = 0

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = NZL_army_reforms
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = NZL_charlton_automatic_rifle
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = NZL_army_reforms }
		x = -1
		y = 1
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_industrial_conscription
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_charlton_automatic_rifle
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = NZL_bob_semple_tank 
		icon = GFX_focus_NZL_bob_semple_tank		#VEHICLE OF GLORIOUS DESIGN BOB SEMPLE TANK MUST HAVE UNIQUE ICON
		prerequisite = { focus = NZL_army_reforms }
		x = 1
		y = 1
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = NZL_bob_semple_tank
			add_tech_bonus = {
				name = NZL_bob_semple_tank
				bonus = 1.0
				uses = 1
				technology = basic_light_tank
			}
		}
	}

	focus = {
		id = NZL_domestic_arms_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = NZL_charlton_automatic_rifle }
		x = -1
		y = 2
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = NZL_industrial_conscription
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = NZL_domestic_arms_industry_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = NZL_domestic_arms_industry_AF
			}
		}
	}

	focus = {
		id = NZL_schofield_tank
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = NZL_bob_semple_tank }
		x = 1
		y = 2
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_schofield_tank
				bonus = 1.0
				uses = 1
				category = cat_light_armor
			}
		}
	}

	focus = {
		id = NZL_long_range_patrol
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = NZL_domestic_arms_industry }
		x = -1
		y = 3
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_long_range_patrol
				bonus = 1.00
				uses = 2
				category = marine_tech
			}
		}
	}

	focus = {
		id = NZL_artillery_focus
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = NZL_schofield_tank }
		x = 1
		y = 3
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_artillery_focus
				bonus = 1.00
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = NZL_research_collaboration
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = NZL_big_bob_tank }
		prerequisite = { focus = NZL_think_big }
		x = -1
		y = 5
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_other_country = {
					is_in_faction_with = ROOT
					num_of_factories > 50
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = NZL_big_bob_tank
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = NZL_artillery_focus }
		x = 1
		y = 4
		relative_position_id = NZL_army_reforms

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = NZL_big_bob_tank
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				technology = super_heavy_tank
			}
		}
	}

	############################
	##### POLITICS SECTION #####
	############################

	focus = {
		id = NZL_the_first_labor_government
		icon = GFX_goal_generic_improve_relations
		x = 4
		y = 0

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_ideas = NZL_first_labor_government
		}
	}

	############################
	## SHARED POLITICS SECTION #
	############################

	focus = {
		id = NZL_ratana_alliance
		icon = GFX_goal_anschluss
		prerequisite = { focus = NZL_the_first_labor_government }
		x = -3
		y = 1
		relative_position_id = NZL_the_first_labor_government

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_ideas = NZL_ratana_alliance
		}
	}

	focus = {
		id = NZL_maori_affairs_act
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = NZL_ratana_alliance }
		x = -1
		y = 1
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			controls_state = 284
			controls_state = 723
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			284 = {
				add_extra_state_shared_building_slots = 1
			}
			723 = {
				add_extra_state_shared_building_slots = 1
			}
			add_stability = -0.05
		}
	}

	focus = {
		id = NZL_social_security_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = NZL_ratana_alliance }
		x = 1
		y = 1
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = NZL_social_security_act
		}
	}

	focus = {
		id = NZL_the_manpower_act
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = NZL_social_security_act focus = NZL_maori_affairs_act }
		x = 0
		y = 2
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = NZL_the_manpower_act
		}
	}

	focus = {
		id = NZL_amend_the_maori_affairs_act
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = NZL_the_manpower_act }
		mutually_exclusive = { focus = NZL_waitangi_tribunal }
		x = -1
		y = 3
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			284 = {
				add_extra_state_shared_building_slots = 2
			}
			723 = {
				add_extra_state_shared_building_slots = 2
			}
			add_stability = -0.05
		}
	}

	focus = {
		id = NZL_waitangi_tribunal
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = NZL_the_manpower_act }
		mutually_exclusive = { focus = NZL_amend_the_maori_affairs_act }
		x = 1
		y = 3
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = NZL_waitangi_tribunal
		}
	}

	focus = {
		id = NZL_maori_conscription
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = NZL_amend_the_maori_affairs_act }
		x = -1
		y = 4
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = NZL_maori_conscription
		}
	}

	focus = {
		id = NZL_maori_volunteers
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = NZL_waitangi_tribunal }
		x = 1
		y = 4
		relative_position_id = NZL_ratana_alliance

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = NZL_demand_islands
			division_template = {
				is_locked = yes
				name = "Maori Volunteers"
				division_names_group = NZL_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
			}
			random_owned_controlled_state = {
				prioritize = { 284 723 }
				create_unit = {
					division = " name = \"Maori Volunteers\" division_template = \"Maori Volunteers\" start_experience_factor = 0.0"
					owner = NZL
				}
			}
		}
	}


	#########################
	### THE CLASH SECTION ###
	#########################

	focus = {
		id = NZL_strengthen_the_commonwealth
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = NZL_the_first_labor_government }
		mutually_exclusive = { focus = NZL_statute_of_westminster }
		x = 0
		y = 1
		relative_position_id = NZL_the_first_labor_government

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			modify_tech_sharing_bonus = {
			  	id = commonwealth_research
			   	bonus = 0.05
			}
			add_political_power = 100
			add_opinion_modifier = { target = ENG modifier = NZL_strengthen_ties } 
			ENG = { add_opinion_modifier = { target = NZL modifier = NZL_strengthen_ties } }
		}
	}

	focus = {
		id = NZL_statute_of_westminster
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = NZL_the_first_labor_government }
		mutually_exclusive = { focus = NZL_strengthen_the_commonwealth }
		x = 5
		y = 1
		relative_position_id = NZL_the_first_labor_government

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_political_power = 120
			add_autonomy_ratio = {
				value = 0.5
				localization = NZL_statute_of_westminster
			}
		}
	}

	############################
	# GO COMMONWEALTH SECTION ##
	############################

	focus = {
		id = NZL_2nzef
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = NZL_strengthen_the_commonwealth }
		x = 0
		y = 1
		relative_position_id = NZL_strengthen_the_commonwealth

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = NZL_2nzef
		}
	}

	focus = {
		id = NZL_arrest_pacifist_leaders
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = NZL_2nzef }
		x = 0
		y = 2
		relative_position_id = NZL_strengthen_the_commonwealth

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = NZL_stomp_out_pacifism
		}
	}

	focus = {
		id = NZL_technology_sharing_with_britain
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = NZL_arrest_pacifist_leaders }
		x = 0
		y = 3
		relative_position_id = NZL_strengthen_the_commonwealth

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			ENG = { has_government = ROOT }
			is_in_tech_sharing_group = commonwealth_research
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			modify_tech_sharing_bonus = {
 				id = commonwealth_research
 				bonus = 0.05  # we get 20% higher bonus from this group
			}
		}
	}

	############################
	### GO COMMUNIST SECTION ###
	############################

	focus = {
		id = NZL_the_lee_affair
		icon = GFX_goal_support_communism
		prerequisite = { focus = NZL_statute_of_westminster }
		mutually_exclusive = { focus = NZL_in_the_darkness focus = NZL_constitution_amendment_act }
		x = 1
		y = 1
		relative_position_id = NZL_statute_of_westminster

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			swap_ideas = {
				remove_idea = NZL_first_labor_government
				add_idea = NZL_the_workers_party_1
			}
		}
	}

	focus = {
		id = NZL_empower_the_working_class
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = NZL_the_lee_affair }
		x = 0
		y = 1
		relative_position_id = NZL_the_lee_affair

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_government = communism
			NOT = { has_war_together_with = ENG }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			ENG = { remove_from_faction = ROOT }
			add_political_power = 100
			OVERLORD = {
				set_autonomy = {
					target = NZL
					autonomy_state = autonomy_free
				}
			}

			swap_ideas = {
				remove_idea = NZL_the_workers_party_1
				add_idea = NZL_the_workers_party_2
			}
		}
	}

	focus = {
		id = NZL_join_comintern
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = NZL_empower_the_working_class }
		x = 0
		y = 2
		relative_position_id = NZL_the_lee_affair

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_government = communism
			SOV = {
				has_capitulated = no
				is_subject = no
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = { id = tfv_new_zealand.1 } }
		}
	}

	focus = {
		id = NZL_technology_sharing_with_soviet_union
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = NZL_join_comintern }
		x = 0
		y = 3
		relative_position_id = NZL_the_lee_affair

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			has_government = communism
			is_subject = no
			is_in_faction_with = SOV
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
		
			SOV = { add_to_tech_sharing_group = comintern_research }
			add_to_tech_sharing_group = comintern_research
		}
	}


	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = NZL_in_the_darkness
		icon = GFX_goal_support_fascism
		prerequisite = { focus = NZL_statute_of_westminster }
		mutually_exclusive = { focus = NZL_the_lee_affair focus = NZL_constitution_amendment_act }
		x = -3
		y = 1
		relative_position_id = NZL_statute_of_westminster

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			swap_ideas = {
				remove_idea = NZL_first_labor_government
				add_idea = NZL_in_the_darkness
			}
		}
	}

	focus = {
		id = NZL_befriend_japan
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = NZL_in_the_darkness }
		mutually_exclusive = { focus = NZL_rule_them_all }		
		x = 0
		y = 1
		relative_position_id = NZL_in_the_darkness

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_war_with = JAP }
			JAP = { has_government = ROOT }
			is_subject = no
			has_government = fascism			
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			JAP = { country_event = { id = tfv_new_zealand.4 } }
		}
	}

	focus = {
		id = NZL_rule_them_all
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = NZL_in_the_darkness }
		mutually_exclusive = { focus = NZL_befriend_japan }
		x = 2
		y = 1
		relative_position_id = NZL_in_the_darkness

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = { AST = { NOT = { has_government = ROOT } } }
				create_wargoal = {
					type = annex_EVERYTHING#!!!!!
					target = AST
					expire = 0
				}
				else = {
					add_political_power = 50
				}
			}
		}
	}

	focus = {
		id = NZL_technology_sharing_with_japan
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = NZL_befriend_japan }
		x = 0
		y = 2
		relative_position_id = NZL_in_the_darkness

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			has_government = fascism
			is_in_faction_with = JAP
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			JAP = { add_to_tech_sharing_group = japanese_research }
			add_to_tech_sharing_group = japanese_research
		}
	}


	############################
	##### GO ALONE SECTION #####
	############################

	focus = {
		id = NZL_constitution_amendment_act
		icon = GFX_goal_tfv_sever_ties_with_uk
		prerequisite = { focus = NZL_statute_of_westminster }
		mutually_exclusive = { focus = NZL_the_lee_affair focus = NZL_in_the_darkness }
		x = 3
		y = 1
		relative_position_id = NZL_statute_of_westminster

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = {
				any_country = {
					has_war_together_with = ROOT
					is_in_faction_with = ROOT
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			add_political_power = 70
			add_autonomy_ratio = {
				value = 1
				localization = NZL_constitution_amendment_act
			}
		}
	}

	focus = {
		id = NZL_independent_new_zealand
		icon = GFX_focus_AST_never_gallipoli
		prerequisite = { focus = NZL_constitution_amendment_act }
		x = 0
		y = 1
		relative_position_id = NZL_constitution_amendment_act

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			NOT = {
				any_country = {
					has_war_together_with = ROOT
					is_in_faction_with = ROOT
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			random_country = {
				limit = {
					NOT = { ROOT = { is_faction_leader = yes } }
					is_faction_leader = yes
					is_in_faction_with = ROOT
				}
				remove_from_faction = ROOT
			}
		}
	}



}		
focus_tree = {
	id = polish_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = POL
			has_dlc = "Poland: United and Ready"
			always = no
		}
	}
	
	default = no


	############################
	#### INDUSTRIAL SECTION ####
	############################

	focus = {
		id = POL_central_region_strategy
		icon = GFX_goal_generic_construction
		x = 1
		y = 0
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_central_region_strategy
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}	

	focus = {
		id = POL_expansion_of_new_towns
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = POL_central_region_strategy }
		x = 0
		y = 1
		relative_position_id = POL_central_region_strategy
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_expansion_of_new_towns_1 }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			#	Adds a civilian Factory (Warsaw)
			random_owned_controlled_state = {
				prioritize = { 10 }
				limit = {									
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_expansion_of_new_towns_1
			}
		}
	}

	focus = {
		id = POL_fill_the_railways_gaps
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = POL_expansion_of_new_towns }
		x = 1
		y = 1
		relative_position_id = POL_expansion_of_new_towns
		cost = 10

		ai_will_do = {
			factor = 10
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_fill_the_railways_gaps_1 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
			random_state = {
				limit = { has_state_flag = POL_fill_the_railways_gaps_2 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_fill_the_railways_gaps_1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_fill_the_railways_gaps_2
			}
		}
	}	

	focus = {
		id = POL_start_central_industrial_region
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = POL_expansion_of_new_towns }
		x = -1
		y = 1
		relative_position_id = POL_expansion_of_new_towns
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_start_central_industrial_region_1 }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 92 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_start_central_industrial_region_1
			}			
		}

	}
	
	focus = {
		id = POL_expand_central_industrial_region
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = POL_start_central_industrial_region }
		prerequisite = { focus = POL_fill_the_railways_gaps }
		x = 1
		y = 1
		relative_position_id = POL_start_central_industrial_region
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_start_central_industrial_region_1 }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 92 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_start_central_industrial_region_1
			}
		}
	}

	focus = {
		id = POL_the_four_year_plan
		icon = GFX_goal_generic_construct_civilian
		x = 5
		y = 0
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_the_four_year_plan
				bonus = 1.0
				uses = 1
				category = construction_tech
			}
		}
	}
	
	focus = {
		id = POL_national_defence_fund
		icon = GFX_goal_generic_defence
		prerequisite = { focus = POL_the_four_year_plan }
		x = -1
		y = 1
		relative_position_id = POL_the_four_year_plan
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_national_defence_fund_1 }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_national_defence_fund_1
			}
		}
	}

	focus = {
		id = POL_warsaw_main_railway_station
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = POL_the_four_year_plan }
		x = 1
		y = 1
		relative_position_id = POL_the_four_year_plan
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_warsaw_main_railway_station_1 }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 10 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = POL_warsaw_main_railway_station_1
			}
		}
			#	Increase Infrastructure in Warsaw
	}

	focus = {
		id = POL_invest_in_the_old_polish_region
		icon = GFX_goal_generic_production
		prerequisite = { focus = POL_warsaw_main_railway_station }
		prerequisite = { focus = POL_national_defence_fund }
		x = -1
		y = 1
		relative_position_id = POL_warsaw_main_railway_station
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_invest_in_the_old_polish_region_1 }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 10 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_invest_in_the_old_polish_region_1
			}
		}
	}

	focus = {
		id = POL_develop_upper_silesia
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = POL_invest_in_the_old_polish_region }
		x = 1
		y = 1
		relative_position_id = POL_invest_in_the_old_polish_region
		cost = 10

		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_develop_upper_silesia_1 }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 762 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = POL_develop_upper_silesia_1
			}
		}		
	}		

	focus = {
		id = POL_additional_research_slot1
		icon = GFX_focus_research
		prerequisite = { focus = POL_invest_in_the_old_polish_region }
		x = -1
		y = 1
		relative_position_id = POL_invest_in_the_old_polish_region
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = POL_the_bombe
		icon = GFX_goal_generic_radar
		prerequisite = { focus = POL_additional_research_slot1 }
		x = 0
		y = 1
		relative_position_id = POL_additional_research_slot1
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_the_bombe
				bonus = 1.0
				uses = 1
				category = computing_tech
			}		
		}
	}

	focus = {
		id = POL_the_cyclometer
		icon = GFX_goal_generic_production2
		prerequisite = { focus = POL_expand_central_industrial_region focus = POL_additional_research_slot1 }
		x = 1
		y = 1
		relative_position_id = POL_expand_central_industrial_region
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_tech_bonus = {
					name = POL_the_cyclometer
					bonus = 1.0
					uses = 1
					category = encryption_tech
					category = decryption_tech
				}
			}
			else = {
				hidden_effect = {
					set_technology = { lar_decryption_bonus_tech = 1 }
				}
				custom_effect_tooltip = lar_decryption_bonus_tt
			}
		}
	}

	focus = {
		id = POL_atomic_physics_institute
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = POL_the_cyclometer }
		x = 0
		y = 1
		relative_position_id = POL_the_cyclometer
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_atomic_physics_institute
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}		

	focus = {
		id = POL_additional_research_slot2
		icon = GFX_focus_research
		prerequisite = { focus = POL_atomic_physics_institute }
	
		available = {
			num_of_factories > 50
		}
		
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		x = 0
		y = 1
		relative_position_id = POL_atomic_physics_institute
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_research_slot = 1
		}
	}

	############################
	####### ARMY SECTION #######
	############################


	focus = {
		id = POL_prepare_for_the_next_war
		icon = GFX_goal_generic_build_tank
		
		x = 10
		y = 0
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_prepare_for_the_next_war
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			#1x 50% cost reduction for one land doctrine research
		}
	}

	focus = {
		id = POL_the_defence_of_poland
		icon = GFX_goal_generic_defence
		prerequisite = { focus = POL_prepare_for_the_next_war }
		
		x = 1
		y = 1
		relative_position_id = POL_prepare_for_the_next_war
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_the_defence_of_poland
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			#1x 50% reduction in land doctrine research
		}
	}

	focus = {
		id = POL_romanian_bridgehead_strategy
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = POL_the_defence_of_poland }
		
		x = 0
		y = 1
		relative_position_id = POL_the_defence_of_poland
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_romanian_bridgehead_strategy
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			#1x 50% reduction in land doctrine research
		}
	}

	focus = {
		id = POL_silesia_fortified_area
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = POL_romanian_bridgehead_strategy }

		bypass = {
			762 = { NOT = { is_owned_by = ROOT } }
			762 = { NOT = { is_controlled_by = ROOT } }
		}
		
		x = 1
		y = 1
		relative_position_id = POL_romanian_bridgehead_strategy
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			762 = {
				add_building_construction = {
					type = bunker
					province = 6464
					level = 3
					instant_build = yes
				}
			}
			762 = {
				add_building_construction = {
					type = bunker
					province = 506
					level = 3
					instant_build = yes
				}
			}
			#Adds three Land Forts to Katowice province
		}
	}
	
	focus = {
		id = POL_hel_fortified_area
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = POL_romanian_bridgehead_strategy }
		
		bypass = {
			85 = { NOT = { is_owned_by = ROOT } }
			85 = { NOT = { is_controlled_by = ROOT } }
		}

		x = -1
		y = 1
		relative_position_id = POL_romanian_bridgehead_strategy
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			85 = {

				add_building_construction = {
					type = coastal_bunker
					province = 362
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 9263
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = 9263
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = 334
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = 279
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = 362
					level = 1
					instant_build = yes
				}
			}
			#Adds two Coast Forts and two Land Forts to Danzig province
		}
	}

	focus = {
		id = POL_standardisation_of_equipment
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = POL_prepare_for_the_next_war }
		
		x = -1
		y = 1
		relative_position_id = POL_prepare_for_the_next_war
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_standardisation_of_equipment
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			#1x 50% for Infantry Equipment
		}
	}

	focus = {
		id = POL_modernising_the_cavalry
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = POL_standardisation_of_equipment }
		
		x = -1
		y = 1
		relative_position_id = POL_standardisation_of_equipment
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_modernising_the_cavalry
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
			#75% research bonus for Motorised
		}
	}

	focus = {
		id = POL_study_foreign_tanks
		icon = GFX_goal_generic_production
		prerequisite = { focus = POL_modernising_the_cavalry }
		
		x = 0
		y = 1
		relative_position_id = POL_modernising_the_cavalry
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_study_foreign_tanks
				bonus = 1.0
				uses = 1
				category = armor
			}
			#50% armor research
		}
	}

	focus = {
		id = POL_cruiser_tank_experiments
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = POL_study_foreign_tanks }
		
		x = 0
		y = 1
		relative_position_id = POL_study_foreign_tanks
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_cruiser_tank_experiments
				bonus = 1.0
				uses = 1
				technology = basic_medium_tank
			}
			#1x 50% reduction on research for medium tanks
		}
	}

	focus = {
		id = POL_artillery_modernisation
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = POL_hel_fortified_area focus = POL_silesia_fortified_area }
		
		x = 2
		y = 1
		relative_position_id = POL_hel_fortified_area
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_artillery_modernisation
				bonus = 1.0
				uses = 1
				category = artillery
			}
			#1 x 50% for Artillery Equipment
		}
	}

	focus = {
		id = POL_anti_tank_guns
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = POL_hel_fortified_area focus = POL_silesia_fortified_area }
		
		x = 0
		y = 1
		relative_position_id = POL_hel_fortified_area
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_anti_tank_guns
				bonus = 1.0
				uses = 1
				category = cat_anti_tank
			}
			#1x 50% bonus for Anti-Tank guns
		}
	}

	focus = {
		id = POL_army_modernisation
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = POL_artillery_modernisation focus = POL_anti_tank_guns }
		
		x = -1
		y = 1
		relative_position_id = POL_artillery_modernisation
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH } 
		completion_reward = {
			add_tech_bonus = {
				name = POL_army_modernisation
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			#1 x 50% for Infantry Equipment
		}
	}


	############################
	##### AIRFORCE SECTION #####
	############################


	focus = {
		id = POL_air_base_expansion
		icon = GFX_goal_generic_air_production
		
		x = 16
		y = 0
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_air_base_expansion_1 }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 10 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = POL_air_base_expansion_1
			}
			#Add 2 Airbases in Warsaw
			
		}
	}

	focus = {
		id = POL_fighter_modernisation
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = POL_air_base_expansion }
		
		x = 1
		y = 1
		relative_position_id = POL_air_base_expansion
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_fighter_modernisation
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			#1x50% research bonus to fighter models
		}
	}



	focus = {
		id = POL_air_innovations
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = POL_air_base_expansion }
		
		x = -1
		y = 1
		relative_position_id = POL_air_base_expansion
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_air_innovations
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			#1x50% research bonus to Air Doctrine Research
		}
	}

	focus = {
		id = POL_heavy_fighter_concept
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = POL_air_innovations focus = POL_fighter_modernisation }
		
		x = 1
		y = 1
		relative_position_id = POL_air_innovations
		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_heavy_fighter_concept
				bonus = 1.0
				uses = 1				
				category = cat_heavy_fighter
			}
			#1x 50% research bonus to Heavy Fighters
		}
	}

	focus = {
		id = POL_naval_bomber_experiments
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = POL_air_innovations }
		
		x = -1
		y = 1
		relative_position_id = POL_air_innovations
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_naval_bomber_experiments
				bonus = 1.0
				uses = 1				
				category = naval_bomber
			}
			#1x50% research bonus to NAV
		}
	}

	focus = {
		id = POL_medium_bomber_focus
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = POL_heavy_fighter_concept focus = POL_air_innovations }
		mutually_exclusive = { focus = POL_light_bomber_focus }
		
		x = -1
		y = 1
		relative_position_id = POL_heavy_fighter_concept
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_medium_bomber_focus
				bonus = 1.0
				uses = 1				
				category = tactical_bomber
			}
			#1 x 50% research bonus to Tactical Bomber models
		}
	}

	focus = {
		id = POL_light_bomber_focus
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = POL_heavy_fighter_concept focus = POL_fighter_modernisation }
		mutually_exclusive = { focus = POL_medium_bomber_focus }
		
		x = 1
		y = 1
		relative_position_id = POL_heavy_fighter_concept
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_light_bomber_focus
				bonus = 1.0
				uses = 1				
				category = cas_bomber
			}
			#1 x 50% research bonus to CAS
		}
	}

	focus = {
		id = POL_air_modernisations_programme
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = POL_light_bomber_focus focus = POL_medium_bomber_focus }
		
		x = -1
		y = 1
		relative_position_id = POL_light_bomber_focus
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_air_modernisations_programme
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			#1x 50% reduction in an air doctrine research
			
		}
	}

	focus = {
		id = POL_rocket_development
		icon = GFX_focus_rocketry
		prerequisite = { focus = POL_air_modernisations_programme }
		
		x = 0
		y = 1
		relative_position_id = POL_air_modernisations_programme
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_rocket_development
				bonus = 1.0
				uses = 2
				category = jet_technology
				category = rocketry
			}
			#2x50% research to Rockets and Jet Engine Research
		}
	}


	############################
	####### NAVY SECTION #######
	############################


	focus = {
		id = POL_develop_polish_ship_building
		icon = GFX_goal_generic_construct_naval_dockyard
		
		x = 21
		y = 0
		cost = 10

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = { has_state_flag = POL_develop_polish_ship_building_1 }
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 85 }
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = POL_develop_polish_ship_building_1
			}
			#Add 3 Dockyards at Gdansk			
		}
	}

	focus = {
		id = POL_study_foreign_built_ships
		icon = GFX_goal_generic_production
		prerequisite = { focus = POL_develop_polish_ship_building }
		
		x = 1
		y = 1
		relative_position_id = POL_develop_polish_ship_building
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_study_foreign_built_ships
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			#1x 50% research bonus for Destroyers
		}
	}

	focus = {
		id = POL_a_cruiser_navy
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = POL_study_foreign_built_ships }
		
		x = 1
		y = 1
		relative_position_id = POL_study_foreign_built_ships
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_a_cruiser_navy
				bonus = 1.0
				uses = 1
				category = cl_tech
			}
			#1x50% research bonus to Light Cruisers
		}
	}

	focus = {
		id = POL_import_submarine_technology
		icon = GFX_goal_generic_production2
		prerequisite = { focus = POL_develop_polish_ship_building }
		
		x = -1
		y = 1
		relative_position_id = POL_develop_polish_ship_building
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_import_submarine_technology
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			#1 x50% research bonus for Submarines
		}
	}

	focus = {
		id = POL_commerce_attack
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = POL_import_submarine_technology }
		x = -1
		y = 1
		relative_position_id = POL_import_submarine_technology
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_commerce_attack
				bonus = 1.0
				uses = 1
				category = submarine_doctrine
			}
			#1x50% research bonus to Submarine Doctrine
		}
	}

	focus = {
		id = POL_the_twin_threats
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = POL_import_submarine_technology focus = POL_study_foreign_built_ships }
		
		x = 1
		y = 1
		relative_position_id = POL_import_submarine_technology
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_the_twin_threats
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
			#1x50% bonus to Naval Doctrine Research
		}
	}

	focus = {
		id = POL_coastal_defense
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = POL_the_twin_threats }
		mutually_exclusive = { focus = POL_strike_force }
		x = 1
		y = 1
		relative_position_id = POL_the_twin_threats
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_coastal_defense
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = POL_coastal_defense
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			#1x50% research bonus to destroyers & 1 x50% bonus to Submarines
		}
	}
	
	focus = {
		id = POL_strike_force
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = POL_the_twin_threats }
		mutually_exclusive = { focus = POL_coastal_defense }
		x = -1
		y = 1
		relative_position_id = POL_the_twin_threats
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_strike_force
				bonus = 1.0
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = POL_strike_force
				bonus = 1.0
				uses = 1
				category = ca_tech
			}
			#1x50% research bonus to Light Cruisers & 1x50% bonus to Heavy Cruisers
		}
	}

	focus = {
		id = POL_baltic_navy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = POL_strike_force focus = POL_coastal_defense }
		
		x = 1
		y = 1
		relative_position_id = POL_strike_force
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = POL_baltic_navy
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
			#1x50% bonus to Naval Doctrine research
		}
	}

	############################
	##### POLITICS SECTION #####
	############################


	focus = {
		id = POL_strengthen_the_polish_state
		icon = GFX_goal_generic_demand_territory
		
		x = 29
		y = 0
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			#PP +120
		}
	}

	focus = {
		id = POL_defensive_focus
		icon = GFX_goal_generic_defence
		prerequisite = { focus = POL_strengthen_the_polish_state }
		
		x = 2
		y = 1
		relative_position_id = POL_strengthen_the_polish_state
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = deterrence
			#Grants Deterrence modifier
		}
	}

	focus = {
		id = POL_polish_militarism
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = POL_strengthen_the_polish_state }
		
		x = -2
		y = 1
		relative_position_id = POL_strengthen_the_polish_state
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT } 
		completion_reward = {
			army_experience = 20
			add_ideas = POL_militarism_focus
		}
	}

	focus = {
		id = POL_polish_revanchism
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = POL_polish_militarism }
		
		x = -2
		y = 1
		relative_position_id = POL_polish_militarism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_WAR_SUPPORT } 
		completion_reward = {
			add_ideas = POL_polish_revanchism_focus
			#grants a -10% PP cost to war goal justification
		}
	}

	focus = {
		id = POL_poland_first
		icon = GFX_goal_generic_defence
		prerequisite = { focus = POL_polish_militarism }
		mutually_exclusive = { focus = POL_internationalism }

		x = 0
		y = 1
		relative_position_id = POL_polish_militarism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_STABILITY } 
		completion_reward = {
			add_ideas = indoctrination_focus
			#Gains the Indoctrination Modifier
		}
	}

	focus = {
		id = POL_ideological_fanaticism
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = POL_poland_first }

		x = -1
		y = 1
		relative_position_id = POL_poland_first
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_ideas = POL_ideological_fanaticism
			#Same as in Generic Focus
		}
	}

	focus = {
		id = POL_the_between_the_seas_concept
		icon = GFX_goal_anschluss
		available = {
			is_puppet = no
			is_in_faction = no
		}
		prerequisite = { focus = POL_poland_first }
		x = -3
		y = 1
		relative_position_id = POL_poland_first
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_idea = anti_soviet_pact
			}
		}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = miedzymorze_faction
			hidden_effect = {
				news_event = { hours = 6 id = news.214 }
			}
		}
	}

	focus = {
		id = POL_treaty_with_lithuania
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = POL_the_between_the_seas_concept }

		available = {
			is_faction_leader = yes
		}

		bypass = {
			OR = {
				LIT = {
					OR = {
						is_subject = yes
						exists = no 
						AND = {
							is_in_faction = yes
							NOT = { is_in_faction_with = POL }
						}
					}
				}
				POL = {
					owns_state = 188
					owns_state = 189
					owns_state = 11
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = POL_the_between_the_seas_concept
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_opinion_modifier = { target = LIT modifier = POL_treaty_with_lithuania }
			LIT = { 
				add_opinion_modifier = { target = ROOT modifier = POL_treaty_with_lithuania } 
			}
			if = {
				limit = {
					LIT = {
						is_in_faction = no
					}
				}
				LIT = {
					custom_effect_tooltip = POL_invite_to_faction_tooltip
				}
			}
			hidden_effect = {
				if = {
					limit = {
						LIT = {
							is_in_faction = no
						}
					}
					LIT = {
						country_event = { id = baltic.7 days = 1 }
					}
				}
				#Adds one of those relation boost modifier to Lithuania
			}
		}
	}

	focus = {
		id = POL_the_baltic_alliance
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = POL_treaty_with_lithuania }
		available = {
			OR = {
				LAT = {
					exists = yes
					is_puppet = no
					NOT = { has_war_with = POL }
				}
				EST = {
					exists = yes
					is_puppet = no
					NOT = { has_war_with = POL }
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = POL_treaty_with_lithuania
		cost = 10

		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_opinion_modifier = { 
				target = EST modifier = POL_the_baltic_alliance 
			}
			EST = { 
				add_opinion_modifier = { target = ROOT modifier = POL_the_baltic_alliance } 
			}
			hidden_effect = {
				if = {
					limit = {
						EST = {
							is_in_faction = no
							is_puppet = no
							NOT = { has_war_with = POL }
						}
					}
					EST = {
						country_event = { id = baltic.7 days = 1 }
					}
				}
			}
			add_opinion_modifier = { target = LAT modifier = POL_the_baltic_alliance }
			LAT = { 
				add_opinion_modifier = { target = ROOT modifier = POL_the_baltic_alliance }
			}
			hidden_effect = {
				if = {
					limit = {
						LAT = {
							is_in_faction = no
							is_puppet = no
							NOT = { has_war_with = POL }
						}
					}
					LAT = {
						country_event = { id = baltic.7 days = 1 }
					}
				}
			}
			#Adds the same thing to Estonia and Latvia
			if = {
				limit = {
					EST = {
						is_in_faction = no
						is_puppet = no
						NOT = { has_war_with = POL }
					}
				}
				EST = {
					custom_effect_tooltip = POL_invite_to_faction_tooltip
				}
			}
			if = {
				limit = {
					LAT = {
						is_in_faction = no
						is_puppet = no
						NOT = { has_war_with = POL }
					}
				}
				LAT = {
					custom_effect_tooltip = POL_invite_to_faction_tooltip
				}
			}
		}
	}

	focus = {
		id = POL_internationalism
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = POL_polish_militarism focus = POL_defensive_focus }
		mutually_exclusive = { focus = POL_poland_first }

		x = 2
		y = 1
		relative_position_id = POL_polish_militarism
		cost = 10

		ai_will_do = {
			factor = 2.5
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = POL_internationalism_focus
			#Some sort of Relations boost modifier
		}
	}

	focus = {
		id = POL_authoritarianism
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = POL_internationalism }
		mutually_exclusive = { focus = POL_liberalism }

		x = 1
		y = 1
		relative_position_id = POL_internationalism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = POL_authoritarianism_focus
				days = 720
			}
			#Reduction in Democratic Support
		}
	}

	focus = {
		id = POL_paramilitarism
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = POL_authoritarianism }

		x = 1
		y = 1
		relative_position_id = POL_authoritarianism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = paramilitarism_focus
			#As Per Generic Focus
		}
	}

	focus = {
		id = POL_go_right
		icon = GFX_goal_support_fascism
		prerequisite = { focus = POL_authoritarianism }
		mutually_exclusive = { focus = POL_go_left }

		x = -1
		y = 1
		relative_position_id = POL_authoritarianism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = fascist_influence
				days = 720
			}
			#Increases Fascist Support
		}
	}

	focus = {
		id = POL_military_youth
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = POL_go_right }

		x = 1
		y = 2
		relative_position_id = POL_go_right
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = military_youth_focus
			#As per generic
		}
	}

	focus = {
		id = POL_seek_accommodation_with_germany
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = POL_go_right }
		available = {
			country_exists = GER
			GER = { has_government = fascism }
		}
		
		x = 0
		y = 1
		relative_position_id = POL_go_right
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_opinion_modifier = { target = GER modifier = POL_seek_accommodation_with_germany }
			GER = { add_opinion_modifier = { target = ROOT modifier = POL_seek_accommodation_with_germany } }
			#Relation Boost With Germany
		}
	}

	focus = {
		id = POL_go_left
		icon = GFX_goal_support_communism
		prerequisite = { focus = POL_authoritarianism }
		mutually_exclusive = { focus = POL_go_right }

		x = -3
		y = 1
		relative_position_id = POL_authoritarianism
		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = communist_influence
				days = 720
			}
			#Increases Communist Support
		}
	}

	focus = {
		id = POL_political_commissars
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = POL_go_left }

		x = -1
		y = 2
		relative_position_id = POL_go_left
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = political_commissars_focus
			#as per generic focus
		}
	}

	focus = {
		id = POL_seek_accommodation_with_USSR
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = POL_go_left }
		available = {
			country_exists = SOV
		}
		x = 0
		y = 1
		relative_position_id = POL_go_left
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_opinion_modifier = { target = SOV modifier = POL_seek_accommodation_with_USSR }
			SOV = { add_opinion_modifier = { target = ROOT modifier = POL_seek_accommodation_with_USSR } }
			#Relation Boost with the USSR
		}
	}

	focus = {
		id = POL_liberalism
		icon = GFX_goal_support_democracy
		prerequisite = { focus = POL_internationalism }
		prerequisite = { focus = POL_defensive_focus }
		mutually_exclusive = { focus = POL_authoritarianism }

		x = 3
		y = 1
		relative_position_id = POL_internationalism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_timed_idea = {
				idea = democratic_influence
				days = 720
			}
			#Increase in Democratic Support
		}
	}

	focus = {
		id = POL_intervention_focus
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = POL_liberalism }

		x = 1
		y = 1
		relative_position_id = POL_liberalism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_political_power = 150
			#As per generic
		}
	}

	focus = {
		id = POL_draw_closer_to_britain
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = POL_liberalism }
		available = {
			country_exists = ENG
		}

		x = 3
		y = 1
		relative_position_id = POL_liberalism
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_opinion_modifier = { target = ENG modifier = POL_draw_closer_to_britain }
			ENG = { add_opinion_modifier = { target = ROOT modifier = POL_draw_closer_to_britain } }
			#Relation boost with the UK
		}
	}

	focus = {
		id = POL_volunteer_corps
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = POL_intervention_focus }

		x = 0
		y = 1
		relative_position_id = POL_intervention_focus
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = volunteer_corps_focus
			#As Per Generic Tree
		}
	}

}		
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = portuguese_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = POR
			has_dlc = "La Resistance"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }

	focus = {
		id = POR_colonial_assimilation_policy
		available = {
			any_owned_state = {
				NOT = { is_core_of = ROOT }
			}
		}

		bypass = {
		}

		icon = GFX_focus_generic_military_academy
		x = 2
		y = 0

		cost = 10
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = POR_colonial_assimilation_policy
		}
	}
	
	focus = {
		id = POR_colonial_army
		available = {
			any_owned_state = {
				NOT = { is_core_of = ROOT }
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_colonial_assimilation_policy }

		icon = GFX_focus_generic_little_entente
		x = 0
		y = 1

		relative_position_id = POR_colonial_assimilation_policy
		cost = 10
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = POR_colonial_army
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_francisco_craveiro_lopes
		}
	}

	focus = {
		id = POR_luso_tropicalism
		available = {
			NOT = { has_government = fascism }
			OR = {
				has_full_control_of_state = 796 #North Angola
				has_full_control_of_state = 540 #South Angola
				has_full_control_of_state = 544 #Mozambique
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
					has_government = communism
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_colonial_assimilation_policy }
		mutually_exclusive = { focus = POR_limited_self_rule }
			
		icon = GFX_focus_por_luso_tropicalism
		x = -2
		y = 2

		relative_position_id = POR_colonial_assimilation_policy
		cost = 10
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			unlock_decision_tooltip = POR_mozambique_overseas_territory
			unlock_decision_tooltip = POR_angola_overseas_province
		}
	}

	focus = {
		id = POR_limited_self_rule
		available = {
			OR = {
				has_full_control_of_state = 796 #North Angola
				has_full_control_of_state = 540 #South Angola
				has_full_control_of_state = 544 #Mozambique
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = neutrality
				}			
			}
			modifier = {
				add = 1
				OR = {
					has_government = democratic
					any_country = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
						has_government = democratic
					}
				}		
			}
		}

		bypass = {
		}
		prerequisite = { focus = POR_colonial_army }
		mutually_exclusive = { focus = POR_luso_tropicalism }
			
		icon = GFX_focus_por_limited_self_rule

		x = 0
		y = 1

		relative_position_id = POR_colonial_army
		cost = 10
		completion_reward = {
			add_political_power = 120
			add_manpower = 30000
			ANG = {
				if = {
					limit = { 
						POR = { has_full_control_of_state = 796 }
					}
					transfer_state = 796
					POR = { set_country_flag = POR_released_angola_flag }
				}
				if = {
					limit = { 
						POR = { has_full_control_of_state = 540 }
					}
					transfer_state = 540
					POR = { set_country_flag = POR_released_angola_flag }
				}								
			}

			MZB = {
				if = {
					limit = { 
						POR = { has_full_control_of_state = 544 }
					}
					transfer_state = 544
					POR = { set_country_flag = POR_released_mozambique_flag }
				}	
			}

			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}

				POR = {
					if = {
						limit = { has_country_flag = POR_released_angola_flag }
						set_autonomy = {
						    target = ANG
						    autonomy_state = autonomy_integrated_puppet
						}
					}
					if = {
						limit = { has_country_flag = POR_released_mozambique_flag }
						set_autonomy = {
						    target = MZB
						    autonomy_state = autonomy_integrated_puppet
						}
					}
				}
			}
			else = {
				if = {
					limit = { has_country_flag = POR_released_angola_flag }
					POR = { puppet = ANG }
				}
				if = {
					limit = { has_country_flag = POR_released_mozambique_flag }
					POR = { puppet = MZB }
				}
			}			

			every_other_country = {
				limit = { has_government = democratic }
				add_opinion_modifier = {
					target = POR
					modifier = democratic_leanings_good 
				}
			}

			if = {
				limit = {
					has_completed_focus = POR_allow_free_elections
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = POR_francisco_da_cunha_leal
			}
		}
	}

	focus = {
		id = POR_infrastructure_in_angola
		available = {
			OR = {
				has_full_control_of_state = 796
				796 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_colonial_assimilation_policy }	
			
		icon = GFX_focus_generic_africa_infrastructure
		x = 2
		y = 0

		relative_position_id = POR_limited_self_rule
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 

			796 = {		
				
				add_building_construction = {
					type = naval_base
					level = 2
					province = 2115
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1	
			}

			540 = {		

				add_building_construction = {
					type = naval_base
					level = 3
					province = 8248
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1					
			}				
		}
	}

	focus = {
		id = POR_develop_north_angola
		available = {	
			OR = {
				has_full_control_of_state = 796
				796 = {
					owner = { is_subject_of = ROOT }
				}
			}					
		}

		bypass = {		
		}
		prerequisite = { focus = POR_infrastructure_in_angola }
		prerequisite = { focus = POR_roads_bridges_and_dams }  	
			
		icon = GFX_focus_generic_africa_factory
		x = 0
		y = 1

		relative_position_id = POR_infrastructure_in_angola
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			796 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_resource = {
					type = steel
					amount = 8
				}
			}
		}
	}

	focus = {
		id = POR_develop_south_angola
		available = {
			OR = {
				has_full_control_of_state = 540
				540 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_north_angola }	
			
		icon = GFX_focus_generic_africa_production
		x = 0
		y = 1

		relative_position_id = POR_develop_north_angola
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			540 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 2
					province = 8248
					instant_build = yes
				}

				add_resource = {
					type = steel
					amount = 8
				}

				add_resource = {
					type = rubber
					amount = 4
				}
			}
		}
	}

	focus = {
		id = POR_portuguese_oil
		available = {
			OR = {
				has_full_control_of_state = 796
				796 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_south_angola }
				
		icon = GFX_goal_generic_oil_refinery
		x = -1
		y = 1

		relative_position_id = POR_develop_south_angola
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			796 = {
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}
	}

	focus = {
		id = POR_develop_mozambique
		available = {
			OR = {
				has_full_control_of_state = 544
				544 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_south_angola }
				
		icon = GFX_focus_generic_africa_naval
		x = 1
		y = 1

		relative_position_id = POR_develop_south_angola
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			544 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 2
					province = 2123				
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}
	}

	focus = {
		id = POR_continue_the_public_works
		available = {
			OR = {
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 795 #SANTAREM
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 112 #LISBON
			}
		}

		bypass = {		
		}
			
		icon = GFX_focus_generic_industry_2
		x = 9
		y = 0

		relative_position_id = POR_colonial_assimilation_policy
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {			
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}	
			
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}

					add_building_construction = {
						type = naval_base
						level = 2
						province = 11805					
						instant_build = yes
					}				
				}
			}

			add_ideas = POR_improved_production
		}
	}

	focus = {
		id = POR_instituto_superior_tecnico
		available = {			
		}

		bypass = {
		}
		prerequisite = { focus = POR_continue_the_public_works }	
		icon = GFX_focus_research
		x = 0
		y = 1

		relative_position_id = POR_continue_the_public_works
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_research_slot = 1
		}
	}

	focus = {
		id = POR_ogme
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_build_airforce
		x = -1
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ogme
		}
	}

	focus = {
		id = POR_ogma
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_air_production
		x = 1
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ogma
		}
	}

	focus = {
		id = POR_roads_bridges_and_dams
		available = {	
			OR = {
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 795 #SANTAREM
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 112 #LISBON
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_construct_infrastructure
		x = 2
		y = 0

		relative_position_id = POR_infrastructure_in_angola
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}	
			}

			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 9817					
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}

					add_building_construction = {
						type = industrial_complex
						level = 1	
						instant_build = yes
					}				
				}
			}
		}
	}

	focus = {
		id = POR_extraction_industries
		available = {
			OR = {
				has_full_control_of_state = 112
				has_full_control_of_state = 795
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_roads_bridges_and_dams }	
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1

		relative_position_id = POR_roads_bridges_and_dams
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 112 }	
				unlock_decision_tooltip = POR_develop_lisbon_tungsten_deposits
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				unlock_decision_tooltip = POR_develop_santarem_chromium_deposits
			}			
		}
	}

	focus = {
		id = POR_hydroelectricity
		available = {
			OR = {
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 112 #LISBON
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_extraction_industries }	
		icon = GFX_goal_generic_construction
		x = 0
		y = 1

		relative_position_id = POR_extraction_industries
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_ideas = POR_hydroelectric_power
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}			
					add_extra_state_shared_building_slots = 1	
				}
			}
		}
	}

	focus = {
		id = POR_military_vehicles
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogme }	

		icon = GFX_goal_generic_army_motorized
		x = 0
		y = 1

		relative_position_id = POR_ogme
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 			
			add_tech_bonus = {
				name = POR_military_vehicles
			    bonus = 1.0
			    uses = 1
			    category = motorized_equipment
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}	
		}
	}

	focus = {
		id = POR_portuguese_artillery
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogme }	

		icon = GFX_goal_generic_army_artillery
		x = -2
		y = 1

		relative_position_id = POR_ogme
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_portuguese_artillery
			    bonus = 1.0
			    uses = 1
			    category = artillery
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}			
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = fma
		}
	}

	focus = {
		id = POR_advanced_artillery
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_portuguese_artillery}
		prerequisite = { focus = POR_military_research_facilities}	
		icon = GFX_goal_generic_army_artillery2
		x = 0
		y = 2

		relative_position_id = POR_portuguese_artillery
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_advanced_artillery
			    bonus = 1.0
			    uses = 2
			    category = artillery
			}

			add_tech_bonus = {
				name = POR_advanced_artillery
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			    category = naval_doctrine
			    category = air_doctrine
			}
		}
	}

	focus = {
		id = POR_military_research_facilities
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_military_vehicles focus = POR_portuguese_artillery focus = POR_light_aircraft_focus }	
		icon = GFX_focus_research
		x = 0
		y = 1

		relative_position_id = POR_military_vehicles
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_research_slot = 1
		}
	}

	focus = {
		id = POR_armor_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_military_research_facilities}
		mutually_exclusive = { focus = POR_advanced_light_aircraft}	
		icon = GFX_goal_generic_army_tanks
		x = 0
		y = 1

		relative_position_id = POR_military_research_facilities
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 112 }	
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = POR_armor_focus
			    bonus = 1.0
			    uses = 1
			    category = armor
			}
		}
	}

	focus = {
		id = POR_mechanized_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_armor_focus}	
		icon = GFX_goal_generic_build_tank
		x = 0
		y = 1

		relative_position_id = POR_armor_focus
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_mechanized_focus
			    bonus = 1.0
			    uses = 1
			    category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = POR_light_aircraft_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogma}	
		icon = GFX_goal_generic_air_fighter2
		x = 0
		y = 1

		relative_position_id = POR_ogma
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_light_aircraft_focus
			    bonus = 1.0
			    uses = 1
			    category = light_air
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			air_experience = 25
		}
	}

	focus = {
		id = POR_advanced_light_aircraft
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_light_aircraft_focus}
		mutually_exclusive = { focus = POR_armor_focus}	
		icon = GFX_goal_generic_air_bomber
		x = 0
		y = 2

		relative_position_id = POR_light_aircraft_focus
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_advanced_light_aircraft
			    bonus = 1.0
			    uses = 1
			    category = light_air
			}
			air_experience = 50
			add_ideas = POR_advanced_light_aircraft
		}
	}

	focus = {
		id = POR_jet_research
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_advanced_light_aircraft}	
		icon = GFX_goal_generic_air_fighter
		x = 0
		y = 1

		relative_position_id = POR_advanced_light_aircraft
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_jet_research
			    bonus = 1.0
			    uses = 1
			    category = jet_technology
			}
		}
	}

	focus = {
		id = POR_industrial_modernization
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }
		mutually_exclusive = { focus = POR_food_industries}	
		icon = GFX_goal_generic_construct_civ_factory
		x = 3
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_industrial_modernization
			    bonus = 1.0
			    uses = 2
			    category = industry
			}
		}
	}

	focus = {
		id = POR_a_new_industry
		available = { 
			has_tech = advanced_machine_tools			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_industrial_modernization }
		icon = GFX_focus_generic_industry_3
		x = 0
		y = 1

		relative_position_id = POR_industrial_modernization
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
		   if = {
				limit = { has_full_control_of_state = 112 }
			    112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}				
				}
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			add_ideas = POR_a_new_industry
		}
	}

	focus = {
		id = POR_food_industries
		available = {
			OR = {
				has_full_control_of_state = 180
				has_full_control_of_state = 181
			}		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_continue_the_public_works }
		mutually_exclusive = { focus = POR_industrial_modernization }	
		icon = GFX_goal_generic_consumer_goods
		x = 5
		y = 2

		relative_position_id = POR_continue_the_public_works
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}	
		}
	}

	focus = {
		id = POR_textile_industry
		available = {
			OR = {
				has_full_control_of_state = 179
				has_full_control_of_state = 112
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_food_industries }			
		icon = GFX_goal_generic_trade
		x = 0
		y = 1

		relative_position_id = POR_food_industries
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 179 }	
				179 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_second_navy_reequipment
		available = {			
		}

		bypass = {		
		}
		prerequisite = {		
		}			
		icon = GFX_goal_generic_build_navy
		x = 9
		y = 0

		relative_position_id = POR_continue_the_public_works
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard		
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			unlock_decision_tooltip = POR_buy_ships_britain
			unlock_decision_tooltip = POR_buy_ships_italy	
		}
	}

	focus = {
		id = POR_a_powerful_merchant_marine
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }			
		icon = GFX_goal_generic_navy_battleship
		x = 0
		y = 1

		relative_position_id = POR_second_navy_reequipment
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = POR_a_powerful_merchant_marine
			    bonus = 1.0
			    uses = 1
			    category = dd_tech			   
			}
			add_ideas = POR_convoy_build_efficiency
		}
	}

	focus = {
		id = POR_merchant_marine_protection
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_a_powerful_merchant_marine }			
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 1

		relative_position_id = POR_a_powerful_merchant_marine
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_merchant_marine_protection
			    bonus = 1.0
			    uses = 2
			    category = dd_tech			   
			}

			if = {
		    	limit = {
		    		has_dlc = "Man the Guns"		    		
		    	}
		    	add_tech_bonus = {
		    		name = POR_merchant_marine_protection
				    bonus = 1.0
				    uses = 2
				    category = asw_tech		   
				}
		    }						
		}
	}

	focus = {
		id = POR_submarine_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }			
		icon = GFX_goal_generic_navy_submarine
		x = -2		
		y = 1

		relative_position_id = POR_second_navy_reequipment
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_submarine_effort
			    bonus = 1.0
			    uses = 1
			    category = cat_trade_interdiction			   
			}

			add_tech_bonus = {
				name = POR_submarine_effort
			    bonus = 1.0
			    uses = 2
			    category = ss_tech			   
			}
		}
	}

	focus = {
		id = POR_fuzileiros
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_submarine_effort}
		prerequisite = { focus = POR_merchant_marine_protection }
		icon = GFX_goal_generic_occupy_states_coastal
		x = 0
		y = 3

		relative_position_id = POR_submarine_effort
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_fuzileiros
			    bonus = 1.0
			    uses = 2
			    category = marine_tech			   
			}

			add_tech_bonus = {
				name = POR_fuzileiros
			    bonus = 1.0
			    uses = 2
			    category = tp_tech			   
			}
			# AI will build the required docks for the next focus
			add_ai_strategy = {
				type = building_target
				id = dockyard
				value = 15
			}
		}
	}

	focus = {
		id = POR_naval_research_institute
		available = {	
			num_of_naval_factories > 15		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_fuzileiros }
		icon = GFX_focus_research
		x = 0
		y = 1

		relative_position_id = POR_fuzileiros 
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			navy_experience = 50
			add_research_slot = 1
		}
	}

	focus = {
		id = POR_air_naval_research
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_naval_research_institute }
		prerequisite = { focus = POR_advanced_light_aircraft }			
		icon = GFX_goal_generic_air_naval_bomber
		x = 0
		y = 1

		relative_position_id = POR_naval_research_institute 
		cost = 10
		completion_reward = { 	
			navy_experience = 50
			air_experience = 50
		}
	}

	focus = {
		id = POR_arsenal_do_alfeite
		available = {
			has_full_control_of_state = 112		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }			
		icon = GFX_goal_generic_navy_cruiser
		x = 2		
		y = 1

		relative_position_id = POR_second_navy_reequipment
		cost = 20
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = ca_tech	   
			}
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = cl_tech	   
			}

			112 = { #Lisbon
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard		
					level = 3
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base		
					level = 2
					instant_build = yes
					province = 11805
				}
			}
		}
	}

	focus = {
		id = POR_national_cruiser_production
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_arsenal_do_alfeite }			
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 0		
		y = 1

		relative_position_id = POR_arsenal_do_alfeite
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_national_cruiser_production
			    bonus = 1.0
			    uses = 1
			    category = ca_tech	   
			}
			add_tech_bonus = {
				name = POR_national_cruiser_production
			    bonus = 1.0
			    uses = 1
			    category = cl_tech	   
			}

			navy_experience = 50
		}
	}

	focus = {
		id = POR_battleship_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_focus_generic_navy_battleship2
		x = -1		
		y = 1

		relative_position_id = POR_national_cruiser_production
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = POR_battleship_effort
			    bonus = 1.0
			    uses = 2
			    category = bb_tech	   
			}
			add_tech_bonus = {
				name = POR_battleship_effort
			    bonus = 1.0
			    uses = 1
			    category = cat_fleet_in_being	   
			}
		}
	}

	focus = {
		id = POR_carrier_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_goal_generic_navy_carrier
		x = 1		
		y = 1

		relative_position_id = POR_national_cruiser_production
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_carrier_effort
			    bonus = 1.0
			    uses = 2
			    category = cv_tech	   
			}

			add_tech_bonus = {
				name = POR_carrier_effort
			    bonus = 1.0
			    uses = 1
			    category = base_strike_main   
			}
		}
	}

	focus = {
		id = POR_atlantic_defense_strategy
		available = {
			OR = {
				has_full_control_of_state = 698
				has_full_control_of_state = 697
				has_full_control_of_state = 702
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_focus_generic_destroyer
		x = 0		
		y = 2

		relative_position_id = POR_national_cruiser_production
		cost = 10
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 698 }
				698 = { #Azores
					add_building_construction = {
						type = coastal_bunker		
						level = 2
						province = 1751
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 697 }
				697 = { #Madeira
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 3118
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 702 }
				702 = { #Cape Verde
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 13014
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}			
		}
	}

	focus = {
		id = POR_endless_sea
		available = {
			OR = {
				has_full_control_of_state = 321
				has_full_control_of_state = 729
				has_full_control_of_state = 721
			}
		}

		bypass = {
		}
		prerequisite = { focus = POR_atlantic_defense_strategy }
		icon = GFX_focus_generic_coastal_fort
		x = 0
		y = 1

		relative_position_id = POR_atlantic_defense_strategy
		cost = 20
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = POR_endless_sea
 			if = {
				limit = { has_full_control_of_state = 321 }
	 			321 = { #Goa
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 1273
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 1273
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 729 }
				729 = { #Macau
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 4189
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 4189
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 721 }
				721 = { #Portuguese Timor
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 12190
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 12190
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_army_reorganization
		available = {			
		}

		bypass = {		
		}
		prerequisite = {
		}
		icon = GFX_focus_generic_combined_arms
		x = 7	
		y = 0

		relative_position_id = POR_second_navy_reequipment
		cost = 10
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = { 	
			remove_ideas = POR_unreliable_army
			army_experience	= 15
			add_stability = -0.05
		}
	}

	focus = {
		id = POR_metropolitan_army
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_army_reorganization }
		icon = GFX_focus_eng_move_to_secure_the_dominions
		x = -1		
		y = 1

		relative_position_id = POR_army_reorganization
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			army_experience	= 20
			add_tech_bonus = {
				name = POR_metropolitan_army
			    bonus = 1.0
			    uses = 2
			    category = infantry_weapons
				category = armor
				category = artillery
			}
		}
	}

	focus = {
		id = POR_standardization
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_metropolitan_army }
		icon = GFX_focus_generic_rubber
		x = 0		
		y = 1

		relative_position_id = POR_metropolitan_army
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_ideas = POR_standardization
		}
	}

	focus = {
		id = POR_defend_the_borders
		available = {
			OR = {
				has_full_control_of_state = 112
				has_full_control_of_state = 180
				has_full_control_of_state = 179
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_standardization }
		mutually_exclusive = { focus = POR_rebuild_the_lines_of_torres_vedras }
		icon = GFX_focus_generic_provoke_border_clashes
		x = -1		
		y = 1

		relative_position_id = POR_standardization
		cost = 10
		completion_reward = { 
		#Add coastal fort to each port
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					    level = 1
					    instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
		}
	}

	focus = {
		id = POR_rebuild_the_lines_of_torres_vedras
		available = {
			has_full_control_of_state = 112		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_standardization }
		mutually_exclusive = { focus = POR_defend_the_borders }
		icon = GFX_goal_generic_defence
		x = 1		
		y = 1

		relative_position_id = POR_standardization
		cost = 10
		completion_reward = { 
			112 = { #Lisbon
				add_building_construction = {
				    type = bunker
				    level = 3
				    instant_build = yes
				    province = {
				        all_provinces = yes
				        limit_to_border = yes
				    }
				}

				add_building_construction = {
				    type = coastal_bunker
				    level = 2
				    instant_build = yes	
				    province = 11805			    
				}
			}
		}
	}

	focus = {
		id = POR_tropas_paraquedistas
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_defend_the_borders focus = POR_rebuild_the_lines_of_torres_vedras }	

		icon = GFX_focus_generic_paratrooper
		x = 1
		y = 1

		relative_position_id = POR_defend_the_borders
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = { 
			add_tech_bonus = {
				name = POR_tropas_paraquedistas
				bonus = 2.0
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = POR_regimento_de_comandos
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_tropas_paraquedistas }	
		icon = GFX_goal_generic_special_forces
		x = 0
		y = 1

		relative_position_id = POR_tropas_paraquedistas
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = special_forces
			add_tech_bonus = {
				name = POR_regimento_de_comandos
				bonus = 1.0
				uses = 2
				technology = paratroopers
				technology = paratroopers2
				technology = marines
				technology = marines2
				technology = tech_mountaineers
				technology = tech_mountaineers2
			}
		}
	}

	focus = {
		id = POR_corpo_do_estado_maior
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_army_reorganization }
		icon = GFX_goal_generic_army_doctrines
		x = 1		
		y = 1

		relative_position_id = POR_army_reorganization
		cost = 10
		completion_reward = { 	
			add_ideas = POR_corpo_do_estado_maior	
			army_experience = 20
		}
	}

	focus = {
		id = POR_staff_wargames
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_corpo_do_estado_maior }
		icon = GFX_focus_generic_license_production
		x = 0		
		y = 1

		relative_position_id = POR_corpo_do_estado_maior
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = POR_staff_wargames
			    bonus = 1.0
			    uses = 2
			    category = land_doctrine
			}
		}
	}

	focus = {
		id = POR_field_maneuvers
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_staff_wargames }	
		icon = GFX_focus_generic_manpower
		x = 1
		y = 1

		relative_position_id = POR_staff_wargames
		cost = 10

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = { 
			army_experience = 15
			add_tech_bonus = {
				name = POR_field_maneuvers
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			}
		}
	}

	focus = {
		id = POR_popular_front
		available = {			
		}

		bypass = {		
		}
		mutually_exclusive = { focus = POR_estado_novo}
		prerequisite = {		
		}			
		icon = GFX_focus_generic_strike_at_democracy1
		x = 9
		y = 0

		relative_position_id = POR_army_reorganization
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_party_name = { 
			    ideology = communism
			    long_name = POR_communism2_party_long
			    name = POR_communism2_party
			}

			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_popularity = {
			    ideology = democratic
			    popularity = 0.05
			}
			add_ideas = internationalism
			add_political_power = 100
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_maria_lamas
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = POR_fernando_dos_santos_costa
			show_ideas_tooltip = POR_jose_adriano_pequito_rebelo
			custom_effect_tooltip = remove_chief_of_army
			show_ideas_tooltip = POR_rolao_preto
		}
	}

	focus = {
		id = POR_nation_in_arms
		available = {		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_popular_front }			
		icon = GFX_focus_generic_attack_portugal
		x = -5
		y = 1

		relative_position_id = POR_popular_front
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = { 
			add_popularity = {
			    ideology = communism
			    popularity = 0.1
			}
			add_war_support = 0.1
			add_ideas = POR_nation_in_arms
		}
	}

	focus = {
		id = POR_unify_leftist_youth_wings
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_nation_in_arms }
		icon = GFX_goal_generic_war_with_comintern
		x = -1		
		y = 1

		relative_position_id = POR_nation_in_arms
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_ideas = POR_unified_youth_wings
		}
	}

	focus = {
		id = POR_nationalize_industry
		available = {
			OR = {
				has_full_control_of_state = 112
				has_full_control_of_state = 180
				has_full_control_of_state = 181
				has_full_control_of_state = 795
			}
		}

		bypass = {
			NOT = { has_full_control_of_state = 112 }
			NOT = { has_full_control_of_state = 180 }
			NOT = { has_full_control_of_state = 181 }
			NOT = { has_full_control_of_state = 795 }
		}
		prerequisite = { focus = POR_nation_in_arms }
		icon = GFX_goal_generic_soviet_construction
		x = 1		
		y = 1

		relative_position_id = POR_nation_in_arms
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex		
						level = 2
						instant_build = yes
					}				
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}				
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = { #Guarda
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}				
				}
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				795 = { #Santarem
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}				
				}
			}
			add_stability = -0.20	
		}
	}

	focus = {
		id = POR_reorganization_of_the_communist_party
		available = {
			communism > 0.4
		}

		bypass = {		
		}
		prerequisite = { focus = POR_nationalize_industry }
		prerequisite = { focus = POR_unify_leftist_youth_wings }
		icon = GFX_focus_generic_soviet_politics
		x = -1		
		y = 1

		relative_position_id = POR_nationalize_industry
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}
		completion_reward = {
			SOV = {
				if = {
					limit = { has_government = communism }
					add_opinion_modifier = {
					    target = POR
					    modifier = POR_neutrality_opinion_communism
					}
				}					
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_bento_de_jesus_caraca
			remove_ideas = POR_unstable_republic 
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				set_politics = {
					ruling_party = communism
				}

				if = { #Low Stability triggers a Civil War
					limit = {
						has_stability < 0.4
					}
					set_temp_variable = { POR_communist_cw_opposition = party_popularity@neutrality }
					multiply_temp_variable = { POR_communist_cw_opposition = 0.8 }
					add_to_temp_variable = { POR_communist_cw_opposition = party_popularity@democratic }
					add_to_temp_variable = { POR_communist_cw_opposition = party_popularity@fascism }
					start_civil_war = {	
						ideology = neutrality
						size = POR_communist_cw_opposition
						capital = 180
						states = { 181 }
					}
				}
				else = {
					add_stability = -0.1
				}
				custom_effect_tooltip = POR_potential_civil_war_low_requirement_tt
			}
			else = {
				add_political_power = 120
				add_popularity = {
				    ideology = communism
				    popularity = 0.05
				}
			}
		}
	}

	focus = {
		id = POR_join_the_comintern
		available = {
			is_in_faction = no
			SOV = { is_faction_leader = yes }
			NOT = { has_war_with = SOV }
			has_government = communism	
		}

		bypass = {	
			is_in_faction_with = SOV
		}
		prerequisite = { focus = POR_reorganization_of_the_communist_party }	
		mutually_exclusive = { focus = POR_the_popular_front_bloc }
		icon = GFX_focus_generic_join_comintern
		x = 0		
		y = 3

		relative_position_id = POR_nation_in_arms
		cost = 10
		completion_reward = { 	
			SOV = {
				country_event = { id = generic.2 hours = 4 }
			}		
		}
	}

	focus = {
		id = POR_research_collaboration
		available = {
			is_in_faction_with = SOV			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_join_the_comintern }			
		icon = GFX_focus_generic_socialist_science
		x = -1		
		y = 1

		relative_position_id = POR_join_the_comintern
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			SOV = { add_to_tech_sharing_group = comintern_research }
			add_to_tech_sharing_group = comintern_research
		}
	}

	focus = {
		id = POR_cooperate_with_french_militants
		available = {
			any_other_country = {
				has_government = fascism
				has_war_with = FRA
			}
		}

		bypass = {
			NOT = {
				any_other_country = {
					has_government = fascism
					has_war_with = FRA
				}
			}		
		}
		prerequisite = { focus = POR_join_the_comintern  focus = POR_the_popular_front_bloc}			
		icon = GFX_focus_chi_reach_out_to_france
		x = 1		
		y = 1

		relative_position_id = POR_join_the_comintern
		cost = 10
		completion_reward = { 	
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1000
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 1000
				}
			}

			send_equipment = {
			    equipment = infantry_equipment
			    amount = 1000
			    target = FRA
			}

			send_equipment = {
			    equipment = artillery_equipment
			    amount = 1000
			    target = FRA
			}

			add_ai_strategy = {
				type = befriend
				id = FRA
				value = 100
			}
			FRA = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
			}
		}
	}

	focus = {
		id = POR_anti_fascism

		select_effect = {
			every_country = {
				limit = {
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
			any_country = {
				has_government = fascism
				NOT = { is_in_faction_with = ROOT }
				OR = {
					is_major = yes
					is_neighbor_of = ROOT
				}
			}
		}

		bypass = {
		}
		prerequisite = { focus = POR_cooperate_with_french_militants }			
		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 0		
		y = 1

		relative_position_id = POR_cooperate_with_french_militants
		cost = 10
		completion_reward = {
			hidden_effect = {
				every_country = {
					limit = {
						has_government = fascism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
					}
				}
			}
			custom_effect_tooltip = POR_anti_fascism_tt
			every_country = { #TOOLTIP Support
				limit = {
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
			}

			hidden_effect = {
				random_country = {
					limit = {
						has_government = fascism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_support_the_spanish_republic
		available = {
			SPR_scw_in_progress = yes
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_country_exist_tt
				    country_exists = SPR
			    }
			    custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_at_peace_tt
					NOT = { has_war_with = SPR }
			    }
			}	
		}

		bypass = {
			OR = {
				has_global_flag = scw_over
				if = { 
					limit = { NOT = { has_global_flag = spanish_civil_war } }
					NOT = { country_exists = SPR }
				}
				else = {
					NOT = { country_exists = SPD }
				}
			}
		}
		prerequisite = { focus = POR_popular_front }
		mutually_exclusive = { focus = POR_strict_neutrality_in_the_spanish_civil_war focus = POR_support_the_spanish_nationalists focus = POR_a_royal_wedding }				
		icon = GFX_goal_support_communism
		x = 0
		y = 1

		relative_position_id = POR_popular_front
		cost = 10
		completion_reward = {
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_effect_tooltip = POR_spanish_republic_tt
			} 	
			SPD = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}			
			add_ideas = POR_volunteers_in_the_war_republican
			add_manpower = -10000
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
				send_equipment = {
				    equipment = infantry_equipment
				    amount = 2000
				    target = SPD
				}
			}
			custom_effect_tooltip = POR_support_the_spanish_republic_effect_tooltip_tt
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = POR_workers_of_iberia_unite
		available = {
			SPR_scw_in_progress = yes
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_country_exist_tt
				    country_exists = SPR
			    }
			    custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_at_peace_tt
					NOT = { has_war_with = SPR }
			    }
			}
			else = {
				country_exists = SPD
				NOT = {has_war_with = SPD }
			}
			is_puppet = no
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_support_the_spanish_republic }	
		mutually_exclusive = { focus = POR_visit_the_front }		
		icon = GFX_focus_por_workers_of_iberia
		x = -2		
		y = 1

		relative_position_id = POR_support_the_spanish_republic
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			# Event that add NS to POR and SPD
			hidden_effect = {				
				country_event = {
					id = lar_portugal_iberian_workers_united.1
					hours = 6
				}
				SPD = {
					country_event = {
						id = lar_portugal_iberian_workers_united.1
						hours = 6
					}
				}
			}
			custom_effect_tooltip = POR_iberian_workers_effect_tooltip_tt
			#Trigger civil war
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				set_politics = {
					ruling_party = communism
				}
			}
			if = {
				limit = {
					has_civil_war = no
				}
				set_temp_variable = { POR_communist_cw_opposition = party_popularity@democratic }
				multiply_temp_variable = { POR_communist_cw_opposition = 0.8 }
				add_to_temp_variable = { POR_communist_cw_opposition = party_popularity@neutrality }
				add_to_temp_variable = { POR_communist_cw_opposition = party_popularity@fascism }
				hidden_effect = {
					start_civil_war = {	
						ideology = neutrality
						size = POR_communist_cw_opposition
						capital = 180
						states = { 181 }
					}
				}
				custom_effect_tooltip = POR_workers_of_iberia_unite_civil_war_tt				
			}
			else = {
				add_stability = -0.2
			}
			hidden_effect = {
				set_country_flag = supports_SPD_flag
			}
			#Communist Portugal joins SPD
			if = {
				limit = { country_exists = SPA }
				add_to_war = { targeted_alliance = SPD enemy = SPA hostility_reason = asked_to_join }
			}
			if = {
				limit = { country_exists = SPC }
				add_to_war = { targeted_alliance = SPD enemy = SPC hostility_reason = asked_to_join }
			}
			if = {
				limit = { country_exists = SPB }
				add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
			}
			effect_tooltip = {
				give_military_access = SPD
				SPD = { give_military_access = ROOT }
			}
			hidden_effect = {
				#Grant military access
				diplomatic_relation = {
					country = SPD
					relation = military_access
					active = yes
				}
				SPD = {
					diplomatic_relation = {
						country = POR
						relation = military_access
						active = yes
					}
				}
			}
			#Non-Aligned Portugal joins SPA
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = POR
						has_government = neutrality
					}
					set_country_flag = POR_non_aligned_portugal_supports_SPA_flag
					if = {
						limit = { country_exists = SPA }
						add_to_war = { targeted_alliance = SPA enemy = SPD hostility_reason = asked_to_join }
						if = {
							limit = { country_exists = SPC }
							add_to_war = { targeted_alliance = SPA enemy = SPC hostility_reason = asked_to_join }
						}
						if = {
							limit = { country_exists = SPB }
							add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
						}
					}
				}
			}
			custom_effect_tooltip = POR_fascist_portugal_joins_scw_tt

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = SPD
					value = 100
				}
				SPD = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = POR_the_iberian_socialist_union
		available = {
			has_government = communism
			has_global_flag = scw_over
		}

		bypass = {
		}
		prerequisite = { focus = POR_workers_of_iberia_unite }			
		icon = GFX_focus_generic_befriend_portugal
		x = 0		
		y = 1

		relative_position_id = POR_workers_of_iberia_unite
		cost = 10
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				effect_tooltip = {
					custom_effect_tooltip = POR_the_iberian_socialist_union_cosmetic_name_tt
					hidden_effect = {
						every_state = {
							limit = {
								OR = {
									state = 118
									has_state_flag = SPR_core_of_spain_flag
								}
							}
							add_core_of = ROOT
						}
					}
					custom_effect_tooltip = POR_the_iberian_socialist_union_cores_tt
					custom_effect_tooltip = POR_the_iberian_socialist_union_annex_puppets_tt
					custom_effect_tooltip = POR_the_iberian_socialist_union_tt
					every_country = {
						limit = {
							OR = {
								tag = GLC
								tag = NAV
								tag = CAT
								tag = ADU
							}
							NOT = { has_war_with = ROOT }
							NOT = { is_puppet_of = ROOT }
						}
						country_event = { id = lar_portugal_iberian_workers_united.2 hours = 6 }
					}
				}
			}
			else = {
				hidden_effect = {
					set_cosmetic_tag = ESU_POR_unified
				}
				custom_effect_tooltip = POR_the_iberian_socialist_union_cosmetic_name_tt
				#Get cores on all Spanish cores and Gibraltar
				hidden_effect = {
					every_state = {
						limit = {
							OR = {
								state = 118
								has_state_flag = SPR_core_of_spain_flag
							}
						}
						add_core_of = ROOT
					}
				}
				custom_effect_tooltip = POR_the_iberian_socialist_union_cores_tt
				if = { # Any Spanish Puppet will get annexed
					limit = {
						any_country = {
							OR = {
								original_tag = SPR
								tag = GLC
								tag = NAV
								tag = CAT
								tag = ADU
							}
							is_puppet_of = ROOT
						}
					}
					hidden_effect = {
						every_country = {
							limit = {
								OR = {
									original_tag = SPR
									tag = GLC
									tag = NAV
									tag = CAT
									tag = ADU
								}
								is_puppet_of = ROOT
							}
							ROOT = {
								annex_country = {
								    target = PREV
								    transfer_troops = yes
								}
							}
						}
					}
				}
				custom_effect_tooltip = POR_the_iberian_socialist_union_annex_puppets_tt
				# Event for annexation sent to independent Spanish tags
				every_country = {
					limit = {
						OR = {
							tag = SPD
							tag = GLC
							tag = NAV
							tag = CAT
							tag = ADU
						}
						NOT = { has_war_with = ROOT }
						NOT = { is_puppet_of = ROOT }
					}
					country_event = { id = lar_portugal_iberian_workers_united.2 hours = 6 }
				}
			}
		}
	}

	focus = {
		id = POR_the_popular_front_bloc
		available = {
			has_global_flag = scw_over
			has_government = communism			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_the_iberian_socialist_union }	
		mutually_exclusive = { focus = POR_join_the_comintern }		
		icon = GFX_focus_generic_diplomatic_treaty
		x = 0		
		y = 1

		relative_position_id = POR_the_iberian_socialist_union
		cost = 10
		completion_reward = {
			create_faction = POR_popular_front_bloc
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = communism
					is_in_faction = yes
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_iberian_communism
				}
			}
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = communism
					is_in_faction = no
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_iberian_communism
				}
				hidden_effect = { 
					country_event = generic.5
				}				
				custom_effect_tooltip = POR_the_popular_front_bloc_tt
			}
			custom_effect_tooltip = POR_the_popular_front_bloc_explanatory_tt
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					NOT = { has_government = communism }
					communism > 0.19
				}
				add_timed_idea = {
					idea = POR_iberian_communism_pressure
					days = 730
				}
			}
			# SPA Iberian Pact - either POR or SPA join a faction - the other must be added too.
			if = {
				limit = {
					has_country_flag = SPA_iberian_pact
				}
				save_event_target_as = iberian_pact_invitee
				every_other_country = {
					limit = {
						OR = {
							original_tag = POR
							original_tag = SPA
						}
						has_country_flag = SPA_iberian_pact
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_in_faction = yes }
					}
					country_event = lar_spain.28
				}
			}
		}
	}

	focus = {
		id = POR_latin_american_communism
		available = {
			has_global_flag = scw_over
			has_government = communism
			OR = {
				country_exists = BRA country_exists = MEX
				country_exists = COL country_exists = ARG
				country_exists = PRU country_exists = VEN
				country_exists = CHL country_exists = GUA
				country_exists = ECU country_exists = CUB
				country_exists = BOL country_exists = HAI
				country_exists = DOM country_exists = HON
				country_exists = PAR country_exists = ELS
				country_exists = NIC country_exists = COS
				country_exists = PAN country_exists = URG
			}				
		}

		bypass = {		
		}
		prerequisite = { focus = POR_the_popular_front_bloc }			
		icon = GFX_focus_por_latin_american_communism
		x = 0		
		y = 1

		relative_position_id = POR_the_popular_front_bloc
		cost = 10
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						TAG = BRA TAG = MEX
						TAG = COL TAG = ARG
						TAG = PRU TAG = VEN
						TAG = CHL TAG = GUA
						TAG = ECU TAG = CUB
						TAG = BOL TAG = HAI
						TAG = DOM TAG = HON
						TAG = PAR TAG = ELS
						TAG = NIC TAG = COS
						TAG = PAN TAG = URG
					}
					has_government = communism
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_iberian_communism
				}
			}
			every_other_country = {
				limit = {
					OR = {
						TAG = BRA TAG = MEX
						TAG = COL TAG = ARG
						TAG = PRU TAG = VEN
						TAG = CHL TAG = GUA
						TAG = ECU TAG = CUB
						TAG = BOL TAG = HAI
						TAG = DOM TAG = HON
						TAG = PAR TAG = ELS
						TAG = NIC TAG = COS
						TAG = PAN TAG = URG
					}
					NOT = { has_government = communism }
				}
				add_popularity = {
				    ideology = communism
				    popularity = 0.05
				}
				add_timed_idea = {
					idea = communist_influence
					days = 730
				}	
			}
			add_ideas = POR_spread_communism_overseas
		}
	}

	focus = {
		id = POR_our_comrades_overseas
		available = {
			has_global_flag = scw_over
			has_government = communism
			any_country = {
				OR = {
					TAG = BRA TAG = MEX
					TAG = COL TAG = ARG
					TAG = PRU TAG = VEN
					TAG = CHL TAG = GUA
					TAG = ECU TAG = CUB
					TAG = BOL TAG = HAI
					TAG = DOM TAG = HON
					TAG = PAR TAG = ELS
					TAG = NIC TAG = COS
					TAG = PAN TAG = URG						
				}
				has_government = communism
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_latin_american_communism }			
		icon = GFX_focus_hol_legacy_of_the_de_zeven_provincien_mutiny
		x = 0		
		y = 1

		relative_position_id = POR_latin_american_communism
		cost = 10
		completion_reward = { 
			every_other_country = {
				limit = {
					OR = {
						TAG = BRA TAG = MEX
						TAG = COL TAG = ARG
						TAG = PRU TAG = VEN
						TAG = CHL TAG = GUA
						TAG = ECU TAG = CUB
						TAG = BOL TAG = HAI
						TAG = DOM TAG = HON
						TAG = PAR TAG = ELS
						TAG = NIC TAG = COS
						TAG = PAN TAG = URG						
					}
					has_government = communism			
				}
				if = {
					limit = { is_in_faction = no }
					hidden_effect = { 
						country_event = generic.5
					}				
					custom_effect_tooltip = POR_the_popular_front_bloc_tt
				}
			}
			custom_effect_tooltip = POR_our_comrades_overseas_tt
		}
	}


	focus = {
		id = POR_visit_the_front
		available = {
			SPR_scw_in_progress = yes
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_country_exist_tt
				    country_exists = SPR
			    }
			    custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_at_peace_tt
					NOT = { has_war_with = SPR }
			    }
			}
			else = {
				country_exists = SPD
				NOT = {has_war_with = SPD }
			}
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_support_the_spanish_republic }	
		mutually_exclusive = { focus = POR_workers_of_iberia_unite}		
		icon = GFX_focus_eng_special_air_service
		x = 2		
		y = 1

		relative_position_id = POR_support_the_spanish_republic
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_visit_the_front
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			}
			add_tech_bonus = {
				name = POR_visit_the_front
			    bonus = 0.5
			    uses = 1
			    category = light_air
			}
			add_tech_bonus = {
				name = POR_visit_the_front
			    bonus = 0.5
			    uses = 1
			    category = cat_light_armor
			}
			army_experience = 20
			air_experience = 10

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = SPD
					value = 100
				}
				SPD = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
			}			
		}
	}				
	
	focus = {
		id = POR_they_need_our_help

		select_effect = {
			if = {
				limit = {
					country_exists = SPA
					is_neighbor_of = SPA
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPA
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPB
					is_neighbor_of = SPB
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPB
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPC
					is_neighbor_of = SPC
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPC
					value = 100
				}
			}
		}

		available = {
			has_civil_war = no
			SPR_scw_in_progress = yes
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_country_exist_tt
				    country_exists = SPR
			    }
			    custom_trigger_tooltip = {
				    tooltip = POR_spr_tooltip_at_peace_tt
					NOT = { has_war_with = SPR }
			    }
			}
			else = {
				country_exists = SPD
				NOT = {has_war_with = SPD }
			}
			has_government = communism
			is_puppet = no
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_visit_the_front }			
		icon = GFX_focus_intervention_spain_republic
		x = 0		
		y = 2

		relative_position_id = POR_visit_the_front
		cost = 10
		completion_reward = { 	
			unlock_decision_tooltip = POR_fight_alongside_the_republic
			if = { 
				limit = { country_exists = SPA }
				SPA = {
					country_event = { id = lar_portugal_spanish_civil_war.1 }
				}
			}
			if = { 
				limit = { country_exists = SPB }
				SPB = {
					country_event = { id = lar_portugal_spanish_civil_war.1 }
				}
			}
			if = { 
				limit = { country_exists = SPC }
				SPC = {
					country_event = { id = lar_portugal_spanish_civil_war.1 }
				}
			}
		}
	}

	focus = {
		id = POR_intervention_in_spain

		select_effect = {
			every_country = {
				limit = {
					original_tag = SPR
					NOT = { has_government = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
				POR = {
					add_ai_strategy = {
						type = befriend
						id = PREV
						value = -100
					}
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -100
					}
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {				
			has_global_flag = scw_over
			OR = {
				has_government = democratic
				has_government = communism
			}
			any_country = {
				original_tag = SPR
				NOT = { has_government = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_completed_focus = POR_support_the_spanish_republic
				NOT = { has_completed_focus = POR_join_the_comintern }
			}
			modifier = {
				factor = 100
				has_completed_focus = POR_join_the_comintern
				SPD = { has_completed_focus = SPR_against_trotskyism_and_stalinism }
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_they_need_our_help focus = POR_allow_free_elections }			
		icon = GFX_focus_focus_fra_intervention_spain
		x = 0		
		y = 1

		relative_position_id = POR_they_need_our_help
		cost = 10
		completion_reward = {
			hidden_effect = {
				every_country = {
					limit = {
						original_tag = SPR
						NOT = { has_government = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					POR = {
						create_wargoal = {
						  	target = PREV
						    type = topple_government
						}
					}
				}
			}
			custom_effect_tooltip = POR_intervention_in_spain_tt

			hidden_effect = {
				every_country = {
					limit = {
						original_tag = SPR
						NOT = { has_government = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					POR = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}

	}

	focus = {
		id = POR_securing_the_free_world
		available = {			
			has_global_flag = scw_over
			threat > 0.4
			has_government = democratic	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_allow_free_elections }

		icon = GFX_focus_generic_treaty
		x = 2		
		y = 1

		relative_position_id = POR_they_need_our_help
		cost = 10
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
						OR = {
							has_government = democratic
							has_government = neutrality
						}
						is_major = no
					}
					POR = { 
						give_guarantee = PREV 

						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}			
			}
			custom_effect_tooltip = portugal_guarantees_freedom_tt
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = POR_protect_chinese_civilians

		select_effect = {
			random_country = {
				limit = { controls_state = 592 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {	
			has_global_flag = scw_over	
			592 = {
				owner = { 
					has_war = yes
					NOT = { is_in_faction_with = ROOT } 
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_they_need_our_help focus = POR_allow_free_elections focus = POR_the_popular_front_bloc }			
		icon = GFX_focus_chi_united_front
		x = -2		
		y = 1

		relative_position_id = POR_they_need_our_help
		cost = 10
		completion_reward = { 
			592 = {
				owner =  {				
					ROOT = {
						create_wargoal = {
						  	target = PREV
						    type = annex_everything
						}						
					}
				}				
			}

			hidden_effect = {
				random_country = {
					limit = { controls_state = 592 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_strict_neutrality_in_the_spanish_civil_war
		available = {
			SPR_scw_in_progress = yes			
		}

		bypass = {
			has_global_flag = scw_over	
		}
		prerequisite = { focus = POR_popular_front focus = POR_estado_novo }
		mutually_exclusive	= { focus = POR_support_the_spanish_republic focus = POR_support_the_spanish_nationalists focus = POR_a_royal_wedding }
		icon = GFX_goal_generic_neutrality_focus
		x = 5
		y = 0

		relative_position_id = POR_support_the_spanish_republic
		cost = 10
		completion_reward = { 	
			every_other_country = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_neutrality_opinion_trade
				}					
			}
			every_other_country = {
				limit = {
					has_government = democratic
				}				 								
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_neutrality_opinion_democratic
				}
			}
		}
	}

	focus = {
		id = POR_british_investment_in_mines
		available = {
			NOT = { has_government = communism }
			ENG = {
				exists = yes
				NOT = { has_war_with = ROOT }
				has_civil_war = no
				has_capitulated = no
				owns_state = 126 #Owns London
			}	
		}

		bypass = {
			NOT = { country_exists = ENG }	
		}
		prerequisite = { focus = POR_strict_neutrality_in_the_spanish_civil_war }	
		icon = GFX_goal_generic_construct_civilian
		x = -1		
		y = 1

		relative_position_id = POR_strict_neutrality_in_the_spanish_civil_war
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 112 }
				add_resource = {
				    type = tungsten
				    amount = 50
				    state = 112 #Lisbon
				}
			}
			add_tech_bonus = {
				name = POR_british_investment_in_mines
			    bonus = 1.0
			    uses = 2
			    category = industry
			}
			add_timed_idea = {
				idea = POR_british_influence
				days = 1460
			}

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = ENG
					value = 50
				}
				ENG = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
				}
			}	
		}
	}

	focus = {
		id = POR_british_guns
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_strict_neutrality_in_the_spanish_civil_war }	
		icon = GFX_goal_generic_military_sphere
		x = 1		
		y = 1

		relative_position_id = POR_strict_neutrality_in_the_spanish_civil_war
		cost = 10
		completion_reward = { 
			unlock_decision_tooltip = POR_buy_aa_in_britain	
			unlock_decision_tooltip = POR_buy_at_in_britain
		}
	}

	focus = {
		id = POR_british_industrial_investments
		available = {
			has_capitulated = no
			ENG = {
				exists = yes
				NOT = { has_war_with = ROOT }
				has_civil_war = no
				has_capitulated = no
				owns_state = 126 #Owns London
			}
		}

		bypass = {
			NOT = { country_exists = ENG }	
		}
		prerequisite = { focus = POR_british_investment_in_mines focus = POR_british_guns} 
		icon = GFX_focus_generic_industry_3
		x = 1		
		y = 1

		relative_position_id = POR_british_investment_in_mines
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}			
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = { #Guarda
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}			
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {has_completed_focus = POR_estado_novo}
				remove_ideas = POR_estado_novo
			}

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = ENG
					value = 100
				}
				ENG = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = POR_allow_free_elections
		available = {
			democratic > 0.5
			has_war = no
		}

		bypass = {		
		}
		prerequisite = { focus = POR_british_industrial_investments }	
		icon = GFX_goal_support_democracy
		x = 0		
		y = 1

		relative_position_id = POR_british_industrial_investments
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}
		completion_reward = {
			every_other_country = {
				limit = {
					has_government = democratic
				}
					 								
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_election_opinion_democratic
				}
			}
			remove_ideas = POR_unstable_republic
			if = {
				limit = {
					has_idea = internationalism
				}
				remove_ideas = internationalism
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_jaime_cortesao
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = POR_jose_manuel_sarmento_de_beires
			if = {
				limit = {
					has_completed_focus = POR_limited_self_rule
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = POR_francisco_da_cunha_leal
			}
			create_corps_commander = {
				name = "Josﾃｩ Mendes dos Reis"
				portrait_path = "gfx/leaders/Europe/Portrait_Europe_Generic_land_4.dds"
				traits = { war_hero infantry_officer }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
			create_navy_leader = {
				name = "Armando Pereira de Castro Agatﾃ｣o Lanﾃｧa"
				portrait_path = "gfx/leaders/Europe/Portrait_Europe_Generic_navy_1.dds"
				traits = { spotter bold }
				skill = 3
				attack_skill = 2
				defense_skill = 4
				maneuvering_skill = 3
				coordination_skill = 2
			}
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}

				if = { #Low Stability triggers a Civil War
					limit = {
						has_stability < 0.4
					}
					set_temp_variable = { POR_democratic_cw_opposition = party_popularity@neutrality }
					multiply_temp_variable = { POR_democratic_cw_opposition = 0.6 }
					add_to_temp_variable = { POR_democratic_cw_opposition = party_popularity@fascism }
					start_civil_war = {	
						ideology = fascism
						size = POR_democratic_cw_opposition
						capital = 180
						states = { 181 }
					}
				}
				else = {
					add_stability = -0.1
				}
				custom_effect_tooltip = POR_potential_civil_war_low_requirement_tt
			}
			else = {
				add_political_power = 120
				add_popularity = {
				    ideology = democratic
				    popularity = 0.05
				}
			}
		}
	}

	focus = {
		id = POR_join_the_allies
		available = {
			is_in_faction = no
			any_other_country = {
				NOT = { has_war_with = ROOT }
				is_faction_leader = yes
				is_major = yes
				has_government = democratic
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = POR
				}
			}			
		}

		bypass = {	
			OR = {
				is_in_faction_with = ENG
				AND = {
					is_in_faction = yes
					any_other_country = {
						is_faction_leader = yes
						is_in_faction_with = ROOT
						has_government = democratic
					}
				}
			}	
		}
		prerequisite = { focus = POR_allow_free_elections }	
		icon = GFX_focus_chi_british_cooperation
		x = 0		
		y = 2

		relative_position_id = POR_allow_free_elections
		cost = 10
		completion_reward = { 	
			if = {
				limit = { 
					ENG = {
						is_faction_leader = yes
						has_government = democratic
						not = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = { id = generic.2 hours = 4 } }
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = { id = generic.2 hours = 4 }
				}
			}
		}
	}

	focus = {
		id = POR_research_sharing
		available = {	
			is_in_faction_with = ENG		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_join_the_allies focus = POR_honor_anglo_portuguese_alliance }	
		icon = GFX_focus_research2
		x = 2		
		y = 1

		relative_position_id = POR_join_the_allies
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			ENG = { add_to_tech_sharing_group = commonwealth_research }
			add_to_tech_sharing_group = commonwealth_research
		}
	}

	focus = {
		id = POR_oppose_germany

		will_lead_to_war_with = GER

		select_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = GER
				value = 100
			}
		}

		available = {
			country_exists = GER
			GER = {
				has_government = fascism
				has_capitulated = no
			}		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_join_the_allies focus = POR_honor_anglo_portuguese_alliance }	
		icon = GFX_focus_ger_oppose_hitler
		x = 4		
		y = 1

		relative_position_id = POR_join_the_allies
		cost = 10
		completion_reward = { 	
			create_wargoal = {
				target = GER
				type = topple_government
				expire = 0
			}	

			hidden_effect = {
				add_ai_strategy = {
					type = declare_war
					id = GER
					value = 100
				}
			}
		}
	}

	focus = {
		id = POR_iberian_summit
		available = {
			has_global_flag = scw_over
			has_war = no
			is_in_faction = no
			NOT = { has_government = communism }
			OR = {
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				    SPR = {
				 	   has_completed_focus = SPR_maintain_the_second_republic
				    	has_government = democratic
				    }
				}
				else = {
					AND = {
						country_exists = SPD
						SPD = {
							has_war = no 
							is_in_faction = no
							has_completed_focus = SPR_maintain_the_second_republic
							has_government = democratic
						}
					}
				}				
				AND = {
					country_exists = SPA
					SPA = {
						has_war = no 
						is_in_faction = no
						OR = {
							has_completed_focus = SPA_the_phalanx_ascendant
							AND = {
								has_completed_focus = SPA_unify_the_nationalist_front
								NOT = { has_completed_focus = SPA_the_iberian_pact }
							}
						}
					}
				}				
			}	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_allow_free_elections focus = POR_send_assistance }	

		mutually_exclusive = { focus = POR_nationalist_intervention }

		icon = GFX_focus_por_iberian_summit
		x = 1		
		y = 1

		relative_position_id = POR_allow_free_elections
		cost = 10
		completion_reward = { 
			unlock_decision_tooltip = POR_iberian_summit_pro_axis
			unlock_decision_tooltip = POR_iberian_summit_pro_allies
		}
	}

	focus = {
		id = POR_estado_novo
		available = {			
		}

		bypass = {		
		}
		mutually_exclusive = { focus = POR_popular_front}
		prerequisite = {
		}
		icon = GFX_focus_por_estado_novo
		x = 12
		y = 0

		relative_position_id = POR_popular_front
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}
		completion_reward = { 	
			add_ideas = POR_estado_novo
			add_political_power = 100
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = POR_julio_botelho_moniz
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = POR_alvaro_cunhal
		}
	}

	focus = {
		id = POR_support_the_spanish_nationalists
		available = {	
			SPR_scw_in_progress = yes
			country_exists = SPA
			NOT = { has_war_with = SPA }
		}

		bypass = {
			has_global_flag = scw_over	
		}
		prerequisite = { focus = POR_estado_novo }
		mutually_exclusive = { focus = POR_strict_neutrality_in_the_spanish_civil_war focus = POR_support_the_spanish_republic focus = POR_a_royal_wedding }
		icon = GFX_goal_support_fascism
		x = 0	
		y = 1

		relative_position_id = POR_estado_novo
		cost = 10
		completion_reward = { 	
			SPA = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}			
			add_ideas = POR_volunteers_in_the_war_nationalist
			add_manpower = -10000
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
			}
			send_equipment = {
			    equipment = infantry_equipment
			    amount = 2000
			    target = SPA
			}
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = POR_portuguese_legion
		available = {
			SPR_scw_in_progress = yes				
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_support_the_spanish_nationalists }
		icon = GFX_focus_por_portuguese_legion
		x = 0		
		y = 1

		relative_position_id = POR_support_the_spanish_nationalists
		cost = 10
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = por_portuguese_legion
		}
	}

	focus = {
		id = POR_observation_mission

		available = {	
			SPR_scw_in_progress = yes
			country_exists = SPA	
			NOT = { has_war_with = SPA }	
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_portuguese_legion }
		icon = GFX_goal_generic_position_armies
		x = -4		
		y = 1

		relative_position_id = POR_portuguese_legion
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 1.0
			    uses = 1
			    category = air_doctrine
			}
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 0.5
			    uses = 1
			    category = light_air
			}
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 0.5
			    uses = 1
			    category = cat_light_armor
			}
			army_experience = 10
			air_experience = 20

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = SPA
					value = 100
				}
				SPA = {
					add_ai_strategy = {
						type = befriend
						id = POR
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = POR_send_assistance

		select_effect = {
			if = {
				limit = {
					country_exists = SPD
					is_neighbor_of = SPD
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPD
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPB
					is_neighbor_of = SPB
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPB
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPC
					is_neighbor_of = SPC
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPC
					value = 100
				}
			}
		}

		available = {
			has_civil_war = no
			SPR_scw_in_progress = yes
			country_exists = SPA
			NOT = { has_war_with = SPA }
			is_puppet = no
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_observation_mission }
		icon = GFX_focus_intervention_spain_nationalists
		x = 0	
		y = 1

		relative_position_id = POR_observation_mission
		cost = 10
		completion_reward = { 	
			unlock_decision_tooltip = POR_fight_alongside_the_nationalists
			if = { 
				limit = { country_exists = SPD }
				SPD = {
					country_event = { id = lar_portugal_spanish_civil_war.2 }
				}
			}
			if = { 
				limit = { country_exists = SPB }
				SPB = {
					country_event = { id = lar_portugal_spanish_civil_war.2 }
				}
			}
			if = { 
				limit = { country_exists = SPC }
				SPC = {
					country_event = { id = lar_portugal_spanish_civil_war.2 }
				}
			}
		}
	}

	focus = {
		id = POR_nationalist_intervention

		select_effect = {
			every_country = {
				limit = {
					original_tag = SPR
					NOT = { has_government = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
				POR = {
					add_ai_strategy = {
						type = befriend
						id = PREV
						value = -100
					}
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -100
					}
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {	
			has_global_flag = scw_over
			any_country = {
				original_tag = SPR
				NOT = { has_government = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_send_assistance}

		mutually_exclusive = { focus = POR_iberian_summit }

		icon = GFX_goal_generic_major_war
		x = 0	
		y = 1

		relative_position_id = POR_send_assistance
		cost = 10
		completion_reward = { 	
			hidden_effect = {
				every_country = {
					limit = {
						original_tag = SPR
						NOT = { has_government = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					POR = {
						create_wargoal = {
						  	target = PREV
						    type = topple_government
						}
					}
				}
			}
			custom_effect_tooltip = POR_nationalist_intervention_tt

			hidden_effect = {
				every_country = {
					limit = {
						original_tag = SPR
						NOT = { has_government = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					POR = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_strengthen_the_regime
		available = {
			has_country_leader = { name = "Antﾃｳnio de Oliveira Salazar" }
			has_manpower > 80000
			has_equipment = { support_equipment > 799 }
			has_equipment = { infantry_equipment > 799 }
		}

		bypass = {	
		}
		prerequisite = { focus = POR_portuguese_legion }

		mutually_exclusive = { focus = POR_national_syndicalism }

		icon = GFX_goal_generic_political_pressure
		x = 4
		y = 0

		relative_position_id = POR_observation_mission
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_manpower = -3000
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -800
				producer = POR
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -800
				producer = POR
			}
			add_stability = -0.1
			add_popularity = {
			    ideology = neutrality
				popularity = 0.10
			}
			swap_ideas = {
				remove_idea = POR_estado_novo
				add_idea = POR_estado_novo_2	
			}
			custom_effect_tooltip = remove_chief_of_army
			show_ideas_tooltip = POR_rolao_preto
		}
	}

	focus = {
		id = POR_the_capital_of_espionage
		available = {	
			owns_state = 112
			has_war = no
			OR = {
				AND = {
					ENG = { 
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					any_country = {
						is_major = yes
						has_war_with = ENG
					}
				}
				AND = {
					GER = { 
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					any_country = {
						is_major = yes
						has_war_with = GER
					}
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_strengthen_the_regime }

		icon = GFX_goal_generic_intelligence_exchange
		x = -2
		y = 1

		relative_position_id = POR_strengthen_the_regime
		cost = 10
		completion_reward = { 
			add_ideas = POR_the_capital_of_espionage
		}
	}

	focus = {
		id = POR_appease_monarchists
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_strengthen_the_regime }	
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 0
		y = 1

		relative_position_id = POR_strengthen_the_regime
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_political_power = 70
			add_popularity = {
			    ideology = neutrality
				popularity = 0.05
			}
			swap_ideas = {
				remove_idea = POR_estado_novo_2
				add_idea = POR_estado_novo_3	
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_joao_de_azevedo_coutinho
			show_ideas_tooltip = POR_joao_francisco_de_barbosa_azevedo
		}
	}

	focus = {
		id = POR_concordat_with_the_holy_see
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_appease_monarchists }	
		icon = GFX_focus_por_concordat
		x = -1
		y = 1

		relative_position_id = POR_appease_monarchists
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = { 
			add_political_power = 120
			swap_ideas = {
				remove_idea = POR_estado_novo_3
				add_idea = POR_estado_novo_4	
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_manuel_goncalves_cerejeira
		}
	}

	focus = {
		id = POR_honor_anglo_portuguese_alliance
		available = {
			is_in_faction = no
			has_war = no
			ENG = { 
				exists = yes
				NOT = {
					has_war_with = ROOT 
					any_other_country = {
						is_in_faction_with = ENG
						has_war_with = ROOT
					}
				}
			}
			any_country = {
				is_major = yes
				has_war_with = ENG
			}
		}

		bypass = {		
		}

		
		prerequisite = { focus = POR_concordat_with_the_holy_see }

		mutually_exclusive = { focus = POR_proudly_alone }

		icon = GFX_goal_generic_alliance
		x = -1
		y = 1

		relative_position_id = POR_concordat_with_the_holy_see
		cost = 10
		completion_reward = { 
			remove_ideas = POR_national_gold_reserves
			remove_ideas = POR_unstable_republic
			if = {
				limit = { 
					ENG = {
						is_faction_leader = yes
						has_government = democratic
						NOT = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = { id = generic.2 hours = 4 } }
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = { id = generic.2 hours = 4 }
				}
			}
		}
	}

	focus = {
		id = POR_national_gold_reserves
		available = {
			has_war = no
			OR = {
				AND = {
					ENG = { 
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					any_country = {
						is_major = yes
						has_war_with = ENG
					}
				}
				AND = {
					GER = { 
						exists = yes
						NOT = { has_war_with = ROOT }
					}
					any_country = {
						is_major = yes
						has_war_with = GER
					}
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_appease_monarchists }	
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 1
		y = 1

		relative_position_id = POR_appease_monarchists
		cost = 10
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_ideas = POR_national_gold_reserves
			ENG = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			GER = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { tag = ENG }
					OR = {
						is_in_faction_with = ENG
						is_in_faction_with = GER
					}
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade_minor
				}
			}
		}
	}

	focus = {
		id = POR_proudly_alone
		available = {	
			has_government = neutrality
			has_war = no
		}

		bypass = {		
		}
		
		prerequisite = { focus = POR_national_gold_reserves }
		prerequisite = { focus = POR_concordat_with_the_holy_see }

		mutually_exclusive = { focus = POR_honor_anglo_portuguese_alliance }

		icon = GFX_focus_por_salazar
		x = 2
		y = 1

		relative_position_id = POR_concordat_with_the_holy_see
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			swap_ideas = {
				remove_idea = POR_estado_novo_4
				add_idea = POR_estado_novo_5	
			}
			remove_ideas = POR_unstable_republic
		}
	}

	focus = {
		id = POR_the_eastern_menace

		will_lead_to_war_with = JAP

		select_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = JAP
				value = 100
			}
		}

		available = {
			JAP = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}

		bypass = {		
		}
		
		prerequisite = { focus = POR_proudly_alone }

		icon = GFX_focus_AST_war_japan
		x = -1
		y = 1

		relative_position_id = POR_proudly_alone
		cost = 10
		completion_reward = { 
			create_wargoal = {
				target = JAP
				type = puppet_wargoal_focus
				expire = 0
			}

			hidden_effect = {
				add_ai_strategy = {
					type = declare_war
					id = JAP
					value = 100
				}
			}
		}
	}

	focus = {
		id = POR_national_syndicalism
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_portuguese_legion }

		mutually_exclusive = { focus = POR_strengthen_the_regime }

		icon = GFX_focus_generic_strike_at_democracy2
		x = 8	
		y = 0

		relative_position_id = POR_observation_mission
		cost = 10
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = -0.2
			add_war_support = 0.1
			add_ideas = POR_national_syndicalism
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_jose_hipolito_raposo_2
			show_ideas_tooltip = POR_alberto_monsaraz
		}
	}

	focus = {
		id = POR_ditadura_militar
		available = {	
			fascism > 0.4
			has_war = no
		}

		bypass = {		
		}

		prerequisite = { focus = POR_national_syndicalism }	
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1

		relative_position_id = POR_national_syndicalism
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			remove_ideas = POR_estado_novo
			every_country = {
				limit = { 
					has_government = fascism
					is_major = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
				add_opinion_modifier = {
				    target = POR
				    modifier = fascism_leanings_good
				}
			}
			if = {
				limit = {
					NOT = { has_government = fascism }
				}
				set_politics = {
					ruling_party = fascism
				}	
				
				if = { #Low Stability triggers a Civil War
					limit = {
						has_stability < 0.6
					}
					set_temp_variable = { POR_fascist_cw_opposition = party_popularity@neutrality }
					multiply_temp_variable = { POR_fascist_cw_opposition = 0.6 }
					add_to_temp_variable = { POR_fascist_cw_opposition = party_popularity@democratic }
					add_to_temp_variable = { POR_fascist_cw_opposition = party_popularity@communism }
					start_civil_war = {	
						ideology = neutrality
						size = POR_fascist_cw_opposition
						capital = 180
						states = { 181 }
					}
				}
				else = {
					add_stability = -0.2
				}
				custom_effect_tooltip = POR_potential_civil_war_high_requirement_tt
			}
			else = {
				add_political_power = 120
				add_popularity = {
				    ideology = fascism
				    popularity = 0.05
				}
			}
		}
	}

	focus = {
		id = POR_camisas_azuis
		available = {
			has_government = fascism			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ditadura_militar }
		icon = GFX_focus_generic_military_mission
		x = 0		
		y = 1

		relative_position_id = POR_ditadura_militar
		cost = 10
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = { 
			add_ideas = POR_camisas_azuis
		}
	}

	focus = {
		id = POR_join_the_axis
		available = {
			is_in_faction = no
			has_government = fascism	
			GER	= { 
				exists = yes
				is_faction_leader = yes 
				has_capitulated = no
				NOT = { has_war_with = ROOT }
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_camisas_azuis }
		mutually_exclusive = { focus = POR_the_fifth_empire }
		icon = GFX_focus_chi_mission_to_germany
		x = -1		
		y = 1

		relative_position_id = POR_camisas_azuis
		cost = 10
		completion_reward = { 	
			GER = {
				country_event = { id = generic.2 hours = 4 }
			}
			remove_ideas = POR_unstable_republic
		}
	}

	focus = {
		id = POR_research_agreements
		available = {
			is_in_faction_with = GER			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_join_the_axis }			
		icon = GFX_goal_generic_scientific_exchange
		x = -1		
		y = 1

		relative_position_id = POR_join_the_axis
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			GER = { add_to_tech_sharing_group = axis_research }
			add_to_tech_sharing_group = axis_research
		}
	}

	focus = {
		id = POR_the_fifth_empire
		available = {	
			has_government = fascism		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_camisas_azuis }
		mutually_exclusive = { focus = POR_join_the_axis }
		icon = GFX_focus_por_the_fifth_empire
		x = 1		
		y = 1

		relative_position_id = POR_camisas_azuis
		cost = 10
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_ideas = POR_the_fifth_empire
			remove_ideas = POR_unstable_republic
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			set_rule = { can_create_factions = yes }
			set_rule = { can_join_factions = no }
			every_other_country = {
				limit = {
					NOT = { is_puppet_of = ROOT }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = POR_the_fifth_empire_has_threatening_ambitions
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = embargo
				}
			}
			set_cosmetic_tag = POR_empire
		}
	}

	focus = {
		id = POR_expand_the_chinese_territories

		select_effect = {
			every_country = {
				limit = {
					OR = {
						controls_state = 592
						controls_state = 594
						controls_state = 325
						controls_state = 613
						controls_state = 622
						controls_state = 604
						controls_state = 615
						controls_state = 611
						controls_state = 328
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {		
			owns_state = 729
		}

		bypass = {		
		}
		prerequisite = { focus = POR_join_the_axis focus = POR_the_fifth_empire }			
		icon = GFX_focus_usa_focus_on_asia
		x = -1	
		y = 1

		relative_position_id = POR_the_fifth_empire
		cost = 10
		completion_reward = {
			hidden_effect = {
				592 = {
					owner =  {
						ROOT = {
							create_wargoal = {
							  	target = PREV
							    type = annex_everything
							}						
						}
					}				
				}

				594 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}	
							}					
						}
					}				
				}

				325 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}	
							}					
						}
					}				
				}

				613 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}	
							}					
						}
					}				
				}

				622 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}
							}						
						}
					}				
				}

				604 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}	
							}			
						}
					}				
				}

				615 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}
							}					
						}
					}				
				}

				611 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}	
							}					
						}
					}				
				}

				328 = {
					owner =  {
						ROOT = {
							if = {
								limit = {
									NOT = { has_wargoal_against = PREV }
								}
								create_wargoal = {
								  	target = PREV
								    type = annex_everything
								}
							}					
						}
					}				
				}
			}
			custom_effect_tooltip = POR_expand_the_chinese_territories_tt

			hidden_effect = {
				random_country = {
					limit = { controls_state = 592 }
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_deal_with_the_japanese_threat

		will_lead_to_war_with = JAP

		select_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = JAP
				value = 100
			}
		}
		
		available = {
			JAP = {
				exists = yes
				NOT = { is_in_faction_with = ROOT }
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_the_fifth_empire }
		prerequisite = { focus = POR_recover_the_east_indies }		
		icon = GFX_focus_attack_japan
		x = 1		
		y = 1

		relative_position_id = POR_the_fifth_empire
		cost = 10
		completion_reward = { 
			create_wargoal = {
				target = JAP
				type = annex_everything
				expire = 0
			}

			hidden_effect = {
				add_ai_strategy = {
					type = declare_war
					id = JAP
					value = 100
				}
			}
		}
	}

	focus = {
		id = POR_refuse_the_naval_blockade
		available = {	
			has_equipment = {
			  convoy > 150
			}
			ENG = { has_war = yes}
			NOT = {
				is_in_faction_with = ENG
			}
		}

		bypass = {	
			ENG = {
				OR = {	
					exists = no
					has_capitulated = yes
					has_war_with = ROOT
				}
			}
		}
		prerequisite = { focus = POR_national_syndicalism focus = POR_the_return_of_duarte }
		
		icon = GFX_goal_generic_navy_anti_submarine
		x = 3		
		y = 1

		relative_position_id = POR_national_syndicalism
		cost = 10
		completion_reward = { 
			every_other_country = {
				limit = {
					has_war_with = ENG
				}
					 								
				country_event = { 
					id = lar_portugal_naval_blockade.1
				}
			}
			ENG = {
				country_event = { 
					id = lar_portugal_naval_blockade.3
				}
				remove_opinion_modifier = {
					target = POR
					modifier = POR_anglo_portuguese_alliance
				}
			}
			remove_opinion_modifier = {
					target = ENG
					modifier = POR_anglo_portuguese_alliance
			}		
		}
	}

	focus = {
		id = POR_mapa_cor_de_rosa

		select_effect = {
			every_country = {
				limit = { 
					OR = {
						controls_state = 770
						controls_state = 545
						controls_state = 771
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {			
		}

		bypass = {
			AND = {
				owns_state = 770
				owns_state = 545
				owns_state = 771
			}
		}
		prerequisite = { focus = POR_refuse_the_naval_blockade }
		icon = GFX_focus_por_the_pink_map
		x = 0		
		y = 1

		relative_position_id = POR_refuse_the_naval_blockade
		cost = 10
		completion_reward = { 	
			add_state_claim = 770 #Malawi
			add_state_claim = 545 #Rhodesia
			add_state_claim = 771 #Zambia

			hidden_effect = {
				random_country = {
					limit = { 
						OR = {
							controls_state = 770
							controls_state = 545
							controls_state = 771
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_recover_the_east_indies

		select_effect = {
			random_country = {
				limit = { controls_state = 336 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
			random_country = {
				limit = { controls_state = 667 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {			
		}

		bypass = {
			owns_state = 336
			owns_state = 667
		}
		prerequisite = { focus = POR_mapa_cor_de_rosa }
		icon = GFX_focus_RAJ_seek_help_from_germany
		x = 0		
		y = 1

		relative_position_id = POR_mapa_cor_de_rosa
		cost = 10
		completion_reward = { 
			add_state_claim = 336 # Singapore
			add_state_claim = 667 # Lesser Sunda

			hidden_effect = {
				random_country = {
					limit = { controls_state = 336 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
				random_country = {
					limit = { controls_state = 667 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_recover_brazil

		will_lead_to_war_with = BRA

		select_effect = {
			random_country = {
				limit = { controls_state = 500 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}	
		}

		available = {			
		}

		bypass = {
			owns_state = 500
		}
		prerequisite = { focus = POR_mapa_cor_de_rosa }

		mutually_exclusive = { focus = POR_the_kingdom_reunited }

		icon = GFX_focus_por_recover_brazil
		x = 1
		y = 2

		relative_position_id = POR_mapa_cor_de_rosa
		cost = 10
		completion_reward = { 	
			add_state_claim = 500 #Rio

			hidden_effect = {
				random_country = {
					limit = { controls_state = 500 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_a_royal_wedding
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_estado_novo }

		mutually_exclusive = { focus = POR_support_the_spanish_nationalists focus = POR_strict_neutrality_in_the_spanish_civil_war focus = POR_support_the_spanish_republic }

		icon = GFX_focus_generic_royal_wedding
		x = 13
		y = 0

		relative_position_id = POR_support_the_spanish_nationalists
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			hidden_effect = {
				news_event = { id = lar_news.25 days = 3 random_days = 5 }
			}	
			add_political_power = 120
			unlock_decision_tooltip = POR_stir_monarchist_sentiment_in_brazil
			unlock_decision_tooltip = POR_stir_monarchist_sentiment_in_portugal
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_joao_de_azevedo_coutinho
			show_ideas_tooltip = POR_joao_francisco_de_barbosa_azevedo
		}
	}

	focus = {
		id = POR_the_return_of_duarte
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_a_royal_wedding }
		icon = GFX_focus_generic_monarchy_1
		x = 0	
		y = 2

		relative_position_id = POR_a_royal_wedding
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = { 	
			set_party_name = { 
			    ideology = neutrality
			    long_name = POR_monarchy_party_long
			    name = POR_monarchy_party
			}

			add_popularity = {
			    ideology = neutrality
			    popularity = -0.20
			}

			add_popularity = {
			    ideology = democratic
			    popularity = 0.10
			}

			add_popularity = {
			    ideology = fascism
			    popularity = 0.10
			}

			add_stability = -0.20
		}
	}

	focus = {
		id = POR_support_a_spanish_monarchy_in_the_war

		available = {
			SPR_scw_in_progress = yes
			country_exists = SPB
			NOT = { has_war_with = SPB }	
		}

		bypass = {
			has_global_flag = scw_over
		}

		prerequisite = { focus = POR_the_return_of_duarte }
		icon = GFX_focus_spa_supremacy_of_the_communion
		x = 2
		y = 1

		relative_position_id = POR_the_return_of_duarte
		cost = 10
		completion_reward = { 	
			SPB = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}			
			add_ideas = POR_volunteers_in_the_war_carlist
			add_manpower = -10000
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
			}
			send_equipment = {
			    equipment = infantry_equipment
			    amount = 2000
			    target = SPB
			}
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = POR_assist_the_requetes
		available = {
			SPR_scw_in_progress = yes
			country_exists = SPB
			NOT = { has_war_with = SPB }	
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_support_a_spanish_monarchy_in_the_war }
		icon = GFX_goal_generic_military_deal
		x = 0
		y = 1

		relative_position_id = POR_support_a_spanish_monarchy_in_the_war
		cost = 10
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = POR_assist_the_requetes
			    bonus = 1.0
			    uses = 1
			    category = mountaineers_tech
			}
			add_tech_bonus = {
				name = POR_assist_the_requetes
			    bonus = 0.5
			    uses = 1
			    category = air_doctrine
			}
			add_tech_bonus = {
				name = POR_assist_the_requetes
			    bonus = 0.5
			    uses = 1
			    category = land_doctrine
			}
			army_experience = 15
			air_experience = 15

			hidden_effect = {
				add_ai_strategy = {
					type = befriend
					id = SPB
					value = 100
				}
				SPB = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
				}
			}
		}
	}

	focus = {
		id = POR_join_the_carlist_fight

		select_effect = {
			if = {
				limit = {
					country_exists = SPA
					is_neighbor_of = SPA
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPA
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPD
					is_neighbor_of = SPD
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPD
					value = 100
				}
			}
			if = {
				limit = {
					country_exists = SPC
					is_neighbor_of = SPC
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = SPC
					value = 100
				}
			}
		}

		available = {
			has_civil_war = no
			SPR_scw_in_progress = yes
			country_exists = SPB
			NOT = { has_war_with = SPB }
			is_puppet = no
		}

		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = POR_assist_the_requetes }
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		x = 0
		y = 1

		relative_position_id = POR_assist_the_requetes
		cost = 10
		completion_reward = { 	
			unlock_decision_tooltip = POR_fight_alongside_the_carlists
			if = { 
				limit = { country_exists = SPA }
				SPA = {
					country_event = { id = lar_portugal_spanish_civil_war.3 }
				}
			}
			if = { 
				limit = { country_exists = SPD }
				SPD = {
					country_event = { id = lar_portugal_spanish_civil_war.3 }
				}
			}
			if = { 
				limit = { country_exists = SPC }
				SPC = {
					country_event = { id = lar_portugal_spanish_civil_war.3 }
				}
			}
		}
	}

	focus = {
		id = POR_the_royal_iberian_alliance
		available = {
			is_in_faction = no
			has_country_leader = { name = "Dom Duarte Nuno" }
			has_global_flag = scw_over
			has_completed_focus = POR_restoration_of_the_monarchy
			country_exists = SPB
			NOT = { has_war_with = SPB }
			SPB = { has_completed_focus = SPA_restore_the_monarchy }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_idea = POR_volunteers_in_the_war_carlist
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = SPB
					value > 30
				}
			}
		}

		bypass = {
		}
		prerequisite = { focus = POR_join_the_carlist_fight }
		mutually_exclusive = { focus = POR_remember_olivenca }
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 0
		y = 1

		relative_position_id = POR_join_the_carlist_fight
		cost = 10
		completion_reward = {
			SPB = { 
				country_event = { id = lar_portugal_royal_iberian_alliance.1 hours = 6 }
			}
		}
	}

	focus = {
		id = POR_promote_the_monarchist_cause_in_portugal
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_the_return_of_duarte }
		icon = GFX_focus_generic_monarchy_2
		x = 0
		y = 1

		relative_position_id = POR_the_return_of_duarte
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = { 	
			add_timed_idea = {
			    idea = POR_monarchists_on_the_rise2
			    days = 730
			}
		}
	}

	focus = {
		id = POR_monarchist_uprising_in_brazil
		available = {
		}

		bypass = {
			NOT = { country_exists = BRA }
			BRA = { has_capitulated = yes }
		}
		prerequisite = { focus = POR_the_return_of_duarte }
		icon = GFX_focus_por_reclaim_crown_jewel
		x = -2
		y = 1

		relative_position_id = POR_the_return_of_duarte
		cost = 10
		completion_reward = {
			BRA = {
				country_event = lar_portugal_promote_monarchist_cause.7
				effect_tooltip = {
					add_timed_idea = {
					    idea = POR_monarchists_on_the_rise
					    days = 730
					}
					set_party_name = { 
					    ideology = neutrality
					    long_name = BRA_monarchy_party_long
					    name = BRA_monarchy_party
					}
					set_party_name = { 
					    ideology = fascism
					    long_name = BRA_antimonarchist_coalition_long
					    name = BRA_antimonarchist_coalition
					}
					if = {
						limit = {
							OR = {
								has_government = neutrality
								has_government = democratic
								has_government = communism
							} 
						}
						set_politics = {
							ruling_party = fascism
						}
					}
					set_popularities = {
						democratic = 0
						neutrality = 20
						fascism = 80
						communism = 0
					}
					hidden_effect = {
						retire_country_leader = yes
					}
					create_country_leader = {
						name = "Getﾃｺlio Vargas"
						desc = "POLITICS_GETﾃ哭IO_VARGAS_DESC"
						picture = "gfx/leaders/BRA/Portrait_Brazil_Getulio_Vargas.dds"
						expire = "1954.8.24"
						ideology = fascism_ideology
						traits = {
							anti_communist
						}					
					}
					create_country_leader = {
						name = "Arlindo Veiga dos Santos"
						desc = "POLITICS_ARLINDO_VEIGA_DOS_SANTOS_DESC"
						picture = "gfx/leaders/BRA/portrait_bra_arlindo_veiga_dos_santos.dds"
						expire = "1954.8.24"
						ideology = despotism
						traits = {
							staunch_monarchist
						}					
					}
				}
			}
		}
	}

	focus = {
		id = POR_the_empire_of_brazil

		select_effect = {
			if = {
				limit = {
					has_war = no
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = BRA
					value = 100
				}
			}
		}

		available = {
			is_puppet = no
		}

		bypass = {
			NOT = { country_exists = BRA }
			BRA = { has_capitulated = yes }	
		}
		prerequisite = { focus = POR_monarchist_uprising_in_brazil }
		icon = GFX_focus_generic_home_defense
		x = 0		
		y = 1

		relative_position_id = POR_monarchist_uprising_in_brazil
		cost = 10
		completion_reward = {
			if = {
				limit = {
					BRA = {
						OR = {
							has_country_flag = POR_brazil_supports_fascist_coalition_flag
							AND = {
								NOT = { has_government = neutrality }
								OR = {
									has_stability < 0.5
									neutrality < 0.7
								}
							}
						}
					}
				}
				BRA = { country_event = lar_portugal_promote_monarchist_cause.3 }
			}
			else = {
				BRA = { country_event = lar_portugal_promote_monarchist_cause.4 }
			}
			custom_effect_tooltip = POR_the_empire_of_brazil_potential_civil_war_tt

			hidden_effect = {
				every_country = {
					limit = {
						original_tag = BRA
						has_government = neutrality
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 100
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_restoration_of_the_monarchy
		available = {	
			has_government = neutrality
		}

		bypass = {		
		}
		prerequisite = { focus = POR_promote_the_monarchist_cause_in_portugal }
		icon = GFX_focus_rom_royal_dictatorship
		x = 0		
		y = 1

		relative_position_id = POR_promote_the_monarchist_cause_in_portugal
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY
		FOCUS_FILTER_STABILITY}
		completion_reward = {
			remove_ideas = POR_estado_novo
			swap_ideas = {
				remove_idea = POR_unstable_republic
				add_idea = POR_unstable_monarchy
			}
			if = { #Low Stability triggers a Civil War
				limit = {
					has_stability < 0.4
				}
				set_temp_variable = { POR_monarchist_cw_opposition = party_popularity@fascism }
				add_to_temp_variable = { POR_monarchist_cw_opposition = party_popularity@communism }
				add_to_temp_variable = { POR_monarchist_cw_opposition = party_popularity@democratic }
				start_civil_war = {	
					ideology = fascism
					size = POR_monarchist_cw_opposition
					capital = 180
					states = { 181 }
				}
			}
			else = {
				add_stability = -0.1
			}
			set_country_flag = KOP_kingdom_of_portugal_flag
			set_cosmetic_tag = KOP_kingdom_portugal
			create_country_leader = {
				name = "Dom Duarte Nuno"
				desc = "POLITICS_DOM_DUARTE_NUNO_DESC"
				picture = "gfx/leaders/POR/portrait_por_duarte_nuno.dds"
				expire = "1976.12.24"
				ideology = despotism
				traits = { 
					constitutional_monarch_minor
				}
			}
			custom_effect_tooltip = POR_potential_civil_war_low_requirement_tt
		}
	}

	focus = {
		id = POR_the_kingdom_reunited
		available = {
			has_government = neutrality
			OR = {
				AND = {
					country_exists = BRA
					BRA = {
						has_government = neutrality
						has_civil_war = no
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_enemy_country = {
							is_in_faction_with = BRA
						}
					}
				}
				AND = {
					NOT = { country_exists = BRA }
					owns_state = 500
				}
			}
		}

		bypass = {
		}
		prerequisite = { focus = POR_restoration_of_the_monarchy }
		prerequisite = { focus = POR_the_empire_of_brazil }

		mutually_exclusive = { focus = POR_recover_brazil }

		icon = GFX_focus_por_the_kingdom_reunited
		x = -1
		y = 2

		relative_position_id = POR_the_empire_of_brazil
		cost = 10
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			remove_ideas = POR_unstable_monarchy
			add_ideas = POR_the_portuguese_empire
			if = {
				limit = {
					country_exists = BRA
				}
				BRA = {
					country_event = { id = lar_portugal_promote_monarchist_cause.2 hours = 6 }
				}
			}
			set_rule = { can_create_factions = yes }
		}		
	}

	focus = {
		id = POR_remember_olivenca
		available = {
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				has_opinion = {
					target = SPB
					value < 0
				}
			}
			modifier = {
				factor = 2
				has_government = neutrality
				SPB = { NOT = { has_government = neutrality } }
			}
		}

		bypass = {
			owns_state = 170
			owns_state = 169
		}
		prerequisite = { focus = POR_restoration_of_the_monarchy }
		mutually_exclusive = { focus = POR_the_royal_iberian_alliance }
		icon = GFX_focus_por_remember_olivenca
		x = 0
		y = 2

		relative_position_id = POR_restoration_of_the_monarchy
		cost = 10
		completion_reward = { 	
			add_state_claim = 170
			add_state_claim = 169

			hidden_effect = {
				random_country = {
					limit = { controls_state = 170 }
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_deal_with_fascism

		select_effect = {
			random_country = {
				limit = {
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}	
		}

		available = {
			any_country = {
				has_government = fascism
				NOT = { is_in_faction_with = ROOT }
				OR = {
					is_major = yes
					is_neighbor_of = ROOT
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_remember_olivenca focus = POR_the_royal_iberian_alliance }
		icon = GFX_focus_attack_germany
		x = 1
		y = 1

		relative_position_id = POR_remember_olivenca
		cost = 10
		completion_reward = { 	
			hidden_effect = {
				every_country = {
					limit = {
						has_government = fascism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
					}
				}
			}
			custom_effect_tooltip = POR_deal_with_fascism_tt
			every_country = { #TOOLTIP Support
				limit = {
					has_government = fascism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
			}

			hidden_effect = {
				random_country = {
					limit = {
						has_government = fascism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_latin_america

		will_lead_to_war_with = PAR
		will_lead_to_war_with = URG
		will_lead_to_war_with = ARG

		select_effect = {
			random_country = {
				limit = { controls_state = 300 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
			random_country = {
				limit = { controls_state = 301 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
			random_country = {
				limit = { controls_state = 510 }
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
		}

		bypass = {
			owns_state = 300
			owns_state = 301
			owns_state = 510
		}
		prerequisite = { focus = POR_the_kingdom_reunited focus = POR_recover_brazil }

		icon = GFX_focus_por_recover_latin_america
		x = -1
		y = 1

		relative_position_id = POR_the_kingdom_reunited
		cost = 10
		completion_reward = { 
			add_state_claim = 300
			add_state_claim = 301
			add_state_claim = 510

			hidden_effect = {
				random_country = {
					limit = { controls_state = 300 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
				random_country = {
					limit = { controls_state = 301 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
				random_country = {
					limit = { controls_state = 510 }
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}

	focus = {
		id = POR_the_communist_threat

		select_effect = {
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 100
					}
				}
			}
		}

		available = {
			any_country = {
				has_government = communism
				NOT = { is_in_faction_with = ROOT }
				OR = {
					is_major = yes
					is_neighbor_of = ROOT
				}
			}
		}

		bypass = {		
		}
		prerequisite = { focus = POR_latin_america focus = POR_proudly_alone }

		icon = GFX_focus_ger_great_red_menace
		x = -8
		y = 1

		relative_position_id = POR_latin_america
		cost = 10
		completion_reward = {
			hidden_effect = {
				every_country = {
					limit = {
						has_government = communism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					if = {
						limit = {
							ROOT = { has_cosmetic_tag = KPB_kingdom_portugal_and_brazil } #Non-Aligned Duarte Nuno (Monarchist)
						}
						ROOT = {
							create_wargoal = {
								target = PREV
								type = puppet_wargoal_focus
								expire = 0
							}
						}
					}
					else_if = {
						limit = {
							ROOT = { has_government = neutrality }  #Non-Aligned Salazar (Even in Monarchist branch if Duarte Nuno is not ruler yet)
						}
							ROOT = {
								create_wargoal = {
									target = PREV
									type = topple_government
									expire = 0
								}
							}
					}
					else = { #Fascist Preto
						ROOT = {
							create_wargoal = {
								target = PREV
								type = annex_everything
								expire = 0
							}
						}
					}
				}
			}
			custom_effect_tooltip = POR_the_communist_threat_tt
			every_country = {
				limit = {
					has_government = communism
					NOT = { is_in_faction_with = ROOT }
					OR = {
						is_major = yes
						is_neighbor_of = ROOT
					}
				}
			}

			hidden_effect = {
				every_country = {
					limit = {
						has_government = communism
						NOT = { is_in_faction_with = ROOT }
						OR = {
							is_major = yes
							is_neighbor_of = ROOT
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = china_communist_focus
	
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = PRC
			has_dlc = "Waking the Tiger"
			always = no
		}
	}
	

	default = no

	continuous_focus_position = { x = 20 y = 1000 }

#	focus = {
#		id = PRC_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}
	shared_focus = CHI_invite_foreign_investors

	focus = {
		id = PRC_strengthen_the_central_secretariat
		icon = GFX_goal_generic_intelligence_exchange
		x = 2
		y = 0

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = PRC_marxist_orthodoxy
		icon = GFX_goal_support_communism
		prerequisite = { focus = PRC_strengthen_the_central_secretariat }
		mutually_exclusive = { focus = PRC_agrarian_socialism focus = PRC_social_democracy }
		x = -2
		y = 1
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				has_war_with = SOV
				factor = 0
			}
		}

		available = {
			has_government = communism
			OR = {
				is_subject = no
				is_subject_of = SOV
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					original_tag = PRC
				}
				create_country_leader = {
					name = "Wang Ming"
					desc = "POLITICS_WANG_MING_DESC"
					picture = "GFX_portrait_prc_wang_ming"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						
					}
				}
			}
		}
	}

	focus = {
		id = PRC_soviet_leadership
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = PRC_marxist_orthodoxy }
		x = 0
		y = 1
		relative_position_id = PRC_marxist_orthodoxy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_war_with = SOV
			}
			OR = {
				is_subject = no
				is_subject_of = SOV
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			remove_ideas = PRC_power_struggles
		}
	}

	focus = {
		id = PRC_soviet_economic_aid
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = PRC_soviet_leadership }
		x = 0
		y = 2
		relative_position_id = PRC_marxist_orthodoxy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = SOV }
			OR = {
				is_subject = no
				is_subject_of = SOV
				is_in_faction_with = SOV
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_idea = PRC_the_long_march_1 }
				remove_ideas = PRC_the_long_march_1
			}
			else = {
				remove_ideas = PRC_the_long_march_2 
			}
		}
	}

	focus = {
		id = PRC_internationalism
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = PRC_soviet_economic_aid }
		x = 0
		y = 3
		relative_position_id = PRC_marxist_orthodoxy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			SOV = { has_government = ROOT }
			NOT = {
				has_war_with = SOV
			}
			OR = {
				is_subject = no
				is_subject_of = SOV
			}
			is_in_faction = no
		}

		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = { country_event = generic.2 }
		}
	}

	focus = {
		id = PRC_agrarian_socialism
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = PRC_strengthen_the_central_secretariat }
		mutually_exclusive = { focus = PRC_marxist_orthodoxy focus = PRC_social_democracy }
		x = 0
		y = 1
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_the_long_march_1
				add_idea = PRC_the_long_march_2
			}
		}
	}

	focus = {
		id = PRC_rectification_campaign
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_agrarian_socialism }
		x = 0
		y = 1
		relative_position_id = PRC_agrarian_socialism

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = PRC_power_struggles
		}
	}

	focus = {
		id = PRC_maoism
		icon = GFX_focus_prc_maoism
		prerequisite = { focus = PRC_rectification_campaign}
		x = 0
		y = 2
		relative_position_id = PRC_agrarian_socialism

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			add_ideas = PRC_maoism
		}
	}

	focus = {
		id = PRC_socialism_with_chinese_characteristics
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = PRC_maoism }
		x = 0
		y = 3
		relative_position_id = PRC_agrarian_socialism

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				is_faction_leader = yes
				factor = 0
			}
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = PRC_mao_faction
			}
		}
	}

	focus = {
		id = PRC_proclaim_the_peoples_republic
		icon = GFX_focus_prc_proclaim_the_peoples_republic 
		prerequisite = { focus = PRC_socialism_with_chinese_characteristics focus = PRC_internationalism }
		x = -1
		y = 4
		relative_position_id = PRC_agrarian_socialism

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			strength_ratio = {
				tag = event_target:WTT_current_china_leader
				ratio > 0.5
			}
			num_of_factories > 49
			NOT = { has_idea = PRC_the_long_march_1 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_cosmetic_tag = PRC_proclaimed
			hidden_effect = {
				news_event = { id = wtt_news.37 days = 3 random_days = 3 }
			}
		}
	}

	focus = {
		id = PRC_socialist_market_economy
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = PRC_proclaim_the_peoples_republic focus = PRC_remove_chiang_kai_shek }
		x = 2
		y = 5
		relative_position_id = PRC_agrarian_socialism

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			OR = {
				NOT = { has_completed_focus = PRC_coalition_government }
				WTT_is_ROOT_current_leader_of_china = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PRC_deng_xiaoping
			if = {
				limit = { has_idea = PRC_the_long_march_1 }
				remove_ideas = PRC_the_long_march_1
			}
			if = {
				limit = { has_idea = PRC_the_long_march_2 }
				remove_ideas = PRC_the_long_march_2 
			}
		}
	}

	focus = {
		id = PRC_social_democracy
		icon = GFX_focus_prc_social_democracy
		prerequisite = { focus = PRC_strengthen_the_central_secretariat }
		mutually_exclusive = { focus = PRC_agrarian_socialism focus = PRC_marxist_orthodoxy }
		x = 2
		y = 1
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 10

		ai_will_do = {
			factor = 2
			modifier = {
				has_war_with = event_target:WTT_current_china_leader
				factor = 0
			} 
		}

		available = {
			has_government = communism
			OR = {
				is_subject = no
				is_subject_of = event_target:WTT_current_china_leader
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					original_tag = PRC
				}
				create_country_leader = {
					name = "Zhang Lan"
					desc = "POLITICS_ZHANG_LAN_DESC"
					picture = "GFX_portrait_prc_zhang_lan"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						
					}
				}
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = yes
			}
		}
	}

	focus = {
		id = PRC_coalition_government
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = PRC_social_democracy }
		x = 0
		y = 1
		relative_position_id = PRC_social_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					WTT_not_taking_over_national_leadership = no				
				}
				WTT_not_taking_over_national_leadership = yes
			}
			if = {
				limit = {
					WTT_not_china_leader_refused_to_give_up_national_leadership = no
				}
				WTT_not_china_leader_refused_to_give_up_national_leadership = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			event_target:WTT_current_china_leader = {
				country_event = wtt_prc.1
			}
			custom_effect_tooltip = enable_power_struggle
			hidden_effect = {
				WTT_setup_political_struggle = yes
				WTT_add_ROOT_to_political_struggle = yes
			}
		}
	}

	focus = {
		id = PRC_purge_the_radicals
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PRC_coalition_government }
		x = 0
		y = 2
		relative_position_id = PRC_social_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = PRC_power_struggles
		}
	}

	focus = {
		id = PRC_strengthen_the_left_wing_of_the_kmt
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = PRC_coalition_government }
		x = 2
		y = 2
		relative_position_id = PRC_social_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			WTT_CHI_is_not_leader = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			CHI = { add_stability = -0.05 } 
		}
	}

	focus = {
		id = PRC_remove_chiang_kai_shek
		icon = GFX_focus_prc_remove_chiang_kai_shek
		prerequisite = { focus = PRC_strengthen_the_left_wing_of_the_kmt }
		prerequisite = { focus = PRC_purge_the_radicals }
		x = 0
		y = 3
		relative_position_id = PRC_social_democracy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			WTT_has_politcal_support_points_30 = yes
			not = { is_subject_of = event_target:WTT_current_china_leader }
		}

		bypass = {
			OR = {
				WTT_CHI_is_not_leader = yes
				NOT = { CHI = { has_country_leader = { name = "Chiang Kai-Shek" } } }
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			CHI = {
				kill_country_leader = yes
				custom_effect_tooltip = loses_political_support_points_15
				subtract_from_variable = { other_political_support = 15 }
			}
			WTT_political_struggle_recalculate_support = yes			
		}
	}

	focus = {
		id = PRC_land_redistribution
		icon = GFX_goal_generic_construction
		x = 10
		y = 0
		relative_position_id = PRC_strengthen_the_central_secretariat

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			PRC_low_popular_support_level_down = yes
		}
	}

	focus = {
		id = PRC_the_yanan_base_area
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = PRC_land_redistribution }
		x = 6
		y = 1
		relative_position_id = PRC_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			622 = { is_fully_controlled_by = ROOT }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			622 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}

		completion_reward = {
			622 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = PRC_prepare_for_war_with_japan
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_the_yanan_base_area }
		x = -1
		y = 1
		relative_position_id = PRC_the_yanan_base_area

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			not = {
				is_subject_of = JAP
			}
		}

		bypass = {
			has_war_with = JAP
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = PRC_government_of_national_defense
		icon = GFX_focus_chi_united_front
		prerequisite = { focus = PRC_prepare_for_war_with_japan }
		x = 0
		y = 1
		relative_position_id = PRC_prepare_for_war_with_japan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_war_with = CHI
			}
			is_subject = no
		}

		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					event_target:WTT_current_china_leader = {
						is_puppet = no
						exists = yes
					}
				}
				event_target:WTT_current_china_leader = { country_event = wtt_prc.1 }
			}
			else = {
				set_rule = { can_create_factions = yes }
				create_faction = PRC_government_of_national_defense
			}
		}
	}

	focus = {
		id = PRC_confrontation_with_the_warlords
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = PRC_government_of_national_defense }
		x = 0
		y = 2
		relative_position_id = PRC_prepare_for_war_with_japan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
		}

		bypass = {
			OR = {
				AND = {
					is_in_faction = yes
					not = { is_in_faction_with = CHI } #in any other faction that doesn't include CHI
				}
				AND = {
					YUN = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					GXC = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					SHX = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					XSM = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
					SIK = {
						OR = {
							exists = no
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						is_in_faction = no
					}
					set_rule = { can_create_factions = yes }
					create_faction = chinese_united_front
				}
			}
			every_country = {
				limit = {
					is_literally_china = yes
					is_in_faction = no
					NOT = {
						tag = ROOT
					}
				}
				country_event = wtt_prc.10
			}
		}
	}

	focus = {
		id = PRC_anti_japanese_expedition
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = PRC_prepare_for_war_with_japan}
		x = -3
		y = 1
		relative_position_id = PRC_prepare_for_war_with_japan

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			OR = {
				MAN = {
					OR = {
						is_subject_of = JAP
						has_cosmetic_tag = MAN_kwantung_army
					}
				}
				AND = {
					MAN = {
						exists = no
					}
					JAP = {
						owns_state = 612
						owns_state = 611
						owns_state = 610
					}
				}
			}
			NOT = {
				is_subject_of = JAP
			}
		}

		bypass = {
			has_war_with = JAP
			OR = {
				has_war_with = JAP
				AND = {
					MAN = {
						is_subject = no
					}
					JAP = {
						NOT = {
							owns_state = 525
							owns_state = 527
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = PRC_anti_japanese_expedition
			set_country_flag = {
				flag = JAP_delay_sweep_for_communists
				days = 100
				value = 1
			}
		}
	}

	focus = {
		id = PRC_revolutionary_military_commission
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = PRC_confrontation_with_the_warlords focus = PRC_infiltration }
		x = 0
		y = 1
		relative_position_id = PRC_confrontation_with_the_warlords

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_revolutionary_military_commission
		}
	}

	focus = {
		id = PRC_provoke_japan
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = PRC_revolutionary_military_commission }
		prerequisite = { focus = PRC_anti_japanese_expedition }
		x = -3
		y = 1
		relative_position_id = PRC_revolutionary_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
			modifier = {
				JAP = {
					has_government = communism
				}
				factor = 0
			}
		}

		available = {
			NOT = {
				is_subject_of = JAP #was fun while it lasted
			}
		}

		bypass = {
			OR = {
				has_war_with = JAP
				AND = {
					MAN = {
						is_subject = no
					}
					JAP = {
						NOT = {
							owns_state = 525
							owns_state = 527
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_tooltip = { decision = PRC_provoke_japan show_effect_tooltip = yes }
		}
	}

	focus = {
		id = PRC_protracted_warfare
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = PRC_provoke_japan }
		mutually_exclusive = { focus = PRC_mobile_warfare }
		x = -1
		y = 1
		relative_position_id = PRC_provoke_japan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_protracted_warfare
		}
	}

	focus = {
		id = PRC_mobile_warfare
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = PRC_provoke_japan }
		mutually_exclusive = { focus = PRC_protracted_warfare }
		x = 1
		y = 1
		relative_position_id = PRC_provoke_japan

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_mobile_warfare
		}
	}

	focus = {
		id = PRC_peoples_war
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = PRC_protracted_warfare }
		x = -1
		y = 2
		relative_position_id = PRC_provoke_japan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_peoples_war
		}
	}

	focus = {
		id = PRC_100_regiments_campaign
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_mobile_warfare }
		x = 1
		y = 2
		relative_position_id = PRC_provoke_japan

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = PRC_launch_100_regiments_campaign
		}
	}

	focus = {
		id = PRC_central_military_commission
		icon = GFX_goal_generic_defence
		prerequisite = { focus = PRC_revolutionary_military_commission }
		x = 0
		y = 1
		relative_position_id = PRC_revolutionary_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = PRC_revolutionary_military_commission
				add_idea = PRC_central_military_commission
			}
		}
	}

	focus = {
		id = PRC_peoples_liberation_army
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = PRC_central_military_commission }
		x = 0
		y = 1
		relative_position_id = PRC_central_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = PRC_red_army_weakened
		}
	}

	focus = {
		id = PRC_peoples_volunteer_army
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = PRC_central_military_commission }
		x = 2
		y = 1
		relative_position_id = PRC_central_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_peoples_volunteer_army
		}
	}

	focus = {
		id = PRC_military_intelligence_department
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PRC_revolutionary_military_commission }
		x = 4
		y = 1
		relative_position_id = PRC_revolutionary_military_commission

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PRC_kang_sheng
		}
	}

	focus = {
		id = PRC_central_security_bureau
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PRC_military_intelligence_department }
		x = 0
		y = 1
		relative_position_id = PRC_military_intelligence_department

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = PRC_focus_on_china
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PRC_the_yanan_base_area }
		x = 1
		y = 1
		relative_position_id = PRC_the_yanan_base_area

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			not = {
				is_subject_of = event_target:WTT_current_china_leader
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = PRC_focus_on_china
		}
	}

	focus = {
		id = PRC_exploit_the_weak_neighbours
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PRC_focus_on_china }
		x = 1
		y = 1
		relative_position_id = PRC_focus_on_china

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				SHX = { can_ROOT_get_wargoal_on_THIS = yes }
				XSM = { can_ROOT_get_wargoal_on_THIS = yes }
			}
		}

		bypass = {
			has_war_with = SHX
			has_war_with = XSM
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					SHX = { can_ROOT_get_wargoal_on_THIS = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = SHX
				}
			}
			if = {
				limit = {
					XSM = { can_ROOT_get_wargoal_on_THIS = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = XSM
				}
			}
		}
	}

	focus = {
		id = PRC_infiltration
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = PRC_focus_on_china }
		x = 0
		y = 2
		relative_position_id = PRC_focus_on_china

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			event_target:WTT_current_china_leader = {
				exists = yes
				NOT = {
					has_subject = ROOT
				}
			}
		}

		bypass = {
			event_target:WTT_current_china_leader = { tag = ROOT }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			unlock_decision_category_tooltip = PRC_infiltrate_nationalist_areas
			set_country_flag = {
				flag = CHI_delay_sweep_for_communists
				days = 90
				value = 1
			}
		}
	}

	focus = {
		id = PRC_enforce_the_three_rules
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = PRC_land_redistribution }
		x = 0
		y = 1
		relative_position_id = PRC_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			PRC_low_popular_support_level_down = yes
		}
	}

	focus = {
		id = PRC_permit_opium_trade
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_enforce_the_three_rules}
		mutually_exclusive = { focus = PRC_ban_the_opium_trade }
		x = -1
		y = 1
		relative_position_id = PRC_enforce_the_three_rules

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = PRC_permit_opium_trade
			add_ideas = PRC_government_corruption
		}
	}

	focus = {
		id = PRC_ban_the_opium_trade
		icon = GFX_goal_generic_political_pressure
		mutually_exclusive = { focus = PRC_permit_opium_trade }
		prerequisite = { focus = PRC_enforce_the_three_rules }
		x = 1
		y = 1
		relative_position_id = PRC_enforce_the_three_rules

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
		}
	}

	focus = {
		id = PRC_abolish_the_land_rent
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = PRC_permit_opium_trade focus = PRC_ban_the_opium_trade }
		x = 0
		y = 2
		relative_position_id = PRC_enforce_the_three_rules

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			if = {
				limit = {
					has_idea = PRC_low_popular_support_1
				}
				has_idea = PRC_low_popular_support_1
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_2
				}
				has_idea = PRC_low_popular_support_2
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_3
				}
				has_idea = PRC_low_popular_support_3
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_4
				}
				has_idea = PRC_low_popular_support_4
			}
			if = {
				limit = {
					has_idea = PRC_low_popular_support_5
				}
				has_idea = PRC_low_popular_support_5
			}
		}

		bypass = {
			NOT = { PRC_has_low_popular_support = yes }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = { limit = { has_idea = PRC_low_popular_support_1 } remove_ideas = PRC_low_popular_support_1 }
			else_if = { limit = { has_idea = PRC_low_popular_support_2 } remove_ideas = PRC_low_popular_support_2 }
			else_if = { limit = { has_idea = PRC_low_popular_support_3 } remove_ideas = PRC_low_popular_support_3 }
			else_if = { limit = { has_idea = PRC_low_popular_support_4 } remove_ideas = PRC_low_popular_support_4 }
			else = { remove_ideas = PRC_low_popular_support_5 }
		}
	}

	focus = {
		id = PRC_literacy_programs
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = PRC_land_redistribution }
		x = -4
		y = 1
		relative_position_id = PRC_land_redistribution

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = PRC_china_medical_university
		icon = GFX_focus_research
		prerequisite = { focus = PRC_literacy_programs }
		x = 0
		y = 1
		relative_position_id = PRC_literacy_programs

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 34
			amount_research_slots < 5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = PRC_form_the_academy_of_sciences
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = PRC_china_medical_university }
		x = 0
		y = 2
		relative_position_id = PRC_literacy_programs

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 69
			amount_research_slots < 5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1

		}
	}
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = indian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = RAJ
			has_dlc = "Together for Victory"
			always = no
		}

		#modifier = {
		#	add = 10
		#	original_tag = RAJ
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no



#	focus = {
#		id = RAJ_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}


	############################
	## THE BIG QUEEN SECTION ###
	############################

	focus = {
		id = RAJ_provincial_elections
		icon = GFX_goal_generic_forceful_treaty
		x = 6
		y = 0

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			OR = {
				AND = {
					threat > 0.1
					is_subject = yes
				}
				is_subject = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100			
			add_autonomy_ratio = {
				value = 0.1
				localization = RAJ_provincial_elections
			}
			swap_ideas = {
				add_idea = RAJ_princely_states_election
				remove_idea = RAJ_princely_states
			}
		}
	}

	focus = {
		id = RAJ_swaraj
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = RAJ_provincial_elections }
		mutually_exclusive = { focus = RAJ_indian_national_congress }
		x = -1
		y = 1
		relative_position_id = RAJ_provincial_elections

		cost = 10

		ai_will_do = {
			factor = 15
			modifier = {
				OR = {
					communism > 0.2
					fascism > 0.2
				}
				factor = 3
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {
			NOT = { is_subject_of = ENG }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_autonomy_ratio = {
				value = 0.1
				localization = RAJ_swaraj
			}
			add_opinion_modifier = { target = ENG modifier = RAJ_swaraj }
			hidden_effect = { news_event = { id = news.284 hours = 12 } }
		}
	}

	focus = {
		id = RAJ_indian_national_congress
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = RAJ_provincial_elections }
		mutually_exclusive = { focus = RAJ_swaraj }
		x = 1
		y = 1
		relative_position_id = RAJ_provincial_elections

		cost = 10

		ai_will_do = {
			factor = 27
		}

		available = {
			
		}

		bypass = {
			NOT = { is_subject_of = ENG }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_autonomy_ratio = {
				value = 0.1
				localization = RAJ_indian_national_congress
			}
			add_opinion_modifier = { target = ENG modifier = RAJ_indian_national_congress }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = RAJ_bhimrao_ramji_ambedkar
			hidden_effect = { news_event = { id = news.283 hours = 12 } }
		}
	}

	focus = {
		id = RAJ_quit_india_movement
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = RAJ_swaraj focus = RAJ_cripps_mission }
		x = 0
		y = 2
		relative_position_id = RAJ_swaraj

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = RAJ_quit_india_movement
			set_country_flag = RAJ_quit_india_movement
			custom_effect_tooltip = "tfv_raj_quit_india_unrest_tt"
			hidden_effect = {
				country_event = { id = tfv_raj.210 days = 15 random_days = 20 }
				news_event = { id = news.282 hours = 6 }
			}
		}
	}

	############################
	###### COMMIE/FASCIST ######
	############################

	focus = {
		id = RAJ_all_india_forward_bloc
		icon = GFX_focus_RAJ_all_india_forward_bloc
		prerequisite = { focus = RAJ_swaraj }
		x = -4
		y = 1
		relative_position_id = RAJ_swaraj

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			add_ideas = RAJ_all_india_forward_bloc
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = RAJ_karam_singh_mann
			show_ideas_tooltip = RAJ_subhas_chanda_bose
		}
	}


	############################
	########## SOVIET ##########
	############################

	focus = {
		id = RAJ_seek_help_from_soviet
		icon = GFX_focus_RAJ_seek_help_from_soviet
		prerequisite = { focus = RAJ_all_india_forward_bloc }		
		x = -1
		y = 1
		relative_position_id = RAJ_all_india_forward_bloc

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				AND = {
					communism > 0.25
					fascism < 0.25
				}
				factor = 3
			}
		}

		available = {
			OR = {
				AND = {
					if = {
						limit = {
							NOT = { has_government = fascism }
						}
						compare_autonomy_state < autonomy_dominion
					}
					if = {
						limit = {
							has_government = fascism
						}
						compare_autonomy_state < autonomy_satellite
					}
					has_civil_war = no
					NOT = { has_country_flag = RAJ_seek_help_from_germany_promised }
					SOV_can_help_against_ENG = yes
					NOT = { has_country_flag = britain_enforced_our_loyalty }
				}
				is_subject = no
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = SOV
				is_subject = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = {
				country_event = { id = tfv_raj.30 hours = 6 }
			}
			if = {
				limit = {
					has_idea = RAJ_all_india_forward_bloc_fascism
				}
				swap_ideas = {
					add_idea = RAJ_all_india_forward_bloc_communism
					remove_idea = RAJ_all_india_forward_bloc_fascism
				}
				else = {
					swap_ideas = {
						add_idea = RAJ_all_india_forward_bloc_communism
						remove_idea = RAJ_all_india_forward_bloc
					}
				}
			}
		}
	}

	focus = {
		id = RAJ_indian_peoples_army
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = RAJ_seek_help_from_soviet }
		mutually_exclusive = { focus = RAJ_indian_national_army }
		x = 0
		y = 1
		relative_position_id = RAJ_seek_help_from_soviet

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_civil_war = no
			#communism > 0.15
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		complete_tooltip = {
			custom_effect_tooltip = RAJ_indian_peoples_army_effect
		}

		completion_reward = {
			custom_effect_tooltip = RAJ_indian_peoples_army_effect
			if = {
				limit = {
					has_global_flag = RAJ_seek_help_from_soviet_promised
					SOV_can_help_against_ENG = yes
				}
				custom_effect_tooltip = RAJ_indian_peoples_army_support
			}
			hidden_effect = {
				random_owned_controlled_state = {
					prioritize = { 429 425 }
					RAJ = { set_capital = PREV }
				}
				if = {
					set_temp_variable = { ideology_val = party_popularity@communism }
					scale_var_civil_war_size_by_autonomy_and_var_ideology_val = yes
					start_civil_war = {
						ruling_party = communism
						ideology = neutrality
						size = civil_war_size
						capital = 439
					}
					#Scaled by autonomy and party support - Don't add these before
				}
				if = {
					limit = {
						has_global_flag = RAJ_seek_help_from_soviet_promised
						SOV_can_help_against_ENG = yes
					}
					SOV = {
						add_to_faction = RAJ
						add_popularity = {
							ideology = communism
							popularity = 0.35
						}
					}
					create_country_leader = {
						name = "Subhas Chandra Bose"
						desc = "POLITICS_SUBHAS_CHANDRA_BOSE_DESC"
						picture = GFX_RAJ_subhas_chandra_bose
						expire = "1965.1.1"
						ideology = stalinism
						traits = {
							indomitable_perseverance
						}
					}
					retire_country_leader = yes
				}
				random_other_country = {
					limit = {
						original_tag = RAJ
						has_government = neutrality
					}
					add_popularity = {
						ideology = neutrality
						popularity = 0.15
					}
					ENG = { add_to_faction = PREV }
				}						
			}
		}
	}

	focus = {
		id = RAJ_research_city_excursions
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = RAJ_indian_peoples_army }
		x = -1
		y = 2
		relative_position_id = RAJ_seek_help_from_soviet

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_in_faction_with = SOV
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			SOV = { add_to_tech_sharing_group = comintern_research }
			add_to_tech_sharing_group = comintern_research
		}
	}

	focus = {
		id = RAJ_combined_arms_academy
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = RAJ_research_city_excursions }
		x = -1
		y = 3
		relative_position_id = RAJ_seek_help_from_soviet

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_in_faction_with = SOV
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_combined_arms_academy
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = RAJ_combined_arms_academy
				bonus = 1.0
				uses = 1
				category = armor
				category = motorized_equipment
			}
			add_tech_bonus = {
				name = RAJ_combined_arms_academy
				bonus = 1.0
				uses = 1
				category = cat_anti_tank
			}
		}
	}

	############################
	######### SHARED ###########
	############################


	focus = {
		id = RAJ_rani_of_jhans
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = RAJ_indian_peoples_army focus = RAJ_indian_national_army }
		x = 0
		y = 3
		relative_position_id = RAJ_all_india_forward_bloc

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
		custom_effect_tooltip = RAJ_create_unit_rani_tt
		custom_effect_tooltip = RAJ_create_general_rani_tt
			hidden_effect = {
			create_corps_commander = {
				name = "Lakshmi Sahgal"
				gfx = "GFX_RAJ_lakshmi_sahgal"
				traits = { }
				skill = 3
				female = yes
				attack_skill = 3
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
			}
			division_template = {
				name = "Rani of Jhansi Division"
				division_names_group = RAJ_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
		
		        	infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
		
		        	infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
			}

		random_owned_controlled_state = {
			prioritize = { 439 }
			create_unit = { 
				division = "name = \"1. Rani of Jhansi Division\" division_template = \"Rani of Jhansi Division\" start_experience_factor = 0.5" 
				owner = RAJ
				}

		}
			}
		}
	}

	focus = {
		id = RAJ_rebuilding_the_nation
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = RAJ_rani_of_jhans }
		x = 0
		y = 4
		relative_position_id = RAJ_all_india_forward_bloc

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_rebuilding_the_nation_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_rebuilding_the_nation_IC2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_rebuilding_the_nation_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_rebuilding_the_nation_IC1
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_rebuilding_the_nation_IC2
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_rebuilding_the_nation_AF
			}
		}
	}



	############################
	######### GERMANY ##########
	############################

	focus = {
		id = RAJ_seek_help_from_germany
		icon = GFX_focus_RAJ_seek_help_from_germany
		prerequisite = { focus = RAJ_all_india_forward_bloc }		
		x = 1
		y = 1
		relative_position_id = RAJ_all_india_forward_bloc

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				AND = {
					communism < 0.25
					fascism > 0.25
				}
				factor = 3
			}
		}

		available = {
			OR = {
				AND = {
					if = {
						limit = { NOT = { has_government = fascism } }
						compare_autonomy_state < autonomy_dominion
					}
					if = {
						limit = {
							has_government = fascism
						}
						compare_autonomy_state < autonomy_satellite
					}
					has_civil_war = no
					NOT = { has_global_flag = RAJ_seek_help_from_soviet_promised }
					GER = {				
						exists = yes
						has_government = fascism
					}
					NOT = { has_country_flag = britain_enforced_our_loyalty }
				}
				is_subject = no
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = GER
				is_subject = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			GER = {
				country_event = { id = tfv_raj.40 hours = 6 }
			}
			if = {
				limit = {
					has_idea = RAJ_all_india_forward_bloc_communism
				}
				swap_ideas = {
					add_idea = RAJ_all_india_forward_bloc_fascism
					remove_idea = RAJ_all_india_forward_bloc_communism
				}
				else = {
					swap_ideas = {
						add_idea = RAJ_all_india_forward_bloc_fascism
						remove_idea = RAJ_all_india_forward_bloc
					}
				}
			}
		}
	}

	focus = {
		id = RAJ_indian_national_army
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = RAJ_seek_help_from_germany }
		mutually_exclusive = { focus = RAJ_indian_peoples_army }
		x = 0
		y = 1
		relative_position_id = RAJ_seek_help_from_germany

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_civil_war = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			custom_effect_tooltip = RAJ_indian_national_army_effect
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			custom_effect_tooltip = RAJ_indian_national_army_effect
			if = {
				limit = {
					has_global_flag = RAJ_seek_help_from_germany_promised
					GER_can_help_against_ENG = yes
				}
				custom_effect_tooltip = RAJ_indian_national_army_support
			}
			hidden_effect = {
				random_owned_controlled_state = {
					prioritize = { 429 425 }
					RAJ = { set_capital = PREV }
				}
				if = {
					set_temp_variable = { ideology_val = party_popularity@fascism }
					scale_var_civil_war_size_by_autonomy_and_var_ideology_val = yes
					start_civil_war = {
						ruling_party = fascism
						ideology = neutrality
						size = civil_war_size
						capital = 439
					}
					#Don't add support before this
				}
				if = {
					limit = {
						has_global_flag = RAJ_seek_help_from_germany_promised
						GER_can_help_against_ENG = yes
					}
					GER = {
						add_to_faction = RAJ
						add_popularity = {
							ideology = fascism
							popularity = 0.35
						}
					}
					create_country_leader = {
						name = "Subhas Chandra Bose"
						desc = "POLITICS_SUBHAS_CHANDRA_BOSE_DESC"
						picture = GFX_RAJ_subhas_chandra_bose
						expire = "1965.1.1"
						ideology = nazism
						traits = {
							indomitable_perseverance
						}
					}
				}
				random_other_country = {
					limit = {
						original_tag = RAJ
						has_government = neutrality
					}
					add_popularity = {
						ideology = neutrality
						popularity = 0.15
					}
					ENG = { add_to_faction = PREV }
				}					
			}
		}
	}

	focus = {
		id = RAJ_battaglione_azad_hindoustan
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = RAJ_seek_help_from_germany }
		x = 2
		y = 1
		relative_position_id = RAJ_seek_help_from_germany

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			ITA = {
				has_capitulated = no
				is_in_faction_with = GER
				has_government = fascism
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { NOT = { has_tech = paratroopers } }
				set_technology = { paratroopers = 1 }
				
				else = {
					add_tech_bonus = {
						name = RAJ_battaglione_azad_hindoustan
						bonus = 1.0
						uses = 1
						technology = paratroopers2
						technology = paratroopers3
					}
				}
			}
			
		
			ITA = {
				country_event = { id = tfv_raj.201 }
			}
			
			if = {
				limit = {
					is_ai = no
				}
				
				division_template = {
					name = "Battaglione Azad Hindoustan" #Hindu paratrooper division created for Italy
					division_names_group = RAJ_PAR_01
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }

						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
					}
				}
					
				ITA = {
					random_owned_controlled_state = {
						prioritize = { 2 }
						
						custom_effect_tooltip = tfv_raj_focus_paratrooper_tt
						hidden_effect = {
							create_unit = { 
								division = "name = \"Battaglione Azad Hindoustan\" division_template = \"Battaglione Azad Hindoustan\" start_experience_factor = 1.0" 
								owner = RAJ
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = RAJ_german_technology
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = RAJ_indian_national_army }
		x = 1
		y = 2
		relative_position_id = RAJ_seek_help_from_germany
		dynamic = yes
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_in_faction_with = GER
				is_in_faction_with = JAP
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			GER = { add_to_tech_sharing_group = axis_research }
			add_to_tech_sharing_group = axis_research
		}
	}

	focus = {
		id = RAJ_japanese_army_air_force_academy
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = RAJ_german_technology }
		x = 1
		y = 3
		relative_position_id = RAJ_seek_help_from_germany
		dynamic = yes
		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_in_faction_with = GER
				is_in_faction_with = JAP
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {	
			air_experience = 25
			add_tech_bonus = {
				name = RAJ_japanese_army_air_force_academy
				bonus = 3.0
				uses = 1
				category = light_fighter
				category = cas_bomber
			}
			add_tech_bonus = {
				name = RAJ_japanese_army_air_force_academy
				bonus = 1.00
				uses = 1
				category = air_doctrine
			}
		}
	}


	############################
	### SOMEWHAT DEMOCRATIC ####
	############################

	focus = {
		id = RAJ_cripps_mission
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = RAJ_indian_national_congress }
		x = 0
		y = 1
		relative_position_id = RAJ_indian_national_congress

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_subject = yes
				has_global_flag = ENG_decolonized
			}
		}

		bypass = {
			OR = {
				NOT = {
					OR = {
						has_idea = RAJ_marginalized_muslim_community
						has_idea = RAJ_marginalized_muslim_community_angry
					}
				}
				is_subject = no
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = RAJ_marginalized_muslim_community_angry
				remove_idea = RAJ_marginalized_muslim_community
			}
			add_autonomy_ratio = {
				value =	0.05
				localization = RAJ_cripps_mission
		 	}		 	
		}
	}

	focus = {
		id = RAJ_two_nation_theory
		icon = GFX_focus_RAJ_two_nation_theory
		prerequisite = { focus = RAJ_cripps_mission focus = RAJ_swaraj }
		x = 0
		y = 2
		relative_position_id = RAJ_indian_national_congress

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			
		}

		bypass = {
			OR = {
				has_idea = RAJ_marginalized_muslim_community_happy
				PAK = { exists = yes }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			custom_effect_tooltip = RAJ_two_nation_theory_effect
			if = {
				limit = {
					has_idea = RAJ_marginalized_muslim_community_angry
				}
				swap_ideas = {
					add_idea = RAJ_marginalized_muslim_community_happy
					remove_idea = RAJ_marginalized_muslim_community_angry
				}
			}
			else = {
				swap_ideas = {
					add_idea = RAJ_marginalized_muslim_community_happy
					remove_idea = RAJ_marginalized_muslim_community
				}
			}
		}
	}

	focus = {
		id = RAJ_princely_state_donations
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = RAJ_indian_national_congress }
		x = 2
		y = 1
		relative_position_id = RAJ_indian_national_congress

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			swap_ideas = {
				add_idea = RAJ_princely_states_donations
				remove_idea = RAJ_princely_states_election
			}
		}
	}

	focus = {
		id = RAJ_imperial_service_troops
		icon = GFX_focus_generic_commonwealth_build_infantry
		prerequisite = { focus =  RAJ_princely_state_donations }
		x = 0
		y = 1
		relative_position_id = RAJ_princely_state_donations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = RAJ_princely_states_donations_troops
				remove_idea = RAJ_princely_states_donations
			}
			add_autonomy_ratio = {
				value = -0.05
				localization = RAJ_imperial_service_troops
			}
		}
	}

	focus = {
		id = RAJ_raf_funding
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = RAJ_imperial_service_troops }
		x = -1
		y = 2
		relative_position_id = RAJ_princely_state_donations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			OR = {
				has_war_with = GER
				ENG = { has_war_with = GER }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			country_event = { id = tfv_raj.1 }
		}
	}

	focus = {
		id = RAJ_navy_funding
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = RAJ_imperial_service_troops }
		x = 1
		y = 2
		relative_position_id = RAJ_princely_state_donations

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				has_tech = early_light_cruiser
			}
			else = {
				has_tech = early_ship_hull_cruiser
				has_tech = basic_battery
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				if = {
					limit = { 
						has_tech = basic_light_cruiser 
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
						}
						requested_factories = 1
						progress = 0.95
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
						}
						requested_factories = 1
						progress = 0.95
						amount = 1
					}
					else = {
						set_technology = { basic_light_cruiser = 1 }
						custom_effect_tooltip = RAJ_navy_funding_effect
					}
				}
			}
			else = {
				if = {
					limit = {
						has_tech = basic_ship_hull_cruiser
						has_tech = basic_torpedo
						has_tech = basic_medium_battery
					}
					create_equipment_variant = {
						name = "Delhi Class"
						type = ship_hull_cruiser_2
						name_group = RAJ_CL_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_medium_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cruiser_1
							front_1_custom_slot = empty
							mid_1_custom_slot = ship_torpedo_1
							mid_2_custom_slot = ship_airplane_launcher_1
							rear_1_custom_slot = ship_light_medium_battery_2
						}
					}
					custom_effect_tooltip = RAJ_navy_funding_effect_mtg
					hidden_effect = {
						add_equipment_production = {
							equipment = {
								type = ship_hull_cruiser_2
								creator = "RAJ"
								version_name = "Delhi Class"
							}
							requested_factories = 1
							progress = 0.95
							amount = 1
						}
						add_equipment_production = {
							equipment = {
								type = ship_hull_cruiser_2
								creator = "RAJ"
								version_name = "Delhi Class"
							}
							requested_factories = 1
							progress = 0.95
							amount = 1
						}
					}
					else = {
						set_technology = { 
							basic_ship_hull_cruiser = 1 
							basic_torpedo = 1
							basic_medium_battery = 1
						}
						navy_experience = 20
						custom_effect_tooltip = RAJ_navy_funding_effect
					}
				}
			}
		}
	}

	focus = {
		id = RAJ_british_army_support
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = RAJ_indian_national_congress }
		x = 5
		y = 1
		relative_position_id = RAJ_indian_national_congress

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			army_experience = 20
			add_tech_bonus = {
				name = RAJ_british_army_support
				bonus = 1.0
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = RAJ_red_eagle_division
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = RAJ_british_army_support }
		x = -1
		y = 1
		relative_position_id = RAJ_british_army_support

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
		custom_effect_tooltip = RAJ_create_unit_red_eagles_tt
		army_experience = 50
			hidden_effect = {
				division_template = {
					name = "Red Eagles Division"
					priority = 2
					division_names_group = RAJ_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
			
	    	   		 	infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }

						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}

					support = {
        				artillery = { x = 0 y = 0 }
        				engineer = { x = 0 y = 1 }
					}
				}
	
				random_owned_controlled_state = {
					prioritize = { 439 }
					create_unit = {
						division = "name = \"Red Eagles Division\" division_template = \"Red Eagles Division\" start_experience_factor = 0.75" 
						owner = RAJ
					}	
				}
			}
		}
	}

	focus = {
		id = RAJ_chindits
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = RAJ_british_army_support }
		x = 1
		y = 1
		relative_position_id = RAJ_british_army_support

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = RAJ_indian_gurkhas
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
		custom_effect_tooltip = RAJ_orde_wingate_tt
		hidden_effect = {
			create_corps_commander = {
				name = "Orde Wingate"
				gfx = "GFX_RAJ_orde_wingate"
				traits = { jungle_rat commando }
				skill = 4
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 5
				}
			}
			add_tech_bonus = {
				name = RAJ_chindits
				bonus = 3.0
				uses = 2
				category = para_tech
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = RAJ_jungle_training
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = RAJ_chindits }
		prerequisite = { focus = RAJ_indian_gurkhas }
		x = 2
		y = 2
		relative_position_id = RAJ_british_army_support

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = RAJ_jungle_training_effect
			hidden_effect = { set_technology = { jungle_warfare = 1 } }
		}
	}


	############################
	#### WAR PREP SECTION ######
	############################


	focus = {
		id = RAJ_lessons_of_the_great_war
		icon = GFX_goal_generic_small_arms
		x = 20
		y = 0

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_lessons_of_the_great_war
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	############################
	####### INDIAN ARMY ########
	############################

	focus = {
		id = RAJ_indianisation_of_army
		icon = GFX_focus_RAJ_indianisation_of_army
		prerequisite = { focus = RAJ_lessons_of_the_great_war }
		x = -4
		y = 1
		relative_position_id = RAJ_lessons_of_the_great_war

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 100
			army_experience = 25
		}
	}

	focus = {
		id = RAJ_indian_gurkhas
		icon = GFX_focus_RAJ_indian_gurkhas
		prerequisite = { focus = RAJ_indianisation_of_army }
		x = -1
		y = 2
		relative_position_id = RAJ_indianisation_of_army

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 2
				has_completed_focus = RAJ_chindits
			}
		}

		available = {
			has_tech = tech_mountaineers
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = RAJ_indian_gurkhas			
			custom_effect_tooltip = RAJ_create_unit_gurkas_tt
			hidden_effect = {	
				division_template = {
					name = "Gorkha Rifles"
					priority = 2
					division_names_group = RAJ_MNT_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
			
	    	   		 	mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }

						mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
						mountaineers = { x = 2 y = 2 }
					}
				}
	
				random_owned_controlled_state = {
					prioritize = { 439 }
					create_unit = {
						division = "name = \"1. Gorkha Rifles\" division_template = \"Gorkha Rifles\" start_experience_factor = 1.0" 
						owner = RAJ
					}	
				}
			}

		}
	}

	focus = {
		id = RAJ_an_indian_sandhurst
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = RAJ_indianisation_of_army }
		x = 0
		y = 1
		relative_position_id = RAJ_indianisation_of_army

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = RAJ_indian_sandhurst_tt 
			hidden_effect = {
				create_corps_commander = {
					name = "Kodandera Madappa Cariappa"
					gfx = "GFX_RAJ_kodandera_madappa_cariappa"
					traits = { career_officer skilled_staffer }
					skill = 4
					attack_skill = 2
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 4
				}
				create_corps_commander = {
					name = "Kodandera Subayya Thimayya"
					gfx = "GFX_RAJ_kodendera_subayya_thimayya"
					traits = { jungle_rat }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 4
				}
				create_corps_commander = {
					name = "Jayanto Nath Chaudhuri"
					gfx = "GFX_RAJ_jayanto_nath_chaudhuri"
					traits = { panzer_leader }
					skill = 3
					attack_skill = 4
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 2
				}
			}
		}
	}

	focus = {
		id = RAJ_lions_of_the_great_war
		icon = GFX_focus_RAJ_lions_of_the_great_war
		prerequisite = { focus = RAJ_indianisation_of_army }
		x = 1
		y = 2
		relative_position_id = RAJ_indianisation_of_army

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = RAJ_lions_of_the_great_war
			custom_effect_tooltip = RAJ_create_unit_sikh_tt
			hidden_effect = {

				division_template = {
				name = "Sikh Regiment" #sikh regiment, bro
				division_names_group = RAJ_INF_01
				regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
		
		        		infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }

						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
							}
						}
		
					random_owned_controlled_state = {
							prioritize = { 439 }
							create_unit = { 
								division = "name = \"1. Sikh Regiment\" division_template = \"Sikh Regiment\" start_experience_factor = 0.5" 
								owner = RAJ
								}
		
					}
				}

		}
	}

	focus = {
		id = RAJ_indian_gentlemen_officers
		icon = GFX_focus_RAJ_indian_gentlemen_offcers
		prerequisite = { focus = RAJ_an_indian_sandhurst }
		x = 0
		y = 3
		relative_position_id = RAJ_indianisation_of_army

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			if = {
				limit = { NOT = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism }
				compare_autonomy_state > autonomy_reichsprotectorate
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = RAJ_indian_gentlemen_officers
		}
	}


	############################
	# ARMOR/MECH/STUFF SECTION #
	############################

	focus = {
		id = RAJ_the_bangalore_torpedo
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = RAJ_lessons_of_the_great_war }
		x = -1
		y = 1
		relative_position_id = RAJ_lessons_of_the_great_war

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_the_bangalore_torpedo
				bonus = 1.0
				uses = 2
				category = engineers_tech
			}
		}
	}

	focus = {
		id = RAJ_vickers_berthier_gun
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = RAJ_lessons_of_the_great_war }
		x = 2
		y = 0
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_vickers_berthier_gun
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = RAJ_royal_indian_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = RAJ_the_bangalore_torpedo focus = RAJ_vickers_berthier_gun }
		x = 0
		y = 1
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = RAJ_royal_indian_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = RAJ_army_motorization
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = RAJ_the_bangalore_torpedo focus = RAJ_vickers_berthier_gun }
		x = 2
		y = 1
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_army_motorization
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = RAJ_revive_the_screw_guns
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = RAJ_royal_indian_artillery }
		x = 0
		y = 2
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				has_completed_focus = RAJ_indian_armor
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = RAJ_revive_the_screw_guns_effect
			hidden_effect = { set_technology = { mountain_gun = 1 } }
		}
	}

	focus = {
		id = RAJ_indian_armor
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = RAJ_army_motorization }
		x = 2
		y = 2
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				has_completed_focus = RAJ_revive_the_screw_guns
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_indian_armor
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = RAJ_modernizing_army
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = RAJ_revive_the_screw_guns }
		prerequisite = { focus = RAJ_indian_armor }
		x = 1
		y = 3
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_modernizing_army
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = RAJ_indian_defense_research
		icon = GFX_focus_research
		prerequisite = { focus = RAJ_modernizing_army }
		prerequisite = { focus = RAJ_indian_gentlemen_officers }
		x = -1
		y = 4
		relative_position_id = RAJ_the_bangalore_torpedo

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			num_of_factories > 50
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}


	############################
	######## AIR SECTION #######
	############################

	focus = {
		id = RAJ_british_pilot_training
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = RAJ_lessons_of_the_great_war }
		x = 4
		y = 1
		relative_position_id = RAJ_lessons_of_the_great_war

		cost = 10

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_completed_focus = RAJ_industrial_expansion
			}
		}

		available = {

		}

		bypass = {
		NOT = { is_in_faction_with = ENG }

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = RAJ_british_pilot_training
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = RAJ_expand_air_bases
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = RAJ_british_pilot_training }
		prerequisite = { focus = RAJ_industrial_expansion }
		x = 0
		y = 1
		relative_position_id = RAJ_british_pilot_training

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_expand_air_bases_AB1
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_expand_air_bases_AB2
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 438 439 431 435 445 442 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_expand_air_bases_AB1
			}
			random_owned_controlled_state = {
				prioritize = { 438 439 431 435 445 442 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_expand_air_bases_AB2
			}
		}
	}

	focus = {
		id = RAJ_air_support_effort
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = RAJ_expand_air_bases }
		x = -1
		y = 2
		relative_position_id = RAJ_british_pilot_training

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {			
			add_tech_bonus = {
				name = RAJ_air_support_effort
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				category = cas_bomber
				category = naval_bomber
			}
		}
	}

	focus = {
		id = RAJ_fighter_effort
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = RAJ_expand_air_bases }
		x = 1
		y = 2
		relative_position_id = RAJ_british_pilot_training

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_fighter_effort
				bonus = 1.0
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = RAJ_royal_indian_air_force
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = RAJ_air_support_effort focus = RAJ_fighter_effort }
		x = 0
		y = 3
		relative_position_id = RAJ_british_pilot_training

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 3
				OR = {
					has_completed_focus = RAJ_institute_of_fundamental_research
					has_completed_focus = RAJ_indian_institute_of_science
				}
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = RAJ_royal_indian_air_force
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = RAJ_the_smiling_buddha
		icon = GFX_focus_smiling_buddha
		prerequisite = { focus = RAJ_royal_indian_air_force }
		prerequisite = { focus = RAJ_institute_of_fundamental_research }
		x = 1
		y = 4
		relative_position_id = RAJ_british_pilot_training

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			if = {
				limit = { NOT = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism }
				compare_autonomy_state > autonomy_reichsprotectorate
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_the_smiling_buddha
				bonus = 3.0
				uses = 1
				category = nuclear
			}
		}
	}



	############################
	######### INDUSTRY #########
	############################

	focus = {
		id = RAJ_great_indian_peninsula_railway
		icon = GFX_goal_generic_construct_infrastructure
		x = 31
		y = 0

		cost = 10

		ai_will_do = {
			factor = 7
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_great_indian_peninsula_railway_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_great_indian_peninsula_railway_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_great_indian_peninsula_railway_Inf3
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 433 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_great_indian_peninsula_railway_Inf1
			}
			random_owned_controlled_state = {
				prioritize = { 438 429 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_great_indian_peninsula_railway_Inf2
			}
			random_owned_controlled_state = {
				prioritize = { 443 427 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_great_indian_peninsula_railway_Inf3
			}
		}
	}

	focus = {
		id = RAJ_industrial_expansion
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = RAJ_great_indian_peninsula_railway }
		x = -4
		y = 1
		relative_position_id = RAJ_great_indian_peninsula_railway

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_industrial_expansion_IC
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 437 438 433 439 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_industrial_expansion_IC
			}
		}
	}

	focus = {
		id = RAJ_tata_steel
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = RAJ_industrial_expansion }
		x = -1
		y = 1
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_completed_focus = RAJ_assam_oil
			}
		}

		available = {
			controls_state = 429
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			429 = {
				add_resource = {
					type = steel
					amount = 24
				}
			}
		}
	}

	focus = {
		id = RAJ_assam_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = RAJ_industrial_expansion }
		x = 1
		y = 1
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_completed_focus = RAJ_tata_steel
			}
		}

		available = {
			controls_state = 432
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			432 = {
				add_resource = {
					type = oil
					amount = 3
				}
			}
		}
	}

	focus = {
		id = RAJ_indian_institute_of_science
		icon = GFX_focus_research
		prerequisite = { focus = RAJ_tata_steel }
		prerequisite = { focus = RAJ_assam_oil }
		x = 0
		y = 2
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = RAJ_institute_of_fundamental_research
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = RAJ_indian_institute_of_science }
		x = 0
		y = 3
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = RAJ_homi_j_bhabha
			add_tech_bonus = {
				name = RAJ_institute_of_fundamental_research
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}

	focus = {
		id = RAJ_research_collaboration
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = RAJ_institute_of_fundamental_research }
		x = 0
		y = 4
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_other_country = {
					is_in_faction_with = ROOT
					num_of_factories > 50
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}


	############################
	########## NAVY ############
	############################

	focus = {
		id = RAJ_expand_mazagon_dock
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = RAJ_industrial_expansion }
		x = 3
		y = 1
		relative_position_id = RAJ_industrial_expansion

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_expand_mazagon_dock
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				if = {
					limit = { has_state_flag = RAJ_expand_mazagon_dock_NB }
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1349
					}
				}
			}
		}

		completion_reward = {
			navy_experience = 5
			random_owned_controlled_state = {
				prioritize = { 429 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_expand_mazagon_dock
				if = {
					limit = { state = 429 }
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1349
					}
					set_state_flag = RAJ_expand_mazagon_dock_NB
				}
			}
		}
	}

	focus = {
		id = RAJ_found_scindia_shipyard
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = RAJ_east_india_railways }
		x = 2
		y = 0
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_found_scindia_shipyard
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				if = {
					limit = { has_state_flag = RAJ_found_scindia_shipyard_NB }
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 10255
					}
				}
			}
		}

		completion_reward = {
			navy_experience = 5
			random_owned_controlled_state = {
				prioritize = { 426 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_found_scindia_shipyard
				if = {
					limit = { state = 426 }
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 10255
					}
					set_state_flag = RAJ_found_scindia_shipyard_NB
				}
			}
		}
	}

	focus = {
		id = RAJ_royal_indian_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = RAJ_expand_mazagon_dock
		focus = RAJ_found_scindia_shipyard }
		x = 1
		y = 1
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = RAJ_royal_indian_navy
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = RAJ_screening_effort
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = RAJ_royal_indian_navy }
		x = 0
		y = 2
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_screening_effort
				bonus = 1.5
				uses = 1
				category = dd_tech
				category = cl_tech
			}
		}
	}

	focus = {
		id = RAJ_cruiser_effort
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = RAJ_royal_indian_navy }
		x = 2
		y = 2
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_cruiser_effort
				bonus = 1.5
				uses = 1
				category = bc_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = RAJ_submarine_effort
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = RAJ_screening_effort focus = RAJ_cruiser_effort }
		x = 0
		y = 3
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_submarine_effort
				bonus = 1.5
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = RAJ_capital_ship_effort
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = RAJ_screening_effort focus = RAJ_cruiser_effort }
		x = 2
		y = 3
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_capital_ship_effort
				bonus = 1.5
				uses = 1
				category = cv_tech
				category = bb_tech
			}
		}
	}

	focus = {
		id = RAJ_modernizing_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = RAJ_submarine_effort focus = RAJ_capital_ship_effort }
		x = 1
		y = 4
		relative_position_id = RAJ_expand_mazagon_dock

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = RAJ_modernizing_navy
				bonus = 3.0
				uses = 1
				category = naval_doctrine
			}
		}
	}


	############################
	#### BRITISH INVESTORS #####
	############################

	focus = {
		id = RAJ_east_india_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = RAJ_great_indian_peninsula_railway }
		x = 4
		y = 1
		relative_position_id = RAJ_great_indian_peninsula_railway

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_east_india_railways_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_east_india_railways_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 640 288 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_east_india_railways_Inf1
			}
			random_owned_controlled_state = {
				prioritize = { 432 430 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_east_india_railways_Inf2
			}
		}
	}

	focus = {
		id = RAJ_integrate_princely_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = RAJ_east_india_railways }
		x = -1
		y = 1
		relative_position_id = RAJ_east_india_railways

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_integrate_princely_railways_Inf1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_integrate_princely_railways_Inf2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 427 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_integrate_princely_railways_Inf1
			}
			random_owned_controlled_state = {
				prioritize = { 436 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_integrate_princely_railways_Inf2
			}
		}
	}

	focus = {
		id = RAJ_ishapore_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = RAJ_east_india_railways }
		x = 1
		y = 1
		relative_position_id = RAJ_east_india_railways

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RAJ_ishapore_arsenal_AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 431 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_ishapore_arsenal_AF
			}
		}
	}

	focus = {
		id = RAJ_clamp_down_on_corruption
		icon = GFX_focus_RAJ_clamp_down_on_corruption
		prerequisite = { focus = RAJ_integrate_princely_railways }
		x = 0
		y = 1
		relative_position_id = RAJ_integrate_princely_railways

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			if = {
				limit = { NOT = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism }
				compare_autonomy_state > autonomy_reichsprotectorate
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = RAJ_risk_of_famine
		}
	}

	focus = {
		id = RAJ_strengthen_ties_with_british_investors
		icon = GFX_focus_RAJ_british_investors
		prerequisite = { focus = RAJ_ishapore_arsenal }
		x = 0
		y = 1
		relative_position_id = RAJ_ishapore_arsenal

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			OR = {
				AND = {
					compare_autonomy_progress_ratio > 0.4
					compare_autonomy_state > autonomy_puppet
					is_subject_of = ENG
				}
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			add_autonomy_ratio = {
				value = -0.15
				localization = RAJ_strengthen_ties_with_british_investors
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_strengthen_ties_with_british_investors_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_strengthen_ties_with_british_investors_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_autonomy_ratio = {
				value = -0.15
				localization = RAJ_strengthen_ties_with_british_investors
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_strengthen_ties_with_british_investors_AF1
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_strengthen_ties_with_british_investors_AF2
			}
		}
	}

	focus = {
		id = RAJ_british_rail_investors
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = RAJ_strengthen_ties_with_british_investors }
		x = -1
		y = 2
		relative_position_id = RAJ_ishapore_arsenal

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			compare_autonomy_progress_ratio > 0.4
			compare_autonomy_state > autonomy_puppet
			is_subject_of = ENG
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			add_autonomy_ratio = {
				value = -0.25
				localization = RAJ_british_rail_investors
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_british_rail_investors_IC1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_british_rail_investors_IC2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_autonomy_ratio = {
				value = -0.25
				localization = RAJ_british_rail_investors
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_british_rail_investors_IC1
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_british_rail_investors_IC2
			}
		}
	}

	focus = {
		id = RAJ_british_arms_investors
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = RAJ_strengthen_ties_with_british_investors }
		x = 1
		y = 2
		relative_position_id = RAJ_ishapore_arsenal

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			compare_autonomy_progress_ratio > 0.4
			compare_autonomy_state > autonomy_puppet
			is_subject_of = ENG
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			add_autonomy_ratio = {
				value = -0.25
				localization = RAJ_british_arms_investors
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_british_arms_investors_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = RAJ_british_arms_investors_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_autonomy_ratio = {
				value = -0.25
				localization = RAJ_british_arms_investors
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = RAJ_british_arms_investors_AF1
			}
			random_owned_controlled_state = {
				prioritize = {  }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = RAJ_british_arms_investors_AF2
			}
		}
	}


}		
focus_tree = {
	id = romanian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ROM
			#always = no
			has_dlc = "Death or Dishonor"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1100 }

#	focus = {
#		id = ROM_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	############################
	##### CATEGORY HERE ! ######
	############################


	############################
	##### PRESERVE G ROM #######
	############################

	focus = {
		id = ROM_preserve_greater_romania
		icon = GFX_focus_rom_preserve_romania
		mutually_exclusive = { focus = ROM_balkans_dominance }
		x = 3
		y = 0

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = ROM_preserve_greater_romania
		}
	}

	focus = {
		id = ROM_a_deal_with_the_devil
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = ROM_preserve_greater_romania }
		x = -2
		y = 1
		relative_position_id = ROM_preserve_greater_romania

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			NOT = { has_war_with = SOV }
			SOV = {
				exists = yes
				is_puppet = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = { ideology = communism popularity = 0.1 }
			add_opinion_modifier = { target = SOV modifier = ROM_a_deal_with_the_devil }
			SOV = { add_opinion_modifier = { target = ROOT modifier = ROM_a_deal_with_the_devil } }
		}
	}

	focus = {
		id = ROM_form_peasant_militias
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_a_deal_with_the_devil }
		x = -1
		y = 1
		relative_position_id = ROM_a_deal_with_the_devil

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = ROM_a_deal_with_the_devil_2
		}
	}

	focus = {
		id = ROM_basing_rights_for_soviet_union
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = ROM_a_deal_with_the_devil }
		x = 0
		y = 2
		relative_position_id = ROM_a_deal_with_the_devil

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = no
			SOV = {
				exists = yes
				is_puppet = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			SOV = { country_event = DOD_romania.30 }
		}
	}

	focus = {
		id = ROM_romanian_volunteer_brigades
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ROM_basing_rights_for_soviet_union }
		x = -1
		y = 3
		relative_position_id = ROM_a_deal_with_the_devil

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = ROM_romanian_volunteer_brigades
		}
	}

	focus = {
		id = ROM_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = ROM_basing_rights_for_soviet_union }
		x = 0
		y = 4
		relative_position_id = ROM_a_deal_with_the_devil

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				SOV = {
					has_capitulated = yes
				}
			}
		}

		available = {
			SOV = { is_faction_leader = yes }
			is_in_faction = no
			NOT = { has_war_with = SOV }
			is_subject = no
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = ROM
				}
			}
		}

		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			SOV = { country_event = generic.2 }
		}
	}

	focus = {
		id = ROM_trade_treaty_with_germany
		icon = GFX_goal_generic_trade
		prerequisite = { focus = ROM_preserve_greater_romania }
		x = 0
		y = 1
		relative_position_id = ROM_preserve_greater_romania

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {
			NOT = { has_war_with = GER }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_opinion_modifier = { target = GER modifier = ROM_trade_treaty_with_germany }
			GER = { add_opinion_modifier = { target = ROOT modifier = ROM_trade_treaty_with_germany } }
		}
	}

	focus = {
		id = ROM_invite_german_advisors
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = ROM_trade_treaty_with_germany }
		x = 0
		y = 2
		relative_position_id = ROM_trade_treaty_with_germany

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = GER }
			OR = {
				is_in_faction = no
				is_in_faction_with = GER
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = ROM_invite_german_advisors_tt
			hidden_effect = {
				diplomatic_relation = {
					country = GER
					relation = military_access
					active = yes
				}
			}
			add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group
			GER = { add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group }
		}
	}

	focus = {
		id = ROM_license_german_equipment
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = ROM_invite_german_advisors }
		x = 1
		y = 3
		relative_position_id = ROM_trade_treaty_with_germany

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_in_faction = no
				is_in_faction_with = GER 
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_relation_modifier = {
				target = GER
				modifier = ROM_license_german_equipment
			}
		}
	}

	focus = {
		id = ROM_join_axis
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ROM_invite_german_advisors }
		x = 0
		y = 4
		relative_position_id = ROM_trade_treaty_with_germany

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				GER = {
					has_capitulated = yes
				}
			}
		}

		available = {
			GER = { 
				is_faction_leader = yes
				has_government = fascism
			}
			is_in_faction = no
			NOT = { has_war_with = GER }
			is_subject = no
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = ROM
				}
			}
		}

		bypass = {
			is_in_faction_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			GER = {
				country_event = generic.2
			}
		}
	}

	focus = {
		id = ROM_german_romanian_oil_exploitation_company
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ROM_join_axis }
		x = -1
		y = 5
		relative_position_id = ROM_trade_treaty_with_germany


		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = GER
			GER = {
				exists = yes
				is_puppet = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 46 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_resource = {
					type = oil
					amount = 8
				}
			}
			GER = {
				random_owned_controlled_state = {
					limit = {
						GER = { has_full_control_of_state = PREV }
					}
					add_resource = {
						type = oil
						amount = 4
					}
				}
			}
		}
	}

	focus = {
		id = ROM_demand_transnistria
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = ROM_join_axis }
		x = 1
		y = 5
		relative_position_id = ROM_trade_treaty_with_germany

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			192 = {
				is_owned_by = SOV
				is_controlled_by = SOV
			}
			198 = {
				is_owned_by = SOV
				is_controlled_by = SOV
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = SOV
				generator = { 192 198 }
			}
		}
	}

	focus = {
		id = ROM_renew_the_romanian_polish_alliance
		icon = GFX_goal_anschluss
		prerequisite = { focus = ROM_preserve_greater_romania }
		x = 2
		y = 1
		relative_position_id = ROM_preserve_greater_romania

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			POL = { 
				exists = yes 
				is_puppet = no
			}
			NOT = { has_war_with = POL }
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.05 }
			POL = { country_event = DOD_romania.1 }
		}
	}

	focus = {
		id = ROM_the_cordon_sanitaire
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = ROM_renew_the_romanian_polish_alliance }
		x = 1
		y = 1
		relative_position_id = ROM_renew_the_romanian_polish_alliance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = no
			is_subject = no
			OR = {
				country_exists = POL
				country_exists = CZE
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = ROM_CORDON_SANITAIRE_FACTION
			if = {
				limit = {
					CZE = { 
						exists = yes 
						has_capitulated = no
						is_subject = no
						is_in_faction = no
					}
				}
				CZE = { country_event = DOD_romania.10 }
			}
			if = {
				limit = {
					POL = { 
						exists = yes 
						has_capitulated = no
						is_subject = no
						is_in_faction = no
					}
				}
				POL = { country_event = DOD_romania.10 }
			}
			if = {
				limit = {
					POL = {
						is_faction_leader = yes #Poland did own faction
						has_capitulated = no
					}
				}
				POL = {
						country_event = generic.2
					}
			}
			hidden_effect = {
				news_event = { id = news.317 days = 1 }
			}
		}
	}

	focus = {
		id = ROM_demand_a_western_guarantee
		icon = GFX_goal_generic_defence
		prerequisite = { focus = ROM_renew_the_romanian_polish_alliance }
		x = 0
		y = 2
		relative_position_id = ROM_renew_the_romanian_polish_alliance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			NOT = { has_war_with = ENG }
			NOT = { has_war_with = FRA }
			ENG = { is_subject = no }
			if = {
				limit = {
					NOT = { ENG = { has_government = democratic } }
					FRA = {
						NOT = { is_in_faction_with = ENG }
					}
				}
				FRA = { is_subject = no }
			}
			
		}

		bypass = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = FRA
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			if = {
				limit = {
					OR = {
						NOT = { ENG = { has_government = democratic } }
						FRA = {
							OR = {
								NOT = { is_in_faction_with = ENG }
								is_faction_leader = yes #if France has formed the little entente
							}
						}
					}
				}
				FRA = { country_event = DOD_romania.20 }
			}
			if = {
				limit = {
					ENG = {
						is_faction_leader = yes 
					}
				}
				ENG = { country_event = DOD_romania.20 }
			}
			
			
		}
	}

	focus = {
		id = ROM_military_modernization
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = ROM_demand_a_western_guarantee }
		x = 1
		y = 3
		relative_position_id = ROM_renew_the_romanian_polish_alliance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			
			add_relation_modifier = {
				target = ENG
				modifier = ROM_military_modernization
			}
			
			if = {
				limit = {
					FRA = {
						is_in_faction_with = ENG
					}
				}
				add_relation_modifier = {
					target = FRA
					modifier = ROM_military_modernization
				}
			
			}
		}
	}

	focus = {
		id = ROM_join_allies
		icon = GFX_goal_support_democracy
		prerequisite = { focus = ROM_demand_a_western_guarantee }
		x = 0
		y = 4
		relative_position_id = ROM_renew_the_romanian_polish_alliance

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					ENG = {
						has_capitulated = yes
					}
					FRA = {
						has_capitulated = yes
					}
				}
			}
		}

		available = {
			ENG = {
				is_faction_leader = yes
				has_government = democratic
			}
			is_in_faction = no
			NOT = { has_war_with = ENG }
			is_subject = no
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = ROM
				}
			}
		}

		bypass = {
			is_in_faction_with = ENG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes


		completion_reward = {
			ENG = {
				country_event = generic.2
			}
		}
	}

	focus = {
		id = ROM_joint_allied_staff_college
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = ROM_join_allies }
		prerequisite = { focus = ROM_military_modernization }
		x = 1
		y = 5
		relative_position_id = ROM_renew_the_romanian_polish_alliance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = ENG
			ENG = { is_faction_leader = yes }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_to_tech_sharing_group = ROM_joint_allied_staff_college_tech_group
			ENG = { add_to_tech_sharing_group = ROM_joint_allied_staff_college_tech_group }
			if = {
				limit = {
					FRA = { is_in_faction_with = ENG }
				}
				FRA = { add_to_tech_sharing_group = ROM_joint_allied_staff_college_tech_group }
			}
		}
	}

	############################
	##### INDUSTRY BRANCH ######
	############################

	focus = {
		id = ROM_civil_works
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ROM_preserve_greater_romania }
		x = 5
		y = 1
		relative_position_id = ROM_preserve_greater_romania

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = ROM_civil_works
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	focus = {
		id = ROM_national_defense_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ROM_balkans_dominance }
		x = 2
		y = 0
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = ROM_national_defense_industry_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = ROM_national_defense_industry_AF2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 79 81 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = ROM_national_defense_industry_AF1
			}
			random_owned_controlled_state = {
				prioritize = { 79 81 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = ROM_national_defense_industry_AF2
			}
		}
	}

	focus = {
		id = ROM_agrarian_reform
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = ROM_civil_works focus = ROM_national_defense_industry }
		x = 1
		y = 1
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = ROM_agrarian_reform
		}
	}

	focus = {
		id = ROM_danubian_transport_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ROM_agrarian_reform }
		x = 1
		y = 2
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = ROM_danubian_transport_network_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = ROM_danubian_transport_network_Inf_2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = ROM_danubian_transport_network_Inf_3
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 46 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = ROM_danubian_transport_network_Inf
			}
			random_owned_controlled_state = {
				prioritize = { 81 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = ROM_danubian_transport_network_Inf_2
			}
			random_owned_controlled_state = {
				prioritize = { 82 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = ROM_danubian_transport_network_Inf_3
			}
		}
	}

	focus = {
		id = ROM_malaxa
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ROM_danubian_transport_network }
		mutually_exclusive = { focus = ROM_invite_foreign_motor_companies }
		x = 0
		y = 3
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = ROM_malaxa_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 79 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ROM_malaxa_IC
			}
		}
	}

	focus = {
		id = ROM_invite_foreign_motor_companies
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = ROM_danubian_transport_network }
		mutually_exclusive = { focus = ROM_malaxa }
		x = 2
		y = 3
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			country_event = DOD_romania.120
		}
	}

	focus = {
		id = ROM_hunedoara_steel_works
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = ROM_invite_foreign_motor_companies focus = ROM_malaxa }
		x = 0
		y = 4
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = ROM_hunedoara_steel_works_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 84 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ROM_hunedoara_steel_works_IC
				add_resource = {
					type = steel
					amount = 12
				}
			}
		}
	}

	focus = {
		id = ROM_invest_in_the_iar
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ROM_invite_foreign_motor_companies focus = ROM_malaxa }
		x = 2
		y = 4
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = ROM_invest_in_the_iar_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 81 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = ROM_invest_in_the_iar_AF1
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ROM_iar
		}
	}

	focus = {
		id = ROM_expand_ploiesti_oil_production
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ROM_invest_in_the_iar }
		prerequisite = { focus = ROM_hunedoara_steel_works }
		x = 1
		y = 5
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_full_control_of_state = 46
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			46 = {
				add_resource = {
					type = oil
					amount = 24
				}
			}
		}
	}

	focus = {
		id = ROM_expand_the_university_of_bucharest
		icon = GFX_focus_research
		prerequisite = { focus = ROM_expand_ploiesti_oil_production }
		x = 1
		y = 6
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_of_factories > 50
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = ROM_exploit_the_baita_mines
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = ROM_expand_the_university_of_bucharest }
		x = 1
		y = 7
		relative_position_id = ROM_civil_works

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_exploit_the_baita_mines
		}
	}

	##########################
	### BALKANS DOMINANCE ####
	####¤#####################

	focus = {
		id = ROM_balkans_dominance
		icon = GFX_goal_demand_sudetenland
		mutually_exclusive = { focus = ROM_preserve_greater_romania }
		x = 15
		y = 0

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_balkans_dominance
			set_rule = { can_create_factions = yes }
			if = {
				limit = { 
					#has_dlc = "Battle for the Bosporus" #TODO
				}
				every_other_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_ally
					}
					remove_opinion_modifier = {
						target = ROM
						modifier = BFTB_balkan_pact_ally
					}
					hidden_effect = {
						ROOT = {
							remove_opinion_modifier = {
								target = PREV
								modifier = BFTB_balkan_pact_ally
							}
						}
					}
				}
			}
			hidden_effect = {
				if = { 
					limit = {
						#has_dlc = "Battle for the Bosporus" #TODO
					}
					remove_opinion_modifier = {
						target = BUL
						modifier = BFTB_balkan_pact_enemy
					}
					remove_opinion_modifier = {
						target = HUN
						modifier = BFTB_balkan_pact_enemy
					}
					add_opinion_modifier = {
						target = BUL
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = HUN
						modifier = BFTB_incongruous_neighbors
					}
				}
			}
		}
	}

	focus = {
		id = ROM_puppet_bulgaria
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ROM_balkans_dominance }
		x = -2
		y = 1
		relative_position_id = ROM_balkans_dominance
		will_lead_to_war_with = BUL
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			BUL = {
				exists = yes
				NOT = { has_war_with = ROM }
			}
			strength_ratio = { tag = BUL ratio > 1.5 }
			has_army_manpower = { size > 400000 }
		}

		bypass = {
			BUL = {
				OR = {
					is_puppet_of = ROM
					exists = no 
					AND = {
						has_war_with = ROM
						has_capitulated = yes
						ROM = {
							controls_state = 48
							controls_state = 212
							controls_state = 211
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			BUL = { country_event = DOD_romania.40 }
		}
	}

	focus = {
		id = ROM_align_hungary
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_balkans_dominance }
		x = 1
		y = 1
		relative_position_id = ROM_balkans_dominance
		will_lead_to_war_with = HUN
		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {
			is_subject = no
			HUN = {
				exists = yes
				NOT = { has_war_with = ROM }
			}
			strength_ratio = {
				tag = HUN
				ratio > 1.5
			}
			has_army_manpower = { size > 400000 }
		}

		bypass = {
			HUN = {
				OR = {
					is_puppet_of = ROM
					exists = no 
				}
			}
		}



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			HUN = { country_event = DOD_romania.50 }
		}
	}

	focus = {
		id = ROM_secure_greece
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = ROM_puppet_bulgaria }
		x = -1
		y = 1
		relative_position_id = ROM_puppet_bulgaria
		will_lead_to_war_with = GRE
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			GRE = {
				exists = yes
				NOT = {
					is_in_faction_with = ROM
				}
			}
			strength_ratio = { tag = GRE ratio > 1 }
			has_army_manpower = { size > 500000 }
		}
 
		bypass = {
			GRE = {
				OR = {
					is_puppet_of = ROM
					exists = no 
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GRE
			}
		}
	}

	focus = {
		id = ROM_divide_yugoslavia
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_puppet_bulgaria }
		x = 1
		y = 1
		relative_position_id = ROM_puppet_bulgaria
		will_lead_to_war_with = YUG
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			YUG = {
				exists = yes
				is_subject = no
				NOT = {
					is_in_faction_with = ROM
				}
			}
			strength_ratio = {
				tag = YUG
				ratio > 1.5
			}
			has_army_manpower = { size > 500000 }
		}

		bypass = {
			YUG = {
				has_war = yes
			}
			YUG = { is_subject_of = ROOT }
			YUG = { exists = no }
			has_wargoal_against = YUG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			#Only split if YUG is not at war
			if = {
				limit = {
					YUG = {
						OR = {
							has_war = yes
							is_subject = yes
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
				}
			}
			else = {
				unlock_decision_category_tooltip = ROM_dividing_yugo
				set_country_flag = invited_to_split_yugo
			}
		}
	}

	focus = {
		id = ROM_split_czechoslovakia
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ROM_align_hungary }
		x = 0
		y = 1
		relative_position_id = ROM_align_hungary
		will_lead_to_war_with = CZE
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			CZE = {
				exists = yes
				is_puppet = no
				NOT =  { is_in_faction_with = ROM }
			}
			strength_ratio = { tag = CZE ratio > 1.5 }
			has_army_manpower = { size > 500000 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			GER = { country_event = DOD_romania.110 }
		}
	}

	focus = {
		id = ROM_secure_the_bosporus
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = ROM_secure_greece }
		x = -1
		y = 2
		relative_position_id = ROM_puppet_bulgaria

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_subject = no
			TUR = {
				exists = yes
				NOT = { has_war_with = ROM }
			}
			strength_ratio = { tag = TUR ratio > 1.5 }
			has_army_manpower = { size > 750000 }
		}

		bypass = {
			TUR = {
				is_puppet_of = ROM
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = TUR
			}
		}
	}

	#############################
	######## KING BRANCH ########
	#############################

	focus = {
		id = ROM_institute_royal_dictatorship
		icon = GFX_focus_rom_royal_dictatorship
		x = 21
		y = 0

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {
			is_subject = no
			communism < 0.5
			fascism < 0.5
			neutrality < 0.5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			create_country_leader = {
				name = "Carol II"
				desc = "POLITICS_CAROL_II_DESC"
				picture = GFX_Portrait_romania_Carol_II				
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					hedonist
				}
				id = 550
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			set_political_party = {
				ideology = neutrality
				popularity = 65
			}
			remove_ideas = neutrality_idea
		}		
	}

	focus = {
		id = ROM_fortify_the_borders
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ROM_institute_royal_dictatorship }
		x = -2
		y = 1
		relative_position_id = ROM_institute_royal_dictatorship

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_fortify_the_borders
		}
	}

	focus = {
		id = ROM_his_majestys_loyal_government
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = ROM_fortify_the_borders }
		prerequisite = { focus = ROM_align_hungary }
		prerequisite = { focus = ROM_revise_the_constitution }
		mutually_exclusive = { focus = ROM_flexible_foreign_policy }
		x = -1
		y = 1
		relative_position_id = ROM_fortify_the_borders

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				has_country_flag = ROM_HUN_aligned
				HUN = { is_subject_of = ROM }
				AND = {
					HUN = { exists = no }
					ROM = {
						owns_state = 155
						owns_state = 154
						owns_state = 43
					}
				}
			}
			is_subject = no
			has_government = neutrality
			custom_trigger_tooltip = {
				tooltip = ROM_carol_current_leader_trigger
				has_country_leader = { id = 550 }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = ROM_militarize_the_sentinels
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_his_majestys_loyal_government }
	
		x = 0
		y = 1
		relative_position_id = ROM_his_majestys_loyal_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = neutrality
			custom_trigger_tooltip = {
				tooltip = ROM_carol_current_leader_trigger
				has_country_leader = { id = 550 }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				add_idea = ROM_the_sentinel_of_the_motherland_2
				remove_idea = ROM_the_sentinel_of_the_motherland
			}			
		}
	}

	focus = {
		id = ROM_all_parties_must_end
		icon = GFX_focus_rom_parties_end
		prerequisite = { focus = ROM_militarize_the_sentinels }
	
		x = 0
		y = 2
		relative_position_id = ROM_his_majestys_loyal_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = neutrality
			custom_trigger_tooltip = {
				tooltip = ROM_carol_current_leader_trigger
				has_country_leader = { id = 550 }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			swap_ideas = {
				add_idea = ROM_king_carol_ii_handled
				remove_idea = ROM_king_carol_ii_hedonist
			}
			remove_country_leader_trait = hedonist
		}
	}

	focus = {
		id = ROM_revise_the_constitution
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = ROM_institute_royal_dictatorship }
		x = 2
		y = 1
		relative_position_id = ROM_institute_royal_dictatorship

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = ROM_carol_not_leader_trigger
				NOT = { has_country_leader = { id = 550 } }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {			
			add_country_leader_trait = camarilla_leader
			add_ideas = ROM_the_sentinel_of_the_motherland
		}
	}

	focus = {
		id = ROM_the_royal_foundation
		icon = GFX_focus_research
		prerequisite = { focus = ROM_revise_the_constitution }
		x = 1
		y = 1
		relative_position_id = ROM_revise_the_constitution

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = ROM_flexible_foreign_policy
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = ROM_revise_the_constitution }
		mutually_exclusive = { focus = ROM_his_majestys_loyal_government }
		x = 1
		y = 2
		relative_position_id = ROM_institute_royal_dictatorship

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ROM_flexible_foreign_policy
		}
	}

	focus = {
		id = ROM_appoint_soviet_friendly_government
		icon = GFX_goal_support_communism
		prerequisite = { focus = ROM_flexible_foreign_policy }
		x = 0
		y = 1
		relative_position_id = ROM_flexible_foreign_policy

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war_with = SOV
			}
		}

		available = {
			is_subject = no
			SOV = {
				is_faction_leader = yes
				has_government = communism
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_constitutional_guarantees
				}
				remove_ideas = ROM_constitutional_guarantees
				else = {
					if = {
						limit = {
							has_idea = ROM_securitate
						}
						remove_ideas = ROM_securitate
						else = {
							custom_effect_tooltip = ROM_appoint_soviet_friendly_government_tooltip
						}
					}
				}
			}
			if = {
				limit = { NOT = { has_idea = ROM_flexible_foreign_policy_2 } }
				swap_ideas = {
					remove_idea = ROM_flexible_foreign_policy
					add_idea = ROM_flexible_foreign_policy_2
				}
			}
			add_popularity = {
				popularity = 0.35
				ideology = communism
			}
			add_stability = -0.05
			add_opinion_modifier = { modifier = ROM_appoint_soviet_friendly_government target = SOV }
			SOV = { add_opinion_modifier = { modifier = ROM_appoint_soviet_friendly_government target = ROOT } }
			if = {
				limit = { 
					#has_dlc = "Battle for the Bosporus" #TODO
					NOT = {
						is_in_faction_with = TUR
						TUR = { is_faction_leader = yes }
					}
				}
				every_other_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_ally
					}
					remove_opinion_modifier = {
						target = ROM
						modifier = BFTB_balkan_pact_ally
					}
					if = {
						limit = {
							NOT = {	is_in_faction_with = TUR }
							TUR = { is_faction_leader = no }
						}
						hidden_effect = {
							ROOT = {
								remove_opinion_modifier = {
									target = PREV
									modifier = BFTB_balkan_pact_ally
								}
							}
						}
					}
				}
			}
			hidden_effect = { 
				set_country_flag = can_change_sides_com 
				if = { 
					limit = {
						#has_dlc = "Battle for the Bosporus" #TODO
						NOT = {
							is_in_faction_with = TUR
							TUR = { is_faction_leader = yes }
						}
					}
					remove_opinion_modifier = {
						target = BUL
						modifier = BFTB_balkan_pact_enemy
					}
					remove_opinion_modifier = {
						target = HUN
						modifier = BFTB_balkan_pact_enemy
					}
					add_opinion_modifier = {
						target = BUL
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = HUN
						modifier = BFTB_incongruous_neighbors
					}
				}
			}
			unlock_decision_category_tooltip = ROM_change_sides
			unlock_decision_tooltip = ROM_change_sides_to_commintern
		}
	}

	focus = {
		id = ROM_securitate
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = ROM_appoint_soviet_friendly_government }
		x = 0
		y = 1
		relative_position_id = ROM_appoint_soviet_friendly_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = { 
					NOT = { has_idea = ROM_securitate	} 
				}
				add_ideas = ROM_securitate	
			}
			
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_constitutional_guarantees
				}
				remove_ideas = ROM_constitutional_guarantees
				else = {
					custom_effect_tooltip = ROM_appoint_soviet_friendly_government_tooltip
				}
			}
		}
	}

	focus = {
		id = ROM_appoint_german_friendly_government
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ROM_flexible_foreign_policy }
		x = -2
		y = 1
		relative_position_id = ROM_flexible_foreign_policy

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war_with = GER
			}
		}

		available = {
			is_subject = no
			GER = {
				is_faction_leader = yes
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_securitate
				}
				remove_ideas = ROM_securitate
				else = {
					if = {
						limit = {
							has_idea = ROM_constitutional_guarantees
						}
						remove_ideas = ROM_constitutional_guarantees
						else = {
							custom_effect_tooltip = ROM_appoint_german_friendly_government_tooltip
						}
					}
				}
			}
			if = {
				limit = { NOT = { has_idea = ROM_flexible_foreign_policy_2 } }
				swap_ideas = {
					remove_idea = ROM_flexible_foreign_policy
					add_idea = ROM_flexible_foreign_policy_2
				}
			}
			add_popularity = {
				popularity = 0.35
				ideology = fascism
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ROM_mihail_sturdza
			add_stability = -0.05
			add_opinion_modifier = { modifier = ROM_appoint_german_friendly_government target = GER }
			GER = { add_opinion_modifier = { modifier = ROM_appoint_german_friendly_government target = ROOT } }
			if = {
				limit = { 
					has_dlc = "Battle for the Bosporus"
					NOT = {
						is_in_faction_with = TUR
						TUR = { is_faction_leader = yes }
					}
				}
				every_other_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_ally
					}
					remove_opinion_modifier = {
						target = ROM
						modifier = BFTB_balkan_pact_ally
					}
					if = {
						limit = {
							is_in_faction_with = TUR
							TUR = { is_faction_leader = no }
						}
						hidden_effect = {
							ROOT = {
								remove_opinion_modifier = {
									target = PREV
									modifier = BFTB_balkan_pact_ally
								}
							}
						}
					}
				}
			}
			hidden_effect = { 
				set_country_flag = can_change_sides_fas
				if = { 
					limit = {
						has_dlc = "Battle for the Bosporus"
						NOT = {
							is_in_faction_with = TUR
							TUR = { is_faction_leader = yes }
						}
					}
					remove_opinion_modifier = {
						target = BUL
						modifier = BFTB_balkan_pact_enemy
					}
					remove_opinion_modifier = {
						target = HUN
						modifier = BFTB_balkan_pact_enemy
					}
					add_opinion_modifier = {
						target = BUL
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = HUN
						modifier = BFTB_incongruous_neighbors
					}
				}
			}
			unlock_decision_category_tooltip = ROM_change_sides
			unlock_decision_tooltip = ROM_change_sides_to_allies
			#Cancel guarantees
			diplomatic_relation = {
				country = YUG
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = CZE
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = GRE
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = TUR
				relation = guarantee
				active = no
			}
		}
	}

	focus = {
		id = ROM_iron_guard
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_appoint_german_friendly_government }
		x = 0
		y = 1
		relative_position_id = ROM_appoint_german_friendly_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_country_leader = {
				name = "Ion Antonescu"
				desc = "POLITICS_ION_ANTONESCU_DESC"
				picture = "Portrait_Romania_Ion_Antonescu.dds"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					#
				}
			}

			set_party_name = { 
			    ideology = fascism
			    long_name = ROM_fascism_party2_long
			    name = ROM_fascism_party2
			}

			if = {
				limit = { has_idea = ROM_the_sentinel_of_the_motherland }
				swap_ideas = {
					add_idea = ROM_iron_guard
					remove_idea = ROM_the_sentinel_of_the_motherland
				}
				else = {
					remove_ideas = ROM_the_sentinel_of_the_motherland
					add_ideas = ROM_iron_guard
				}
			}
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_securitate
				}
				remove_ideas = ROM_securitate
				else = {
					if = {
						limit = {
							has_idea = ROM_constitutional_guarantees
						}
						remove_ideas = ROM_constitutional_guarantees
						else = {
							custom_effect_tooltip = ROM_appoint_german_friendly_government_tooltip
						}
					}
				}
			}
		}
	}

	focus = {
		id = ROM_force_abdication
		icon = GFX_focus_rom_abdicate
		prerequisite = { focus = ROM_iron_guard focus = ROM_securitate }
		mutually_exclusive = { focus = ROM_handle_the_king }
		x = -1				
		y = 2
		relative_position_id = ROM_appoint_soviet_friendly_government

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {
			has_idea = ROM_king_carol_ii_hedonist
			OR = {
				democratic > 0.35
				communism > 0.35
				fascism > 0.35
			}
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			#Removes king carol and makes the most popular party the ruling one
			if = {
				limit = { has_country_leader = { id = 550 } }
				retire_country_leader = yes
			}
			if = {
				limit = {
					democratic > 0.35
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
				else = {
					if = {
						limit = {
							communism > 0.35
						}
						set_politics = {
							ruling_party = communism
							elections_allowed = no
						}

						else = {
							limit = {
								fascism > 0.35
							}
							set_politics = {
								ruling_party = fascism
								elections_allowed = no
							}
						}
					}					
				}				
			}

			swap_ideas = {
				add_idea = ROM_figurehead_king_michael
				remove_idea = ROM_king_carol_ii_hedonist
			}
			remove_ideas = ROM_the_sentinel_of_the_motherland
			add_timed_idea = { idea = ROM_king_carol_emptied_accounts days = 360 }
			hidden_effect = {
				news_event = { id = news.323 days = 1 }
			}
		}
	}

	focus = {
		id = ROM_king_michaels_coup
		icon = GFX_focus_rom_coup
		prerequisite = { focus = ROM_force_abdication }
		x = 0
		y = 1
		relative_position_id = ROM_force_abdication

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_completed_focus = ROM_iron_guard
			}
		}

		available = {
			is_subject = no
			OR = {
				has_war = yes
				threat > 0.25
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = ROM_change_sides
			create_country_leader = {
				name = "Michael I"
				desc = "POLITICS_MICHAEL_I_DESC"
				picture = GFX_Portrait_romania_michael_i				
				expire = "1965.1.1"
				ideology = liberalism
				traits = {
				}
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			set_political_party = {
				ideology = democratic
				popularity = 50
			}
			if = {
				limit = {
					has_idea = ROM_king_carol_ii_hedonist
				}
				remove_ideas = ROM_king_carol_ii_hedonist
			}
			remove_ideas = ROM_iron_guard
			hidden_effect = {
				news_event = { id = news.322 days = 1 }
				set_country_flag = can_change_sides_dem
				set_country_flag = can_change_sides_com
				set_country_flag = can_change_sides_fas				
			}
			unlock_decision_tooltip = ROM_change_sides_to_allies
			unlock_decision_tooltip = ROM_change_sides_to_axis
			unlock_decision_tooltip = ROM_change_sides_to_commintern
		}
	}

	focus = {
		id = ROM_appoint_allied_friendly_government
		icon = GFX_goal_support_democracy
		prerequisite = { focus = ROM_flexible_foreign_policy }
		x = 2
		y = 1
		relative_position_id = ROM_flexible_foreign_policy

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war_with = ENG
			}
		}

		available = {
			is_subject = no
			ENG = {
				is_faction_leader = yes
				has_government = democratic
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_iron_guard
				}
				remove_ideas = ROM_iron_guard
				else = {
					if = {
						limit = {
							has_idea = ROM_securitate
						}
						remove_ideas = ROM_securitate
						else = {
							custom_effect_tooltip = ROM_appoint_allied_friendly_government_tooltip
						}
					}
				}
			}
			if = {
				limit = { NOT = { has_idea = ROM_flexible_foreign_policy_2 } }
				swap_ideas = {
					remove_idea = ROM_flexible_foreign_policy
					add_idea = ROM_flexible_foreign_policy_2
				}
			}
			add_popularity = {
				popularity = 0.35
				ideology = democratic
			}
			hidden_effect = { set_country_flag = can_change_sides_dem }
			unlock_decision_category_tooltip = ROM_change_sides
			unlock_decision_tooltip = ROM_change_sides_to_allies
			add_stability = -0.05
			add_opinion_modifier = { modifier = ROM_appoint_allied_friendly_government target = ENG }
			ENG = { add_opinion_modifier = { modifier = ROM_appoint_allied_friendly_government target = ROOT } }
		}
	}

	focus = {
		id = ROM_constitutional_guarantees
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = ROM_appoint_allied_friendly_government }
		x = 0
		y = 1
		relative_position_id = ROM_appoint_allied_friendly_government

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = ROM_constitutional_guarantees
			#Remove ideas or display tooltip warning that it will happen
			if = {
				limit = {
					has_idea = ROM_iron_guard
				}
				remove_ideas = ROM_iron_guard
				else = {
					if = {
						limit = {
							has_idea = ROM_securitate
						}
						remove_ideas = ROM_securitate
						else = {
							custom_effect_tooltip = ROM_appoint_allied_friendly_government_tooltip
						}
					}
				}
			}
		}
	}

	focus = {
		id = ROM_handle_the_king
		icon = GFX_focus_rom_handle_king
		prerequisite = { focus = ROM_constitutional_guarantees }
		mutually_exclusive = { focus = ROM_force_abdication }
		x = 0
		y = 2
		relative_position_id = ROM_appoint_allied_friendly_government

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			is_subject = no
			OR = {
				custom_trigger_tooltip = {
					tooltip = ROM_carol_current_leader_trigger
					has_country_leader = { id = 550 }
				}
				has_government = democratic
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					has_country_leader = { id = 550 }
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			swap_ideas = {
				add_idea = ROM_king_carol_ii_handled_2
				remove_idea = ROM_king_carol_ii_hedonist
			}
		}
	}

	############################
	######## AIR BRANCH ########
	############################

	focus = {
		id = ROM_expand_the_air_force
		icon = GFX_goal_generic_build_airforce
		x = 31
		y = 0

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			air_experience = 25
			random_state = {
				limit = {
					has_state_flag = ROM_expand_the_air_force_AB
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = ROM_expand_the_air_force_AB_2
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				prioritize = { 46 79 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					free_building_slots = {
						building = air_base
						size > 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				set_state_flag = ROM_expand_the_air_force_AB
			}
			random_owned_controlled_state = {
				prioritize = { 46 79 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					free_building_slots = {
						building = air_base
						size > 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				set_state_flag = ROM_expand_the_air_force_AB_2
			}
		}
	}

	focus = {
		id = ROM_acquire_licenses
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = ROM_expand_the_air_force }
		mutually_exclusive = { focus = ROM_local_development }
		x = -2
		y = 1
		relative_position_id = ROM_expand_the_air_force

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_acquire_licenses
		}
	}

	focus = {
		id = ROM_air_defense
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = ROM_acquire_licenses }
		mutually_exclusive = { focus = ROM_ground_support }
		x = -2
		y = 1
		relative_position_id = ROM_acquire_licenses

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_air_defense
				bonus = 1.0
				uses = 2
				category = cat_operational_integrity
			}
		}
	}

	focus = {
		id = ROM_ground_support
		icon = GFX_goal_poland_goal
		prerequisite = { focus = ROM_acquire_licenses }
		mutually_exclusive = { focus = ROM_air_defense }
		x = 0
		y = 1
		relative_position_id = ROM_acquire_licenses

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_ground_support
				bonus = 1.0
				uses = 2
				category = battlefield_support_tree
			}
		}
	}

	focus = {
		id = ROM_medium_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ROM_ground_support }
		x = 0
		y = 2
		relative_position_id = ROM_acquire_licenses

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_medium_bombers
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = ROM_acquire_fighters
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = ROM_air_defense }
		x = -2
		y = 2
		relative_position_id = ROM_acquire_licenses

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_tech = fighter3
				has_tech = heavy_fighter3
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_ROM = yes
							is_available_heavy_fighter_ROM = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_ROM = yes
							is_available_heavy_fighter_ROM = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_ROM = yes
							is_available_heavy_fighter_ROM = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_ROM = yes
							is_available_heavy_fighter_ROM = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_ROM = yes
							is_available_heavy_fighter_ROM = yes
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = DOD_romania.150
		}
	}

	focus = {
		id = ROM_local_development
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = ROM_expand_the_air_force }
		mutually_exclusive = { focus = ROM_acquire_licenses }
		x = 2
		y = 1
		relative_position_id = ROM_expand_the_air_force

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_local_development
		}
	}

	focus = {
		id = ROM_air_superiority
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = ROM_local_development }
		mutually_exclusive = { focus = ROM_strategic_bomber_force }
		x = -1
		y = 1
		relative_position_id = ROM_local_development

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_air_superiority
				bonus = 1.0
				uses = 2
				category = strategic_destruction_tree
			}
		}
	}

	focus = {
		id = ROM_cas
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = ROM_air_superiority }
		x = 1
		y = 1
		relative_position_id = ROM_air_superiority

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no 
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_cas
				bonus = 1.0
				uses = 1
				category = cas_bomber
			}
		}
	}

	focus = {
		id = ROM_iar_80
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ROM_air_superiority }
		x = -1
		y = 1
		relative_position_id = ROM_air_superiority

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			#Give generic fighter bonus if fighter_2 already researched
			if = {
				limit = {
					has_tech = fighter2
				}
				add_tech_bonus = {
					name = ROM_iar_80
					bonus = 1.0
					ahead_reduction = 2
					uses = 1
					category = light_fighter
				}
				else = {
					add_tech_bonus = {
						name = ROM_iar_80
						bonus = 1.0
						ahead_reduction = 2
						uses = 1
						technology = fighter2
					}
				}
			}
		}
	}

	focus = {
		id = ROM_strategic_bomber_force
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = ROM_local_development }
		mutually_exclusive = { focus = ROM_air_superiority }
		x = 1
		y = 1
		relative_position_id = ROM_local_development

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_strategic_bomber_force
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
			}
		}
	}

	focus = {
		id = ROM_heavy_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ROM_strategic_bomber_force }
		x = 1
		y = 1
		relative_position_id = ROM_strategic_bomber_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_heavy_bombers
				bonus = 1.0
				uses = 1
				category = cat_strategic_bomber
			}
		}
	}

	focus = {
		id = ROM_nuclear_bomb_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = ROM_heavy_bombers }
		x = 1
		y = 2
		relative_position_id = ROM_strategic_bomber_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_nuclear_bomb_project
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}

	############################
	####### ARMY BRANCH ########
	############################

	focus = {
		id = ROM_army_maneuvers
		icon = GFX_goal_generic_army_doctrines
		x = 39
		y = 0

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			army_experience = 25
		}
	}

	focus = {
		id = ROM_army_war_college
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ROM_army_maneuvers }
		x = -1
		y = 1
		relative_position_id = ROM_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_army_war_college
			custom_effect_tooltip = ROM_war_college_tt
			hidden_effect = {
				create_corps_commander = { 
					name = "Barbu Paraianu"
					gfx = GFX_Portrait_romania_barbu_paraianu
					traits = { infantry_officer }
					skill = 2
					attack_skill = 1
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 2
				}
			}
		}
	}

	focus = {
		id = ROM_the_zb_53
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ROM_army_war_college }
		x = 0
		y = 1
		relative_position_id = ROM_army_war_college

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_the_zb_53
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {		
		id = ROM_vanatori_de_munte
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = ROM_the_zb_53 }
		x = -1
		y = 1
		relative_position_id = ROM_the_zb_53

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = tech_mountaineers
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			custom_effect_tooltip = ROM_vanatori_de_munte_unit_tt
			hidden_effect = {
				division_template = {
					name = "Vanatori de munte"
					priority = 2
					division_names_group = ROM_MTN_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
			
	    	   		 	mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
			
	    	   		 	mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
						mountaineers = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 46 }
					create_unit = {
						division = "name = \"Vanatori de munte\" division_template = \"Vanatori de munte\" start_experience_factor = 1.0" 
						owner = ROM
					}
				}
			}
			add_tech_bonus = {
				name = ROM_vanatori_de_munte
				bonus = 1.0
				uses = 1
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = ROM_artillery_modernization
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = ROM_the_zb_53 }
		x = 1
		y = 1
		relative_position_id = ROM_the_zb_53

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_artillery_modernization
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = ROM_modern_at_guns
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = ROM_artillery_modernization }
		mutually_exclusive = { focus = ROM_mobile_tank_destroyers }
		x = 1
		y = 2
		relative_position_id = ROM_the_zb_53

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_modern_at_guns
				bonus = 1.0
				uses = 2
				category = cat_anti_tank
			}
		}
	}

	focus = {
		id = ROM_mountain_artillery
		icon = GFX_goal_generic_production
		prerequisite = { focus = ROM_artillery_modernization }
		prerequisite = { focus = ROM_vanatori_de_munte }
		x = -1
		y = 2
		relative_position_id = ROM_the_zb_53

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ROM_mountain_artillery_tech_tt
			hidden_effect = { set_technology = { mountain_gun = 1 } }
		}
	}

	focus = {
		id = ROM_royal_guards_divisions
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = ROM_army_maneuvers }
		x = 1
		y = 1
		relative_position_id = ROM_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = ROM_royal_guards_divisions_tt
			hidden_effect = {
				if = {
					limit = {
						has_tech = tech_recon
					}
					division_template = {
						name = "Royal Guards Division"
						priority = 2
						division_names_group = ROM_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
		    	   		 	infantry = { x = 2 y = 0 }
							artillery_brigade = { x = 2 y = 1 }
							artillery_brigade = { x = 2 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
						}
					}
					else = {
						division_template = {
							name = "Royal Guards Division"
							priority = 2
							division_names_group = ROM_INF_01
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
					
			    	   		 	infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
					
			    	   		 	infantry = { x = 2 y = 0 }
								artillery_brigade = { x = 2 y = 1 }
								artillery_brigade = { x = 2 y = 2 }
							}
							support = {
								engineer = { x = 0 y = 0 }
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 46 }
					create_unit = {
						division = "name = \"Royal Guards Division\" division_template = \"Royal Guards Division\" start_experience_factor = 1.0" 
						owner = ROM
					}
				}
			}			
		}
	}

	focus = {
		id = ROM_reserve_divisions
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ROM_royal_guards_divisions }
		mutually_exclusive = { focus = ROM_the_armored_division }
		x = 0
		y = 1
		relative_position_id = ROM_royal_guards_divisions

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = ROM_reserve_divisions
		}
	}

	focus = {
		id = ROM_the_armored_division
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = ROM_royal_guards_divisions }
		mutually_exclusive = { focus = ROM_reserve_divisions }
		x = 2
		y = 1
		relative_position_id = ROM_royal_guards_divisions

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = ROM_the_armored_division_tt
			#Give template depending on recon tech and medium
			hidden_effect = {
				if = {
					limit = {
						has_tech = basic_medium_tank
						has_tech = tech_recon
					}
					division_template = {
						name = "Armored Division"
						priority = 2
						division_names_group = ROM_ARM_01
						regiments = {
							medium_armor = { x = 0 y = 0 }
							medium_armor = { x = 0 y = 1 }
				
		    	   		 	medium_armor = { x = 1 y = 0 }
							medium_armor = { x = 1 y = 1 }
				
		    	   		 	motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }

		    	   		 	motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
					else = {
						if = {
							limit = {
								has_tech = basic_medium_tank
							}
							division_template = {
								name = "Armored Division"
								priority = 2
								division_names_group = ROM_ARM_01
								regiments = {
									medium_armor = { x = 0 y = 0 }
									medium_armor = { x = 0 y = 1 }
						
				    	   		 	medium_armor = { x = 1 y = 0 }
									medium_armor = { x = 1 y = 1 }
						
				    	   		 	motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }

				    	   		 	motorized = { x = 3 y = 0 }
									motorized = { x = 3 y = 1 }
								}
								support = {
									engineer = { x = 0 y = 0 }
									artillery = { x = 0 y = 1 }
									recon = { x = 0 y = 2 }
								}
							}
							else = {
								if = {
									limit = {
										has_tech = tech_recon
									}
									division_template = {
										name = "Armored Division"
										priority = 2
										division_names_group = ROM_ARM_01
										regiments = {
											light_armor = { x = 0 y = 0 }
											light_armor = { x = 0 y = 1 }
								
						    	   		 	light_armor = { x = 1 y = 0 }
											light_armor = { x = 1 y = 1 }
								
						    	   		 	motorized = { x = 2 y = 0 }
											motorized = { x = 2 y = 1 }

						    	   		 	motorized = { x = 3 y = 0 }
											motorized = { x = 3 y = 1 }
										}
										support = {
											engineer = { x = 0 y = 0 }
											artillery = { x = 0 y = 1 }
											recon = { x = 0 y = 2 }
										}
									}
									else = {
										division_template = {
											name = "Armored Division"
											priority = 2
											division_names_group = ROM_ARM_01
											regiments = {
												light_armor = { x = 0 y = 0 }
												light_armor = { x = 0 y = 1 }
									
							    	   		 	light_armor = { x = 1 y = 0 }
												light_armor = { x = 1 y = 1 }
									
							    	   		 	motorized = { x = 2 y = 0 }
												motorized = { x = 2 y = 1 }

							    	   		 	motorized = { x = 3 y = 0 }
												motorized = { x = 3 y = 1 }
											}
											support = {
												engineer = { x = 0 y = 0 }
												artillery = { x = 0 y = 1 }
											}
										}
									}
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 46 }
					create_unit = {
						division = "name = \"Armored Division\" division_template = \"Armored Division\" start_experience_factor = 0.7" 
						owner = ROM
					}
				}
			}			
		}
	}

	focus = {
		id = ROM_acquire_modern_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = ROM_the_armored_division focus = ROM_reserve_divisions	}
		x = 1
		y = 2
		relative_position_id = ROM_royal_guards_divisions

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_acquire_modern_tanks
		}
	}

	focus = {
		id = ROM_mobile_tank_destroyers
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = ROM_acquire_modern_tanks }
		prerequisite = { focus = ROM_artillery_modernization }
		mutually_exclusive = { focus = ROM_modern_at_guns }
		x = 0
		y = 1
		relative_position_id = ROM_acquire_modern_tanks

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ROM_leonidas_works
		}
	}

	focus = {
		id = ROM_the_maresal
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = ROM_mobile_tank_destroyers }
		x = 1
		y = 3
		relative_position_id = ROM_reserve_divisions

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_the_maresal
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cat_heavy_armor
			}
		}
	}

	############################
	####### NAVY BRANCH ########
	############################

	focus = {
		id = ROM_expand_the_galati_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 46
		y = 0

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = ROM_expand_the_galati_shipyards_AB
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 46 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = ROM_expand_the_galati_shipyards_AB
			}
		}
	}

	focus = {
		id = ROM_coastal_defense_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = ROM_expand_the_galati_shipyards }
		mutually_exclusive = { focus = ROM_black_sea_dominance }
		x = -1
		y = 1
		relative_position_id = ROM_expand_the_galati_shipyards

		cost = 10

		ai_will_do = {
			factor = 9
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ROM_coastal_defense_navy_designer
		}
	}

	focus = {
		id = ROM_coastal_defense_ships
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = ROM_coastal_defense_navy }
		x = -1
		y = 1
		relative_position_id = ROM_coastal_defense_navy

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = ROM_coastal_defense_ships
			#custom_effect_tooltip = ROM_coastal_defense_ships_tech_tt
			if = { 
				limit = { has_dlc = "Man the Guns" }
				set_technology = { coastal_defense_ships = 1 } 
			}
		}
	}

	focus = {
		id = ROM_modern_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = ROM_coastal_defense_navy focus = ROM_black_sea_dominance }
		x = 1
		y = 1
		relative_position_id = ROM_coastal_defense_navy

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_modern_destroyers
				bonus = 3.0
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = ROM_torpedo_boats
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = ROM_coastal_defense_ships }
		x = -2
		y = 2
		relative_position_id = ROM_coastal_defense_navy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = ROM_coastal_defense_ships_2
				remove_idea = ROM_coastal_defense_ships
			}
		}
	}

	focus = {
		id = ROM_modern_submarines
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = ROM_modern_destroyers }
		x = 0
		y = 2
		relative_position_id = ROM_coastal_defense_navy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_modern_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = ROM_black_sea_dominance
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = ROM_expand_the_galati_shipyards }
		mutually_exclusive = { focus = ROM_coastal_defense_navy }
		x = 1
		y = 1
		relative_position_id = ROM_expand_the_galati_shipyards

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ROM_black_sea_dominance_designer
		}
	}

	focus = {
		id = ROM_capital_ships
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ROM_black_sea_dominance }
		x = 1
		y = 1
		relative_position_id = ROM_black_sea_dominance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_capital_ships
				bonus = 1.0
				uses = 2
				category = ca_tech
				category = bb_tech
				category = bc_tech
			}
		}
	}

	focus = {
		id = ROM_torpedo_bombers
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = ROM_modern_destroyers }
		x = 2
		y = 2
		relative_position_id = ROM_coastal_defense_navy

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_torpedo_bombers
				bonus = 1.0
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = ROM_expand_the_marine_regiment
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = ROM_capital_ships }
		x = 2
		y = 2
		relative_position_id = ROM_black_sea_dominance

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ROM_expand_the_marine_regiment
				bonus = 1.0
				uses = 2
				category = tp_tech
				category = marine_tech
			}
		}
	}
}
focus_tree = {
	id = south_african_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SAF
			has_dlc = "Together for Victory"
			always = no
		}
		
		#modifier = {
		#	add = 10
		#	original_tag = SAF
		#	has_dlc = "Together for Victory"
		#}
	}
	
	default = no



#	focus = {
#		id = SAF_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}



	############################
	#### WAR PREP SECTION ######
	############################

	focus = {
		id = SAF_war_measures_act
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				threat > 0.2
				NOT = { has_government = democratic }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = SAF_emergency_workers
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_war_measures_act }
		x = -1
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}

	focus = {
		id = SAF_cape_garrison_artillery
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SAF_emergency_workers }
		x = -1
		y = 2
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SAF_reconstitute_the_cape_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_cape_garrison_artillery}
		x = -1
		y = 4
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_history_of_segregation
				add_idea = SAF_history_of_segregation_2
			}
		}
	}

	focus = {
		id = SAF_expand_the_cape_corps
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_reconstitute_the_cape_corps }
		mutually_exclusive = { focus = SAF_outlaw_strikes }
		x = 0
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_ideas = SAF_history_of_segregation_2
		}
	}

	focus = {
		id = SAF_outlaw_strikes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_work_for_all_poor }
		mutually_exclusive = { focus = SAF_expand_the_cape_corps }
		x = 2
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_2
				add_idea = SAF_cheap_labor_3
			}
		}
	}


	############################
	# GO COMMONWEALTH SECTION ##
	############################

	focus = {
		id = SAF_support_the_policy_of_appeasement
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		mutually_exclusive = { focus = SAF_abandon_westminster }
		x = 5
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			ENG = { has_war = no }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
		add_political_power = 120
		}
	}

	focus = {
		id = SAF_csir
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_war_measures_act }
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -3
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SAF = {
   				modify_tech_sharing_bonus = {
         			id = commonwealth_research
         			bonus = 0.1  # we get 20% higher bonus from this group
    			}
			}
		}
	}

	focus = {
		id = SAF_police_windhoek
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -1
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {			
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_2
			}
			remove_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
		}
	}

	focus = {
		id = SAF_joint_air_training_scheme
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = SAF_csir }
		x = -3
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_joint_air_training_scheme
		}
	}

	focus = {
		id = SAF_desert_equipment
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_joint_air_training_scheme }
		x = -4
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_desert_equipment
		}
	}

	focus = {
		id = SAF_suppress_the_stormjaers
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_joint_air_training_scheme }
		prerequisite = { focus = SAF_police_windhoek }
		x = -2
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			remove_ideas = SAF_ossewabrandwag_2
		}
	}

	focus = {
		id = SAF_secure_interests_in_africa
		icon = GFX_goal_tfv_saf_secure_interests_in_africa
		prerequisite = { focus = SAF_suppress_the_stormjaers }
		prerequisite = { focus = SAF_desert_equipment }
		x = -3
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 0
		}

		available = {
			NOT = { has_war_with = ENG }
			ENG = { is_puppet = no }

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
		ENG = { custom_effect_tooltip = needs_approval 
				country_event = tfv_south_africa.1
				}
		}
	}

	############################
	## SHARED POLITICS SECTION #
	############################

	focus = {
		id = SAF_native_laws_amendment_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SAF_police_windhoek focus = SAF_support_the_afrikaner_broederbond }
		x = 0
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_cheap_labor_1
		}
	}

	focus = {
		id = SAF_work_for_all_poor
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 0
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_1
				add_idea = SAF_cheap_labor_2
			}
		}
	}

	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = SAF_abandon_westminster
		icon = GFX_goal_tfv_sever_ties_with_uk
		mutually_exclusive = { focus = SAF_support_the_policy_of_appeasement }
		x = 7
		y = 0

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {
				NOT = { ENG = { has_government = democratic } }
				factor = 10
			}
			modifier = {
				NOT = { has_government = democratic }
				factor = 100
			}
			modifier = {	#makes it significantly more likely if player boosts non-democratic
				democratic < 0.5
				factor = 20
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

		completion_reward = {
			add_timed_idea = { idea = SAF_abandon_westminster days = 1095 }
		}
	}

	focus = {
		id = SAF_support_the_afrikaner_broederbond
		icon = GFX_goal_support_fascism
		prerequisite = { focus = SAF_abandon_westminster }
		mutually_exclusive = { focus = SAF_empower_the_workers }
		x = 0
		y = 1
		relative_position_id = SAF_abandon_westminster

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {
				fascism > 0.25
				factor = 10
			}
			modifier = {
				fascism > 0.45
				factor = 10
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_abandon_westminster
				add_idea = SAF_abandon_westminster_fascism
			}
		}
	}

	focus = {
		id = SAF_support_ossewabrandwag
		icon = GFX_goal_tfv_saf_support_ossebrandwag
		prerequisite = { focus = SAF_support_the_afrikaner_broederbond }
		x = 0
		y = 1
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject = no
				if = {
					limit = { NOT = { has_government = fascism } }
					AND = {
						has_autonomy_state = autonomy_dominion
						compare_autonomy_progress_ratio > 0.65
					}
				}
				if = {
					limit = { has_government = fascism } 
					AND = {
						has_autonomy_state = autonomy_satellite
						compare_autonomy_progress_ratio > 0.65
					}
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			army_experience = 15
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_fascism
			}
		}
	}

	focus = {
		id = SAF_celebrate_the_great_trek
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_support_the_afrikaner_broederbond }
		x = 1
		y = 2
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = SAF_voortrekker_monument
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SAF_native_laws_amendment_act focus = SAF_support_ossewabrandwag }
		x = -1
		y = 2
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}
		completion_reward = {
			add_ideas = SAF_voortrekker_monument
		}
	}

	focus = {
		id = SAF_support_nazification_of_south_west_africa
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SAF_support_ossewabrandwag }
		mutually_exclusive = { focus = SAF_south_africa_first }
		x = 0
		y = 3
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 0.45
			modifier = {
				GER = { has_war = yes }
				factor = 0
			}
		}

		available = {
			fascism > 0.20
			if = {
				limit = { not = { has_government = fascism } }
				compare_autonomy_state > autonomy_colony
			}
			if = {
				limit = { has_government = fascism  }
				compare_autonomy_state > autonomy_reichsprotectorate
			}
			controls_state = 541
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			541 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						id = 5154
						id = 5189
						id = 7605
						id = 10963
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						id = 12519
						id = 7770
						id = 4879
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2 
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = {
						id = 2207
					}
					level = 1
					instant_build = yes
				}
			}
			
		}
	}

	focus = {
		id = SAF_south_africa_first
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SAF_celebrate_the_great_trek }
		mutually_exclusive = { focus = SAF_support_nazification_of_south_west_africa }
		x = 2
		y = 3
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 0.75
			modifier = {
				GER = { surrender_progress > 0.5 }
				factor = 10 #nopenopnenope
			}
		}

		available = {
			OR = {
				is_subject = no
				if = {
					limit = { NOT = { has_government = fascism } }
					AND = {
						has_autonomy_state = autonomy_dominion
						compare_autonomy_progress_ratio > 0.75
					}
				}
				if = {
					limit = { has_government = fascism } 
					AND = {
						has_autonomy_state = autonomy_satellite
						compare_autonomy_progress_ratio > 0.75
					}
				}
			}
			NOT = { has_war_together_with = ENG }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY}
		
		completion_reward = {
			if = {
				limit = {
					is_subject = yes
				}
				OVERLORD = {
					set_autonomy = {
						target = SAF
						autonomy_state = autonomy_free
					}
				}
			}
			ENG = { remove_from_faction = ROOT }
			set_rule = { can_create_factions = yes }
			add_political_power = 70
			add_stability = 0.1
		}
	}

	focus = {
		id = SAF_support_the_german_coup
		icon = GFX_goal_tfv_saf_support_german_coup
		prerequisite = { focus = SAF_support_nazification_of_south_west_africa }
		x = 1
		y = 4
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			fascism > 0.25
			controls_state = 541
			OR = {
				is_subject = no
				if = {
					limit = { NOT = { has_government = fascism } }
					AND = {
						has_autonomy_state = autonomy_dominion
						compare_autonomy_progress_ratio > 0.80
					}
				}
				if = {
					limit = { has_government = fascism } 
					AND = {
						has_autonomy_state = autonomy_satellite
						compare_autonomy_progress_ratio > 0.80
					}
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {
			set_capital = 541
			start_civil_war = {
				ruling_party = fascism
				ideology = democratic
				size = 0.75
				capital = 681
				states = { 681 275 719 }
			}

		}

		completion_reward = {
			custom_effect_tooltip = SAF_civil_war_tt
			hidden_effect = {
				set_capital = 541
				start_civil_war = {
					ruling_party = fascism
					ideology = democratic
					size = 0.45
					capital = 681
					states = { 681 275 719 }
				}
				random_other_country = {
					limit = {
						original_tag = SAF
						has_government = democratic
					}
					load_oob = "SAF_D_civil_war"
					set_equipment_fraction = 0.7
					add_popularity = {
						ideology = democratic
						popularity = 0.35
					}
				}
				news_event = { hours = 6 id = news.262 }
				
				load_oob = "SAF_F_civil_war"
				set_equipment_fraction = 0.8
				
				add_popularity = {
					ideology = fascism
					popularity = 1
				}
				random_country = {
					limit = {
						original_tag = GER
						has_government = fascism
					}
					set_country_flag = saf_fascist_uprising # Affects GER ai_strategy
				}
			}
		}
	}

	focus = {
		id = SAF_reclaim_boer_colonies
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SAF_south_africa_first }
		x = 3
		y = 4
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = ENG
				expire = 0
				generator = { 542 545 }
			}
		}
	}

	focus = {
		id = SAF_commemorate_the_battle_of_blood_river
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = SAF_support_nazification_of_south_west_africa }
		prerequisite = { focus = SAF_voortrekker_monument }
		x = -1
		y = 4
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_voortrekker_monument
				add_idea = SAF_voortrekker_monument_2
			}

		}
	}

	focus = {
		id = SAF_german_scientists
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_support_the_german_coup }
		x = -2
		y = 5
		relative_position_id = SAF_support_the_afrikaner_broederbond
		available = {
			GER = { has_government = fascism }
		}

		cost = 10

		ai_will_do = {
			factor = 4
		}

		available = {
			
			is_in_faction_with = GER
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			GER = { add_to_tech_sharing_group = axis_research }
			add_to_tech_sharing_group = axis_research
		}
	}

	focus = {
		id = SAF_a_king_for_our_people
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SAF_support_the_german_coup focus = SAF_south_africa_first }
		x = 2
		y = 5
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				NOT  = { ENG = { has_idea = ENG_king_edward } }
				NOT = { ENG = { has_idea = ENG_king_edward_fascism } }
				NOT = { ENG = { has_completed_focus = ENG_the_kings_party } }
				ENG = { has_country_flag = ENG_king_died }
				tooltip = SAF_a_king_for_our_people_trigger_tt					
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_ideas = SAF_king_edward
		}
	}


	focus = {
		id = SAF_support_axis_interests
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SAF_support_the_german_coup }
		x = 0
		y = 5
		relative_position_id = SAF_support_the_afrikaner_broederbond

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 542
			controls_state = 545
			controls_state = 546
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = SAF_support_axis_interests_effect_tt
			every_state = {
				limit = {
					is_controlled_by = ROOT
					OR = {
						state = 542
						state = 545
						state = 546
						state = 540
						state = 544
						state = 295
						state = 538
						state = 718
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}

	############################
	### GO COMMUNIST SECTION ###
	############################

	focus = {
		id = SAF_empower_the_workers
		icon = GFX_goal_support_communism
		prerequisite = { focus = SAF_abandon_westminster }
		mutually_exclusive = { focus = SAF_support_the_afrikaner_broederbond }
		x = 5
		y = 1
		relative_position_id = SAF_abandon_westminster

		cost = 10

		ai_will_do = {
			factor = 0.5
			modifier = {	#will make country more likely to go down this path if player boosts communism support
				communism > 0.1
				factor = 10
			}
			modifier = {
				communism > 0.2
				factor = 10
			}
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY }

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_abandon_westminster
				add_idea = SAF_abandon_westminster_communism
			}
		}
	}

	focus = {
		id = SAF_support_spain
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SAF_empower_the_workers }
		x = -1
		y = 1
		relative_position_id = SAF_empower_the_workers

		cost = 5

		ai_will_do = {
			factor = 30
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = scw_in_progress_tt
				AND = {
					has_global_flag = spanish_civil_war
					NOT = { has_global_flag = scw_over }
				}
			}
			OR = {
				has_government = communism
				communism > 0.1
			}
			OR = {
				is_subject = no
				if = {
					limit = { NOT = { has_government = fascism } }
					AND = {
						has_autonomy_state = autonomy_dominion
						compare_autonomy_progress_ratio > 0.65
					}
				}
				if = {
					limit = { has_government = fascism } 
					AND = {
						has_autonomy_state = autonomy_satellite
						compare_autonomy_progress_ratio > 0.65
					}
				}
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = tfv_south_africa.50 }
			#event for nationalist/communist choice?
		}
	}

	focus = {
		id = SAF_repeal_the_native_representation_act
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SAF_empower_the_workers }
		x = 1
		y = 1
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			communism > 0.1
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT} 

		completion_reward = {
		add_political_power = 120
		add_ideas =  SAF_black_volunteers
		swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_2
			}
		}
	}
	focus = {
		id = SAF_equal_opportunity_employment
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_repeal_the_native_representation_act }
		x = 2
		y = 2
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_equal_opportunities
			remove_ideas = SAF_ossewabrandwag_2
		}
	}

	focus = {
		id = SAF_burn_the_kings_portraits
		icon = GFX_goal_tfv_burn_the_royal_portraits
		prerequisite = { focus = SAF_support_spain focus = SAF_repeal_the_native_representation_act }
		x = 0
		y = 2
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			communism > 0.35
			OR = {
				compare_autonomy_progress_ratio > 0.7
				is_subject = no
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 120
			add_popularity = {	
						ideology = communism
						popularity = 0.5
					}
			hidden_effect = {
			news_event = { hours = 6 id = news.263 }
					}
		}
	}
	focus = {
		id = SAF_anti_colonialist_crusade
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = SAF_burn_the_kings_portraits }
		mutually_exclusive = { focus = SAF_join_comintern }
		x = 2
		y = 3
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 34
			modifier = {
				OR = {
					SOV = { has_war_with = ENG }
					SOV = { has_war_with = BEL }
					SOV = { has_war_with = POR }
				}
				factor = 20 #now is the time to strike!
			}
		}

		available = {
			is_subject = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.1
			ENG = { 
					remove_from_faction = SAF
					add_opinion_modifier = { target = SAF modifier = SAF_anti_colonialist_crusaders }
			 }
			FRA = { 
			 		add_opinion_modifier = { target = SAF modifier = SAF_anti_colonialist_crusaders } 
			 }
			BEL = { 
			 		add_opinion_modifier = { target = SAF modifier = SAF_anti_colonialist_crusaders } 
			 }
			POR = { 
			 		add_opinion_modifier = { target = SAF modifier = SAF_anti_colonialist_crusaders } 
			 }
		}
	}

	focus = {
		id = SAF_Union_of_the_African_People
		icon = GFX_goal_anschluss
		prerequisite = { focus = SAF_anti_colonialist_crusade}
		x = 4
		y = 4
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = SAF_faction_uotap
			hidden_effect = {
				news_event = { hours = 6 id = news.264 }
			}
		}
	}
	focus = {
		id = SAF_liberate_portugese
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_Union_of_the_African_People}
		x = 4
		y = 5
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				POR = { has_war = yes }
				factor = 10
			}
		}

		available = {
			OR = {
				ANG = { exists = no }
				MZB = { exists = no }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = POR
				expire = 0
				generator = { 540 544 }
			}
			
		}
	}
	focus = {
		id = SAF_liberate_belgian
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SAF_liberate_portugese}
		x = 4
		y = 6
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				BEL = { has_war = yes }
				factor = 10
			}
		}

		available = {
			COG = { exists = no }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = BEL
				expire = 0
				generator = { 538 718 295 }
			}
			
		}
	}
	focus = {
		id = SAF_liberate_british
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SAF_Union_of_the_African_People}
		x = 6
		y = 5
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				ENG = { has_war = yes }
				factor = 10
			}
		}

		available = {
			OR = {
				KEN = { exists = no } 
				ZIM = { exists = no }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = ENG
				expire = 0
				generator = { 546 547 548 542 545 }
			}
			
		}
	}

	

	focus = {
		id = SAF_join_comintern
		icon = GFX_goal_support_communism
		prerequisite = { focus = SAF_burn_the_kings_portraits }
		mutually_exclusive = { focus = SAF_anti_colonialist_crusade }
		x = 0
		y = 3
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				SOV = { surrender_progress > 0.75 }
				factor = 0 # let's not get into that...
			}
			modifier = {
				has_opinion = { target = SOV value > 50 }
				factor = 3
			}
		}

		available = {
			NOT = { has_war_with = SOV }
			SOV = { is_puppet = no }
			is_subject = no
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {
			
		}

		completion_reward = {
			SOV = { country_event = { id = tfv_south_africa.20 } }
		}
	}
	
	focus = {
		id = SAF_support_the_world_revolution
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SAF_join_comintern }
		x = 0
		y = 4
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_ideas = SAF_support_the_world_revolution
		}
	}
	focus = {
		id = SAF_invite_soviet_advisers
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SAF_support_the_world_revolution }
		x = 0
		y = 5
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			SOV = { exists = yes }
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			
		}

		completion_reward = {
			add_ideas = SAF_soviet_advisers
			add_tech_bonus = {
				name = SAF_invite_soviet_advisers
				bonus = 1.0
				uses = 2
				category = cat_mass_assault
			}
			add_tech_bonus = {
				name = SAF_invite_soviet_advisers
				bonus = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SAF_south_african_soviet_research_treaty
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_invite_soviet_advisers }
		x = 0
		y = 6
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			SOV = { 
				exists = yes
				is_puppet = no
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			
		}

		completion_reward = {
			SOV = {
				custom_effect_tooltip = needs_approval
				country_event = { id = tfv_south_africa.40 } #tech sharing
			}
		}

	}
	focus = {
		id = SAF_demand_madagascar
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_anti_colonialist_crusade focus = SAF_join_comintern}
		x = 2
		y = 4
		relative_position_id = SAF_empower_the_workers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_global_flag = sov_yes_pact
			FRA = {
				has_capitulated = yes
				exists = yes #otherwise Franco-British union might screw things up
				NOT = { has_government = communism }
			}
			NOT = { has_country_flag = britain_enforced_our_loyalty }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_ANNEXATION }

		complete_tooltip = {
			
		}

		completion_reward = {
			FRA = {
				custom_effect_tooltip = needs_approval
					country_event = { id = tfv_south_africa.30 hours = 12 }
			}
			hidden_effect = {
				news_event = { id = news.265 }
			}
		}
	}
	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = SAF_south_african_railways
		icon = GFX_goal_generic_construct_infrastructure
		x = 20
		y = 0

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_south_african_railways_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_south_african_railways_Inf
			}
		}
	}

	focus = {
		id = SAF_expand_the_mining_industry
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_south_african_railways }
		x = -1
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY}

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_expand_the_mining_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_expand_the_mining_industry_IC
			}
			add_tech_bonus = {
				name = SAF_expand_the_mining_industry
				bonus = 1.0
				uses = 1
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
		}
	}

	focus = {
		id = SAF_heavy_engineering
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_south_african_railways }
		x = 1
		y = 1
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = SAF_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SAF_heavy_engineering focus = SAF_expand_the_mining_industry }
		x = 0
		y = 2
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_infrastructure_effort_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_infrastructure_effort_Inf
			}
		}
	}

	focus = {
		id = SAF_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_infrastructure_effort }
		x = -1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_armament_effort_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_armament_effort_AF
			}
		}
	}

	focus = {
		id = SAF_south_african_steel
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_infrastructure_effort }
		x = 1
		y = 3
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			controls_state = 275
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			275 = {
				add_resource = {
					type = steel
					amount = 16
				}
			}
		}
	}

	focus = {
		id = SAF_pretoria_arms
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SAF_armament_effort }
		prerequisite = { focus = SAF_south_african_steel }
		x = -1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_pretoria_arms_AF
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_pretoria_arms_AF
			}
		}
	}

	focus = {
		id = SAF_expand_the_rand_mines
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_south_african_steel }
		x = 1
		y = 4
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_gold_exports
		}
	}

	focus = {
		id = SAF_fund_the_university_of_south_africa
		icon = GFX_focus_research
		prerequisite = { focus = SAF_pretoria_arms focus = SAF_expand_the_rand_mines }
		x = 0
		y = 5
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 45
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SAF_establish_the_atomics_energy_board
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SAF_fund_the_university_of_south_africa }
		x = 0
		y = 6
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_establish_the_atomics_energy_board
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	focus = {
		id = SAF_the_cape_defense_institute
		icon = GFX_focus_research
		prerequisite = { focus = SAF_establish_the_atomics_energy_board }
		x = -1
		y = 7
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SAF_defense_collaboration_initiative
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SAF_establish_the_atomics_energy_board }
		x = 1
		y = 7
		relative_position_id = SAF_south_african_railways

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			is_subject = no
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_other_country = {
					is_in_faction_with = ROOT
					num_of_factories > 50
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}


	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_special_service_battalion
		icon = GFX_goal_generic_army_doctrines
		x = 24
		y = 0

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = SAF_special_service_battalion
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_three_oh_three
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SAF_special_service_battalion }
		x = -1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_three_oh_three
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SAF_q_services_corps
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_special_service_battalion }
		x = 1
		y = 1
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_q_services_corps
				bonus = 1.0
				uses = 2
				technology = motorised_infantry
				technology = tech_logistics_company
				technology = tech_logistics_company2
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
		}
	}

	focus = {
		id = SAF__south_african_military_college
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF_q_services_corps }
		x = 0
		y = 2
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_tech_bonus = {
				name = SAF__south_african_military_college
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_expand_the_south_african_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_improve_the_three_oh_three focus = SAF__south_african_military_college }
		x = -1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_expand_the_south_african_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_sa_engineer_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_q_services_corps focus = SAF__south_african_military_college }
		x = 1
		y = 3
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_sa_engineer_corps
				bonus = 1.0
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = SAF_equipment_effort
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_expand_the_south_african_artillery focus = SAF_sa_engineer_corps }
		x = 0
		y = 4
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_equipment_effort
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
	}

	focus = {
		id = SAF_mechanization_effort
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = SAF_equipment_effort }
		x = -1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_mechanization_effort
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = SAF_south_african_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SAF_equipment_effort focus = SAF_sa_engineer_corps }
		x = 1
		y = 5
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_south_african_special_forces
				bonus = 1.0
				uses = 1
				category = para_tech
				category = marine_tech
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = SAF_armor_effort
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_south_african_special_forces focus = SAF_mechanization_effort }
		x = 0
		y = 6
		relative_position_id = SAF_special_service_battalion

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_armor_effort
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}


	############################
	####### AIR SECTION ########
	############################

	focus = {
		id = SAF_commit_to_the_five_year_plan
		icon = GFX_goal_generic_build_airforce
		x = 28
		y = 0	

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			air_experience = 25
			random_state = {				
				limit = {
					has_state_flag = SAF_commit_to_the_five_year_plan_AB
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = SAF_commit_to_the_five_year_plan
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_commit_to_the_five_year_plan_AB
			}
			add_tech_bonus = {
				name = SAF_commit_to_the_five_year_plan
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SAF_improve_the_hawker_hartbees
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SAF_commit_to_the_five_year_plan }
		mutually_exclusive = { focus = SAF_replace_the_blenheim  }
		x = -1
		y = 1
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 0.4
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_the_hawker_hartbees
				bonus = 1.0
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
		}
	}

	focus = {
		id = SAF_replace_the_blenheim
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = SAF_commit_to_the_five_year_plan }
		mutually_exclusive = { focus = SAF_improve_the_hawker_hartbees  }
		x = 1
		y = 1
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 0.6
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_replace_the_blenheim
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				category = cas_bomber
				category = naval_bomber
			}
		}
	}

	focus = {
		id = SAF_perfect_the_cab_rank_technique
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SAF_improve_the_hawker_hartbees focus = SAF_replace_the_blenheim }
		x = 0
		y = 2
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = SAF_perfect_the_cab_rank_technique
				bonus = 1.0
				uses = 1
				category = cat_battlefield_support
			}
		}
	}

	focus = {
		id = SAF_desert_air_force
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SAF_perfect_the_cab_rank_technique }
		x = -1
		y = 3
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_desert_air_force
				bonus = 1.0
				uses = 1
				category = cas_bomber
			}
		}
	}

	focus = {
		id = SAF_secure_the_cape_sea_route
		icon = GFX_goal_generic_air_bomber 
		prerequisite = { focus = SAF_perfect_the_cab_rank_technique focus = SAF_replace_the_blenheim }
		x = 1
		y = 3
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_secure_the_cape_sea_route
				bonus = 1.0
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = SAF_retain_experienced_pilots
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SAF_desert_air_force focus = SAF_secure_the_cape_sea_route }
		x = 0
		y = 4
		relative_position_id = SAF_commit_to_the_five_year_plan

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			air_experience = 35
			add_tech_bonus = {
				name = SAF_retain_experienced_pilots
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}


	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = SAF_seaward_defence_force
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 32
		y = 0		

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = SAF_seaward_defence_force_DY
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 681 719 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SAF_seaward_defence_force_DY
			}			
			add_tech_bonus = {
				name = SAF_seaward_defence_force
				bonus = 1.0
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_protect_the_trade
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = SAF_seaward_defence_force }
		mutually_exclusive = { focus = SAF_disrupt_the_trade }
		x = -1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 0.8
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_protect_the_trade
				bonus = 1.0
				uses = 1
				category = convoy_defense_tree
			}
		}
	}

	focus = {
		id = SAF_disrupt_the_trade
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = SAF_seaward_defence_force }
		mutually_exclusive = { focus = SAF_protect_the_trade }
		x = 1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 0.2
			modifier = {
				has_war_with = ENG
				factor = 10
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_disrupt_the_trade
				bonus = 1.0
				uses = 1
				category = cat_trade_interdiction
			}
		}
	}

	focus = {
		id = SAF_expand_the_simons_town_base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SAF_protect_the_trade focus = SAF_disrupt_the_trade }
		x = 0
		y = 2
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SAF_expand_the_simons_town_base_DY
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = SAF_expand_the_simons_town_base_NB
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = coastal_bunker
					province = 12589
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 681 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SAF_expand_the_simons_town_base_DY
			}
			if = {
				limit = { 681 = { is_controlled_by = ROOT } }
				681 = {
					add_building_construction = {
						type = coastal_bunker
						province = 12589
						level = 2
						instant_build = yes
					}
					set_state_flag = SAF_expand_the_simons_town_base_NB
				}
			}
		}
	}

	focus = {
		id = SAF_anti_submarine_tactics
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		x = -1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_anti_submarine_tactics
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = SAF_submarine_warfare
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		x = 1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = ENG
				factor = 3
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_submarine_warfare
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = SAF_prepare_overseas_offensive
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = SAF_anti_submarine_tactics }
		mutually_exclusive = { focus = SAF_strengthen_the_cape_garrison_artillery }
		x = -1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_prepare_overseas_offensive
				bonus = 1.0
				uses = 1
				category = convoy_defense_tree
			}
			add_tech_bonus = {
				name = SAF_prepare_overseas_offensive
				bonus = 1.0
				uses = 1
				category = marine_tech
				category = tp_tech
			}
		}
	}

	focus = {
		id = SAF_strengthen_the_cape_garrison_artillery
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SAF_submarine_warfare }
		mutually_exclusive = { focus = SAF_prepare_overseas_offensive }
		x = 1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
			}
		}
	}
}		
focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
			always = no
		}
	}
	
	default = no

	focus = {
		id = SOV_finish_five_year_plan
		icon = GFX_goal_generic_construct_civ_factory
		x = 1
		y = 0
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_finish_five_year_plan_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
		}
	}

	focus = {
		id = SOV_move_industry_to_urals
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = -1
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
			}
		}

		available = {
			has_war = yes
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}

		bypass = {
			NOT = { 219 = { is_owned_and_controlled_by = ROOT } }
			NOT = { 195 = { is_owned_and_controlled_by = ROOT } }
			NOT = { 242 = { is_owned_and_controlled_by = ROOT } }
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			unlock_decision_tooltip = SOV_relocate_industry_from_moscow
			unlock_decision_tooltip = SOV_relocate_industry_from_leningrad
			unlock_decision_tooltip = SOV_relocate_industry_from_smolensk			
		}
	}

	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_move_industry_to_urals }
		available = {
			#any_owned_state = {
			#	any_neighbor_state = { state = 219 } # Moscow
			#	NOT = { is_controlled_by = ROOT }
			#}
			219 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 }
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = SOV_move_industry_to_urals
		cost = 5
		ai_will_do = {
			factor = 100
		}	
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			army_experience = 5
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6380
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_production_effort
		text = production_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = 1
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 2
						include_locked = yes
					}
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_production_effort_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					653 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}	
					set_state_flag = SOV_production_effort_2AF
				}
			}
			653 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_2AF
				}
			}
			if = {
				limit = {
					572 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}							
					set_state_flag = SOV_production_effort_2AF
				}
			}
			572 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_2AF
				}
			}
		}
	}

	focus = {
		id = SOV_extra_tech_slot_early
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_production_effort }
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 0
		y = 1
		relative_position_id = SOV_production_effort
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = SOV_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SOV_extra_tech_slot_early }
		x = 0
		y = 1
		relative_position_id = SOV_extra_tech_slot_early
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 3
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_infrastructure_effort_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					all_owned_state = {
						NOT = { infrastructure < 5 }
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes						
					}
					set_state_flag = SOV_infrastructure_effort_3Inf
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = SOV_infrastructure_effort_3Inf
				}				
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
		}
	}

	focus = {
		id = SOV_tranformation_of_nature
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_infrastructure_effort }
		x = 0
		y = 1
		relative_position_id = SOV_infrastructure_effort
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {
			controls_state = 404
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			add_resource = {
				type = rubber
				amount = 6
				state = 404
			}
		}
	}

	focus = {
		id = SOV_stalin_constitution
		icon = GFX_goal_support_communism
		x = 6
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 160
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SOV_stalin_constitution }
		mutually_exclusive = { focus = SOV_positive_heroism }
		x = -2
		y = 1
		relative_position_id = SOV_stalin_constitution
		cost = 10
		ai_will_do = {
			factor = 0.25
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_political_power = 120
			add_ideas = SOV_collectivist_propaganda
		}
	}

	focus = {
		id = SOV_militarized_schools
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 0
		y = 1
		relative_position_id = SOV_collectivist_propaganda
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = militarized_schools
		}
	}

	focus = {
		id = SOV_workers_culture
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_militarized_schools }
		x = 0
		y = 1
		relative_position_id = SOV_militarized_schools
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = workers_culture
		}
	}

	focus = {
		id = SOV_women_pilots
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SOV_workers_culture }
		x = 0
		y = 1
		relative_position_id = SOV_workers_culture
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			air_experience = 25
			set_rule = {
				can_generate_female_aces = yes
			}
			if = {
				limit = {
					SOV = { has_full_control_of_state = 219 }
				}
				custom_effect_tooltip = SOV_night_witches_tt
				hidden_effect = {
					load_oob = "SOV_night_witches"
				}
			}
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_stalin_constitution }
		mutually_exclusive = { focus = SOV_collectivist_propaganda }
		x = 0
		y = 1
		relative_position_id = SOV_stalin_constitution
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			# REVISIT Might want to add more
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SOV_positive_heroism }
		x = 0
		y = 1
		relative_position_id = SOV_positive_heroism
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = progress_cult_focus
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_progress_cult }
		x = 0
		y = 1
		relative_position_id = SOV_progress_cult
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = socialist_science_focus
		}
	}

	focus = {
		id = SOV_extra_tech_slot
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_socialist_science }
		x = 0
		y = 1
		relative_position_id = SOV_socialist_science
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_aviation_cult
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SOV_positive_heroism }
		x = 2
		y = 2
		relative_position_id = SOV_positive_heroism
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes	

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = air_bonus
				bonus = 1.0
				uses = 1
				category = light_air
				category = medium_air
				category = heavy_air
				category = naval_air
			}
		}
	}

	
	focus = {
		id = SOV_new_soviet_man
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_aviation_cult }
		x = 0
		y = 1
		relative_position_id = SOV_aviation_cult
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
	}

	focus = {
		id = SOV_socialist_realism
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_stalin_constitution }
		x = 2
		y = 1
		relative_position_id = SOV_stalin_constitution
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = SOV_improve_railway
		icon = GFX_goal_generic_construct_infrastructure
		x = 11
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_improve_railway_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 1000000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 1000000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 1000000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
		}
	}

	focus = {
		id = SOV_transpolar_flights
		icon = GFX_goal_generic_air_fighter2
		x = 13
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SOV_ocean_going_navy
		icon = GFX_goal_generic_navy_battleship
		x = 15
		y = 0
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = SOV_peoples_commissariat
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_improve_railway }
		prerequisite = { focus = SOV_transpolar_flights }
		prerequisite = { focus = SOV_ocean_going_navy }
		x = 2
		y = 1
		relative_position_id = SOV_improve_railway
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = peoples_commissariat_focus
		}
	}

	focus = {
		id = SOV_anti_fascist_diplomacy
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_peoples_commissariat }
		x = -2
		y = 1
		relative_position_id = SOV_peoples_commissariat
		cost = 30
		ai_will_do = {
			factor = 1
			modifier = {
				has_government = fascism
				factor = 0
			}

			modifier = {
				factor = 3
				ai_irrationality < 25
			}

			modifier = {
				factor = 0.75
				ai_irrationality > 30
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 40
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
		}
	}

#	focus = {
#		id = SOV_xian_incident
#		icon = GFX_goal_generic_political_pressure
#		prerequisite = { focus = SOV_anti_fascist_diplomacy }
#		x = -1
#		y = -1
#		relative_position_id = SOV_anti_fascist_diplomacy
#		cost = 10
#		ai_will_do = {
#			factor = 1
#		}	
#		completion_reward = {
#			CHI = { country_event = { id = soviet.18 days = 1 } }
#			custom_effect_tooltip = SOV_xian_incident_tt
#		}
#	}

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = -1
		y = 1
		relative_position_id = SOV_anti_fascist_diplomacy
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}					
			}
			657 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 2
						province = 11643
						instant_build = yes
					}
				}
			}
			# Other possible Provinces
			# 4719 12622 10559 12543 7851 10678 12657 7763 4725 10655 7801 10722 7672 4805
			# 12189 10466 11643 6686 664 6684 3787 6838 3977 11879 1755
		}
	}

	focus = {
		id = SOV_operation_zet
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_far_east_fortification }
		available = {
			has_equipment = {
				infantry_equipment > 199
			}
		}
		continue_if_invalid = yes
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		select_effect = {
			if = {
				limit = {
					NOT = {
						has_war_with = CHI
						CHI = {
							has_war_with = PRC
						}
					}
				}
				send_equipment = {
					target = CHI
					type = infantry_equipment
					amount = 200
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_war_with = PRC
					}
				}
				send_equipment = {
					target = PRC
					type = infantry_equipment
					amount = 200
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = SOV_far_east_fortification
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_war_with = CHI
						CHI = {
							has_war_with = PRC
						}
					}
				}
				CHI = {
					add_opinion_modifier = { target = SOV modifier = operation_zet_chi }				
				}
				JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
				PRC = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
			}
			else_if = {
				limit = {
					NOT = {
						has_war_with = PRC
					}
				}
				CHI = {
					add_opinion_modifier = { target = SOV modifier = operation_zet_jap }				
				}
				JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
				PRC = { add_opinion_modifier = { target = SOV modifier = operation_zet_chi } }
			}
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_operation_zet }
		available = { is_puppet = no }
		bypass = {
			NOT = { country_exists = TAN }
		}
		x = 0
		y = 1
		relative_position_id = SOV_operation_zet
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			TAN = {
				country_event = { id = soviet.14 }
			}
		}
	}

	focus = {
		id = SOV_war_with_japan
		icon = GFX_focus_attack_japan
		prerequisite = { focus = SOV_annex_tannu_tuva }
		x = 0
		y = 1
		relative_position_id = SOV_annex_tannu_tuva
		available = {
			country_exists = JAP
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		will_lead_to_war_with = JAP
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_germany
						GER = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_uk
						ENG = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			} 
		}
	}

	focus = {
		id = SOV_improve_stalin_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		available = { has_offensive_war = no }
		x = 1
		y = 1
		relative_position_id = SOV_anti_fascist_diplomacy
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 6
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 7
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claims_on_baltic
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_improve_stalin_line }
		x = 0
		y = 1
		relative_position_id = SOV_improve_stalin_line
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
				NOT = { 
					GER = { has_completed_focus = GER_demand_memel }
				}
			}
		}
		bypass = {
			OR = { 
				owns_state = 11
				11 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 12
				12 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 189
				189 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 190
				190 = { is_claimed_by = ROOT }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 11
			add_state_claim = 189
			add_state_claim = 12
			add_state_claim = 190
			add_named_threat = { threat = 1 name = SOV_claims_on_baltic }
			USA = {
				set_country_flag = { flag = USA_baltic_window days = 60 value = 1 }
			}
			every_other_country = {
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claims_on_baltic }
		x = 0
		y = 1
		relative_position_id = SOV_claims_on_baltic
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}
		bypass = {
			OR = { 
				owns_state = 146
				146 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 191
				191 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 13
				13 = { is_claimed_by = ROOT }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 146 # Karjala
			# Estonia
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 1 name = SOV_baltic_security }
			FIN = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}              
			}
			SWE = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
			DEN = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
			NOR = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
		}
	}

	focus = {
		id = SOV_claims_on_poland
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_baltic_security }
		x = 0
		y = 1
		relative_position_id = SOV_baltic_security
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
			modifier = {
				factor = 200
				GER = { has_government = democratic }
			}
		}

		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact

				NOT = { country_exists = POL }

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
				}
			}			
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_demand_eastern_poland
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_claims_on_poland }
		mutually_exclusive = { focus = SOV_offer_poland_protection }
		x = 0
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10
		available = {
			is_puppet = no
			NOT =  { is_in_faction_with = POL }
			NOT = { has_war_with = POL }
			POL = {
				OR = {
					96 = { is_owned_and_controlled_by = POL }
					95 = { is_owned_and_controlled_by = POL }
					94 = { is_owned_and_controlled_by = POL }
					93 = { is_owned_and_controlled_by = POL }
					91 = { is_owned_and_controlled_by = POL }
					89 = { is_owned_and_controlled_by = POL }
					784 = { is_owned_and_controlled_by = POL }
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
			modifier = {
				factor = 0.1
				ai_irrationality > 35
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = {
				country_event = { id = poland.2 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
					if = {
						limit = { POL = { owns_state = 784 controls_state = 784 } }
						transfer_state = 784
					}
				}
			}
		}
	}

	focus = {
		id = SOV_offer_poland_protection
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_claims_on_poland }
		mutually_exclusive = { focus = SOV_demand_eastern_poland }
		available = {
			POL = {
				country_exists = POL
				has_war = no
				is_puppet = no
			}
		}
		x = 2
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality < 24
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 15
			}
			modifier = {
				factor = 0.1
				ai_irrationality < 10
			}
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			POL = {
				country_event = { id = poland.5 }
				custom_effect_tooltip = needs_approval
				effect_tooltip = {
					add_state_claim = 5
					add_state_claim = 63
					add_state_claim = 68
					add_state_claim = 66
					add_state_claim = 67
					custom_effect_tooltip = SOV_offer_poland_protection_tt
				}
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
					if = {
						limit = { POL = { owns_state = 784 controls_state = 784 } }
						transfer_state = 784
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claim_bessarabia
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_claims_on_poland }
		x = -2
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 10
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
			modifier = {
				factor = 200
				GER = { has_government = democratic }
			}		
		}
		bypass = {
			OR = { 
				owns_state = 78
				78 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 80
				80 = { is_claimed_by = ROOT }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = { 78 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 78
			}
			if = {
				limit = { 766 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 766
			}
			if = {
				limit = { 80 = { OWNER = { NOT = { is_in_faction_with = ROOT} } } }
				add_state_claim = 80
			}
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
			if = {
				limit = {
					AND = {
						any_other_country = {
							owns_state = 78
							NOT = {	owns_state = 766 }
						}
						any_other_country = {
							owns_state = 80
							NOT = {	owns_state = 766 }
						}
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 766
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
	}


	focus = {
		id = SOV_war_with_germany
		icon = GFX_focus_attack_germany
		prerequisite = { focus = SOV_claim_bessarabia }
		available = {
			country_exists = GER
			custom_trigger_tooltip = {
				tooltip = SOV_war_with_germany_tt
				NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			}
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		x = 0
		y = 1
		relative_position_id = SOV_claim_bessarabia
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_uk
						ENG = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.75
				}
			}

			modifier = {
				factor = 2

				ROM = {
					is_in_faction_with = GER
				}
			}
			modifier = {
				factor = 200
				GER = { has_government = democratic }
				FRA = { has_government = fascism }
				GER = { has_war_with = FRA }
			}
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			} 
		}
	}

	focus = {
		id = SOV_anti_capitalist_diplomacy
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 3
		y = 1
		relative_position_id = SOV_peoples_commissariat
		cost = 30
		ai_will_do = {
			factor = 0.5

			modifier = {
				has_government = democratic
				factor = 0
			}

			modifier = {
				factor = 5
				ai_irrationality > 25
			}

			modifier = {
				factor = 5
				ai_irrationality > 35
			}

			modifier = {
				factor = 2
				ai_irrationality > 40
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_focus }
			}
			USA = { 
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			ENG = {
				if = { 
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
		}
	}

	focus = {
		id = SOV_expand_red_fleet
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		available = { has_offensive_war = no }
		x = -1
		y = 1
		relative_position_id = SOV_anti_capitalist_diplomacy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_expand_red_fleet_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}				
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 1.0
				uses = 2
				category = naval_equipment
			}			
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 1.0
				uses = 2
				category = naval_equipment
			}
		}
	}

	focus = {
		id = SOV_anti_colonialist_rebels
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_expand_red_fleet }
		x = -1
		y = 1
		relative_position_id = SOV_expand_red_fleet
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_named_threat = { threat = 1 name = SOV_anti_colonialist_rebels }
			FRA = {
				add_timed_idea = { idea = comintern_influence days = 1095 }
			}
			ENG = {
				add_timed_idea = { idea = comintern_influence days = 1095 }
			}
		}
	}

	focus = {
		id = SOV_southern_thrust
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_anti_colonialist_rebels }
		x = 0
		y = 1
		relative_position_id = SOV_anti_colonialist_rebels
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = GER
				factor = 0
			}
			modifier = {
				AND = {
					has_war_with = ENG
					surrender_progress > 0.3
				}
				factor = 0
			}
			modifier = {
				has_war_with = RAJ
				factor = 5
			}
		}
		will_lead_to_war_with = PER
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = AFG
		bypass = {
			PER = {
				NOT = { owns_state = 419 }
				NOT = { owns_state = 420 }
				NOT = { owns_state = 266 }
			}
			IRQ = {
				NOT = { owns_state = 676 }
				NOT = { owns_state = 291 }
			}
			AFG = {
				NOT = { owns_state = 267 }
				NOT = { owns_state = 415 }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = { 
					PER = {
						OR = {
							owns_state = 419
							owns_state = 420
							owns_state = 266
						}
					} 
				}
				create_wargoal = {
					type = take_state_focus
					target = PER
					expire = 0
					generator = { 419 420 266 }
				}
			}
			if = {
				limit = { 
					IRQ = {
						OR = {
							owns_state = 676
							owns_state = 291
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = IRQ
					expire = 0
					generator = { 676 291 }
				}
			}
			if = {
				limit = {
					AFG = {
						OR = {
							owns_state = 267
							owns_state = 415
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = AFG
					expire = 0
					generator = { 267 415 }
				}
			}
			ENG = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			FRA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			USA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			# REVISIT Possibly add other Allies faction members as well
		}
	}

	focus = {
		id = SOV_war_with_uk
		icon = GFX_focus_attack_britain
		prerequisite = { focus = SOV_southern_thrust }
		prerequisite = { focus = SOV_ultimatum_to_greece }
		available = {
			country_exists = ENG
			NOT = { ENG = { has_government = communism } }
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = ENG
		}
		will_lead_to_war_with = ENG
		x = 1
		y = 1
		relative_position_id = SOV_southern_thrust
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_germany
						GER = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
				expire = 0
			} 
		}
	}

	focus = {
		id = SOV_claim_on_the_straits
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_expand_red_fleet }
		available = {
		}
		x = 1
		y = 1
		relative_position_id = SOV_expand_red_fleet
		cost = 10
		ai_will_do = {
			factor = 1
		}
		bypass = {
			OR = { 
				owns_state = 341
				341 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 347
				347 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 340
				340 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 339
				339 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 797
				797 = { is_claimed_by = ROOT }
			}
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 341
			add_state_claim = 347
			add_state_claim = 340
			add_state_claim = 339
			add_state_claim = 797
			add_named_threat = { threat = 2 name = SOV_claim_on_the_straits }
		}
	}

	focus = {
		id = SOV_ultimatum_to_greece
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claim_on_the_straits }
		available = {
			is_puppet = no
			341 = { is_controlled_by = SOV }
			347 = { is_controlled_by = SOV }
			340 = { is_controlled_by = SOV }
			339 = { is_controlled_by = SOV }
			797 = { is_controlled_by = SOV }
		}
		bypass = {
			187 = { is_controlled_by = SOV }
		}
		x = 0
		y = 1
		relative_position_id = SOV_claim_on_the_straits
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 187
			if = {
				limit = { country_exists = GRE }
				GRE = { country_event = { id = greece.1 days = 1 } }
			}
		}
	}


	### END BRANCH ###
	focus = {
		id = SOV_reconcile_japan
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		available = {			
			is_puppet = no
			JAP = { NOT = { is_in_faction = yes } } 
			NOT = { has_war_with = JAP }
		}

		bypass = {
			NOT = { country_exists = JAP }
		}
		x = 2
		y = 1
		relative_position_id = SOV_anti_capitalist_diplomacy
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			JAP = {
				add_opinion_modifier = { target = SOV modifier = border_conflict_reconciled }
				country_event = { id = soviet.23 days = 1 }
				effect_tooltip = { transfer_state = 655 }
			}
		}
	}

	focus = {
		id = SOV_claim_on_sinkiang
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_reconcile_japan }
		available = {
			JAP = { has_war_with = CHI }
		}
		x = 0
		y = 1
		relative_position_id = SOV_reconcile_japan
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		bypass = {
			OR = {
				NOT = { country_exists = SIK }
				AND = {
					OR = { 
						owns_state = 618
						618 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 617
						617 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 619
						619 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 287
						287 = { is_claimed_by = ROOT }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 618
			add_state_claim = 617
			add_state_claim = 287
			add_state_claim = 619
			add_named_threat = { threat = 2 name = SOV_claim_on_sinkiang_threat }
		}
	}

	focus = {
		id = SOV_great_purge
		icon = GFX_goal_generic_war_with_comintern
		available = {
			NOT = { has_country_flag = counter_purge }
			has_government = communism
		}
		x = 22
		y = 0
		cost = 30
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_claim = yes
				has_war = yes
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_bypass_tt
				has_country_flag = counter_purge
			}
		}

		select_effect = {
			country_event = { id = soviet.24 days = 1 }
			set_country_flag = SOV_purge_started
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			custom_effect_tooltip = SOV_great_purge_tt
			custom_effect_tooltip = SOV_great_purge_tt2
			
			#Full military purge. Hardest penalty
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
				}
				add_timed_idea = {
					idea = officers_purged
					days = 1460
				}
				hidden_effect = {
					country_event = { id = soviet.37 days = 146 }				
				}
				hidden_effect = {
					news_event = { hours = 6 id = news.219 }
				}
			}

			#1 military purge. Lower penalty
			if = {
				limit = {
					OR = {
						AND = {
							NOT = { 
								OR = { 
									has_country_flag = purge_1_group_a
									has_country_flag = purge_1_group_b
								}
							}
							OR = {						
								has_country_flag = purge_2_group_a
								has_country_flag = purge_2_group_b
							}
						}
						AND = {
							OR = { 
								has_country_flag = purge_1_group_a
								has_country_flag = purge_1_group_b
							}
							NOT = {
								OR = {						
									has_country_flag = purge_2_group_a
									has_country_flag = purge_2_group_b
								}
							}
						}
					}
				}
				add_timed_idea = {
					idea = officers_purged_4
					days = 1021
				}
				hidden_effect = {
					country_event = { id = soviet.40 days = 146 }				
				}
			}	

			#No military purge. Lowest penalty.
			if = {
				limit = {
					NOT = {
						OR = {
							has_country_flag = purge_1_group_a
							has_country_flag = purge_1_group_b
						}
					}
					NOT = {
						OR = {
							has_country_flag = purge_2_group_a
							has_country_flag = purge_2_group_b
						}
					}
				}
				add_timed_idea = {
					idea = officers_purged_7
					days = 583
				}
				hidden_effect = {
					country_event = { id = soviet.43 days = 146 }				
				}
			}

			remove_ideas = trotskyite_plot
			add_ideas = trotskyite_plot_purged

			hidden_effect = {
				if = {
					limit = { 
						any_other_country = {
							is_major = yes
							has_offensive_war_with = SOV
						}
					}
					country_event = { id = soviet.46 days = 3 }
				}				 
			}
		}
	}

	focus = {
		id = SOV_permanent_revolution
		icon = GFX_goal_support_fourth_int
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_permanent_revolution_tt
				has_country_flag = counter_purge
			}
			has_government = communism
			has_civil_war = no
		}
		x = 19
		y = 0
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { has_country_flag = counter_purge }
				remove_country_leader_trait = permanent_revolutionary
				add_country_leader_trait = triumphant_revolutionary
			}
			if = {
				limit = { NOT = { has_country_flag = counter_purge } }
				custom_effect_tooltip = SOV_permanent_revolution_tt2
			}
		}
	}

	focus = {
		id = SOV_rehabilitated_military
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SOV_great_purge focus = SOV_permanent_revolution }
		mutually_exclusive = { focus = SOV_nkvd_primacy }
		x = -2
		y = 1
		relative_position_id = SOV_great_purge
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				any_claim = yes
				has_war = yes
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = rehabilitated_military_focus
		}
	}

	focus = {
		id = SOV_military_reorganization
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_rehabilitated_military }
		x = 0
		y = 1
		relative_position_id = SOV_rehabilitated_military
		cost = 10
		ai_will_do = {
			factor = 0.25
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			army_experience = 20
		}
	}

	focus = {
		id = SOV_nkvd_primacy
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_great_purge }
		mutually_exclusive = { focus = SOV_rehabilitated_military }
		x = 0
		y = 1
		relative_position_id = SOV_great_purge
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = nkvd
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 0
		y = 1
		relative_position_id = SOV_nkvd_primacy
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_nkvd_upgrade_tooltip

			swap_ideas = {
				remove_idea = nkvd
				add_idea = nkvd_2
			}
		}
	}

	focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_nkvd_divisions focus = SOV_military_reorganization }
		available = {
			OR = {
				date > 1941.1.1
				has_country_flag = SOV_war_since_purge
			}
		}
		x = -1
		y = 1
		relative_position_id = SOV_nkvd_divisions
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			army_experience = 20
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = armor
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			if = { limit = { has_idea = officers_purged } remove_ideas = officers_purged }
			if = { limit = { has_idea = officers_purged_2 } remove_ideas = officers_purged_2 }
			if = { limit = { has_idea = officers_purged_3 } remove_ideas = officers_purged_3 }
			if = { limit = { has_idea = officers_purged_4 } remove_ideas = officers_purged_4 }
			if = { limit = { has_idea = officers_purged_5 } remove_ideas = officers_purged_5 }
			if = { limit = { has_idea = officers_purged_6 } remove_ideas = officers_purged_6 }
			if = { limit = { has_idea = officers_purged_7 } remove_ideas = officers_purged_7 }
			if = { limit = { has_idea = officers_purged_8 } remove_ideas = officers_purged_8 }
			if = { limit = { has_idea = officers_purged_9 } remove_ideas = officers_purged_9 }
			if = { limit = { has_idea = officers_purged_10 } remove_ideas = officers_purged_10 }			
			if = { limit = { has_idea = SOV_great_patriotic_war } remove_ideas = SOV_great_patriotic_war }
			if = { limit = { has_idea = SOV_great_patriotic_war_2 } remove_ideas = SOV_great_patriotic_war_2 }
			if = { limit = { has_idea = SOV_great_patriotic_war_3 } remove_ideas = SOV_great_patriotic_war_3 }
			if = { limit = { has_idea = SOV_great_patriotic_war_4 } remove_ideas = SOV_great_patriotic_war_4 }
			if = { limit = { has_idea = SOV_great_patriotic_war_5 } remove_ideas = SOV_great_patriotic_war_5 }			
		}
	}


	focus = {
		id = SOV_research_city_experiment
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SOV_lessons_of_war }
		available = {

		}
		x = 0
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = nuclear_bonus
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}


	focus = {
		id = SOV_diversify_the_programme
		icon = GFX_focus_rocketry
		prerequisite = { focus = SOV_research_city_experiment }
		available = {

		}
		x = 0
		y = 1
		relative_position_id = SOV_research_city_experiment
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = secret
				bonus = 1.0
				uses = 2
				category = rocketry
			}
		}
	}


	focus = {
		id = SOV_closed_city_network
		icon = GFX_focus_research
		prerequisite = { focus = SOV_diversify_the_programme }
		available = {

		}
		x = 0
		y = 1
		relative_position_id = SOV_diversify_the_programme
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	### END BRANCH ###

	focus = {
		id = SOV_smersh
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_great_purge }
		available = {
			OR = {
				has_war_with = GER
				has_war_with = JAP
				has_war_with = ENG
				has_war_with = FRA
				has_war_with = USA
				has_war_with = ITA
			}
		}
		bypass = {
				NOT = {
					has_dlc = "La Resistance"
				}
				NOT = { has_idea = trotskyite_plot_purged }
		}
		x = 2
		y = 1
		relative_position_id = SOV_great_purge
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			#custom_effect_tooltip = SOV_smersh_tt
			remove_ideas = trotskyite_plot_purged

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = smersh
			}
		}
	}

	focus = {
		id = SOV_partisan_suppression
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_smersh }
		x = 0
		y = 1
		relative_position_id = SOV_smersh
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = partisan_suppression_focus
		}
	}

}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
### search_filters = {FOCUS_FILTER_SPA_CARLIST_UPRISING}
### search_filters = {FOCUS_FILTER_SPA_ANARCHIST_UPRISING}

focus_tree = {
	id = spanish_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SPR
			has_dlc = "La Resistance"
			always = no
		}
	}

	default = no

	continuous_focus_position = { x = 50 y = 2500 }

	initial_show_position = {
		x = 33
		y = 0
		offset = {
			x = -16
			y = 0
			trigger = {
				has_global_flag = spanish_civil_war
				has_completed_focus = SPA_a_great_spain
			}
		}
		offset = {
			x = -19
			y = 0
			trigger = {
				has_global_flag = spanish_civil_war
				has_completed_focus = SPR_the_popular_front
			}
		}
	}

#  #  ##  ### ###  ##  #  #  ##  #   ###  ## ###     ###  #  # ### #   ###     #  # ###  
## # #  #  #   #  #  # ## # #  # #    #  #    #      #  # #  #  #  #   #  #    #  # #  # 
# ## ####  #   #  #  # # ## #### #    #   #   #      ###  #  #  #  #   #  # ## #  # ###  
#  # #  #  #   #  #  # #  # #  # #    #    #  #      #  # #  #  #  #   #  #    #  # #    
#  # #  #  #  ###  ##  #  # #  # ### ### ##   #      ###   ##  ### ### ###      ##  #    


	focus = {
		id = SPA_a_great_spain

		available = {
			NOT = {
				has_country_flag = SPR_spanish_elections_flag
			}
		}
		cancel_if_invalid = yes
		
		bypass = {
			has_global_flag = spanish_civil_war
		}
		mutually_exclusive = { focus = SPR_the_popular_front }

		allow_branch = {
			OR = {
				NOT = {
					has_global_flag = spanish_civil_war
				}
				AND = {
					NOT = { has_completed_focus = SPR_the_popular_front }
					has_global_flag = spanish_civil_war
				}
			}
		}
		
		
		icon = GFX_goal_generic_demand_territory
		x = 31
		y = 0
		offset = {
			x = -14
			y = 0
			trigger = {
				has_completed_focus = SPA_a_great_spain
				has_global_flag = spanish_civil_war
			}
		}
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = fascism
			    popularity = 0.1
			}
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.05
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						NOT = {
							state = 290
							state = 699
							state = 783
							state = 297
						}
					}
					SPA_garrison_control_cost_calculation = yes
				}
			}
			add_political_power = 15
		}
	}

	focus = {
		id = SPA_hand_over_the_ceda_campaign_chest
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPA_a_great_spain }
		
		icon = GFX_focus_generic_concessions
		x = -15
		y = 1
		offset = {
			x = 15
			y = 0
			trigger = {
				has_completed_focus = SPA_a_great_spain
				has_global_flag = spanish_civil_war
			}
		}
		relative_position_id = SPA_a_great_spain
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 200
		}
	}

	focus = {
		id = SPA_negotiate_carlist_support
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPA_hand_over_the_ceda_campaign_chest }
		
		icon = GFX_goal_generic_military_deal
		x = 0
		y = 1
		relative_position_id = SPA_hand_over_the_ceda_campaign_chest
		cost = 4

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			set_country_flag = SPA_negotiate_carlist_support_flag
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.15
			}
			add_to_variable = { var = spa_civil_war_divisions_counter_var value = 5 }
			custom_effect_tooltip = SPA_negotiate_carlist_support_tt
			custom_effect_tooltip = SPA_negotiate_carlist_support_tt_2
		}
	}

	focus = {
		id = SPA_the_army_of_africa
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPA_negotiate_carlist_support }
		
		icon = GFX_goal_generic_special_forces
		x = 0
		y = 1
		relative_position_id = SPA_negotiate_carlist_support
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			army_experience = 10
			add_to_variable = { var = spa_civil_war_divisions_counter_var value = 5 }
			custom_effect_tooltip = SPA_the_army_of_africa_tt
		}
	}

	focus = {
		id = SPA_secure_the_northern_garrisons
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPA_the_army_of_africa }
		
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		relative_position_id = SPA_the_army_of_africa
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			custom_effect_tooltip = SPA_secure_the_northern_garrisons_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						check_variable = { var = SPA_garrison_control value = 1 compare = equals }
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = { var = SPA_garrison_control value = 3 }
					SPR = { add_to_variable = { var = spa_civil_war_divisions_counter_var value = 3 } }
					SPR = { subtract_from_variable = { var = spr_civil_war_divisions_counter_var value = 3 } }
					SPA_garrison_control_cost_calculation = yes
				}
				every_owned_state = {
					limit = {
						check_variable = { var = SPA_garrison_control value = 2 compare = equals }
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = { var = SPA_garrison_control value = 2 }
					SPR = { add_to_variable = { var = spa_civil_war_divisions_counter_var value = 2 } }
					SPR = { subtract_from_variable = { var = spr_civil_war_divisions_counter_var value = 2 } }
					SPA_garrison_control_cost_calculation = yes
				}
				every_owned_state = {
					limit = {
						check_variable = { var = SPA_garrison_control value = 3 compare = equals }
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = { var = SPA_garrison_control value = 1 }
					SPR = { add_to_variable = { var = spa_civil_war_divisions_counter_var value = 1 } }
					SPR = { subtract_from_variable = { var = spr_civil_war_divisions_counter_var value = 1 } }
					SPA_garrison_control_cost_calculation = yes
				}
			}
		}
	}

	focus = {
		id = SPA_sin_paquito
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_secure_the_northern_garrisons }
		mutually_exclusive = { focus = SPA_con_paquito }
		
		icon = GFX_goal_generic_forceful_treaty
		x = -1
		y = 1
		relative_position_id = SPA_secure_the_northern_garrisons
		cost = 4

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 60
		}
	}

	focus = {
		id = SPA_con_paquito
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPA_secure_the_northern_garrisons }
		mutually_exclusive = { focus = SPA_sin_paquito }
		
		icon = GFX_goal_generic_dangerous_deal
		x = 1
		y = 1
		relative_position_id = SPA_secure_the_northern_garrisons
		cost = 4

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			custom_effect_tooltip = SPA_con_paquito_tt
			random_unit_leader = {
				limit = {
					has_id = 1108
				}
				add_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
		}
	}

###  ### ###  #  # ###  #   ###  ##   ##  #  #     ###  #  # ### #   ###     #  # ###  
#  # #   #  # #  # #  # #    #  #  # #  # ## #     #  # #  #  #  #   #  #    #  # #  # 
###  ##  ###  #  # ###  #    #  #    #### # ##     ###  #  #  #  #   #  # ## #  # ###  
#  # #   #    #  # #  # #    #  #  # #  # #  #     #  # #  #  #  #   #  #    #  # #    
#  # ### #     ##  ###  ### ###  ##  #  # #  #     ###   ##  ### ### ###      ##  #    

	focus = {
		id = SPR_the_popular_front
		available = {
			NOT = {
				has_country_flag = SPR_spanish_elections_flag
			}
		}
		
		bypass = {
			has_global_flag = spanish_civil_war
		}
		mutually_exclusive = { focus = SPA_a_great_spain }
		cancel_if_invalid = yes
		allow_branch = {
			OR = {
				NOT = {
					has_global_flag = spanish_civil_war
				}
				AND = {
					NOT = { has_completed_focus = SPA_a_great_spain }
					has_global_flag = spanish_civil_war
				}
			}
		}
		
		icon = GFX_goal_generic_national_unity
		x = 33
		y = 0
		offset = {
			x = -19
			y = 0
			trigger = {
				has_completed_focus = SPR_the_popular_front
				has_global_flag = spanish_civil_war
			}
		}
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.1
			}
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.05
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						NOT = {
							state = 290
							state = 699
							state = 783
							state = 297
						}
					}
					SPR_garrison_control_cost_calculation = yes
				}
			}
		}
	}

	focus = {
		id = SPR_secure_the_guardia_de_asalto
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPR_the_popular_front }
		mutually_exclusive = { focus = SPR_secure_the_guardia_civil }
		
		icon = GFX_goal_generic_political_pressure
		x = 13
		y = 1
		offset = {
			x = -14
			y = 0
			trigger = {
				has_completed_focus = SPR_the_popular_front
				has_global_flag = spanish_civil_war
			}
		}
		relative_position_id = SPR_the_popular_front
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			army_experience = 5
			if = {
				limit = {
					difficulty > 1
					is_ai = no
				}
				custom_effect_tooltip = SPR_secure_the_guardia_de_asalto_tt_2
				add_to_variable = { var = spa_civil_war_divisions_counter_var value = -10 }
				add_to_variable = { var = spr_civil_war_divisions_counter_var value = 5 }
			}
			else = {
				custom_effect_tooltip = SPR_secure_the_guardia_de_asalto_tt
				add_to_variable = { var = spa_civil_war_divisions_counter_var value = -6 }
				add_to_variable = { var = spr_civil_war_divisions_counter_var value = 3 }
			}
			set_country_flag = SPR_secure_the_guardia_de_asalto_flag
			custom_effect_tooltip = SPR_secure_the_guardia_get_both_types_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}

	focus = {
		id = SPR_secure_the_guardia_civil
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_popular_front }
		mutually_exclusive = { focus = SPR_secure_the_guardia_de_asalto }
		
		icon = GFX_focus_generic_support_the_left_right
		x = 15
		y = 1
		offset = {
			x = -14
			y = 0
			trigger = {
				has_completed_focus = SPR_the_popular_front
				has_global_flag = spanish_civil_war
			}
		}
		relative_position_id = SPR_the_popular_front
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			add_stability = 0.05
			if = {
				limit = {
					difficulty > 1
					is_ai = no
				}
				custom_effect_tooltip = SPR_secure_the_guardia_civil_tt_2
				add_to_variable = { var = spa_civil_war_divisions_counter_var value = -5 }
				add_to_variable = { var = spr_civil_war_divisions_counter_var value = 10 }
			}
			else = {
				custom_effect_tooltip = SPR_secure_the_guardia_civil_tt
				add_to_variable = { var = spa_civil_war_divisions_counter_var value = -3 }
				add_to_variable = { var = spr_civil_war_divisions_counter_var value = 6 }
			}
			set_country_flag = SPR_secure_the_guardia_civil_flag
			custom_effect_tooltip = SPR_secure_the_guardia_get_both_types_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}

	focus = {
		id = SPR_train_the_union_youth
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPR_secure_the_guardia_de_asalto focus = SPR_secure_the_guardia_civil }
		
		icon = GFX_goal_generic_more_territorial_claims
		x = 1
		y = 1
		relative_position_id = SPR_secure_the_guardia_de_asalto
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_to_variable = { var = spr_civil_war_divisions_counter_var value = 5 }
			custom_effect_tooltip = SPR_train_the_union_youth_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}

	focus = {
		id = SPR_enlarge_the_weapon_caches
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPR_train_the_union_youth }
		
		icon = GFX_goal_generic_military_sphere
		x = 0
		y = 1
		relative_position_id = SPR_train_the_union_youth
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			army_experience = 5
			custom_effect_tooltip = SPR_enlarge_the_weapon_caches_tt
			add_political_power = 50
		}
	}

	focus = {
		id = SPR_distribute_arms_to_the_people
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPR_enlarge_the_weapon_caches }
		
		icon = GFX_goal_generic_small_arms
		x = 0
		y = 1
		relative_position_id = SPR_enlarge_the_weapon_caches
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.05
			}
			add_political_power = 75
			add_to_variable = { var = spr_civil_war_divisions_counter_var value = 10 }
			custom_effect_tooltip = SPR_distribute_arms_to_the_people_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}

	focus = {
		id = SPR_disband_the_army
		available = {
		}
		bypass = {
			has_global_flag = spanish_civil_war
		}
		prerequisite = { focus = SPR_distribute_arms_to_the_people }
		
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1
		relative_position_id = SPR_distribute_arms_to_the_people
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			add_political_power = 200
			set_country_flag = SPR_disband_the_army_flag
			custom_effect_tooltip = SPR_disband_the_army_tt
			hidden_effect = { country_event = lar_spain.2 }
		}
	}

#  #  ##  ### ###  ##  #  #  ##  #   ###  ## ###  ##            ###  ##   ##  ##  ###  ## ###  ## 
## # #  #  #   #  #  # ## # #  # #    #  #    #  #              #   #  # #   #  #  #  #    #  #   
# ## ####  #   #  #  # # ## #### #    #   #   #   #      ##     ##  ####  #  #     #   #   #   #  
#  # #  #  #   #  #  # #  # #  # #    #    #  #    #            #   #  #   # #  #  #    #  #    # 
#  # #  #  #  ###  ##  #  # #  # ### ### ##   #  ##             #   #  # ##   ##  ### ##   #  ##  

	focus = {
		id = SPA_the_phalanx_ascendant
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_sin_paquito }
		mutually_exclusive = { focus = SPA_unify_the_nationalist_front focus = SPA_supremacy_of_the_communion }
		
		icon = GFX_focus_spa_the_phalanx_ascendant
		x = -10
		y = 1
		relative_position_id = SPA_sin_paquito
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = fascism
			    popularity = 0.1
			}
			activate_mission = SPA_carlist_uprising_mission
		}
	}

	focus = {
		id = SPA_bolster_offensive_infrastructure
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_phalanx_ascendant }
		
		icon = GFX_goal_generic_construct_infrastructure
		x = -3
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_bolster_offensive_infrastructure_1inf }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_global_flag = spanish_civil_war
					}
				}
				custom_effect_tooltip = SPA_bolster_offensive_infrastructure_tt
			}
			if = {
				limit = {
					has_global_flag = spanish_civil_war
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						any_neighbor_state = {
							owner = { has_war_with = ROOT }
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						NOT = { has_state_flag = SPA_bolster_offensive_infrastructure_1inf }
						any_neighbor_state = {
							owner = { has_war_with = ROOT }
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						NOT = { has_state_flag = SPA_bolster_offensive_infrastructure_1inf }
						any_neighbor_state = {
							owner = { has_war_with = ROOT }
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPA_the_fifth_column
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_bolster_offensive_infrastructure }
		
		icon = GFX_focus_prc_infiltration
		x = -1
		y = 1
		relative_position_id = SPA_bolster_offensive_infrastructure
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			division_template = {
				name = "Fifth Columnist Brigade"
				template_counter = 33
				priority = 1
				division_names_group = SPR_INF_01
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				}
			}
			custom_effect_tooltip = SPA_the_fifth_column_tt
		}
	}

	focus = {
		id = SPA_emergency_munitions_corporations
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_bolster_offensive_infrastructure }
		prerequisite = { focus = SPA_secure_the_national_defense_council }
		
		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = SPA_bolster_offensive_infrastructure
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_emergency_munitions_corporations_1mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_emergency_munitions_corporations_1mil }
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_emergency_munitions_corporations_1mil }
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_the_corpo_truppe_volontarie
		available = {
			NOT = { has_global_flag = scw_over }
			has_volunteers_amount_from = {
				tag = ITA
				count > 0
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_phalanx_ascendant focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_focus_befriend_italy
		x = 4
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			ITA = {
				add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
				add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
			}
			add_tech_bonus = {
				name = SPA_the_corpo_truppe_volontarie
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPA_the_corpo_truppe_volontarie
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SPA_the_condor_legion
		available = {
			NOT = { has_global_flag = scw_over }
			has_volunteers_amount_from = {
				tag = GER
				count > 0
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_phalanx_ascendant focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_focus_chi_mission_to_germany
		x = 6
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			GER = {
				add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
				add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
			}
			add_tech_bonus = {
				name = SPA_the_condor_legion
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPA_the_condor_legion
				bonus = 1.0
				uses = 1
				category = cas_bomber
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPA_wilhelm_ritter_von_thoma
		}
	}

	focus = {
		id = SPA_equipment_shipments
		available = {
			NOT = { has_global_flag = scw_over }
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_corpo_truppe_volontarie }
		prerequisite = { focus = SPA_the_condor_legion }
		
		icon = GFX_goal_generic_build_tank
		x = 1
		y = 1
		relative_position_id = SPA_the_corpo_truppe_volontarie
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			GER = {
				add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
				add_ai_strategy = { type = send_lend_lease_desire id = SPA value = 200 }
			}
			ITA = {
				add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
				add_ai_strategy = { type = send_lend_lease_desire id = SPA value = 200 }
			}
			add_timed_idea = { idea = SPR_equipment_shipments_spain days = 730 }
		}
	}

	focus = {
		id = SPA_obtain_training_staff
		available = {
			NOT = { has_global_flag = scw_over }
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_equipment_shipments }
		
		icon = GFX_focus_generic_military_academy
		x = -1
		y = 1
		relative_position_id = SPA_equipment_shipments
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 50
			add_timed_idea = { idea = SPA_foreign_training_staff days = 730 }
		}
	}

	focus = {
		id = SPA_doctrinal_advancements
		available = {
			NOT = { has_global_flag = scw_over }
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_equipment_shipments }
		
		icon = GFX_goal_generic_army_doctrines
		x = 1
		y = 1
		relative_position_id = SPA_equipment_shipments
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SPA_secure_the_national_defense_council
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_the_phalanx_ascendant }
		
		icon = GFX_goal_generic_political_pressure
		x = 0
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.2
		}
	}

	focus = {
		id = SPA_suspend_the_constitution
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_secure_the_national_defense_council }
		
		icon = GFX_goal_generic_more_territorial_claims
		x = 0
		y = 1
		relative_position_id = SPA_secure_the_national_defense_council
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 120
			add_popularity = {
			    ideology = democratic
			    popularity = -1
			}
			hidden_effect = {
				set_temp_variable = {
					var = suspend_the_constitution_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = suspend_the_constitution_var
					value = -0.5
				}
			}
			custom_effect_tooltip = ENG_alliance_with_germany_tt
			add_stability = suspend_the_constitution_var
		}
	}

	focus = {
		id = SPA_primo_de_rivera_prisoner_exchange
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_secure_the_national_defense_council }
		
		icon = GFX_goal_generic_intelligence_exchange
		x = 2
		y = 1
		relative_position_id = SPA_secure_the_national_defense_council
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPA_jose_antonio_primo_de_rivera
		}
	}

	focus = {
		id = SPA_eliminate_the_carlists
		available = {
		}
		bypass = {
			OR = {
				has_war_with = SPB
				has_global_flag = SPR_carlist_uprising_flag
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPA_suspend_the_constitution }
		
		icon = GFX_focus_spa_eliminate_the_carlists
		x = -1
		y = 1
		relative_position_id = SPA_suspend_the_constitution
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			add_timed_idea = { idea = SPA_eliminate_the_carlists days = 60 }
			custom_effect_tooltip = SPR_crush_the_revolution_tt
			if = {
				limit = {
					NOT = { has_war_with = SPB }
				}
				hidden_effect = { country_event = lar_spain.7 }
			}
		}
	}

	focus = {
		id = SPA_absorb_carlist_remnants
		available = {
			NOT = { country_exists = SPB }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_eliminate_the_carlists }
		
		icon = GFX_goal_generic_dangerous_deal
		x = -1
		y = 1
		relative_position_id = SPA_eliminate_the_carlists
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.1
			}
			add_manpower = 25000
			add_political_power = 60
		}
	}

	focus = {
		id = SPA_establish_the_directory
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_suspend_the_constitution }
		prerequisite = { focus = SPA_primo_de_rivera_prisoner_exchange }
		
		icon = GFX_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = SPA_suspend_the_constitution
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = SPA_establish_the_directory_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPA_directory
			}
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				effect_tooltip = {
					create_country_leader = {
						name = "Emilio Mola"
						desc = "POLITICS_EMILIO_MOLA_DESC"
						picture = "GFX_portrait_emilio_mola"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							the_director
						}
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				hidden_effect = {
					kill_country_leader = yes
					kill_ideology_leader = fascism
				}
				create_country_leader = {
					name = "Emilio Mola"
					desc = "POLITICS_EMILIO_MOLA_DESC"
					picture = "GFX_portrait_emilio_mola"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						the_director
					}
				}
				hidden_effect = {
					create_country_leader = {
						name = "Emilio Mola"
						desc = "POLITICS_EMILIO_MOLA_DESC"
						picture = "GFX_portrait_emilio_mola"
						expire = "1965.1.1"
						ideology = falangism
						traits = {
							the_director
						}
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				hidden_effect = {
					kill_country_leader = yes
					kill_ideology_leader = neutrality
				}
				create_country_leader = {
					name = "Emilio Mola"
					desc = "POLITICS_EMILIO_MOLA_DESC"
					picture = "GFX_portrait_emilio_mola"
					expire = "1965.1.1"
					ideology = falangism
					traits = {
						the_director
					}
				}
				hidden_effect = {
					create_country_leader = {
						name = "Emilio Mola"
						desc = "POLITICS_EMILIO_MOLA_DESC"
						picture = "GFX_portrait_emilio_mola"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							the_director
						}
					}
				}
			}
		}
	}

	focus = {
		id = SPA_a_one_party_state
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_establish_the_directory }
		prerequisite = { focus = SPA_eliminate_the_carlists }
		
		icon = GFX_focus_generic_strike_at_democracy2
		x = -1
		y = 1
		relative_position_id = SPA_establish_the_directory
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_politics = {
				ruling_party = fascism
			}
			set_party_name = { ideology = fascism long_name = SPR_fascism_falange_party_long name = SPR_fascism_falange_party }
			add_popularity = {
			    ideology = fascism
			    popularity = 1
			}
			hidden_effect = {
				set_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@democratic
				}
				add_to_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@neutrality
				}
				add_to_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = a_one_party_state_var
					value = -0.5
				}
			}
			custom_effect_tooltip = SPA_a_one_party_state_tt
			add_stability = a_one_party_state_var
		}
	}

	focus = {
		id = SPA_expand_conscription
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_establish_the_directory focus = SPA_extol_the_martyrs_of_the_war }
		
		icon = GFX_goal_generic_axis_build_infantry
		x = 3
		y = 1
		relative_position_id = SPA_establish_the_directory
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = SPA_expand_conscription
		}
	}

	focus = {
		id = SPA_safeguard_the_freedom_of_worship
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_establish_the_directory focus = SPA_extol_the_martyrs_of_the_war }
		
		icon = GFX_focus_generic_strike_at_democracy1
		x = 5
		y = 1
		relative_position_id = SPA_establish_the_directory
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.05
			}
			add_stability = 0.1
			add_political_power = 60
		}
	}

	focus = {
		id = SPA_prepare_the_pyrenees_defenses
		available = {
			has_full_control_of_state = 792
			has_full_control_of_state = 172
			has_full_control_of_state = 166
			has_full_control_of_state = 794
			has_full_control_of_state = 165
		}
		bypass = {
		}
		prerequisite = { focus = SPA_establish_the_directory focus = SPA_extol_the_martyrs_of_the_war }
		
		icon = GFX_goal_generic_fortify_city
		x = 4
		y = 2
		relative_position_id = SPA_establish_the_directory
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_prepare_the_pyrenees_defenses_tt
			hidden_effect = {
				792 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 6756
						}
						level = 2
						instant_build = yes
					}
				}
				172 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3737
							id = 3931
						}
						level = 2
						instant_build = yes
					}
				}
				166 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 11838
						}
						level = 2
						instant_build = yes
					}
				}
				794 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 915
							id = 899
						}
						level = 2
						instant_build = yes
					}
				}
				165 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3899
							id = 3898
							id = 11779
							id = 9824
						}
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPA_develop_all_talent
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_a_one_party_state }
		
		icon = GFX_focus_research
		x = -3
		y = 1
		relative_position_id = SPA_a_one_party_state
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPA_regional_agrarian_commissions
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_a_one_party_state }
		
		icon = GFX_goal_generic_consumer_goods
		x = -1
		y = 1
		relative_position_id = SPA_a_one_party_state
		cost = 10

		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_regional_agrarian_commissions_1civ }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = SPA_regional_agrarian_commissions
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_regional_agrarian_commissions_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_regional_agrarian_commissions_1civ }
				}
				set_state_flag = SPA_regional_agrarian_commissions_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_the_national_syndicalist_state
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPA_a_one_party_state }
		
		icon = GFX_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = SPA_a_one_party_state
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = SPA_the_national_syndicalist_state_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPA_spanish_empire
				kill_country_leader = yes
				kill_ideology_leader = neutrality
			}
			create_country_leader = {
				name = "José Antonio Primo de Rivera"
				desc = "POLITICS_JOSE_ANTONIO_PRIMO_DE_RIVERA_DESC"
				picture = "GFX_portrait_SPA_jose_antonio_primo_de_rivera"
				expire = "1965.1.1"
				ideology = falangism
				traits = {
					sins_of_the_father
				}
			}
		}
	}

	focus = {
		id = SPA_syndicalize_production
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state }
		
		icon = GFX_goal_generic_production2
		x = -1
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_syndicalize_production_1civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit	= {	has_state_flag = SPA_syndicalize_production_1mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_syndicalize_production
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_syndicalize_production_1civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_syndicalize_production_1civ }
				}
				set_state_flag = SPA_syndicalize_production_1mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_strengthen_the_supreme_reality_of_spain
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state }
		
		icon = GFX_focus_spa_strengthen_the_supreme_reality_of_spain
		x = -3
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}

	focus = {
		id = SPA_glory_and_wealth_on_the_sea_lanes
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_strengthen_the_supreme_reality_of_spain }
		
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = -2
		y = 1
		relative_position_id = SPA_strengthen_the_supreme_reality_of_spain
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SPA_glory_and_wealth_on_the_sea_lanes
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPA_glory_and_wealth_on_the_sea_lanes
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPA_glory_and_wealth_on_the_sea_lanes
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = SPA_improve_domestic_naval_facilities
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_glory_and_wealth_on_the_sea_lanes }
		
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -2
		y = 1
		relative_position_id = SPA_glory_and_wealth_on_the_sea_lanes
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPA_improve_domestic_naval_facilities_3DY }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_improve_domestic_naval_facilities_3DY
			}
		}
	}

	focus = {
		id = SPA_a_great_maritime_power
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_improve_domestic_naval_facilities }
		
		icon = GFX_goal_generic_navy_battleship
		x = 0
		y = 1
		relative_position_id = SPA_improve_domestic_naval_facilities
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPA_a_great_maritime_power_4DY }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = SPA_a_great_maritime_power
				bonus = 1
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = SPA_a_great_maritime_power
				bonus = 1
				uses = 1
				category = cv_tech
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SPA_a_great_maritime_power_4DY
			}
		}
	}

	focus = {
		id = SPA_commerce_protection
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_glory_and_wealth_on_the_sea_lanes }
		
		icon = GFX_goal_generic_navy_cruiser
		x = 0
		y = 1
		relative_position_id = SPA_glory_and_wealth_on_the_sea_lanes
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_commerce_protection
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPA_commerce_protection
				bonus = 1
				uses = 2
				category = convoy_defense_tree
			}
		}
	}

	focus = {
		id = SPA_exemplify_the_art_and_science_of_warfare
		available = {
			num_of_factories > 50
		}
		bypass = {
		}
		prerequisite = { focus = SPA_strengthen_the_supreme_reality_of_spain }
		
		icon = GFX_focus_research2
		x = 1
		y = 1
		relative_position_id = SPA_strengthen_the_supreme_reality_of_spain
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPA_the_will_to_empire
		available = {
			has_full_control_of_state = 290
			has_country_leader = {
				name = "José Antonio Primo de Rivera"
				ruling_only = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_strengthen_the_supreme_reality_of_spain }
		
		icon = GFX_goal_generic_demand_territory
		x = 0
		y = 2
		relative_position_id = SPA_strengthen_the_supreme_reality_of_spain
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_political_power = 200
			290 = {
				if = {
					limit = {
						290 = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			add_country_leader_trait = empire_builder
		}
	}

	focus = {
		id = SPA_unite_iberia
		available = {
			OR = {
				AND = {
					country_exists = POR
					POR = {
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_subject_of = ROOT }
						NOT = { has_war_with = ROOT }
					}
					NOT = {
						any_state = {
							is_core_of = POR
							NOT = { is_owned_by = POR }
						}
					}
				}
				AND = {
					ENG = { owns_state = 118 }
					NOT = { is_in_faction_with = ENG }
				}
			}
		}
		bypass = {
			NOT = { country_exists = POR }
		}
		prerequisite = { focus = SPA_the_will_to_empire }
		
		icon = GFX_focus_generic_attack_portugal
		x = -2
		y = 1
		relative_position_id = SPA_the_will_to_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					POR = {
						NOT = { is_in_faction_with = ROOT }
						NOT = { is_subject_of = ROOT }
						NOT = { has_war_with = ROOT }
					}
				}
				create_wargoal = {
				    type = annex_everything
				    target = POR
				    expire = 0
				}
			}
			if = {
				limit = {
					ENG = {
						owns_state = 118
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = ENG
					generator = { 118 }
					expire = 0
				}
			}
		}
	}

	focus = {
		id = SPA_absorb_the_portuguese_empire
		available = {
			OR = {
				AND = {
					country_exists = MZB
					MZB = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				AND = {
					country_exists = ANG
					ANG = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				AND = {
					country_exists = GNB
					GNB = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				AND = {
					country_exists = BRA
					BRA = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_unite_iberia }
		
		icon = GFX_goal_generic_forceful_treaty
		x = 1
		y = 1
		relative_position_id = SPA_unite_iberia
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					country_exists = BRA
					BRA = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
				    type = annex_everything
				    target = BRA
				    expire = 0
				}
			}
			if = {
				limit = {
					country_exists = MZB
					MZB = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
				    type = annex_everything
				    target = MZB
				    expire = 0
				}
			}
			if = {
				limit = {
					country_exists = ANG
					ANG = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
				    type = annex_everything
				    target = ANG
				    expire = 0
				}
			}
			if = {
				limit = {
					country_exists = GNB
					GNB = {
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
				    type = annex_everything
				    target = GNB
				    expire = 0
				}
			}
		}
	}

	focus = {
		id = SPA_claim_the_aragonese_possessions
		available = {
			NOT = {
				is_in_faction_with = ITA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_unite_iberia }
		
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 2
		relative_position_id = SPA_unite_iberia
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_state_claim = 1
			add_state_claim = 116
			add_state_claim = 182
			add_state_claim = 183
			add_state_claim = 114
			add_state_claim = 115
			add_state_claim = 156
			add_state_claim = 117
			add_state_claim = 448
			add_state_claim = 449
			add_state_claim = 450
			add_state_claim = 451
			add_state_claim = 661
			add_state_claim = 662
			add_state_claim = 663
			create_wargoal = {
				type = take_state_focus
				target = ITA
				generator = { 114 115 156 117 448 449 450 451 661 662 663 }
				expire = 0
			}
		}
	}

	focus = {
		id = SPA_reclaim_spanish_africa
		available = {
			NOT = {
				is_in_faction_with = FRA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_will_to_empire }
		
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 1
		relative_position_id = SPA_the_will_to_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_state_claim = 461
			add_state_claim = 462
			add_state_claim = 459
			add_state_claim = 460
			add_state_claim = 513
			add_state_claim = 458
			add_state_claim = 665
			create_wargoal = {
				type = take_state_focus
				target = FRA
				generator = { 461 462 459 460 513 458 665 }
				expire = 0
			}
		}
	}

	focus = {
		id = SPA_reassert_american_dominance
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_will_to_empire }
		
		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 2
		relative_position_id = SPA_the_will_to_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_reassert_american_dominance_tt
		}
	}

	focus = {
		id = SPA_retake_the_americas
		available = {
			OR = {
				NOT = { is_in_faction_with = ARG }
				NOT = { is_in_faction_with = CHL }
				NOT = { is_in_faction_with = PRU }
				NOT = { is_in_faction_with = VEN }
				NOT = { is_in_faction_with = COL }
				NOT = { is_in_faction_with = BOL }
				NOT = { is_in_faction_with = MEX }
				NOT = { is_in_faction_with = USA }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_reassert_american_dominance }
		
		icon = GFX_focus_spa_the_war_of_vengeance
		x = 0
		y = 1
		relative_position_id = SPA_reassert_american_dominance
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					NOT = { is_in_faction_with = ARG }
				}
				create_wargoal = {
				    type = annex_everything
				    target = ARG
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = CHL }
				}
				create_wargoal = {
				    type = annex_everything
				    target = CHL
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = PRU }
				}
				create_wargoal = {
				    type = annex_everything
				    target = PRU
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = VEN }
				}
				create_wargoal = {
				    type = annex_everything
				    target = VEN
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = COL }
				}
				create_wargoal = {
				    type = annex_everything
				    target = COL
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = BOL }
				}
				create_wargoal = {
				    type = annex_everything
				    target = BOL
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = MEX }
				}
				create_wargoal = {
				    type = annex_everything
				    target = MEX
				    expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = USA }
				}
				create_wargoal = {
				    type = take_state_focus
				    target = USA
				    generator = { 378 379 380 377 376 375 }
				    expire = 0
				}
			}
		}
	}

	focus = {
		id = SPA_embrace_the_spanish_destiny
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_will_to_empire }
		
		icon = GFX_goal_demand_sudetenland
		x = 2
		y = 1
		relative_position_id = SPA_the_will_to_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPA_embrace_the_spanish_destiny
		}
	}

	focus = {
		id = SPA_the_national_and_popular_army_of_spain
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state focus = SPA_fuse_the_parties }
		
		icon = GFX_goal_generic_army_doctrines
		x = 2
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_the_national_and_popular_army_of_spain_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			army_experience = 10
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_the_national_and_popular_army_of_spain_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_mandatory_pre_military_training
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state }
		prerequisite = { focus = SPA_the_national_and_popular_army_of_spain }
		
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 2
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPA_mandatory_pre_military_training_1
		}
	}

	focus = {
		id = SPA_all_shall_serve
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_mandatory_pre_military_training }
		
		icon = GFX_focus_generic_military_mission
		x = 0
		y = 1
		relative_position_id = SPA_mandatory_pre_military_training
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = SPA_mandatory_pre_military_training_1
				add_idea = SPA_mandatory_pre_military_training_2
			}
		}
	}

	focus = {
		id = SPA_the_army_of_africa_model
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_and_popular_army_of_spain }
		
		icon = GFX_goal_generic_army_artillery
		x = 1
		y = 1
		relative_position_id = SPA_the_national_and_popular_army_of_spain
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = SPA_the_army_of_africa_model
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPA_equipment_modernization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_army_of_africa_model }
		
		icon = GFX_goal_generic_small_arms
		x = -1
		y = 2
		relative_position_id = SPA_the_army_of_africa_model
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_equipment_modernization
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SPA_artillery_modernization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_equipment_modernization }
		
		icon = GFX_goal_generic_army_artillery2
		x = -1
		y = 1
		relative_position_id = SPA_equipment_modernization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_artillery_modernization
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = SPA_expand_the_air_branch
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_equipment_modernization }
		
		icon = GFX_goal_generic_air_doctrine
		x = 0
		y = 2
		relative_position_id = SPA_equipment_modernization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 50
			add_tech_bonus = {
				name = SPA_expand_the_air_branch
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
			add_tech_bonus = {
				name = SPA_expand_the_air_branch
				bonus = 1.0
				uses = 1
				category = light_fighter
				category = cas_bomber
			}
		}
	}

	focus = {
		id = SPA_expand_the_special_forces
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_equipment_modernization }
		
		icon = GFX_goal_generic_special_forces
		x = 1
		y = 1
		relative_position_id = SPA_equipment_modernization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_expand_the_special_forces
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = SPA_expand_the_special_forces
				bonus = 1.0
				uses = 1
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = SPA_motorization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_army_of_africa_model }
		
		icon = GFX_goal_generic_army_motorized
		x = 0
		y = 1
		relative_position_id = SPA_the_army_of_africa_model
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_equipment_modernization
				bonus = 2.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = SPA_an_armored_corps
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_motorization }
		prerequisite = { focus = SPA_join_the_axis }
		
		icon = GFX_goal_generic_army_tanks
		x = 1
		y = 1
		relative_position_id = SPA_motorization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_an_armored_corps
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SPA_join_the_axis
		available = {
			has_global_flag = scw_over
			is_in_faction = no
			OR = {
				AND = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				AND = {
					ITA = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
			}
			NOT = { has_completed_focus = SPA_the_latin_bloc }
			NOT = { has_global_flag = POR_iberian_summit_in_progress_flag }
		}
		bypass = {
			OR = {
				AND = {
					NOT = { GER = { has_government = fascism } }
					NOT = { ITA = { has_government = fascism } }
				}
				is_in_faction_with = GER
				is_in_faction_with = ITA
			}
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state focus = SPA_fuse_the_parties }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		icon = GFX_goal_support_fascism
		x = 4
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				GER = { country_event = generic.2 }
			}
			if = {
				limit = {
					ITA = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				ITA = { country_event = generic.2 }
			}
		}
	}

	focus = {
		id = SPA_fascist_economic_aid
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_join_the_axis }
		prerequisite = { focus = SPA_national_recovery }
		mutually_exclusive = { focus = SPA_autarky }
		
		icon = GFX_goal_generic_construction
		x = 1
		y = 1
		relative_position_id = SPA_join_the_axis
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = SPA_fascist_economic_aid
			swap_ideas = {
				remove_idea = SPA_recovering_from_civil_war
				add_idea = SPA_recovering_from_civil_war_2
			}
			add_tech_bonus = {
				name = SPA_fascist_economic_aid
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = SPA_facilitate_pyrenees_freight_transports
		available = {
			has_full_control_of_state = 793
			has_full_control_of_state = 794
			has_full_control_of_state = 165
			has_full_control_of_state = 176
			has_full_control_of_state = 792
			has_full_control_of_state = 41
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_fascist_economic_aid }
		
		icon = GFX_goal_generic_construct_infrastructure
		x = 0
		y = 1
		relative_position_id = SPA_fascist_economic_aid
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = SPA_facilitate_pyrenees_freight_transports_tt
			hidden_effect = {
				793 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				794 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				165 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				176 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				792 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				41 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = SPA_improve_cross_country_railways
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_fascist_economic_aid focus = SPA_spanish_austerity }
		
		icon = GFX_goal_generic_construct_infrastructure
		x = 1
		y = 2
		relative_position_id = SPA_fascist_economic_aid
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					NOT = {
						state = 793
						state = 794
						state = 165
						state = 176
						state = 792
						state = 41
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_support_the_war_industry
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_facilitate_pyrenees_freight_transports }
		prerequisite = { focus = SPA_improve_cross_country_railways }
		
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 2
		relative_position_id = SPA_facilitate_pyrenees_freight_transports
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_support_the_war_industry_1civ }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_recovering_from_civil_war_2
				add_idea = SPA_recovering_from_civil_war_3
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_support_the_war_industry_1civ }
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_support_the_war_industry_1civ }
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPA_italian_shipbuilding_expertise
		available = {
			is_in_faction_with = ITA
		}
		bypass = {
		}
		prerequisite = { focus = SPA_support_the_war_industry }
		
		icon = GFX_focus_generic_navy_battleship2
		x = -1
		y = 1
		relative_position_id = SPA_support_the_war_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = SPA_italian_shipbuilding_expertise
			add_tech_bonus = {
				name = SPA_italian_shipbuilding_expertise
				bonus = 1
				uses = 1
				category = bb_tech
			}
		}
	}

	focus = {
		id = SPA_the_duty_to_work
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_support_the_war_industry }
		
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 2
		relative_position_id = SPA_support_the_war_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = SPA_the_duty_to_work
		}
	}

	focus = {
		id = SPA_expand_the_war_industry
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_support_the_war_industry focus = SPA_expand_the_axis_gold_trade }
		
		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = SPA_support_the_war_industry
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_expand_the_war_industry_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_expand_the_war_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_expand_the_war_industry_2mil }
				}
				set_state_flag = SPA_expand_the_war_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_national_recovery
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_national_syndicalist_state focus = SPA_fuse_the_parties }
		
		icon = GFX_goal_generic_consumer_goods
		x = 6
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_national_recovery_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		completion_reward = {
			add_timed_idea = { idea = SPA_national_recovery_1 days = 1825 }
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_national_recovery_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_autarky
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_national_recovery }
		mutually_exclusive = { focus = SPA_fascist_economic_aid }
		
		icon = GFX_goal_generic_oil_refinery
		x = 1
		y = 1
		relative_position_id = SPA_national_recovery
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = closed_economy }
				}
				add_ideas = closed_economy
			}
			swap_ideas = {
				remove_idea = SPA_national_recovery_1
				add_idea = SPA_national_recovery_2
			}
			add_tech_bonus = {
				name = HOL_make_use_of_our_riches
				bonus = 1.0
				uses = 2
				category = excavation_tech
			}
			add_tech_bonus = {
				name = HOL_expand_curacao_oil_refineries
				bonus = 1.0
				uses = 1
				category = synth_resources
			}
		}
	}

	focus = {
		id = SPA_spanish_austerity
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_autarky }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		icon = GFX_goal_generic_construct_civilian
		x = 0
		y = 1
		relative_position_id = SPA_autarky
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_national_recovery_2
				add_idea = SPA_national_recovery_3
			}
			if = {
				limit = {
					NOT = {
						has_idea = SPA_recovering_from_civil_war
						has_idea = SPA_recovering_from_civil_war_2
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
		}
	}

	focus = {
		id = SPA_reduce_reliance_on_foreign_resources
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_spanish_austerity }
		
		icon = GFX_goal_generic_construction2
		x = 1
		y = 1
		relative_position_id = SPA_spanish_austerity
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_reduce_reliance_on_foreign_resources
				bonus = 1.5
				uses = 2
				category = excavation_tech
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPA_expand_the_axis_gold_trade
		available = {
			NOT = { has_completed_focus = SPA_the_stabilization_plan }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_spanish_austerity }
		mutually_exclusive = { focus = SPA_capitalist_economic_aid }
		
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 0
		y = 2
		relative_position_id = SPA_spanish_austerity
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPA_expand_the_axis_gold_trade
		}
	}

	focus = {
		id = SPA_ensure_agricultural_self_sufficiency
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_expand_the_axis_gold_trade }
		
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 2
		relative_position_id = SPA_expand_the_axis_gold_trade
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			remove_ideas = SPA_recovering_from_civil_war_3
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ }
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ }
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

#  #  ##  ### ###  ##  #  #  ##  #   ###  ## ###  ##            ### ###   ##  #  #  ##   ##  
## # #  #  #   #  #  # ## # #  # #    #  #    #  #              #   #  # #  # ## # #  # #  # 
# ## ####  #   #  #  # # ## #### #    #   #   #   #      ##     ##  ###  #### # ## #    #  # 
#  # #  #  #   #  #  # #  # #  # #    #    #  #    #            #   #  # #  # #  # #  # #  # 
#  # #  #  #  ###  ##  #  # #  # ### ### ##   #  ##             #   #  # #  # #  #  ##   ##  

	focus = {
		id = SPA_unify_the_nationalist_front
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_con_paquito }
		mutually_exclusive = { focus = SPA_the_phalanx_ascendant focus = SPA_supremacy_of_the_communion }
		
		icon = GFX_focus_spa_unify_the_nationalist_front
		x = -1
		y = 1
		relative_position_id = SPA_con_paquito
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.1
			activate_mission = SPA_carlist_uprising_mission
		}
	}

	focus = {
		id = SPA_save_the_alcazar
		available = {
		}
		bypass = {
			OR = {
				controls_province = 858
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_focus_spa_save_the_alcazar
		x = -2
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			activate_mission = SPA_save_the_alcazar_mission
		}
	}

	focus = {
		id = SPA_martyrdom_for_primo_de_rivera
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_save_the_alcazar }
		
		icon = GFX_goal_generic_secret_weapon
		x = -1
		y = 1
		relative_position_id = SPA_save_the_alcazar
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_war_support = 0.1
			add_popularity = {
			    ideology = fascism
			    popularity = 0.05
			}
		}
	}

	focus = {
		id = SPA_caudillo_of_spain
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_save_the_alcazar }
		
		icon = GFX_focus_spa_caudillo_of_spain
		x = 1
		y = 1
		relative_position_id = SPA_save_the_alcazar
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			hidden_effect = {
				kill_country_leader = yes
				kill_ideology_leader = fascism
			}
			create_country_leader = {
				name = "Francisco Franco"
				desc = "POLITICS_FRANCISCO_FRANCO_DESC"
				picture = "GFX_portrait_spain_francisco_franco"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					caudillo_1
				}
			}
			create_country_leader = {
				name = "Francisco Franco"
				desc = "POLITICS_FRANCISCO_FRANCO_DESC"
				picture = "GFX_portrait_spain_francisco_franco"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					caudillo_1
				}
			}
		}
	}

	focus = {
		id = SPA_extol_the_martyrs_of_the_war
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_martyrdom_for_primo_de_rivera }
		prerequisite = { focus = SPA_caudillo_of_spain }
		
		icon = GFX_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = SPA_martyrdom_for_primo_de_rivera
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_SPA_CARLIST_UPRISING}
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = SPA_consolidate_the_north
		available = {
			controls_state = 166
			controls_state = 172
			controls_state = 176
			controls_state = 792
			controls_state = 790
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			166 = {
				if = {
					limit = {
						166 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			172 = {
				if = {
					limit = {
						172 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			176 = {
				if = {
					limit = {
						176 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			792 = {
				if = {
					limit = {
						792 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			790 = {
				if = {
					limit = {
						790 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			add_days_mission_timeout = {
				mission = SPA_carlist_uprising_mission
				days = 70
			}
		}
	}

	focus = {
		id = SPA_foment_a_carlist_split
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = { focus = SPA_consolidate_the_north }
		
		icon = GFX_goal_generic_military_deal
		x = 0
		y = 2
		relative_position_id = SPA_consolidate_the_north
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_SPA_CARLIST_UPRISING}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_carlism_1
				add_idea = SPA_carlism_2
			}
			add_days_mission_timeout = {
				mission = SPA_carlist_uprising_mission
				days = 140
			}
		}
	}

	focus = {
		id = SPA_a_methodical_approach
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_goal_generic_more_territorial_claims
		x = 2
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPA_a_methodical_approach
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}

	focus = {
		id = SPA_tackle_the_vulnerable_fronts
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_a_methodical_approach }
		
		icon = GFX_goal_generic_major_war
		x = -1
		y = 1
		relative_position_id = SPA_a_methodical_approach
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_tackle_the_vulnerable_fronts_tt
		}
	}

	focus = {
		id = SPA_integrate_the_requetes
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = { focus = SPA_tackle_the_vulnerable_fronts }
		prerequisite = { focus = SPA_foment_a_carlist_split }
		
		icon = GFX_goal_generic_military_sphere
		x = 0
		y = 2
		relative_position_id = SPA_tackle_the_vulnerable_fronts
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.1
			}
			if = {
				limit = {
					NOT = {
						has_idea = SPA_carlism_2
						has_idea = SPA_carlism_5
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_carlism_2
						add_idea = SPA_carlism_3
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_2
				}
				swap_ideas = {
					remove_idea = SPA_carlism_2
					add_idea = SPA_carlism_3
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_5
				}
				swap_ideas = {
					remove_idea = SPA_carlism_5
					add_idea = SPA_carlism_4
				}
			}
		}
	}

	focus = {
		id = SPA_portuguese_aid
		available = {
			NOT = { has_war_with = POR }
			any_enemy_country = {
				NOT = {
					has_volunteers_amount_from = {
						tag = POR
						count > 0
					}
				}
			}
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_a_methodical_approach }
		
		icon = GFX_focus_generic_befriend_portugal
		x = 1
		y = 1
		relative_position_id = SPA_a_methodical_approach
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			effect_tooltip = {
				add_manpower = 20000
				POR = {
					add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
					add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
				}
			}
			custom_effect_tooltip = SPA_the_iberian_pact_tt_2
			POR = { country_event = { id = lar_spain.22 hours = 12 random_hours = 36 } }
		}
	}

	focus = {
		id = SPA_the_iberian_pact
		available = {
			has_global_flag = scw_over
			has_war = no
			is_in_faction = no
			POR = {
				has_war = no
				is_in_faction = no
			}
			NOT = { has_global_flag = POR_iberian_summit_in_progress_flag }
		}
		bypass = {
			POR = { is_in_faction = yes }
		}
		prerequisite = { focus = SPA_portuguese_aid }
		
		icon = GFX_goal_generic_major_alliance
		x = 0
		y = 1
		relative_position_id = SPA_portuguese_aid
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_the_iberian_pact_tt
			custom_effect_tooltip = SPA_the_iberian_pact_tt_2
			POR = { country_event = { id = lar_spain.25 hours = 12 random_hours = 36 } }
		}
	}

	focus = {
		id = SPA_the_latin_bloc
		available = {
			has_global_flag = scw_over
			NOT = { has_completed_focus = SPA_join_the_axis }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_iberian_pact }
		
		icon = GFX_goal_generic_alliance
		x = 0
		y = 1
		relative_position_id = SPA_the_iberian_pact
		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		completion_reward = {
			set_rule = {
				can_create_factions = yes
			}
			create_faction = SPA_latin_bloc
			every_other_country = {
				limit = {
					OR = {
						original_tag = POR
						original_tag = CAT
						original_tag = NAV
						original_tag = GLC
						tag = VIC
						original_tag = ITA
					}
					is_in_faction = no
				}
				country_event = { id = lar_spain.30 hours = 12 random_hours = 36 }
			}
			hidden_effect = { news_event = { id = lar_news.19 hours = 6 } }
		}
	}

	focus = {
		id = SPA_utilize_the_intellectuals
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_integrate_the_requetes focus = SPA_confirm_the_fueros }
		
		icon = GFX_focus_research
		x = 3
		y = 1
		relative_position_id = SPA_integrate_the_requetes
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPA_banish_the_party_leaders
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = { focus = SPA_extol_the_martyrs_of_the_war }
		prerequisite = { focus = SPA_foment_a_carlist_split }
		
		icon = GFX_focus_generic_support_the_left_right
		x = 1
		y = 1
		relative_position_id = SPA_extol_the_martyrs_of_the_war
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPA_CARLIST_UPRISING}
		completion_reward = {
			add_political_power = 200
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SPA_manuel_hedilla
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPA_raimundo_fernandez_cuesta
			add_days_mission_timeout = {
				mission = SPA_carlist_uprising_mission
				days = 140
			}
		}
	}

	focus = {
		id = SPA_fuse_the_parties
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = { focus = SPA_banish_the_party_leaders }
		prerequisite = { focus = SPA_safeguard_the_freedom_of_worship }
		
		icon = GFX_focus_spa_fuse_the_parties
		x = -1
		y = 1
		relative_position_id = SPA_banish_the_party_leaders
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			set_party_name = { ideology = fascism long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
			set_party_name = { ideology = neutrality long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
			if = {
				limit = {
					NOT = {
						has_idea = SPA_carlism_2
						has_idea = SPA_carlism_3
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_carlism_2
						add_idea = SPA_carlism_3
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_2
				}
				swap_ideas = {
					remove_idea = SPA_carlism_2
					add_idea = SPA_carlism_5
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_3
				}
				swap_ideas = {
					remove_idea = SPA_carlism_3
					add_idea = SPA_carlism_4
				}
			}
			custom_effect_tooltip = SPA_fuse_the_parties_tt
			if = {
				limit = {
					has_global_flag = scw_early_end
				}
				set_global_flag = nationalist_victory
				set_global_flag = scw_over
				country_event = { id = lar_news.1 hours = 6 }
			}
		}
	}

	focus = {
		id = SPA_join_the_allies
		available = {
			has_global_flag = scw_over
			is_in_faction = no
			OR = {
				AND = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
					}
				}
				AND = {
					USA = {
						has_government = democratic
						is_faction_leader = yes
					}
				}
			}
			NOT = { has_completed_focus = SPA_the_latin_bloc }
			NOT = { has_government = fascism }
			fascism < 0.4		
			NOT = { has_global_flag = POR_iberian_summit_in_progress_flag }
		}
		bypass = {
			OR = {
				AND = {
					NOT = { USA = { has_government = democratic } }
					NOT = { ENG = { has_government = democratic } }
				}
				is_in_faction_with = USA
				is_in_faction_with = ENG
			}
		}
		prerequisite = { focus = SPA_fuse_the_parties }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		icon = GFX_goal_support_democracy
		x = 0
		y = 1
		relative_position_id = SPA_fuse_the_parties
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
					}
				}
				ENG = { country_event = { id = generic.2 hours = 6 } }
			}
			if = {
				limit = {
					USA = {
						has_government = democratic
						is_faction_leader = yes
					}
				}
				USA = { country_event = { id = generic.2 hours = 6 } }
			}
			hidden_effect = { news_event = { id = lar_news.11 days = 1 } }
		}
	}

	focus = {
		id = SPA_the_stabilization_plan
		available = {
			NOT = { has_completed_focus = SPA_expand_the_axis_gold_trade }
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_join_the_allies }
		prerequisite = { focus = SPA_national_recovery }
		
		icon = GFX_goal_generic_neutrality_focus
		x = 2
		y = 1
		relative_position_id = SPA_join_the_allies
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = SPA_recovering_from_civil_war
						has_idea = SPA_recovering_from_civil_war_2
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
		}
	}

	focus = {
		id = SPA_expand_spanish_bases
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_stabilization_plan }
		
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = SPA_the_stabilization_plan
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			171 = { #Galicia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 758
					instant_build = yes
				}							
			}
			790 = { #Asturias
				add_building_construction = {
					type = naval_base
					level = 1
					province = 11707
					instant_build = yes
				}							
			}
			792 = { #Basque
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 740
					instant_build = yes
				}							
			}
			165 = { #Catalonia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9764
					instant_build = yes
				}							
			}
			167 = { #Valencia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 6906
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 4098
					instant_build = yes
				}						
			}
			168 = { #Murcia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 10024
					instant_build = yes
				}							
			}
			173 = { #Granada
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 747
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9979
					instant_build = yes
				}						
			}
			169 = { #Sevilla
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 1048
					instant_build = yes
				}							
			}
			41 = { #Madrid
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}							
			}
			177 = { #Baleares
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9793
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 7114
					instant_build = yes
				}							
			}
			178 = { #Canary Islands
				add_building_construction = {
					type = naval_base
					level = 1
					province = 13071
					instant_build = yes
				}							
			}
		}
	}

	focus = {
		id = SPA_capitalist_economic_aid
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_expand_spanish_bases }
		prerequisite = { focus = SPA_reduce_reliance_on_foreign_resources }
		mutually_exclusive = { focus = SPA_expand_the_axis_gold_trade }
		
		icon = GFX_focus_generic_the_giant_wakes
		x = 0
		y = 2
		relative_position_id = SPA_expand_spanish_bases
		cost = 10

		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_capitalist_economic_aid_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_capitalist_economic_aid
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_capitalist_economic_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			remove_ideas = SPA_recovering_from_civil_war_3
			swap_ideas = {
				remove_idea = SPA_national_recovery_3
				add_idea = SPA_national_recovery_4
			}
		}
	}

	focus = {
		id = SPA_improve_living_standards
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_capitalist_economic_aid }
		
		icon = GFX_goal_generic_consumer_goods
		x = -1
		y = 1
		relative_position_id = SPA_capitalist_economic_aid
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_stability = 0.15
			add_political_power = 120
			if = {
				limit = {
					NOT = {
						has_idea = SPA_national_recovery_4
						has_idea = SPA_national_recovery_6
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_national_recovery_4
						add_idea = SPA_national_recovery_5
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_4
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_4
					add_idea = SPA_national_recovery_5
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_6
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_6
					add_idea = SPA_national_recovery_7
				}
			}
		}
	}

	focus = {
		id = SPA_domestic_industrial_developments
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_capitalist_economic_aid }
		
		icon = GFX_goal_generic_production
		x = 1
		y = 1
		relative_position_id = SPA_capitalist_economic_aid
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = SPA_national_recovery_4
						has_idea = SPA_national_recovery_5
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_national_recovery_4
						add_idea = SPA_national_recovery_6
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_4
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_4
					add_idea = SPA_national_recovery_6
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_5
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_5
					add_idea = SPA_national_recovery_7
				}
			}
		}
	}

	focus = {
		id = SPA_the_spanish_miracle
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_improve_living_standards }
		prerequisite = { focus = SPA_domestic_industrial_developments }
		
		icon = GFX_focus_spa_the_spanish_miracle
		x = 1
		y = 1
		relative_position_id = SPA_improve_living_standards
		cost = 20

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_the_spanish_miracle_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit	= {	has_state_flag = SPA_the_spanish_miracle_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_the_spanish_miracle_2civ }
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_the_spanish_miracle_2civ }
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_the_spanish_miracle_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_the_spanish_miracle_2mil }
				}
				set_state_flag = SPA_the_spanish_miracle_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_adopt_the_26_points
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPA_fuse_the_parties }
		
		icon = GFX_focus_generic_treaty
		x = 6
		y = 1
		relative_position_id = SPA_fuse_the_parties
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
			    ideology = fascism
			    popularity = 0.1
			}
			if = {
				limit = {
					NOT = {
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
					}
				}
				add_ideas = war_economy
			}
			if = {
				limit = {
					has_idea = limited_conscription
				}
				add_ideas = extensive_conscription
			}
			if = {
				limit = {
					has_idea = volunteer_only
				}
				add_ideas = limited_conscription
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}

	focus = {
		id = SPA_direct_the_universities
		available = {
			num_of_factories > 50
		}
		bypass = {
		}
		prerequisite = { focus = SPA_adopt_the_26_points }
		
		icon = GFX_focus_research2
		x = -1
		y = 1
		relative_position_id = SPA_adopt_the_26_points
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPA_dictator_for_life
		available = {
			has_country_leader = {
				name = "Francisco Franco"
				ruling_only = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_adopt_the_26_points }
		mutually_exclusive = { focus = SPA_restore_the_monarchy }
		
		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 1
		relative_position_id = SPA_adopt_the_26_points
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			remove_country_leader_trait = caudillo_1
			add_country_leader_trait = caudillo_2
			hidden_effect = {
				if = {
					limit = {
						has_government = neutrality
					}
					retire_ideology_leader = fascism
					create_country_leader = {
						name = "Francisco Franco"
						desc = "POLITICS_FRANCISCO_FRANCO_DESC"
						picture = "GFX_portrait_spain_francisco_franco_old"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							caudillo_2
						}
					}
				}
				if = {
					limit = {
						has_government = fascism
					}
					retire_ideology_leader = neutrality
					create_country_leader = {
						name = "Francisco Franco"
						desc = "POLITICS_FRANCISCO_FRANCO_DESC"
						picture = "GFX_portrait_spain_francisco_franco_old"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							caudillo_2
						}
					}
				}
			}
		}
	}

	focus = {
		id = SPA_invest_in_naval_infrastructure
		available = {
			has_completed_focus = SPA_unify_the_nationalist_front
		}
		bypass = {
		}
		prerequisite = { focus = SPA_expand_spanish_bases focus = SPA_dictator_for_life focus = SPA_restore_the_monarchy }
		
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = -3
		y = 2
		relative_position_id = SPA_dictator_for_life
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPA_invest_in_naval_infrastructure_3DY }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_invest_in_naval_infrastructure_3DY
			}
		}
	}

	focus = {
		id = SPA_expand_the_slipways
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_invest_in_naval_infrastructure }
		
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 0
		y = 1
		relative_position_id = SPA_invest_in_naval_infrastructure
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPA_expand_the_slipways_3DY }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_expand_the_slipways_3DY
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_expand_the_slipways_3DY }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_expand_the_slipways_3DY
			}
		}
	}

	focus = {
		id = SPA_the_plan_imperial
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_expand_the_slipways }
		
		icon = GFX_goal_generic_navy_battleship
		x = 0
		y = 2
		relative_position_id = SPA_expand_the_slipways
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 50
			add_ideas = SPA_the_plan_imperial
			add_tech_bonus = {
				name = SPA_glory_and_wealth_on_the_sea_lanes
				bonus = 1
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = SPA_glory_and_wealth_on_the_sea_lanes
				bonus = 1
				uses = 1
				category = cv_tech
			}
		}
	}

	focus = {
		id = SPA_restart_small_scale_shipbuilding
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_invest_in_naval_infrastructure }
		
		icon = GFX_focus_generic_destroyer
		x = 1
		y = 2
		relative_position_id = SPA_invest_in_naval_infrastructure
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SPA_restart_small_scale_shipbuilding
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPA_restart_small_scale_shipbuilding
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPA_restart_small_scale_shipbuilding
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = SPA_la_division_azul
		available = {
			has_completed_focus = SPA_adopt_the_26_points
		}
		bypass = {
		}
		prerequisite = { focus = SPA_dictator_for_life focus = SPA_restore_the_monarchy }
		
		icon = GFX_goal_rhineland
		x = 0
		y = 1
		relative_position_id = SPA_dictator_for_life
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPA_la_division_azul
			if = {
				limit = {
					has_government = neutrality
				}
				set_rule = {
					can_send_volunteers = yes
				}
			}
		}
	}

	focus = {
		id = SPA_the_tangiers_enclave
		available = {
			has_full_control_of_state = 290
		}
		bypass = {
		}
		prerequisite = { focus = SPA_la_division_azul }
		prerequisite = { focus = SPA_stamp_out_the_maquis }
		
		icon = GFX_goal_generic_position_armies
		x = 0
		y = 1
		relative_position_id = SPA_la_division_azul
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					ENG = { has_government = democratic }
				}
				effect_tooltip = {
					290 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = SPA_the_tangiers_enclave_tt
				ENG = { country_event = { id = lar_spain.36 hours = 6 random_hours = 18 } }
			}
			else = {
				290 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPA_demand_french_north_africa
		available = {
			any_country = {
				original_tag = FRA
				has_focus_tree = vichy_french_focus
				owns_state = 461
				owns_state = 462
				owns_state = 459
				owns_state = 460
				owns_state = 513
				owns_state = 514
				owns_state = 458
				owns_state = 665
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_tangiers_enclave }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 1
		relative_position_id = SPA_the_tangiers_enclave
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			random_other_country = {
				limit = {
					original_tag = FRA
					has_focus_tree = vichy_french_focus
					owns_state = 461
					owns_state = 462
					owns_state = 459
					owns_state = 460
					owns_state = 513
					owns_state = 514
					owns_state = 458
					owns_state = 665
				}
				country_event = { id = lar_spain.39 hours = 6 random_hours = 18 }
			}
		}
	}

	focus = {
		id = SPA_restore_the_monarchy
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_adopt_the_26_points focus = SPA_settle_the_succession_question }
		mutually_exclusive = { focus = SPA_dictator_for_life }
		
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 3
		y = 1
		relative_position_id = SPA_adopt_the_26_points
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = SPA_supremacy_of_the_communion
				}
				custom_effect_tooltip = SPA_restore_the_monarchy_tt
				hidden_effect = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = SPB_kingdom
				}
				news_event = { id = lar_news.17 hours = 6 }
			}
			if = {
				limit = {
					NOT = { has_completed_focus = SPA_supremacy_of_the_communion }
				}
				news_event = { id = lar_news.18 hours = 6 }
			}
		}
	}

	focus = {
		id = SPA_stamp_out_the_maquis
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_dictator_for_life focus = SPA_restore_the_monarchy }
		
		icon = GFX_goal_generic_more_territorial_claims
		x = 2
		y = 1
		relative_position_id = SPA_dictator_for_life
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
		}
	}

	focus = {
		id = SPA_defenses_against_strategic_bombing
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_stamp_out_the_maquis }
		
		icon = GFX_focus_generic_air_defense
		x = 0
		y = 1
		relative_position_id = SPA_stamp_out_the_maquis
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			171 = { #Galicia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
			792 = { #Basque
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
			41 = { #Madrid
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
		}
	}

	focus = {
		id = SPA_defenses_against_invasion
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_defenses_against_strategic_bombing }
		
		icon = GFX_focus_generic_coastal_fort
		x = 0
		y = 1
		relative_position_id = SPA_defenses_against_strategic_bombing
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_defenses_against_invasion_tt
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_retake_gibraltar
		available = {
			NOT = {
				is_in_faction_with = ENG
				has_war_with = ENG
				controls_state = 118
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_demand_french_north_africa }
		prerequisite = { focus = SPA_defenses_against_invasion }
		
		icon = GFX_focus_attack_britain
		x = 1
		y = 1
		relative_position_id = SPA_demand_french_north_africa
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 118 }
				expire = 0
			}
		}
	}

	focus = {
		id = SPA_claim_west_africa
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_retake_gibraltar }
		
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 1
		relative_position_id = SPA_retake_gibraltar
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_state_claim = 557
			add_state_claim = 272
			add_state_claim = 780
			add_state_claim = 556
			add_state_claim = 779
			add_state_claim = 778
			add_state_claim = 781
			add_state_claim = 777
			add_state_claim = 776
			add_state_claim = 773
			add_state_claim = 774
			add_state_claim = 660
			add_state_claim = 539
			add_state_claim = 772
			if = {
				limit = {
					FRA = {
						OR = {
							owns_state = 557
							owns_state = 272
							owns_state = 780
							owns_state = 556
							owns_state = 779
							owns_state = 778
							owns_state = 781
							owns_state = 777
							owns_state = 776
							owns_state = 773
							owns_state = 774
							owns_state = 660
							owns_state = 539
							owns_state = 772
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = FRA
					generator = { 557 272 780 556 779 778 781 777 776 773 774 660 539 772 }
					expire = 0
				}
			}
			if = {
				limit = {
					VIC = {
						OR = {
							owns_state = 557
							owns_state = 272
							owns_state = 780
							owns_state = 556
							owns_state = 779
							owns_state = 778
							owns_state = 781
							owns_state = 777
							owns_state = 776
							owns_state = 773
							owns_state = 774
							owns_state = 660
							owns_state = 539
							owns_state = 772
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = VIC
					generator = { 557 272 780 556 779 778 781 777 776 773 774 660 539 772 }
					expire = 0
				}
			}
		}
	}

#  #  ##  ### ###  ##  #  #  ##  #   ###  ## ###  ##             ##   ##  ###  #   ###  ## ###  ## 
## # #  #  #   #  #  # ## # #  # #    #  #    #  #              #  # #  # #  # #    #  #    #  #   
# ## ####  #   #  #  # # ## #### #    #   #   #   #      ##     #    #### ###  #    #   #   #   #  
#  # #  #  #   #  #  # #  # #  # #    #    #  #    #            #  # #  # #  # #    #    #  #    # 
#  # #  #  #  ###  ##  #  # #  # ### ### ##   #  ##              ##  #  # #  # ### ### ##   #  ##  

	focus = {
		id = SPA_supremacy_of_the_communion
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPA_negotiate_carlist_support }
		mutually_exclusive = { focus = SPA_the_phalanx_ascendant focus = SPA_unify_the_nationalist_front }
		
		icon = GFX_focus_spa_supremacy_of_the_communion
		x = 9
		y = 1
		relative_position_id = SPA_con_paquito
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPA_luis_hernando_de_larramendi
			show_ideas_tooltip = SPA_martin_de_riquer
			show_ideas_tooltip = SPA_mauricio_de_sivatte
			custom_effect_tooltip = remove_theorist
			show_ideas_tooltip = SPA_agustin_munoz_grandes
			create_field_marshal = {
				name = "Manuel Fal Conde"
				gfx = "GFX_portrait_SPA_manuel_fal_conde"
				traits = { trait_SPA_carlist_loyalties }
				skill = 3
			    attack_skill = 2
			    defense_skill = 3
			    planning_skill = 2
			    logistics_skill = 3
			}
			add_war_support = 0.05
			swap_ideas = {
				remove_idea = SPA_carlism_1
				add_idea = SPA_disjointed_carlist_juntas
			}
			activate_mission = SPA_fascist_crackdown_mission
			#remove_ideas = SPA_carlism_1
			#add_ideas = SPA_disjointed_carlist_juntas
		}
	}

	focus = {
		id = SPA_prepare_the_carlist_insurrection
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_supremacy_of_the_communion }
		
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -3
		y = 1
		relative_position_id = SPA_supremacy_of_the_communion
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CARLIST_UPRISING}
		completion_reward = {
			custom_effect_tooltip = SPA_prepare_the_carlist_insurrection_tt
			hidden_effect = {
				if = {
					limit = {
						OR = {
							controls_state = 172
							controls_state = 176
						}
					}
					every_state = {
						limit = {
							OR = {
								state = 172
								state = 176
							}
							NOT = { has_state_flag = SPA_carlist_cell_flag }
							is_controlled_by = ROOT
						}
						set_state_flag = SPA_carlist_cell_flag
					}
				}
			}
		}
	}

	focus = {
		id = SPA_contact_the_union_militar_espanola
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_prepare_the_carlist_insurrection }
		
		icon = GFX_goal_generic_major_alliance
		x = 0
		y = 1
		relative_position_id = SPA_prepare_the_carlist_insurrection
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_contact_the_union_militar_espanola
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			country_event = { id = lar_spain.33 hours = 6 random_hours = 6 }
		}
	}

	focus = {
		id = SPA_head_the_junta_nacional
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_supremacy_of_the_communion }
		
		icon = GFX_goal_generic_political_pressure
		x = -1
		y = 1
		relative_position_id = SPA_supremacy_of_the_communion
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_stability = 0.05
			create_country_leader = {
				name = "Manuel Fal Conde"
				desc = "POLITICS_MANUEL_FAL_CONDE_DESC"
				picture = "GFX_portrait_SPA_manuel_fal_conde"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					jefe
				}
			}
		}
	}

	focus = {
		id = SPA_unite_the_requetes
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_head_the_junta_nacional }
		
		icon = GFX_goal_generic_military_sphere
		x = 0
		y = 1
		relative_position_id = SPA_head_the_junta_nacional
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = SPA_disjointed_carlist_juntas
		}
	}

	focus = {
		id = SPA_the_war_in_the_north
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_supremacy_of_the_communion }
		
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 1
		relative_position_id = SPA_supremacy_of_the_communion
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_the_war_in_the_north
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			if = {
				limit = {
					NOT = {
						has_decision = SPA_galicia_offensive
						has_decision = SPA_asturias_offensive
						has_decision = SPA_leon_offensive
						has_decision = SPA_valladolid_offensive
						has_decision = SPA_burgos_offensive
						has_decision = SPA_pais_vasco_offensive
						has_decision = SPA_navarra_offensive
						has_decision = SPA_western_aragon_offensive
						has_decision = SPA_eastern_aragon_offensive
						has_decision = SPA_catalunya_offensive
						has_decision = SPA_salamanca_offensive
						has_decision = SPA_madrid_offensive
						has_decision = SPA_guadalajara_offensive
						has_decision = SPA_valencia_offensive
						has_decision = SPA_extremadura_offensive
						has_decision = SPA_ciudad_real_offensive
						has_decision = SPA_murcia_offensive
						has_decision = SPA_sevilla_offensive
						has_decision = SPA_cordoba_offensive
						has_decision = SPA_granada_offensive
					}
					has_country_flag = SPR_preparing_offensive_in_progress_flag
				}
				clr_country_flag = SPR_preparing_offensive_in_progress_flag
			}
			790 = {
				clr_state_flag = SPR_unplanned_offensive_flag
				remove_province_modifier = {
					static_modifiers = { unplanned_offensive }
					province = {
						all_provinces = yes
					}
				}
			}
			792 = {
				clr_state_flag = SPR_unplanned_offensive_flag
				remove_province_modifier = {
					static_modifiers = { unplanned_offensive }
					province = {
						all_provinces = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPA_revive_the_spirit_of_the_carlist_wars
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPA_the_war_in_the_north }
		
		icon = GFX_goal_generic_propaganda
		x = 0
		y = 1
		relative_position_id = SPA_the_war_in_the_north
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = SPA_arms_modernization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_revive_the_spirit_of_the_carlist_wars }
		
		icon = GFX_goal_generic_build_tank
		x = 2
		y = 1
		relative_position_id = SPA_revive_the_spirit_of_the_carlist_wars
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_arms_modernization
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPA_arms_modernization
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SPA_no_compromise_on_carlist_ideals
		available = {
		}
		bypass = {
			OR = {
				has_war_with = SPA
				has_global_flag = SPR_carlist_uprising_flag
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPA_contact_the_union_militar_espanola }
		prerequisite = { focus = SPA_unite_the_requetes }
		
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		x = 1
		y = 1
		relative_position_id = SPA_contact_the_union_militar_espanola
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR FOCUS_FILTER_SPA_CARLIST_UPRISING}
		completion_reward = {
			set_party_name = { ideology = neutrality long_name = SPR_neutrality_party_long name = SPR_neutrality_party }
			add_timed_idea = { idea = SPA_no_compromise_on_carlist_ideals days = 60 }
			custom_effect_tooltip = SPA_no_compromise_on_carlist_ideals_tt_2
			custom_effect_tooltip = SPA_no_compromise_on_carlist_ideals_tt
			if = {
				limit = {
					NOT = { has_war_with = SPA }
				}
				hidden_effect = { country_event = lar_spain.8 }
			}
		}
	}

	focus = {
		id = SPA_the_crusade_against_democracy
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_unite_the_requetes }
		prerequisite = { focus = SPA_revive_the_spirit_of_the_carlist_wars }
		
		icon = GFX_focus_generic_strike_at_democracy2
		x = 1
		y = 1
		relative_position_id = SPA_unite_the_requetes
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			set_country_flag = { flag = SPA_the_crusade_against_democracy_timer_flag value = 1 days = 69 }
			add_ideas = SPA_crusade_against_democracy_1
			add_tech_bonus = {
				name = SPA_the_crusade_against_democracy
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPA_expand_the_requetes
		available = {
			custom_trigger_tooltip = {
			    tooltip = SPA_the_crusade_against_democracy_timer_tt
			   	NOT = { has_country_flag = SPA_the_crusade_against_democracy_timer_flag }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_crusade_against_democracy }
		prerequisite = { focus = SPA_no_compromise_on_carlist_ideals }
		
		icon = GFX_goal_generic_small_arms
		x = -1
		y = 1
		relative_position_id = SPA_the_crusade_against_democracy
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			set_country_flag = { flag = SPA_the_crusade_against_democracy_timer_flag value = 1 days = 69 }
			if = {
				limit = {
					NOT = {
						has_idea = SPA_crusade_against_democracy_1
						has_idea = SPA_crusade_against_democracy_4
						has_idea = SPA_crusade_against_democracy_5
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_crusade_against_democracy_1
						add_idea = SPA_crusade_against_democracy_2
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_1
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_1
					add_idea = SPA_crusade_against_democracy_2
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_4
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_4
					add_idea = SPA_crusade_against_democracy_6
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_5
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_5
					add_idea = SPA_crusade_against_democracy_8
				}
			}
		}
	}

	focus = {
		id = SPA_militarize_the_masses
		available = {
			custom_trigger_tooltip = {
			    tooltip = SPA_the_crusade_against_democracy_timer_tt
			   	NOT = { has_country_flag = SPA_the_crusade_against_democracy_timer_flag }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_expand_the_requetes }
		
		icon = GFX_goal_generic_axis_build_infantry
		x = 0
		y = 1
		relative_position_id = SPA_expand_the_requetes
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			set_country_flag = { flag = SPA_the_crusade_against_democracy_timer_flag value = 1 days = 69 }
			if = {
				limit = {
					NOT = {
						has_idea = SPA_crusade_against_democracy_2
						has_idea = SPA_crusade_against_democracy_6
						has_idea = SPA_crusade_against_democracy_8
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_crusade_against_democracy_2
						add_idea = SPA_crusade_against_democracy_3
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_2
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_2
					add_idea = SPA_crusade_against_democracy_3
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_6
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_6
					add_idea = SPA_crusade_against_democracy_7
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_8
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_8
					add_idea = SPA_crusade_against_democracy_9
				}
			}
		}
	}

	focus = {
		id = SPA_defenders_of_catholicism
		available = {
			custom_trigger_tooltip = {
			    tooltip = SPA_the_crusade_against_democracy_timer_tt
			   	NOT = { has_country_flag = SPA_the_crusade_against_democracy_timer_flag }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_crusade_against_democracy }
		
		icon = GFX_goal_generic_defence
		x = 1
		y = 1
		relative_position_id = SPA_the_crusade_against_democracy
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_country_flag = { flag = SPA_the_crusade_against_democracy_timer_flag value = 1 days = 69 }
			if = {
				limit = {
					NOT = {
						has_idea = SPA_crusade_against_democracy_1
						has_idea = SPA_crusade_against_democracy_2
						has_idea = SPA_crusade_against_democracy_3
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_crusade_against_democracy_1
						add_idea = SPA_crusade_against_democracy_4
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_1
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_1
					add_idea = SPA_crusade_against_democracy_4
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_2
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_2
					add_idea = SPA_crusade_against_democracy_6
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_3
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_3
					add_idea = SPA_crusade_against_democracy_7
				}
			}
		}
	}

	focus = {
		id = SPA_battle_rites
		available = {
			custom_trigger_tooltip = {
			    tooltip = SPA_the_crusade_against_democracy_timer_tt
			   	NOT = { has_country_flag = SPA_the_crusade_against_democracy_timer_flag }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_defenders_of_catholicism }
		
		icon = GFX_goal_generic_attack_allies

		x = 0
		y = 1
		relative_position_id = SPA_defenders_of_catholicism
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			set_country_flag = { flag = SPA_the_crusade_against_democracy_timer_flag value = 1 days = 69 }
			if = {
				limit = {
					NOT = {
						has_idea = SPA_crusade_against_democracy_4
						has_idea = SPA_crusade_against_democracy_6
						has_idea = SPA_crusade_against_democracy_7
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_crusade_against_democracy_4
						add_idea = SPA_crusade_against_democracy_5
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_4
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_4
					add_idea = SPA_crusade_against_democracy_5
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_6
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_6
					add_idea = SPA_crusade_against_democracy_8
				}
			}
			if = {
				limit = {
					has_idea = SPA_crusade_against_democracy_7
				}
				swap_ideas = {
					remove_idea = SPA_crusade_against_democracy_7
					add_idea = SPA_crusade_against_democracy_9
				}
			}
		}
	}

	focus = {
		id = SPA_cultivate_fanaticism
		available = {
			custom_trigger_tooltip = {
			    tooltip = SPA_the_crusade_against_democracy_timer_tt
			   	NOT = { has_country_flag = SPA_the_crusade_against_democracy_timer_flag }
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPA_militarize_the_masses }
		prerequisite = { focus = SPA_battle_rites }
		
		icon = GFX_goal_generic_secret_weapon
		x = 1
		y = 1
		relative_position_id = SPA_militarize_the_masses
		cost = 20

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_crusade_against_democracy_9
				add_idea = SPA_crusade_against_democracy_10
			}
			if = { 
				limit = {
					has_dlc = "Waking the Tiger"
				}
				custom_effect_tooltip = cost_reduced_last_stand 
			}
		}
	}

	focus = {
		id = SPA_the_third_dimension_of_warfare
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_crusade_against_democracy }
		prerequisite = { focus = SPA_arms_modernization }
		
		icon = GFX_goal_generic_air_doctrine
		x = 3
		y = 1
		relative_position_id = SPA_the_crusade_against_democracy
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = SPA_the_third_dimension_of_warfare
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SPA_a_modern_fighter_fleet
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_the_third_dimension_of_warfare }
		
		icon = GFX_goal_generic_air_fighter
		x = 0
		y = 1
		relative_position_id = SPA_the_third_dimension_of_warfare
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 50
			add_tech_bonus = {
				name = SPA_a_modern_fighter_fleet
				bonus = 1.0
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = SPA_confirm_the_fueros
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_no_compromise_on_carlist_ideals }
		
		icon = GFX_focus_generic_treaty
		x = -1
		y = 1
		relative_position_id = SPA_no_compromise_on_carlist_ideals
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}

	focus = {
		id = SPA_encourage_local_industrialization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_confirm_the_fueros }
		
		icon = GFX_goal_generic_construct_civ_factory
		x = -1
		y = 1
		relative_position_id = SPA_confirm_the_fueros
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_encourage_local_industrialization_1civ }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_encourage_local_industrialization
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_encourage_local_industrialization_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_encourage_local_industrialization_1civ }
				}
				set_state_flag = SPA_encourage_local_industrialization_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_encourage_local_industrialization_1civ }
				}
				set_state_flag = SPA_encourage_local_industrialization_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_encourage_local_mining
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_encourage_local_industrialization }
		
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		relative_position_id = SPA_encourage_local_industrialization
		cost = 10

		available_if_capitulated = yes
		search_filters = {}
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_encourage_local_mining_1inf }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					OR = {
						state = 792
						state = 166
						state = 173
						state = 788
						state = 791
						state = 171
						state = 170
						state = 41
					}
				}
				set_state_flag = SPA_encourage_local_mining_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_encourage_local_mining_1inf }
					OR = {
						state = 792
						state = 166
						state = 173
						state = 788
						state = 791
						state = 171
						state = 170
						state = 41
					}
				}
				set_state_flag = SPA_encourage_local_mining_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPA_settle_the_succession_question
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPA_confirm_the_fueros }
		
		icon = GFX_goal_generic_forceful_treaty
		x = 1
		y = 2
		relative_position_id = SPA_confirm_the_fueros
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_stability = 0.1
			country_event = { id = lar_spain.34 hours = 6 random_hours = 6 }
		}
	}

	focus = {
		id = SPA_dios_patria_rey
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_settle_the_succession_question }
		
		icon = GFX_goal_generic_national_unity
		x = 3
		y = 1
		relative_position_id = SPA_settle_the_succession_question
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			swap_ideas = {
				remove_idea = SPA_recovering_from_civil_war
				add_idea = SPA_recovering_from_civil_war_2
			}
		}
	}

	focus = {
		id = SPA_restore_the_empire
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_dios_patria_rey }
		
		icon =  GFX_goal_generic_demand_territory
		x = 0
		y = 1
		relative_position_id = SPA_dios_patria_rey
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_restore_the_empire_1mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_restore_the_empire_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_restore_the_empire_1mil }
				}
				set_state_flag = SPA_restore_the_empire_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_restore_the_empire_1mil }
				}
				set_state_flag = SPA_restore_the_empire_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_strengthen_the_empire
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_restore_the_empire }
		
		icon =  GFX_goal_generic_demand_territory
		x = -2
		y = 1
		relative_position_id = SPA_restore_the_empire
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_restore_the_empire_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_restore_the_empire_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_restore_the_empire_2civ }
				}
				set_state_flag = SPA_restore_the_empire_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_prosperity_of_the_empire
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_strengthen_the_empire }
		
		icon =  GFX_goal_generic_demand_territory
		x = 0
		y = 1
		relative_position_id = SPA_strengthen_the_empire
		cost = 10

		available_if_capitulated = yes

		search_filters = {}
		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPA_prosperity_of_the_empire_1inf }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_prosperity_of_the_empire_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_prosperity_of_the_empire_1inf }
				}
				set_state_flag = SPA_prosperity_of_the_empire_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_prosperity_of_the_empire_1inf }
				}
				set_state_flag = SPA_prosperity_of_the_empire_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPA_press_the_gibraltar_claim
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_restore_the_empire }
		
		icon = GFX_focus_attack_britain
		x = -1
		y = 3
		relative_position_id = SPA_restore_the_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = ENG
				generator = { 118 }
				expire = 0
			}
		}
	}

	focus = {
		id = SPA_claim_the_french_throne
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_restore_the_empire }
		
		icon = GFX_focus_chi_reach_out_to_france
		x = 0
		y = 1
		relative_position_id = SPA_restore_the_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					FRA = {
						has_completed_focus = FRA_the_legitimate_heir
					}
				}
				FRA = { country_event = { id = lar_spain.42 hours = 6 random_hours = 6 } }
			}
			else = {
				create_wargoal = {
					type = annex_everything
					target = FRA
				}
			}
		}
	}

	focus = {
		id = SPA_retake_the_spanish_netherlands
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_claim_the_french_throne }
		
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 0
		y = 1
		relative_position_id = SPA_claim_the_french_throne
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = annex_everything
			    target = HOL
			    expire = 0
			}
			create_wargoal = {
			    type = annex_everything
			    target = BEL
			    expire = 0
			}
			create_wargoal = {
			    type = annex_everything
			    target = LUX
			    expire = 0
			}
		}
	}

	focus = {
		id = SPA_restore_the_iberian_union
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_restore_the_empire }
		
		icon = GFX_focus_generic_befriend_portugal
		x = 1
		y = 3
		relative_position_id = SPA_restore_the_empire
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			POR = { country_event = { id = lar_spain.45 hours = 6 random_hours = 6 } }
		}
	}

	focus = {
		id = SPA_the_war_of_vengeance
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_press_the_gibraltar_claim }
		prerequisite = { focus = SPA_restore_the_iberian_union }
		
		icon = GFX_focus_spa_the_war_of_vengeance
		x = 1
		y = 1
		relative_position_id = SPA_press_the_gibraltar_claim
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_wargoal = {
			    type = take_state_focus
			    target = USA
			    generator = { 378 379 380 377 376 375 }
			    expire = 0
			}
			create_wargoal = {
			    type = puppet_wargoal_focus
			    target = PHI
			    expire = 0
			}
			create_wargoal = {
			    type = annex_everything
			    target = CUB
			    expire = 0
			}
		}
	}

	focus = {
		id = SPA_found_the_academia_vazquez_de_mella
		available = {
			num_of_factories > 50
		}
		bypass = {
		}
		prerequisite = { focus = SPA_dios_patria_rey }
		
		icon = GFX_focus_research2
		x = 2
		y = 1
		relative_position_id = SPA_dios_patria_rey
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPA_a_fleet_worthy_of_a_king
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_restore_the_empire }
		
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 3
		y = 1
		relative_position_id = SPA_restore_the_empire
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPA_a_fleet_worthy_of_a_king_3DY }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SPA_a_fleet_worthy_of_a_king
				bonus = 1
				uses = 1
				category = dd_tech
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_a_fleet_worthy_of_a_king_3DY
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPA_a_fleet_worthy_of_a_king_3DY }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SPA_a_fleet_worthy_of_a_king_3DY
			}
		}
	}

	focus = {
		id = SPA_rebuild_the_battlefleet
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_a_fleet_worthy_of_a_king }
		
		icon = GFX_goal_generic_navy_battleship
		x = 0
		y = 1
		relative_position_id = SPA_a_fleet_worthy_of_a_king
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = SPA_rebuild_the_battlefleet
			add_tech_bonus = {
				name = SPA_rebuild_the_battlefleet
				bonus = 1
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = SPA_imperial_security
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPA_rebuild_the_battlefleet }
		
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 1
		relative_position_id = SPA_rebuild_the_battlefleet
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = SPA_imperial_security
				bonus = 1
				uses = 2
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPA_imperial_security
				bonus = 1
				uses = 1
				category = naval_doctrine
			}
		}
	}

###  ### ###  #  # ###  #   ###  ##   ##  #  #  ##             ##  #  #  ##  ###   ##  #  # ###  ## ###  ## 
#  # #   #  # #  # #  # #    #  #  # #  # ## # #              #  # ## # #  # #  # #  # #  #  #  #    #  #   
###  ##  ###  #  # ###  #    #  #    #### # ##  #      ##     #### # ## #### ###  #    ####  #   #   #   #  
#  # #   #    #  # #  # #    #  #  # #  # #  #   #            #  # #  # #  # #  # #  # #  #  #    #  #    # 
#  # ### #     ##  ###  ### ###  ##  #  # #  # ##             #  # #  # #  # #  #  ##  #  # ### ##   #  ##  

	focus = {
		id = SPR_regional_defense_council_of_aragon
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_disband_the_army }
		mutually_exclusive = { focus = SPR_the_anti_fascist_workers_revolution focus = SPR_maintain_the_second_republic }
		
		icon = GFX_focus_spr_regional_defense_council_of_aragon
		x = -11
		y = 1
		relative_position_id = SPR_disband_the_army
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			create_field_marshal = {
				name = "Buenaventura Durruti"
				gfx = "GFX_portrait_SPR_buenaventura_durruti"
				traits = { infantry_officer offensive_doctrine aggressive_assaulter }
				skill = 3
			    attack_skill = 3
			    defense_skill = 3
			    planning_skill = 2
			    logistics_skill = 2
			}
			create_corps_commander = {
				name = "Eduardo Medrano Rivas"
				gfx = "GFX_portrait_SPR_eduardo_medrano_rivas"
				traits = { infantry_leader }
				skill = 3
			    attack_skill = 3
			    defense_skill = 2
			    planning_skill = 2
			    logistics_skill = 3
			}
			create_corps_commander = {
				name = "Lina Ódena"
				gfx = "GFX_portrait_SPR_lina_odena"
				traits = { adaptable }
				female = yes
				skill = 2
			    attack_skill = 2
			    defense_skill = 2
			    planning_skill = 2
			    logistics_skill = 1
			}
			create_corps_commander = {
				name = "Cipriano Mera"
				gfx = "GFX_portrait_SPR_cipriano_mera"
				traits = { trait_cautious }
				skill = 2
			    attack_skill = 1
			    defense_skill = 2
			    planning_skill = 2
			    logistics_skill = 2
			}
			add_stability = -0.1
			add_war_support = 0.1
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_ideas = SPR_anarchist_society_1
			activate_mission = SPR_government_crackdown_mission
		}
	}

	focus = {
		id = SPR_appropriate_the_means_of_production
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_regional_defense_council_of_aragon }
		
		icon = GFX_focus_generic_support_the_left_right
		x = -1
		y = 1
		relative_position_id = SPR_regional_defense_council_of_aragon
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_anarchist_society_1
				add_idea = SPR_anarchist_society_2
			}
		}
	}

	focus = {
		id = SPR_autogestion
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_appropriate_the_means_of_production }
		
		icon = GFX_goal_generic_production
		x = -1
		y = 1
		relative_position_id = SPR_appropriate_the_means_of_production
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_2
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_2
					add_idea = SPR_anarchist_society_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_6
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_8
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_8
					add_idea = SPR_anarchist_society_9
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_11
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_11
					add_idea = SPR_anarchist_society_12
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_13
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_13
					add_idea = SPR_anarchist_society_14
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_2
						add_idea = SPR_anarchist_society_3
					}
				}
			}
		}
	}

	focus = {
		id = SPR_collectivization_and_workers_control
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_autogestion }
		prerequisite = { focus = SPR_seize_public_transport }
		prerequisite = { focus = SPR_agrarian_collectivization }
		
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 0
		y = 2
		relative_position_id = SPR_autogestion
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_3
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_3
					add_idea = SPR_anarchist_society_4
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_7
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_9
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_9
					add_idea = SPR_anarchist_society_10
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_12
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_12
					add_idea = SPR_anarchist_society_15
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_14
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_14
					add_idea = SPR_anarchist_society_16
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_3
						add_idea = SPR_anarchist_society_4
					}
				}
			}
		}
	}

	focus = {
		id = SPR_arm_the_people
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_regional_defense_council_of_aragon }
		
		icon = GFX_goal_generic_military_sphere
		x = 1
		y = 1
		relative_position_id = SPR_regional_defense_council_of_aragon
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = SPR_disbanded_army_1
				add_idea = SPR_disbanded_army_2
			}
		}
	}

	focus = {
		id = SPR_the_maximum_concession
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = scw_over
				tag = SPC
			}
		}
		prerequisite = { focus = SPR_appropriate_the_means_of_production }
		prerequisite = { focus = SPR_arm_the_people }
		
		icon =  GFX_focus_generic_concessions
		x = 1
		y = 1
		relative_position_id = SPR_appropriate_the_means_of_production
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPR_the_maximum_concession
			add_days_mission_timeout = {
				mission = SPR_government_crackdown_mission
				days = 70
			}
		}
	}

	focus = {
		id = SPR_seize_public_transport
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_the_maximum_concession }
		
		icon = GFX_goal_generic_army_motorized
		x = -1
		y = 1
		relative_position_id = SPR_the_maximum_concession
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPR_anarchist_public_transport
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}

	focus = {
		id = SPR_agrarian_collectivization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_maximum_concession }
		
		icon = GFX_goal_generic_national_unity
		x = 1
		y = 1
		relative_position_id = SPR_the_maximum_concession
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_2
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_2
					add_idea = SPR_anarchist_society_5
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_8
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_3
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_3
					add_idea = SPR_anarchist_society_6
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_9
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_4
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_4
					add_idea = SPR_anarchist_society_7
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_7
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_7
					add_idea = SPR_anarchist_society_10
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_2
						add_idea = SPR_anarchist_society_5
					}
				}
			}
		}
	}

	focus = {
		id = SPR_mujeres_libres
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_seize_public_transport }
		prerequisite = { focus = SPR_agrarian_collectivization }
		
		icon = GFX_goal_generic_improve_relations
		x = 1
		y = 1
		relative_position_id = SPR_seize_public_transport
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_11
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_8
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_8
					add_idea = SPR_anarchist_society_13
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_12
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_9
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_9
					add_idea = SPR_anarchist_society_14
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_7
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_7
					add_idea = SPR_anarchist_society_15
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_10
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_10
					add_idea = SPR_anarchist_society_16
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_5
						add_idea = SPR_anarchist_society_11
					}
				}
			}
		}
	}

	focus = {
		id = SPR_literacy_programs
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_collectivization_and_workers_control }
		prerequisite = { focus = SPR_mujeres_libres }
		
		icon = GFX_focus_research
		x = 1
		y = 1
		relative_position_id = SPR_collectivization_and_workers_control
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_shared_burdens
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_arm_the_people }
		prerequisite = { focus = SPR_appropriate_the_means_of_production }
		
		icon = GFX_goal_generic_consumer_goods
		x = 1
		y = 1
		relative_position_id = SPR_arm_the_people
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_2
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_2
					add_idea = SPR_anarchist_society_5
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_8
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_3
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_3
					add_idea = SPR_anarchist_society_6
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_9
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_4
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_4
					add_idea = SPR_anarchist_society_7
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_7
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_7
					add_idea = SPR_anarchist_society_10
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_15
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_15
					add_idea = SPR_anarchist_society_16
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_17
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_17
					add_idea = SPR_anarchist_society_18
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_18
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_18
					add_idea = SPR_anarchist_society_19
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_2
						add_idea = SPR_anarchist_society_5
					}
				}
			}
		}
	}

	focus = {
		id = SPR_international_brigades
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_arm_the_people focus = SPR_arm_the_workers_militias }
		
		icon = GFX_goal_generic_allies_build_infantry
		x = 4
		y = 1
		relative_position_id = SPR_arm_the_people
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = SPR_the_anti_fascist_workers_revolution
				}
				create_field_marshal = {
					name = "Máté Zalka"
					gfx = "GFX_portrait_SPR_mate_zalka"
					traits = {  }
					skill = 2
				    attack_skill = 2
				    defense_skill = 1
				    planning_skill = 2
				    logistics_skill = 2
				}
			}
			add_ideas = SPR_international_brigades
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}

	focus = {
		id = SPR_seize_the_gold_reserves
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = scw_over
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = SPR_gold_reserves_flag
			}
		}
		prerequisite = { focus = SPR_the_maximum_concession focus = SPR_hinder_nkvd_interference }
		
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 5
		y = 1
		relative_position_id = SPR_the_maximum_concession
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_timed_idea = { idea = SPR_seized_gold_reserves  days = 730 }
			set_global_flag = SPR_gold_reserves_flag
		}
	}

	focus = {
		id = SPR_foreign_arms_purchases
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_seize_the_gold_reserves }
		
		icon = GFX_goal_generic_small_arms
		x = -2
		y = 1
		relative_position_id = SPR_seize_the_gold_reserves
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_foreign_arms_purchases_tt
		}
	}

	focus = {
		id = SPR_masters_of_our_own_fate
		available = {
		}
		bypass = {
			OR = {
				has_war_with = SPD
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPR_seize_the_gold_reserves }
		
		icon = GFX_focus_spr_masters_of_our_own_fate
		x = 0
		y = 1
		relative_position_id = SPR_seize_the_gold_reserves
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
					set_politics = {
						ruling_party = neutrality
					}
					set_party_name = { ideology = communism long_name = SPR_communism_independent_party_long name = SPR_communism_independent_party }
					create_country_leader = {
						name = "Julián Gorkin"
						desc = "POLITICS_JULIAN_GORKIN_DESC"
						picture = "GFX_portrait_SPR_julian_gorkin"
						expire = "1965.1.1"
						ideology = anarchist_communism
						traits = {
							militant_socialist
						}
					}
					create_country_leader = {
						name = "Anarchist Commune"
						desc = "POLITICS_ANARCHIST_COMMUNE_DESC"
						picture = "GFX_portrait_SPR_anarchist_commune"
						expire = "1965.1.1"
						ideology = anarchism
						traits = {
							our_right_to_survive
						}
					}
					add_popularity = {
					    ideology = fascism
					    popularity = -1
					}
					add_popularity = {
					    ideology = communism
					    popularity = -0.25
					}
					if = {
						limit = {
							democratic > 0.01
						}
						set_political_party = {
						    ideology = democratic
						    popularity = 1
						}
					}
				}
				if = {
					limit = {
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
					set_politics = {
						ruling_party = communism
					}
					set_party_name = { ideology = communism long_name = SPR_communism_independent_party_long name = SPR_communism_independent_party }
					create_country_leader = {
						name = "Julián Gorkin"
						desc = "POLITICS_JULIAN_GORKIN_DESC"
						picture = "GFX_portrait_SPR_julian_gorkin"
						expire = "1965.1.1"
						ideology = anarchist_communism
						traits = {
							militant_socialist
						}
					}
					create_field_marshal = {
						name = "José Rovira"
						portrait_path = "gfx/leaders/Europe/Portrait_Europe_Generic_land_5.dds"
						traits = { infantry_officer politically_connected }
						skill = 3
					    attack_skill = 2
					    defense_skill = 2
					    planning_skill = 2
					    logistics_skill = 3
					}
					create_corps_commander = {
						name = "Carmel Rosa Baserba"
						portrait_path = "gfx/leaders/Europe/Portrait_Europe_Generic_land_1.dds"
						traits = { trait_cautious infantry_officer }
						skill = 3
					    attack_skill = 2
					    defense_skill = 2
					    planning_skill = 2
					    logistics_skill = 2
					}
					create_corps_commander = {
						name = "Luis Rastrollo"
						portrait_path = "gfx/leaders/Europe/Portrait_Europe_Generic_land_19.dds"
						traits = { politically_connected }
						skill = 1
					    attack_skill = 1
					    defense_skill = 2
					    planning_skill = 1
					    logistics_skill = 1
					}
					custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_4
					add_popularity = {
					    ideology = fascism
					    popularity = -1
					}
					add_popularity = {
					    ideology = communism
					    popularity = -0.05
					}
					if = {
						limit = {
							democratic > 0.01
						}
						set_political_party = {
						    ideology = democratic
						    popularity = 1
						}
					}
					drop_cosmetic_tag = yes
					set_cosmetic_tag = SPC_poum
				}
				if = {
					limit = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
					remove_ideas = SPR_the_maximum_concession
					add_ideas = closed_economy
				}
			}
			if = {
				limit = {
					NOT = { has_global_flag = spanish_civil_war }
				}
				effect_tooltip = { add_timed_idea = { idea = SPR_masters_of_our_own_fate_tooltip days = 60 } }
			}
			else = {
				add_timed_idea = { idea = SPR_masters_of_our_own_fate days = 60 }
			}
			if = {
				limit = {
					has_completed_focus = SPR_regional_defense_council_of_aragon
				}
				custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_2
			}
			if = {
				limit = {
					has_completed_focus = SPR_the_anti_fascist_workers_revolution
				}
				custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_3
			}
			custom_effect_tooltip = SPR_masters_of_our_own_fate_tt
			if = {
				limit = {
					NOT = { has_war_with = SPD }
				}
				hidden_effect = { country_event = lar_spain.10 }
			}
		}
	}

	focus = {
		id = SPR_all_must_bear_the_torch
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_mujeres_libres }
		prerequisite = { focus = SPR_masters_of_our_own_fate }
		prerequisite = { focus = SPR_collectivization_and_workers_control }
		
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		x = 1
		y = 1
		relative_position_id = SPR_mujeres_libres
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = SPR_collectivized_society
			if = {
				limit = {
					NOT = { has_idea = closed_economy }
				}
				add_ideas = closed_economy
			}
			if = {
				limit = {
					NOT = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
				}
				add_ideas = volunteer_only
			}
			if = {
				limit = {
					has_idea = SPR_anarchist_society_15
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_15
					add_idea = SPR_anarchist_society_17
				}
			}
			if = {
				limit = {
					has_idea = SPR_anarchist_society_16
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_16
					add_idea = SPR_anarchist_society_18
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_15
						add_idea = SPR_anarchist_society_17
					}
				}
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}

	focus = {
		id = SPR_the_threats_abound
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_all_must_bear_the_torch }
		
		icon = GFX_goal_generic_defence
		x = -1
		y = 1
		relative_position_id = SPR_all_must_bear_the_torch
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPR_the_threats_abound_1
		}
	}

	focus = {
		id = SPR_portuguese_anarchism
		available = {
			any_state = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_owned_by = POR
				}
			}
		}
		bypass = {
			owns_state = 180
			owns_state = 181
			owns_state = 112
			owns_state = 179
			owns_state = 795
		}

		will_lead_to_war_with = POR
		prerequisite = { focus = SPR_the_threats_abound }
		
		icon = GFX_focus_generic_attack_portugal
		x = -2
		y = 1
		relative_position_id = SPR_the_threats_abound
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					POR = { has_civil_war = yes }
				}
				every_country = {
					limit = {
						original_tag = POR
					}
					ROOT = {
						create_wargoal = {
							type = annex_everything
						    target = PREV
						    expire = 0
						}
					}
				}
			}
			else = {
				POR = { country_event = { id = lar_spain.48 hours = 6 random_hours = 18 } }
			}
		}
	}

	focus = {
		id = SPR_regional_defense_council_of_iberia
		available = {
			owns_state = 180
			owns_state = 181
			owns_state = 112
			owns_state = 179
			owns_state = 795
		}
		bypass = {
		}
		prerequisite = { focus = SPR_portuguese_anarchism }
		
		icon = GFX_goal_generic_alliance
		x = 0
		y = 1
		relative_position_id = SPR_portuguese_anarchism
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_regional_defense_council_of_iberia_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPC_regional_defense_council_of_iberia
			}
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_core_of = ROOT
			}
		}
	}

	focus = {
		id = SPR_a_new_way_of_warfare
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_threats_abound }
		
		icon = GFX_goal_generic_army_tanks
		x = 0
		y = 1
		relative_position_id = SPR_the_threats_abound
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_a_new_way_of_warfare
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPR_a_new_way_of_warfare
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SPR_communal_military_strategies
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_a_new_way_of_warfare }
		
		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 1
		relative_position_id = SPR_a_new_way_of_warfare
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			remove_ideas = SPR_disbanded_army_2
			add_tech_bonus = {
				name = SPR_communal_military_strategies
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_council_of_theorists
		}
	}

	focus = {
		id = SPR_maintaining_the_fire
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_all_must_bear_the_torch }
		
		icon = GFX_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = SPR_all_must_bear_the_torch
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.15
		}
	}

	focus = {
		id = SPR_freedom_of_thought
		available = {
			num_of_factories > 50
		}
		bypass = {
		}
		prerequisite = { focus = SPR_maintaining_the_fire }
		
		icon = GFX_focus_research2
		x = 0
		y = 1
		relative_position_id = SPR_maintaining_the_fire
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_torchbearers_of_tomorrow
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_a_new_way_of_warfare }
		prerequisite = { focus = SPR_collective_recovery_efforts }
		
		icon = GFX_goal_generic_demand_territory
		x = 2
		y = 1
		relative_position_id = SPR_a_new_way_of_warfare
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = SPR_torchbearers_of_tomorrow
			swap_ideas = {
				remove_idea = SPR_the_threats_abound_1
				add_idea = SPR_the_threats_abound_2
			}
		}
	}

	focus = {
		id = SPR_the_inevitable_counterblow
		available = {
			has_country_leader = {
				name = "Anarchist Commune"
				ruling_only = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_regional_defense_council_of_iberia }
		prerequisite = { focus = SPR_torchbearers_of_tomorrow }
		
		icon = GFX_goal_generic_construct_military
		x = 2
		y = 1
		relative_position_id = SPR_regional_defense_council_of_iberia
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			add_ideas = SPR_the_inevitable_counterblow
			add_country_leader_trait = anarchist_zeal
			hidden_effect = {
				news_event = { id = lar_news.22 hours = 6 }
			}
		}
	}

	focus = {
		id = SPR_improve_military_infrastructure
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_inevitable_counterblow }
		
		icon = GFX_goal_generic_construct_infrastructure
		x = -2
		y = 1
		relative_position_id = SPR_the_inevitable_counterblow
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = SPR_improve_military_infrastructure
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				set_state_flag = SPR_improve_military_infrastructure_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_improve_military_infrastructure_1inf }
				}
				set_state_flag = SPR_improve_military_infrastructure_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_improve_military_infrastructure_1inf }
				}
				set_state_flag = SPR_improve_military_infrastructure_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_improve_military_infrastructure_1inf }
				}
				set_state_flag = SPR_improve_military_infrastructure_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_fortify_the_pyrenees
		available = {
			has_full_control_of_state = 792
			has_full_control_of_state = 172
			has_full_control_of_state = 166
			has_full_control_of_state = 794
			has_full_control_of_state = 165
		}
		bypass = {
		}
		prerequisite = { focus = SPR_improve_military_infrastructure }
		
		icon = GFX_goal_generic_fortify_city
		x = 0
		y = 1
		relative_position_id = SPR_improve_military_infrastructure
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_fortify_the_pyrenees_tt
			hidden_effect = {
				792 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 6756
						}
						level = 3
						instant_build = yes
					}
				}
				172 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3737
							id = 3931
						}
						level = 3
						instant_build = yes
					}
				}
				166 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 11838
						}
						level = 3
						instant_build = yes
					}
				}
				794 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 915
							id = 899
						}
						level = 3
						instant_build = yes
					}
				}
				165 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3899
							id = 3898
							id = 11779
							id = 9824
						}
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPR_fortify_la_linea_de_la_concepcion
		available = {
			has_full_control_of_state = 169
			has_full_control_of_state = 173
		}
		bypass = {
		}
		prerequisite = { focus = SPR_fortify_the_pyrenees }
		
		icon = GFX_goal_generic_fortify_city
		x = -1
		y = 1
		relative_position_id = SPR_fortify_the_pyrenees
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_fortify_la_linea_de_la_concepcion_tt
			hidden_effect = {
				169 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 13228
							id = 10094
						}
						level = 3
						instant_build = yes
					}
				}
				173 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 7153
						}
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPR_fortify_the_coastlines
		available = {
			NOT = {
				any_state = {
					is_core_of = ROOT
					is_in_home_area = yes
					is_coastal = yes
					NOT = { is_controlled_by = ROOT }
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_fortify_the_pyrenees }
		
		icon = GFX_focus_generic_coastal_fort
		x = 1
		y = 1
		relative_position_id = SPR_fortify_the_pyrenees
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_fortify_the_coastlines_tt_1
			custom_effect_tooltip = SPR_fortify_the_coastlines_tt_2
			hidden_effect = {
				171 = {
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 1
						instant_build = yes
					}
				}
				790 = {
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 1
						instant_build = yes
					}
				}
				792 = {
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 1
						instant_build = yes
					}
				}
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						is_in_home_area = yes
					}
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPR_militarize_the_industry
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_inevitable_counterblow }
		
		icon = GFX_goal_generic_construct_mil_factory
		x = 0
		y = 1
		relative_position_id = SPR_the_inevitable_counterblow
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPR_militarize_the_industry_1mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_militarize_the_industry_1mil }
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_militarize_the_industry_1mil }
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_militarize_the_industry_1mil }
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_communal_autarky
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_militarize_the_industry }
		
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		relative_position_id = SPR_militarize_the_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_17
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_17
					add_idea = SPR_anarchist_society_18
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_18
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_18
					add_idea = SPR_anarchist_society_19
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_17
						add_idea = SPR_anarchist_society_18
					}
				}
			}
			remove_ideas = SPA_recovering_from_civil_war
			add_tech_bonus = {
				name = SPR_communal_autarky
				bonus = 1
				uses = 1
				category = excavation_tech
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPR_faith_in_the_cause
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_torchbearers_of_tomorrow }
		
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 0
		y = 1
		relative_position_id = SPR_torchbearers_of_tomorrow
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = SPR_militarize_the_people
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_inevitable_counterblow }
		prerequisite = { focus = SPR_faith_in_the_cause }
		
		icon = GFX_goal_generic_military_deal
		x = 2
		y = 1
		relative_position_id = SPR_the_inevitable_counterblow
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
			swap_ideas = {
				remove_idea = SPR_the_threats_abound_2
				add_idea = SPR_the_threats_abound_3
			}
		}
	}

	focus = {
		id = SPR_anarchism_knows_no_borders
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_militarize_the_people }
		
		icon = GFX_focus_spr_anarchism_knows_no_borders
		x = 0
		y = 1
		relative_position_id = SPR_militarize_the_people
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_ideas = SPR_anarchism_knows_no_borders
		}
	}

	focus = {
		id = SPR_plant_the_seeds_of_revolution
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_anarchism_knows_no_borders }
		
		icon = GFX_focus_prc_infiltration
		x = -1
		y = 1
		relative_position_id = SPR_anarchism_knows_no_borders
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_plant_the_seeds_of_revolution_tt
			division_template = {
				name = "Anarchist Militia"
				priority = 1
				is_locked = yes
				division_names_group = SPD_INF_06
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				}
			}
		}
	}

	focus = {
		id = SPR_global_defense_council
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_anarchism_knows_no_borders }
		
		icon = GFX_goal_generic_alliance
		x = 1
		y = 1
		relative_position_id = SPR_anarchism_knows_no_borders
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_global_defense_council_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPC_global_defense_council
			}
			custom_effect_tooltip = SPR_global_defense_council_tt_2
		}
	}

###  ### ###  #  # ###  #   ###  ##   ##  #  #  ##             ##   ##  #   # #   # #  # #  # ###  ## ###  ## 
#  # #   #  # #  # #  # #    #  #  # #  # ## # #              #  # #  # ## ## ## ## #  # ## #  #  #    #  #   
###  ##  ###  #  # ###  #    #  #    #### # ##  #      ##     #    #  # # # # # # # #  # # ##  #   #   #   #  
#  # #   #    #  # #  # #    #  #  # #  # #  #   #            #  # #  # #   # #   # #  # #  #  #    #  #    # 
#  # ### #     ##  ###  ### ###  ##  #  # #  # ##              ##   ##  #   # #   #  ##  #  # ### ##   #  ##  

	focus = {
		id = SPR_the_anti_fascist_workers_revolution
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_disband_the_army }
		mutually_exclusive = { focus = SPR_regional_defense_council_of_aragon focus = SPR_maintain_the_second_republic }
		
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		x = 0
		y = 1
		relative_position_id = SPR_disband_the_army
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			activate_mission = SPR_anarchist_uprising_mission
		}
	}

	focus = {
		id = SPR_strengthen_the_euzko_gudarostea
		available = {
			has_full_control_of_state = 792
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_anti_fascist_workers_revolution focus = SPR_maintain_the_second_republic }
		
		icon = GFX_goal_generic_allies_build_infantry
		x = 6
		y = 1
		relative_position_id = SPR_the_anti_fascist_workers_revolution
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			custom_effect_tooltip = SPR_strengthen_the_euzko_gudarostea_tt
			hidden_effect = {
				division_template = {
					name = "Euzko Gudarosteko Eskuadroia"
					priority = 1
					division_names_group = SPD_INF_05
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				# Basque
				792 = {
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = SPR_fortify_the_iron_ring
		available = {
			has_full_control_of_state = 792
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_strengthen_the_euzko_gudarostea }
		
		icon = GFX_goal_generic_fortify_city
		x = 0
		y = 1
		relative_position_id = SPR_strengthen_the_euzko_gudarostea
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = { idea = SPR_fortify_the_iron_ring days = 730 }
			792 = {
				add_building_construction = {
					type = bunker
					province = {
						id = 740
					}
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_arm_the_workers_militias
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = scw_over
				has_global_flag = SPR_anarchist_uprising_flag
			}
		}
		prerequisite = { focus = SPR_the_anti_fascist_workers_revolution }
		
		icon = GFX_goal_generic_military_sphere
		x = -1
		y = 1
		relative_position_id = SPR_the_anti_fascist_workers_revolution
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = SPR_disbanded_army_1
				add_idea = SPR_disbanded_army_2
			}
		}
	}

	focus = {
		id = SPR_hinder_nkvd_interference
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		cancel = {
			has_completed_focus = SPR_the_stalinist_doctrine
		}
		prerequisite = { focus = SPR_arm_the_workers_militias }
		prerequisite = { focus = SPR_demand_ministerial_positions }
		mutually_exclusive = { focus = SPR_the_stalinist_doctrine }
		
		icon = GFX_focus_generic_support_the_left_right
		x = -1
		y = 1
		relative_position_id = SPR_arm_the_workers_militias
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			set_party_name = { ideology = communism long_name = SPR_communism_independent_party_long name = SPR_communism_independent_party }
			add_stability = 0.05
			SOV = {
				add_opinion_modifier = { target = ROOT modifier = SPR_hinder_nkvd_interference }
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = support
					id = ROOT
					value = -200
				}
			}
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SPR_alexander_orlov
			custom_effect_tooltip = SPR_hinder_nkvd_interference_tt
			hidden_effect = {
				set_variable = { var = SPR_communists_uprising_mission_var value = days_mission_timeout@SPR_anarchist_uprising_mission }
				remove_mission = SPR_anarchist_uprising_mission
				activate_mission = SPR_government_crackdown_mission
			}
		}
	}

	focus = {
		id = SPR_demand_ministerial_positions
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = scw_over
				has_global_flag = SPR_anarchist_uprising_flag
			}
		}
		prerequisite = { focus = SPR_the_anti_fascist_workers_revolution }
		
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 1
		y = 1
		relative_position_id = SPR_the_anti_fascist_workers_revolution
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_ideas = SPR_demand_ministerial_positions
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_dolores_ibarruri
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_jesus_hernandez_tomas
		}
	}

	focus = {
		id = SPR_the_stalinist_doctrine
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_demand_ministerial_positions }
		prerequisite = { focus = SPR_arm_the_workers_militias }
		mutually_exclusive = { focus = SPR_hinder_nkvd_interference }
		
		icon = GFX_focus_generic_soviet_politics
		x = 1
		y = 1
		relative_position_id = SPR_demand_ministerial_positions
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = -0.1
			add_political_power = 120
			SOV = { add_opinion_modifier = { target = ROOT modifier = SPR_the_stalinist_doctrine } }
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = SPR_wilhelm_zaisser
		}
	}

	focus = {
		id = SPR_subvert_the_stalinists
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_hinder_nkvd_interference }
		
		icon = GFX_goal_generic_more_territorial_claims
		x = -1
		y = 1
		relative_position_id = SPR_hinder_nkvd_interference
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.05
			add_political_power = 120
		}
	}

	focus = {
		id = SPR_class_war
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_subvert_the_stalinists }
		
		icon = GFX_focus_spr_class_war
		x = 0
		y = 1
		relative_position_id = SPR_subvert_the_stalinists
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = SPR_class_war_1
		}
	}

	focus = {
		id = SPR_secularize_the_new_state
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_hinder_nkvd_interference focus = SPR_the_stalinist_doctrine }
		
		icon = GFX_focus_mex_triumph_over_the_cristeros
		x = 2
		y = 1
		relative_position_id = SPR_hinder_nkvd_interference
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = -0.1
			add_political_power = 200
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
	}

	focus = {
		id = SPR_appropriate_church_riches
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_secularize_the_new_state }
		
		icon = GFX_goal_generic_construct_civilian
		x = 0
		y = 1
		relative_position_id = SPR_secularize_the_new_state
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_timed_idea = { idea = SPR_appropriate_church_riches days = 730 }
		}
	}

	focus = {
		id = SPR_an_army_of_all_classes
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_stalinist_doctrine }
		
		icon = GFX_focus_YUG_pan_slavic_congress
		x = 1
		y = 2
		relative_position_id = SPR_the_stalinist_doctrine
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = SPR_an_army_of_all_classes_1
		}
	}

	focus = {
		id = SPR_relocate_the_gold_reserves
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = scw_over
				has_global_flag = SPR_gold_reserves_flag
			}
		}
		prerequisite = { focus = SPR_the_stalinist_doctrine focus = SPR_the_future_of_the_republic }
		
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 3
		y = 1
		relative_position_id = SPR_the_stalinist_doctrine
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_stability = -0.05
			add_ideas = SPR_relocate_the_gold_reserves
			custom_effect_tooltip = SPR_relocate_the_gold_reserves_tt
			country_event = lar_spain.51
			set_global_flag = SPR_gold_reserves_flag
		}
	}

	focus = {
		id = SPR_reaffirm_the_popular_front_strategy
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPR_the_stalinist_doctrine focus = SPR_the_future_of_the_republic }
		
		icon = GFX_goal_generic_propaganda
		x = 5
		y = 1
		relative_position_id = SPR_the_stalinist_doctrine
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_war_support = 0.05
			add_timed_idea = { idea = SPR_popular_front_1 days = 730 }
		}
	}

	focus = {
		id = SPR_anti_fascist_unity
		available = {
			NOT = { has_global_flag = scw_over }
			NOT = { has_global_flag = SPR_anarchist_uprising_flag }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_reaffirm_the_popular_front_strategy }
		
		icon = GFX_goal_generic_improve_relations
		x = 3
		y = 1
		relative_position_id = SPR_reaffirm_the_popular_front_strategy
		cost = 5

		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPR_anti_fascist_unity_tt
			add_days_mission_timeout = {
				mission = SPR_anarchist_uprising_mission
				days = 140
			}
		}
	}

	focus = {
		id = SPR_crush_the_revolution
		available = {
		}
		bypass = {
			OR = {
				has_war_with = SPC
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPR_reaffirm_the_popular_front_strategy }
		
		icon = GFX_focus_spr_crush_the_revolution
		x = 0
		y = 1
		relative_position_id = SPR_reaffirm_the_popular_front_strategy
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_SPA_CIVIL_WAR}
		completion_reward = {
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SPR_jesus_hernandez_tomas
			add_timed_idea = { idea = SPR_crush_the_revolution days = 60 }
			swap_ideas = {
				remove_idea = SPR_popular_front_1
				add_idea = SPR_popular_front_2
			}
			custom_effect_tooltip = SPR_crush_the_revolution_tt
			if = {
				limit = {
					NOT = { has_war_with = SPC }
				}
				hidden_effect = { country_event = lar_spain.9 }
			}
		}
	}

	focus = {
		id = SPR_united_under_socialism
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_class_war }
		prerequisite = { focus = SPR_masters_of_our_own_fate }
		
		icon = GFX_goal_tripartite_pact
		x = 0
		y = 1
		relative_position_id = SPR_class_war
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
				add_dynamic_modifier = { modifier = semi_autonomous_state }
			}
		}
	}

	focus = {
		id = SPR_wealth_redistribution
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_united_under_socialism }
		
		icon = GFX_goal_generic_consumer_goods
		x = -1
		y = 1
		relative_position_id = SPR_united_under_socialism
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_ideas = SPR_wealth_redistribution
		}
	}

	focus = {
		id = SPR_collective_recovery_efforts
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_wealth_redistribution focus = SPR_maintaining_the_fire }
		
		icon = GFX_goal_generic_construct_infrastructure
		x = -2
		y = 1
		relative_position_id = SPR_wealth_redistribution
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_timed_idea = { idea = SPR_collective_recovery_efforts days = 730 }
			every_state = {
				limit	= {
					is_core_of = ROOT
					is_in_home_area = yes
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_repair_and_expand_the_dockyards
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_collective_recovery_efforts }
		
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 0
		y = 1
		relative_position_id = SPR_collective_recovery_efforts
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_repair_and_expand_the_dockyards_2DY }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_repair_and_expand_the_dockyards_2DY
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_repair_and_expand_the_dockyards_2DY }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_repair_and_expand_the_dockyards_2DY
			}
		}
	}

	focus = {
		id = SPR_the_peoples_fleet
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_repair_and_expand_the_dockyards }
		
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 1
		relative_position_id = SPR_repair_and_expand_the_dockyards
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 75
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = SPR_land_redistribution
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_united_under_socialism }
		
		icon = GFX_goal_generic_construction2
		x = 1
		y = 1
		relative_position_id = SPR_united_under_socialism
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_land_redistribution_1slot }
				add_extra_state_shared_building_slots = 1
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_land_redistribution_1slot }
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_land_redistribution_1slot }
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_land_redistribution_1slot }
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_land_redistribution_1slot }
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
		}
	}

	focus = {
		id = SPR_expand_the_means_of_production
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_land_redistribution }
		
		icon = GFX_focus_generic_industry_3
		x = 0
		y = 1
		relative_position_id = SPR_land_redistribution
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPR_expand_the_means_of_production_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit	= {	has_state_flag = SPR_expand_the_means_of_production_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_expand_the_means_of_production
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_expand_the_means_of_production_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_expand_the_means_of_production_2civ }
				}
				set_state_flag = SPR_expand_the_means_of_production_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_invite_socialist_intellectuals
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_class_war focus = SPR_an_army_of_all_classes }
		
		icon = GFX_focus_research
		x = 3
		y = 1
		relative_position_id = SPR_class_war
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_solidify_government_control
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_an_army_of_all_classes }
		
		icon = GFX_focus_generic_self_management
		x = 0
		y = 1
		relative_position_id = SPR_an_army_of_all_classes
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			set_politics = {
				ruling_party = communism
			}
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = autonomous_state }
				add_dynamic_modifier = { modifier = semi_autonomous_state }
			}
		}
	}

	focus = {
		id = SPR_reeducate_the_bourgeoisie
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_invite_socialist_intellectuals }
		prerequisite = { focus = SPR_solidify_government_control }
		
		icon = GFX_goal_generic_political_pressure
		x = 2
		y = 1
		relative_position_id = SPR_invite_socialist_intellectuals
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_stability = 0.05
			add_political_power = 60
		}
	}

	focus = {
		id = SPR_the_spanish_red_army
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_reeducate_the_bourgeoisie }
		
		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 1
		relative_position_id = SPR_reeducate_the_bourgeoisie
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 25
			remove_ideas = SPR_disbanded_army_2
			add_tech_bonus = {
				name = SPR_the_spanish_red_army
				bonus = 1
				uses = 1
				category = motorized_equipment
			}
			add_tech_bonus = {
				name = SPR_the_spanish_red_army
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPR_expand_soviet_aid
		available = {
			NOT = { has_war_with = SOV }
			NOT = { has_global_flag = scw_over }
			SOV = { has_government = communism }
			has_volunteers_amount_from = {
			    tag = SOV
			    count > 0
			}
		}
		bypass = {
			AND = {
				has_completed_focus = SPR_the_stalinist_doctrine
				has_global_flag = scw_over
			}
		}
		prerequisite = { focus = SPR_relocate_the_gold_reserves }
		prerequisite = { focus = SPR_crush_the_revolution }
		
		icon = GFX_goal_support_communism
		x = 1
		y = 2
		relative_position_id = SPR_relocate_the_gold_reserves
		cost = 5

		ai_will_do = {
			base = 1
			modifier = {
				factor = 3
				is_historical_focus_on = no
				SOV = {
					is_ai = no
				}
			}
			modifier = {
				factor = 3
				surrender_progress > 0.4
				is_historical_focus_on = no
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				SOV = {
					is_ai = yes
				}
			}
			modifier = {
				factor = 0
				surrender_progress < 0.4
				any_country = {
					NOT = { tag = SOV }
					ROOT = {
						has_volunteers_amount_from = {
						    tag = PREV
						    count > 0
						}
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			SOV = {
				add_timed_idea = { idea = SPA_spanish_civil_war_commitments days = 730 }
				add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
			}
			custom_effect_tooltip = SPR_expand_soviet_aid_tt
		}
	}

	focus = {
		id = SPR_soviet_equipment_shipments
		available = {
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_expand_soviet_aid }

		icon = GFX_goal_generic_build_tank
		x = -1
		y = 1
		relative_position_id = SPR_expand_soviet_aid
		cost = 5

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_soviet_equipment_shipments_1mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			SOV = {
				add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
				add_ai_strategy = { type = send_lend_lease_desire id = SPR value = 200 }
			}
			add_timed_idea = { idea = SPR_equipment_shipments_spain days = 730 }
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_soviet_equipment_shipments_1mil }
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_soviet_equipment_shipments_1mil }
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_soviet_military_advisors
		available = {
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_expand_soviet_aid }

		icon = GFX_focus_generic_military_mission
		x = 1
		y = 1
		relative_position_id = SPR_expand_soviet_aid
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			army_experience = 25
			add_war_support = 0.1
			add_ideas = SPR_soviet_military_advisors
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}

	focus = {
		id = SPR_soviet_industrial_aid
		available = {
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_soviet_equipment_shipments focus = SPR_soviet_military_advisors }

		icon = GFX_focus_generic_join_comintern
		x = 0
		y = 1
		relative_position_id = SPR_soviet_equipment_shipments
		cost = 5

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_soviet_industrial_aid_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_soviet_industrial_aid
				bonus = 1.0
				uses = 1
				category = industry
			}
			add_timed_idea = { idea = SPR_soviet_industrial_aid days = 730 }
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_soviet_industrial_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_soviet_technological_advancements
		available = {
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_soviet_equipment_shipments focus = SPR_soviet_military_advisors }

		icon = GFX_focus_generic_socialist_science
		x = 2
		y = 1
		relative_position_id = SPR_soviet_equipment_shipments
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_to_tech_sharing_group = spr_research
			SOV = { add_to_tech_sharing_group = spr_research }
			add_tech_bonus = {
				name = SPR_soviet_technological_advancements
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPR_soviet_technological_advancements
				bonus = 1
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SPR_soviet_recovery_aid
		available = {
			NOT = { has_war_with = SOV }
			SOV = { has_government = communism }
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_soviet_industrial_aid }
		prerequisite = { focus = SPR_soviet_technological_advancements }

		icon = GFX_goal_generic_soviet_construction
		x = 1
		y = 1
		relative_position_id = SPR_soviet_industrial_aid
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPR_soviet_recovery_aid_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_timed_idea = { idea = SPR_soviet_recovery_aid days = 1095 }
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_soviet_recovery_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_all_must_do_their_part
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_collective_recovery_efforts }
		prerequisite = { focus = SPR_expand_the_means_of_production }

		icon = GFX_goal_generic_consumer_goods
		x = 3
		y = 1
		relative_position_id = SPR_collective_recovery_efforts
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			swap_ideas = {
				remove_idea = SPR_class_war_1
				add_idea = SPR_class_war_2
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = semi_autonomous_state }
			}
		}
	}

	focus = {
		id = SPR_the_red_tide
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_all_must_do_their_part }

		icon = GFX_goal_generic_army_artillery
		x = -1
		y = 2
		relative_position_id = SPR_all_must_do_their_part
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_class_war_2
				add_idea = SPR_class_war_3
			}
		}
	}

	focus = {
		id = SPR_arm_the_tide
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_red_tide }

		icon = GFX_goal_generic_small_arms
		x = -1
		y = 1
		relative_position_id = SPR_the_red_tide
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_arm_the_tide
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPR_arm_the_tide
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = SPR_against_fascism
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_red_tide }

		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 0
		y = 2
		relative_position_id = SPR_the_red_tide
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			every_country = {
				limit = {
					capital_scope = { is_on_continent = europe }
					has_government = fascism
				}
				ROOT = {
					create_wargoal = {
					    type = puppet_wargoal_focus
					    target = PREV
					    expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = SPR_doctrinal_advancements
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_red_tide }
		prerequisite = { focus = SPR_lessons_from_the_civil_war }

		icon = GFX_goal_generic_air_doctrine
		x = 1
		y = 1
		relative_position_id = SPR_the_red_tide
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SPR_lessons_from_the_civil_war
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_all_must_do_their_part }

		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 1
		relative_position_id = SPR_all_must_do_their_part
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			remove_ideas = SPR_disbanded_army_2
			add_tech_bonus = {
				name = SPA_doctrinal_advancements
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPR_nationalize_the_industry
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_land_redistribution focus = SPR_reeducate_the_bourgeoisie }

		icon = GFX_goal_generic_construct_civ_factory
		x = 2
		y = 2
		relative_position_id = SPR_land_redistribution
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_nationalize_the_industry_1civ }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_stability = -0.1
			add_tech_bonus = {
				name = SPR_nationalize_the_industry
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_nationalize_the_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_nationalize_the_industry_1civ }
				}
				set_state_flag = SPR_nationalize_the_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_nationalize_the_industry_1civ }
				}
				set_state_flag = SPR_nationalize_the_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_beacon_of_socialism
		available = {
			num_of_factories > 50
		}
		bypass = {
		}
		prerequisite = { focus = SPR_nationalize_the_industry }

		icon = GFX_focus_research2
		x = -1
		y = 1
		relative_position_id = SPR_nationalize_the_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_increase_arms_production
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_nationalize_the_industry }

		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = SPR_nationalize_the_industry
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_increase_arms_production_1mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_increase_arms_production_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_increase_arms_production_1mil }
				}
				set_state_flag = SPR_increase_arms_production_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_increase_arms_production_1mil }
				}
				set_state_flag = SPR_increase_arms_production_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_exploit_spains_riches
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_beacon_of_socialism }
		prerequisite = { focus = SPR_increase_arms_production }
		
		icon = GFX_goal_generic_construction2
		x = 1
		y = 1
		relative_position_id = SPR_beacon_of_socialism
		cost = 10

		available_if_capitulated = yes
		search_filters = {}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPR_unify_the_london_bureau
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_lessons_from_the_civil_war }
		prerequisite = { focus = SPR_beacon_of_socialism }

		icon = GFX_focus_spr_unify_the_london_bureau
		x = 1
		y = 1
		relative_position_id = SPR_lessons_from_the_civil_war
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			create_faction = SPC_international_bureau_of_revolutionary_socialist_unity
			hidden_effect = { news_event = { id = lar_news.21 hours = 6 } }
			every_other_country = {
				limit = {
					has_government = communism
					is_in_faction = no
					NOT = {
						capital_scope = {
							is_on_continent = asia
						}
					}
				}
				country_event = { id = generic.5 hours = 6 random_hours = 6 }
			}
		}
	}

	focus = {
		id = SPR_against_trotskyism_and_stalinism
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_unify_the_london_bureau }

		icon = GFX_focus_attack_soviet
		x = 0
		y = 2
		relative_position_id = SPR_unify_the_london_bureau
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					MEX = {
						has_country_leader = {
						    name = "Leon Trotsky"
						    ruling_only = yes
						}
					}
				}
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = MEX
				    expire = 0
				}
			}
			if = {
				limit = {
					SOV = {
						has_country_leader = {
						    name = "Joseph Stalin"
						    ruling_only = yes
						}
					}
				}
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = SOV
				    expire = 0
				}
			}
		}
	}

	focus = {
		id = SPR_red_bulwark_in_the_west
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
			has_full_control_of_state = 172
			has_full_control_of_state = 166
			has_full_control_of_state = 794
			NOT = {
				any_state = {
					is_core_of = ROOT
					is_in_home_area = yes
					is_coastal = yes
					NOT = { is_controlled_by = ROOT }
				}
			}
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_spanish_red_army }
		prerequisite = { focus = SPR_soviet_industrial_aid }

		icon = GFX_goal_generic_construct_military
		x = 1
		y = 1
		relative_position_id = SPR_the_spanish_red_army
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			custom_effect_tooltip = SPA_prepare_the_pyrenees_defenses_tt
			hidden_effect = {
				792 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 6756
						}
						level = 2
						instant_build = yes
					}
				}
				172 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3737
							id = 3931
						}
						level = 2
						instant_build = yes
					}
				}
				166 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 11838
						}
						level = 2
						instant_build = yes
					}
				}
				794 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 915
							id = 899
						}
						level = 2
						instant_build = yes
					}
				}
				165 = {
					add_building_construction = {
						type = bunker
						province = {
							id = 3899
							id = 3898
							id = 11779
							id = 9824
						}
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SPA_defenses_against_invasion_tt
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = SPR_an_army_of_all_classes_1
				add_idea = SPR_an_army_of_all_classes_2
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = { modifier = semi_autonomous_state }
			}
		}
	}

	focus = {
		id = SPR_appeal_for_increased_autonomy
		available = {
			is_in_faction_with = SOV
			is_subject_of = SOV
		}
		bypass = {
			NOT = { is_subject_of = SOV }
		}
		prerequisite = { focus = SPR_red_bulwark_in_the_west }
		prerequisite = { focus = SPR_soviet_recovery_aid }

		icon = GFX_focus_CZE_german_puppet
		x = 0
		y = 1
		relative_position_id = SPR_red_bulwark_in_the_west
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			SOV = { country_event = { id = lar_spain.56 hours = 6 random_hours = 6 } }
		}
	}

	focus = {
		id = SPR_modernize_the_armed_forces
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_increase_arms_production }
		prerequisite = { focus = SPR_appeal_for_increased_autonomy }

		icon = GFX_goal_generic_build_tank
		x = 1
		y = 1
		relative_position_id = SPR_increase_arms_production
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_modernize_the_armed_forces
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPR_modernize_the_armed_forces
				bonus = 1.0
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = SPR_modernize_the_armed_forces
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPR_modernize_the_armed_forces
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SPR_a_red_iberia
		available = {
		}
		bypass = {
			has_war_with = POR
		}
		prerequisite = { focus = SPR_unify_the_london_bureau focus = SPR_modernize_the_armed_forces }

		icon = GFX_focus_generic_attack_portugal
		x = 2
		y = 1
		relative_position_id = SPR_unify_the_london_bureau
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					POR = {
						NOT = { has_government = communism }
					}
				}
				create_wargoal = {
					type = annex_everything
					target = POR
				}
			}
			else = {
				POR = { country_event = { id = lar_spain.59 hours = 6 random_hours = 6 } }
			}
		}
	}

	focus = {
		id = SPR_support_french_communists
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_modernize_the_armed_forces }

		icon = GFX_focus_attack_france
		x = 0
		y = 1
		relative_position_id = SPR_modernize_the_armed_forces
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					FRA = {
						has_government = communism
						is_in_faction = no
					}
					is_in_faction = yes
				}
				FRA = { country_event = { id = generic.5 hours = 6 random_hours = 6 } }
			}
			else_if = {
				limit = {
					FRA = {
						NOT = { has_government = communism }
						communism > 0.2
					}
				}
				FRA = { country_event = { id = lar_spain.62 hours = 6 random_hours = 6 } }
			}
			else = {
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = FRA
				}
			}
		}
	}

	focus = {
		id = SPR_avenge_foreign_interference
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_a_red_iberia focus = SPR_support_french_communists }

		icon = GFX_focus_attack_germany
		x = 1
		y = 1
		relative_position_id = SPR_a_red_iberia
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_avenge_foreign_interference_tt
			every_other_country = {
				limit = {
					has_country_flag = SPR_sent_volunteers_to_SPA_flag
				}
				ROOT = {
					create_wargoal = {
					    type = annex_everything
					    target = PREV
					    expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = SPR_provide_for_the_people
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_soviet_recovery_aid }

		icon = GFX_focus_prc_agrarian_socialism
		x = 0
		y = 1
		relative_position_id = SPR_soviet_recovery_aid
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_ideas = SPR_provide_for_the_people
		}
	}

	focus = {
		id = SPR_collectivize_industry
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_provide_for_the_people }

		icon = GFX_goal_generic_construct_civ_factory
		x = -1
		y = 1
		relative_position_id = SPR_provide_for_the_people
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_collectivize_industry_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_collectivize_industry_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_collectivize_industry_2civ }
				}
				set_state_flag = SPR_collectivize_industry_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_connect_the_country
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_provide_for_the_people }

		icon = GFX_goal_generic_construct_infrastructure
		x = 1
		y = 1
		relative_position_id = SPR_provide_for_the_people
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = SPR_connect_the_country_1inf }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_connect_the_country_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_connect_the_country_1inf }
				}
				set_state_flag = SPR_connect_the_country_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_connect_the_country_1inf }
				}
				set_state_flag = SPR_connect_the_country_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_connect_the_country_1inf }
				}
				set_state_flag = SPR_connect_the_country_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_connect_the_country_1inf }
				}
				set_state_flag = SPR_connect_the_country_1inf
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_transplant_soviet_industry
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_collectivize_industry }
		prerequisite = { focus = SPR_connect_the_country }

		icon = GFX_goal_generic_construct_mil_factory
		x = 1
		y = 1
		relative_position_id = SPR_collectivize_industry
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_transplant_soviet_industry_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_transplant_soviet_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_transplant_soviet_industry_2mil }
				}
				set_state_flag = SPR_transplant_soviet_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_the_five_year_plan
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_transplant_soviet_industry }

		icon = GFX_goal_generic_production2
		x = 0
		y = 1
		relative_position_id = SPR_transplant_soviet_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = SPR_the_five_year_plan days = 1825 }
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
		}
	}

	focus = {
		id = SPR_slipway_enlargement
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_collectivize_industry }
		prerequisite = { focus = SPR_connect_the_country }

		icon = GFX_goal_generic_construct_naval_dockyard
		x = -1
		y = 1
		relative_position_id = SPR_collectivize_industry
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_slipway_enlargement_2DY }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_slipway_enlargement_2DY
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_slipway_enlargement_2DY }
				}
				set_state_flag = SPR_slipway_enlargement_2DY
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_a_red_fleet
		available = {
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_slipway_enlargement }

		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 1
		relative_position_id = SPR_slipway_enlargement
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = SPR_a_red_fleet
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPR_a_red_fleet
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPR_a_red_fleet
				bonus = 1
				uses = 1
				category = bb_tech
			}
		}
	}

###  ### ###  #  # ###  #   ###  ##   ##  #  #  ##            ###  ### #   #  ##   ##  ###   ##  ###  ## 
#  # #   #  # #  # #  # #    #  #  # #  # ## # #              #  # #   ## ## #  # #  # #  # #  #  #  #   
###  ##  ###  #  # ###  #    #  #    #### # ##  #      ##     #  # ##  # # # #  # #    ###  ####  #   #  
#  # #   #    #  # #  # #    #  #  # #  # #  #   #            #  # #   #   # #  # #  # #  # #  #  #    # 
#  # ### #     ##  ###  ### ###  ##  #  # #  # ##             ###  ### #   #  ##   ##  #  # #  #  #  ##  

	focus = {
		id = SPR_maintain_the_second_republic
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = { always = no }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_disband_the_army }
		mutually_exclusive = { focus = SPR_regional_defense_council_of_aragon focus = SPR_the_anti_fascist_workers_revolution }
		
		icon = GFX_focus_spr_maintain_the_republic
		x = 11
		y = 1
		relative_position_id = SPR_disband_the_army
		cost = 5

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_political_power = 60
			add_war_support = 0.05
			activate_mission = SPR_anarchist_uprising_mission
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = SPR_antonio_escobar_huerta
		}
	}

	focus = {
		id = SPR_new_leadership
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_maintain_the_second_republic }

		icon = GFX_goal_generic_intelligence_exchange
		x = -1
		y = 1
		relative_position_id = SPR_maintain_the_second_republic
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_jesus_hernandez_tomas
		}
	}

	focus = {
		id = SPR_the_future_of_the_republic
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_new_leadership }

		icon = GFX_goal_support_democracy
		x = 0
		y = 1
		relative_position_id = SPR_new_leadership
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 200
		}
	}

	focus = {
		id = SPR_petition_for_french_aid
		available = {
			NOT = { has_war_with = FRA }
			NOT = { has_global_flag = scw_over }
			FRA = {
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_future_of_the_republic }

		icon = GFX_focus_chi_reach_out_to_france
		x = 0
		y = 1
		relative_position_id = SPR_the_future_of_the_republic
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			effect_tooltip = {
				add_war_support = 0.15
				FRA = {
					add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
					add_opinion_modifier = { target = ROOT modifier = SPA_spanish_civil_war_commitments }
				}
			}
			custom_effect_tooltip = SPR_petition_for_french_aid_tt
			FRA = { country_event = { id = lar_spain.64 hours = 6 random_hours = 6 } }
		}
	}

	focus = {
		id = SPR_ensure_loyalty
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_maintain_the_second_republic }

		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 1
		relative_position_id = SPR_maintain_the_second_republic
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = SPR_enlist_the_carabineros
		available = {
			has_idea = SPR_juan_negrin
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_maintain_the_second_republic }

		icon = GFX_goal_generic_military_sphere
		x = 3
		y = 1
		relative_position_id = SPR_maintain_the_second_republic
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_enlist_the_carabineros_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
			hidden_effect = {
				division_template = {
					name = "Carabineros"
					template_counter = 3
					priority = 1
					division_names_group = SPR_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
					}
					create_unit = {
						division = "name = \"1. Carabineros\" division_template = \"Carabineros\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
					}
					create_unit = {
						division = "name = \"2. Carabineros\" division_template = \"Carabineros\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
					}
					create_unit = {
						division = "name = \"3. Carabineros\" division_template = \"Carabineros\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
					}
					create_unit = {
						division = "name = \"4. Carabineros\" division_template = \"Carabineros\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
					}
					create_unit = {
						division = "name = \"5. Carabineros\" division_template = \"Carabineros\" start_experience_factor = 0.1" 
						owner = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = SPR_the_popular_army
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_ensure_loyalty }
		prerequisite = { focus = SPR_enlist_the_carabineros }

		icon = GFX_focus_generic_support_the_left_right
		x = 1
		y = 1
		relative_position_id = SPR_ensure_loyalty
		cost = 10

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			remove_ideas = SPR_disbanded_army_1
			add_tech_bonus = {
				name = SPR_the_popular_army
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPR_the_popular_army
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPR_take_the_initiative
		available = {
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_the_popular_army }

		icon = GFX_goal_generic_major_war
		x = -1
		y = 1
		relative_position_id = SPR_the_popular_army
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPA_tackle_the_vulnerable_fronts_tt
		}
	}

	focus = {
		id = SPR_no_pasaran
		available = {
			SPR_scw_in_progress = yes
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_the_popular_army }

		icon = GFX_focus_spr_no_pasaran
		x = 1
		y = 1
		relative_position_id = SPR_the_popular_army
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SPR_no_pasaran_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point = yes
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 2
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 9
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 29
						}
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SPR_a_frontline_suited_for_intellectuals
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_no_pasaran }

		icon = GFX_focus_research
		x = 0
		y = 1
		relative_position_id = SPR_no_pasaran
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_strengthen_the_anti_fascist_coalition
		available = {
		}
		bypass = {
			has_global_flag = scw_over
		}
		prerequisite = { focus = SPR_crush_the_revolution }
		prerequisite = { focus = SPR_no_pasaran }

		icon = GFX_goal_generic_national_unity
		x = 4
		y = 1
		relative_position_id = SPR_crush_the_revolution
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.1
		}
	}

	focus = {
		id = SPR_oppose_the_communists
		available = {
			has_country_leader = {
				name = "Manuel Azaña"
				ruling_only = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_strengthen_the_anti_fascist_coalition }
		mutually_exclusive = { focus = SPR_end_fascism_at_all_costs }

		icon = GFX_goal_anti_comintern_pact
		x = -1
		y = 1
		relative_position_id = SPR_strengthen_the_anti_fascist_coalition
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = -0.1
			}
			remove_ideas = SPR_popular_front_2
			add_timed_idea = { idea = SPR_oppose_the_communists days = 730 }
			remove_country_leader_trait = figurehead_president
			add_country_leader_trait = great_survivor
		}
	}

	focus = {
		id = SPR_fortify_the_central_government
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_oppose_the_communists }

		icon = GFX_focus_generic_diplomatic_treaty
		x = 0
		y = 1
		relative_position_id = SPR_oppose_the_communists
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = 0.1
			add_political_power = 120
		}
	}

	focus = {
		id = SPR_secure_democratic_principles
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_fortify_the_central_government }

		icon = GFX_goal_support_democracy
		x = -1
		y = 1
		relative_position_id = SPR_fortify_the_central_government
		cost = 10

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_stability = 0.1
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SPR_subvert_soviet_control
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_soviet_recovery_aid }
		prerequisite = { focus = SPR_secure_democratic_principles }

		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 1
		relative_position_id = SPR_secure_democratic_principles
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			SOV = { add_opinion_modifier = { target = ROOT modifier = SPR_subvert_soviet_control } }
			remove_ideas = SPR_soviet_military_advisors
			remove_ideas = SPR_soviet_industrial_aid
			remove_ideas = SPR_soviet_recovery_aid
			remove_ideas = SPR_provide_for_the_people
			remove_ideas = SPR_the_five_year_plan
			add_timed_idea = { idea = SPR_subvert_soviet_control days = 1095 }
			custom_effect_tooltip = SPR_subvert_soviet_control_tt
		}
	}

	focus = {
		id = SPR_war_of_independence
		available = {
		}
		bypass = {
		}
		will_lead_to_war_with = SOV
		prerequisite = { focus = SPR_subvert_soviet_control }

		icon = GFX_focus_spr_war_of_independence
		x = 0
		y = 1
		relative_position_id = SPR_subvert_soviet_control
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_government = democratic
					}
				}
				set_politics = {
					ruling_party = democratic
				}
			}
			add_popularity = {
			    ideology = democratic
			    popularity = 0.1
			}
			effect_tooltip = {
				SOV = {
					end_puppet = ROOT
					remove_from_faction = ROOT
				}
			}
			SOV = {
				country_event = lar_spain.67
			}
			custom_effect_tooltip = SPR_war_of_independence_tt
		}
	}

	focus = {
		id = SPR_those_who_would_not_help_us
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_war_of_independence }
		mutually_exclusive = { focus = SPR_enemies_of_our_enemy }

		icon = GFX_goal_generic_small_arms
		x = -1
		y = 1
		relative_position_id = SPR_war_of_independence
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			effect_tooltip = {
				every_other_country = {
					limit = {
						OR = {
							tag = ENG
							tag = USA
							tag = FRA
						}
						exists = yes
						has_capitulated = no
					}
					add_timed_idea = { idea = SPR_equipment_shipments days = 730 }
				}
			}
			custom_effect_tooltip = SPR_those_who_would_not_help_us_tt
			every_other_country = {
					limit = {
					OR = {
						tag = ENG
						tag = USA
						tag = FRA
					}
					exists = yes
					has_capitulated = no
				}
				country_event = { id = lar_spain.68 hours = 6 random_hours = 6 }
			}
		}
	}

	focus = {
		id = SPR_ideological_allies
		available = {
			any_other_country = {
				has_government = democratic
				is_faction_leader = yes
			}
			is_in_faction = no
			NOT = { has_global_flag = POR_iberian_summit_in_progress_flag }
		}
		bypass = {
		}
		prerequisite = { focus = SPR_those_who_would_not_help_us }

		ai_will_do = {
			factor = 0
		}

		icon = GFX_focus_chi_british_cooperation
		x = -1
		y = 1
		relative_position_id = SPR_those_who_would_not_help_us
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
				}
				ENG = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					USA = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
				}
				USA = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					FRA = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
				}
				FRA = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					any_country = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
						is_major = yes
					}
				}
				random_country = {
					limit = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
						is_major = yes
					}
					country_event = generic.2
				}
			}
			else = {
				random_country = {
					limit = {
						has_government = democratic
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
					country_event = generic.2
				}
			}
		}
	}

	focus = {
		id = SPR_enemies_of_our_enemy
		available = {
			NOT = {
				has_war_with = GER
				has_war_with = ITA
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_war_of_independence }
		mutually_exclusive = { focus = SPR_those_who_would_not_help_us focus = SPR_join_the_global_fight_against_fascism }

		icon = GFX_goal_generic_dangerous_deal
		x = 1
		y = 1
		relative_position_id = SPR_war_of_independence
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			effect_tooltip = {
				every_other_country = {
					limit = {
						OR = {
							tag = GER
							tag = ITA
						}
						exists = yes
						has_capitulated = no
					}
					diplomatic_relation = {
					    country = ROOT
					    relation = non_aggression_pact
					    active = yes
					}
				}
			}
			custom_effect_tooltip = SPR_those_who_would_not_help_us_tt
			every_other_country = {
					limit = {
					OR = {
						tag = GER
						tag = ITA
					}
					exists = yes
					has_capitulated = no
				}
				country_event = { id = lar_spain.71 hours = 6 random_hours = 6 }
			}
		}
	}

	focus = {
		id = SPR_deal_with_the_devil
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_enemies_of_our_enemy }

		icon = GFX_focus_chi_mission_to_germany
		x = 1
		y = 1
		relative_position_id = SPR_enemies_of_our_enemy
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			effect_tooltip = {
				add_timed_idea = { idea = SPR_deal_with_the_devil days = 730 }
			}
			custom_effect_tooltip = SPR_deal_with_the_devil_tt
			GER = { country_event = { id = lar_spain.74 hours = 6 random_hours = 6 } }
		}
	}

	focus = {
		id = SPR_foreign_industrial_aid
		available = {
			OR = {
				ENG = {
					has_idea = SPR_equipment_shipments
				}
				USA = {
					has_idea = SPR_equipment_shipments
				}
				FRA = {
					has_idea = SPR_equipment_shipments
				}
				AND = {
					has_completed_focus = SPR_enemies_of_our_enemy
					OR = {
						has_non_aggression_pact_with = GER
						has_non_aggression_pact_with = ITA
					}
				}
			}
		}
		bypass = {
		}
		prerequisite = { focus = SPR_those_who_would_not_help_us focus = SPR_enemies_of_our_enemy }

		icon = GFX_focus_generic_industry_2
		x = 1
		y = 1
		relative_position_id = SPR_those_who_would_not_help_us
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_foreign_industrial_aid_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = SPR_foreign_industrial_aid_2mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_foreign_industrial_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_foreign_industrial_aid_2civ }
				}
				set_state_flag = SPR_foreign_industrial_aid_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_stabilize_the_nation
		available = {
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_fortify_the_central_government focus = SPR_communists_in_the_government }

		icon = GFX_goal_generic_political_pressure
		x = 1
		y = 1
		relative_position_id = SPR_fortify_the_central_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			add_stability = 0.2
		}
	}

	focus = {
		id = SPR_end_fascism_at_all_costs
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_strengthen_the_anti_fascist_coalition }
		mutually_exclusive = { focus = SPR_oppose_the_communists }

		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 1
		y = 1
		relative_position_id = SPR_strengthen_the_anti_fascist_coalition
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_popular_front_2
				add_idea = SPR_popular_front_3
			}
		}
	}

	focus = {
		id = SPR_communists_in_the_government
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_end_fascism_at_all_costs }

		icon = GFX_focus_generic_soviet_politics
		x = 0
		y = 1
		relative_position_id = SPR_end_fascism_at_all_costs
		cost = 10

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_politics = {
				ruling_party = communism
			}
			swap_ideas = {
				remove_idea = SPR_popular_front_3
				add_idea = SPR_popular_front_4
			}
			unlock_national_focus = SPR_red_bulwark_in_the_west
			unlock_national_focus = SPR_increase_arms_production
			custom_effect_tooltip = SPR_communists_in_the_government_tt
			# Stalinist
			# SPR_ignacio_hidalgo_de_cisneros
			# SPR_etelvino_vega
			# SPR_francisco_ciutat_de_miguel
			# SPR_dolores_ibarruri
			####
			# Democratic
			# SPR_domenec_batet
			# SPR_toribio_martinez_cabrera
			# SPR_antonio_azarola_y_gresillon
			# SPR_luis_gonzalez_ubieta
			# SPR_indalegio_prieto
			# SPR_nicolas_molero
			# SPR_juan_negrin
			# SPR_francisco_largo_caballero
			# SPR_augusto_barcia_trelles
			# SPR_diego_martinez_barrio
		}
	}

	focus = {
		id = SPR_restore_higher_education
		available = {
			num_of_factories > 50
			has_global_flag = scw_over
		}
		bypass = {
		}
		prerequisite = { focus = SPR_fortify_the_central_government focus = SPR_communists_in_the_government }

		icon = GFX_focus_research2
		x = 3
		y = 1
		relative_position_id = SPR_fortify_the_central_government
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SPR_engineering_advances
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_stabilize_the_nation focus = SPR_restore_higher_education }

		icon = GFX_goal_generic_production
		x = 1
		y = 1
		relative_position_id = SPR_stabilize_the_nation
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = scw_over }
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			add_tech_bonus = {
				name = SPR_engineering_advances
				bonus = 1
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = SPR_engineering_advances
				bonus = 1
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPR_engineering_advances
				bonus = 1
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = SPR_rebuild_the_nation
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_engineering_advances }

		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 1
		relative_position_id = SPR_engineering_advances
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_rebuild_the_nation_2civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_rebuild_the_nation_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_rebuild_the_nation_2civ }
				}
				set_state_flag = SPR_rebuild_the_nation_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_reprofessionalize_the_military
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_strengthen_the_anti_fascist_coalition }

		icon = GFX_goal_generic_army_artillery2
		x = 3
		y = 1
		relative_position_id = SPR_strengthen_the_anti_fascist_coalition
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = SPR_professional_military_1
		}
	}

	focus = {
		id = SPR_experiences_from_the_civil_war
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_reprofessionalize_the_military }

		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 1
		relative_position_id = SPR_reprofessionalize_the_military
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 15
			add_tech_bonus = {
				name = SPR_engineering_advances
				bonus = 1
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SPR_a_new_military_academy
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_experiences_from_the_civil_war }
		prerequisite = { focus = SPR_restore_higher_education }

		icon = GFX_focus_generic_military_academy
		x = 0
		y = 2
		relative_position_id = SPR_experiences_from_the_civil_war
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 25
			swap_ideas = {
				remove_idea = SPR_professional_military_1
				add_idea = SPR_professional_military_2
			}
		}
	}

	focus = {
		id = SPR_revive_the_republican_navy
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_strengthen_the_anti_fascist_coalition }

		icon = GFX_goal_generic_construct_naval_dockyard
		x = 5
		y = 1
		relative_position_id = SPR_strengthen_the_anti_fascist_coalition
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_revive_the_republican_navy_1DY }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SPR_revive_the_republican_navy_1DY
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_revive_the_republican_navy_1DY }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SPR_revive_the_republican_navy_1DY
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_revive_the_republican_navy_1DY }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SPR_revive_the_republican_navy_1DY
			}
		}
	}

	focus = {
		id = SPR_navy_modernization
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_revive_the_republican_navy }

		icon = GFX_focus_generic_cruiser2
		x = 0
		y = 1
		relative_position_id = SPR_revive_the_republican_navy
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 2
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}

	focus = {
		id = SPR_expand_the_naval_academy
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_navy_modernization }
		prerequisite = { focus = SPR_restore_higher_education }

		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 2
		relative_position_id = SPR_navy_modernization
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = SPR_navy_modernization
				bonus = 1
				uses = 3
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SPR_prepare_for_the_next_war
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_a_new_military_academy }
		prerequisite = { focus = SPR_expand_the_naval_academy }

		icon = GFX_goal_generic_build_tank
		x = 1
		y = 1
		relative_position_id = SPR_a_new_military_academy
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_prepare_for_the_next_war_2mil }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_war_support = 0.1
			add_tech_bonus = {
				name = SPR_engineering_advances
				bonus = 1
				uses = 1
				category = land_doctrine
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_prepare_for_the_next_war_2mil
			}
		}
	}

	focus = {
		id = SPR_wartime_industry
		available = {
			has_war = yes
		}
		bypass = {
		}
		prerequisite = { focus = SPR_prepare_for_the_next_war }

		icon = GFX_goal_generic_construct_mil_factory
		x = 2
		y = 1
		relative_position_id = SPR_prepare_for_the_next_war
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SPR_wartime_industry_1mil }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_wartime_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_wartime_industry_1mil }
				}
				set_state_flag = SPR_wartime_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_wartime_industry_1mil }
				}
				set_state_flag = SPR_wartime_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_wartime_industry_1mil }
				}
				set_state_flag = SPR_wartime_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_fuel_for_the_war_machine
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_wartime_industry }
		
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		relative_position_id = SPR_wartime_industry
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_fuel_for_the_war_machine
				bonus = 1.5
				uses = 2
				category = excavation_tech
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}

	focus = {
		id = SPR_join_the_global_fight_against_fascism
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_prepare_for_the_next_war }
		mutually_exclusive = { focus = SPR_enemies_of_our_enemy }

		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 0
		y = 1
		relative_position_id = SPR_prepare_for_the_next_war
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			every_country = {
				limit = {
					has_government = fascism
					is_major = yes
					NOT = { is_in_faction_with = ROOT }
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = topple_government
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = SPR_the_anti_fascist_crusade
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = SPR_join_the_global_fight_against_fascism }

		icon = GFX_focus_generic_strike_at_democracy1
		x = 0
		y = 1
		relative_position_id = SPR_join_the_global_fight_against_fascism
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SPR_the_anti_fascist_crusade
		}
	}

}
focus_tree = {
	id = turkish_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = TUR
			has_dlc = "Battle for the Bosporus"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 100 y = 3250 }

	initial_show_position = {
		x = 20
		y = 0
	}

	focus = {
		id = TUR_the_montreux_convention
		icon = GFX_focus_TUR_the_montreux_convention
		available = {
			TUR = { is_puppet = no }
		}
		x = 5
		y = 0
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			341 = { is_demilitarized_zone = no }
			797 = { is_demilitarized_zone = no }
			340 = { is_demilitarized_zone = no }
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ENG = { country_event = { id = bftb_turkey.1 } }
			custom_effect_tooltip = TUR_the_montreux_convention_tt
		}
	}

	focus = {
		id = TUR_continue_the_policy_of_etatism
		icon = GFX_goal_generic_neutrality_focus
		mutually_exclusive = { focus = TUR_fully_integrate_the_is_bank }
		prerequisite = { focus = TUR_the_montreux_convention }
		available = {
			TUR = { has_government = neutrality }
		}
		x = 3
		y = 1
		relative_position_id = TUR_the_montreux_convention
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_etatism
			add_ideas = TUR_ismet_inonu
			custom_effect_tooltip = TUR_sanayiciler_etatism_tt
			hidden_effect = {
				set_variable = { var = TUR_etatism_cost_penalty_var value = 150 }
			}
		}
	}

	focus = {
		id = TUR_fully_integrate_the_is_bank
		icon = GFX_goal_generic_intelligence_exchange
		mutually_exclusive = { focus = TUR_continue_the_policy_of_etatism }
		prerequisite = { focus = TUR_the_montreux_convention }
		available = {
			TUR = { has_government = neutrality }
		}
		x = -3
		y = 1
		relative_position_id = TUR_the_montreux_convention
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_political_power = 120
			add_ideas = TUR_celal_bayar
			add_ideas = free_trade
			custom_effect_tooltip = TUR_sanayiciler_liberals_tt
		}
	}

	focus = {
		id = TUR_ratify_the_six_arrows
		icon = GFX_focus_TUR_ratify_the_six_arrows
		prerequisite = { focus = TUR_fully_integrate_the_is_bank focus = TUR_continue_the_policy_of_etatism }
		x = 0
		y = 2
		relative_position_id = TUR_the_montreux_convention
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			unlock_decision_category_tooltip = TUR_the_constitutional_arrows_category
		}
	}

	focus = {
		id = TUR_privatize_the_anadolu_agency
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = TUR_fully_integrate_the_is_bank }
		prerequisite = { focus = TUR_ratify_the_six_arrows }
		x = -4
		y = 2
		relative_position_id = TUR_fully_integrate_the_is_bank
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = { 
				ideology = democratic
				popularity = 0.07
			}
			add_stability = 0.05
			custom_effect_tooltip = TUR_privatize_the_anadolu_agency_tt
		}
	}

	focus = {
		id = TUR_lift_the_ban_on_other_political_parties
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = TUR_privatize_the_anadolu_agency }
		x = 0
		y = 1
		relative_position_id = TUR_privatize_the_anadolu_agency
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_popularity = { 
				ideology = democratic
				popularity = 0.1
			}
			add_war_support = 0.05
			hidden_effect = {
				country_event = { id = bftb_turkey.14 days = 7 }
			}
		}
	}

	focus = {
		id = TUR_holding_our_first_multi_party_election
		icon = GFX_focus_generic_treaty
		available = { has_country_flag = TUR_official_opposition_party_organised }
		prerequisite = { focus = TUR_lift_the_ban_on_other_political_parties }
		x = 0
		y = 1
		relative_position_id = TUR_lift_the_ban_on_other_political_parties
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			country_event = { id = bftb_turkey.21 }
		}
	}

	focus = {
		id = TUR_democratic_transition_focus
		icon = GFX_goal_support_democracy
		prerequisite = { focus = TUR_holding_our_first_multi_party_election }
		prerequisite = { focus = TUR_utilize_foreign_capital }
		x = 2
		y = 1
		relative_position_id = TUR_holding_our_first_multi_party_election
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						name = "Celﾃ｢l Bayar"
						ruling_only = yes
					}
				}
				add_stability = 0.1
			}
			else_if = {
				limit = {
					has_country_leader = {
						name = "Adnan Menderes"
						ruling_only = yes
					}
				}
				TUR_kemalist_turn_hostile_effect = yes
				hidden_effect = {
					set_party_name = { 
						ideology = fascism
						long_name = TUR_cakmak_party_long
						name = TUR_cakmak_party
					}
					create_country_leader = {
						name = "Fevzi ﾃ㌢kmak"
						desc = "POLITICS_FEVZI_CAKMAK_DESC"
						picture = "GFX_portrait_tur_fevzi_cakmak"
						expire = "1965.1.1"
						ideology = rexism
						traits = {
							maresal
						}
					}
				}
			}
			add_political_power = 250 
			add_popularity = { ideology = democratic popularity = 0.1 }
			hidden_effect = {
				clr_country_flag = TUR_held_democratic_election
			}
		}
	}

	focus = {
		id = TUR_expanding_our_armaments
		icon = GFX_goal_generic_production
		prerequisite = { focus = TUR_democratic_transition_focus }
		x = -1
		y = 1
		relative_position_id = TUR_democratic_transition_focus
		cost = 10
		ai_will_do = {
			base = 10
		}

		complete_tooltip = {
			every_owned_state = {
				limit = { has_state_flag = TUR_expanding_armaments_flag }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}			
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_expanding_armaments_flag
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_expanding_armaments_flag
			}
			add_timed_idea = {
				idea = TUR_rearmament_scheme
				days = 180
			}
		}
	}

	focus = {
		id = TUR_permit_regional_elections
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = TUR_democratic_transition_focus }
		x = 1
		y = 1
		relative_position_id = TUR_democratic_transition_focus
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM FOCUS_FILTER_TUR_TRADITIONALISM }
		completion_reward = {
			custom_effect_tooltip = TUR_unlock_reconciliation_occupation_law_tt
			custom_effect_tooltip = TUR_unlock_kurdish_integration_decisions_tt
			effect_tooltip = { TUR_placate_fundamentalist_state_all_targets_effect = yes }
			hidden_effect = {
				every_owned_state = {
					limit = { 
						OR = {
							has_dynamic_modifier = { modifier = islamist_opposition }
							has_dynamic_modifier = { modifier = islamist_sedition }
							has_dynamic_modifier = { modifier = islamist_insurgency }
						}
					}
					remove_dynamic_modifier = { modifier = islamist_opposition }
					remove_dynamic_modifier = { modifier = islamist_sedition }
					remove_dynamic_modifier = { modifier = islamist_insurgency }
					add_dynamic_modifier = { modifier = islamists_placated }
				}
				set_country_flag = TUR_truce_with_government_called_flag
				if = {
					limit = {
						has_variable = TUR_kemalist_officers_loyalty
						check_variable = { TUR_kemalist_officers_loyalty > 1 }
					}
					subtract_from_variable = { var = TUR_kemalist_officers_loyalty value = 1 }
					TUR_kemalist_loyalty_and_power_update_effect = yes
				}
				if = {
					limit = {
						has_idea = TUR_sectarian_woes
					}
					swap_ideas = {
						remove_idea = TUR_sectarian_woes
						add_idea = TUR_sectarian_woes_2
					}
				}
				else_if = {
					limit = {
						has_idea = TUR_sectarian_woes_1
					}
					remove_ideas = TUR_sectarian_woes_1
				}
			}
		}
	}

	focus = {
		id = TUR_privatize_our_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = TUR_expanding_our_armaments focus = TUR_permit_regional_elections }
		x = 1
		y = 1
		relative_position_id = TUR_expanding_our_armaments
		cost = 5
		ai_will_do = {
			base = 10
		}

		complete_tooltip = {
			every_owned_state = {
				limit = { has_state_flag = TUR_infrastructure_privatised }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}			
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_infrastructure_privatised
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_infrastructure_privatised
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_infrastructure_privatised
			}
			add_timed_idea = {
				idea = TUR_infrastructure_privatised_idea
				days = 360
			}
		}
	}

	focus = {
		id = TUR_democratic_capstone_focus
		icon = GFX_goal_generic_territory_or_war
		dynamic = yes
		prerequisite = { focus = TUR_privatize_our_infrastructure }
		prerequisite = { focus = TUR_peace_in_the_world }
		x = 0
		y = 2
		relative_position_id = TUR_privatize_our_infrastructure
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						name = "Adnan Menderes"
						ruling_only = yes
					}
				}
				country_event = { id = bftb_turkey.22 }
				add_war_support = 0.2
			}
			else = {
				add_war_support = 0.1
				add_stability = 0.05
			}
		}
	}

	focus = {
		id = TUR_the_sanayiciler
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = TUR_ratify_the_six_arrows }
		available = {
			NOT = { TUR = { has_government = communism } } 
		}
		x = -3
		y = 1
		relative_position_id = TUR_ratify_the_six_arrows
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = TUR_sanayiciler_tt
			unlock_decision_tooltip = TUR_sponsor_petrol_olfisis_formation
		}
	}

	focus = {
		id = TUR_cooperate_with_the_debt_council
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = TUR_the_sanayiciler }
		available = {
			NOT = { TUR = { has_government = communism } } 
		}
		x = 0
		y = 1
		relative_position_id = TUR_the_sanayiciler
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_political_power = 120
			if = {
				limit = { 
					NOT = { has_idea = free_trade }
				}
				add_ideas = free_trade
			}
			every_country_with_original_tag = {
				original_tag_to_check = ENG
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_reliable_trade_partner
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = FRA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_reliable_trade_partner
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = ITA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_reliable_trade_partner
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = USA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_reliable_trade_partner
				}
			}
			custom_effect_tooltip = TUR_debt_council_nationalized_tt
			hidden_effect = {
				set_country_flag = TUR_debt_council_reined_in_flag
				swap_ideas = {
					remove_idea = TUR_debt_council
					add_idea = TUR_tpda
				}
			}
		}
	}

	focus = {
		id = TUR_utilize_foreign_capital
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = TUR_cooperate_with_the_debt_council }
		x = 0
		y = 1
		relative_position_id = TUR_cooperate_with_the_debt_council
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
			unlock_decision_tooltip = TUR_discuss_investment_possibilities_with_FROM
			custom_effect_tooltip = TUR_foreign_capital_tt
		}
	}

	focus = {
		id = TUR_treaty_of_saadabad
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = TUR_ratify_the_six_arrows }
		x = 0
		y = 1
		relative_position_id = TUR_ratify_the_six_arrows
		cost = 5
		ai_will_do = {
			base = 10
		}

		bypass = {
			AND = {
				AFG = { exists = no }
				PER = { exists = no }
				IRQ = { exists = no }
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					AFG = { 
						exists = yes
						is_puppet = no 
					}
				}
				AFG = { country_event = { id = bftb_turkey.23 } }
			}
			if = {
				limit = {
					EGY = { 
						exists = yes
						is_puppet = no 
					}
				}
				EGY = { country_event = { id = bftb_turkey.23 } }
			}
			if = {
				limit = {
					PER = { 
						exists = yes
						is_puppet = no 
					}
				}
				PER = { country_event = { id = bftb_turkey.23 } }
			}
			if = {
				limit = {
					IRQ = { 
						exists = yes
						is_puppet = no 
					}
				}
				IRQ = { country_event = { id = bftb_turkey.23 } }
			}
			if = {
				limit = {
					SYR = { 
						exists = yes
						is_puppet = no 
					}
				}
				SYR = { country_event = { id = bftb_turkey.23 } }
			}
			add_war_support = 0.05
		}
	}

	focus = {
		id = TUR_assess_our_future
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = TUR_treaty_of_saadabad }
		available = {
			OR = {
				has_completed_focus = TUR_democratic_transition_focus
				has_completed_focus = TUR_peace_at_home
				has_completed_focus = TUR_fatherland_first
				has_completed_focus = TUR_halk_ve_devlet
				NOT = { 
					has_country_leader = {
						name = "Mustafa Kemal Atatﾃｼrk"
						ruling_only = yes
					}
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = TUR_treaty_of_saadabad
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = TUR_revive_turkish_revolutionism
				}
				add_ideas = TUR_legacy_of_ataturk_defiled
			}
			if = {
				limit = {
					has_completed_focus = TUR_peace_at_home
					NOT = { has_country_flag = TUR_varlik_vergisi_flag }
				}
				add_ideas = TUR_legacy_of_ataturk_preserved
			}
			else_if = {
				limit = {
					has_completed_focus = TUR_peace_at_home
					has_country_flag = TUR_varlik_vergisi_flag
				}
				add_ideas = TUR_legacy_of_ataturk_defiled
			}
			if = {
				limit = {
					has_completed_focus = TUR_fully_integrate_the_is_bank
					NOT = { 
						has_country_leader = {
							name = "Adnan Menderes"
							ruling_only = yes
						}
					}
				}
				add_ideas = TUR_legacy_of_ataturk_fulfilled
			}
			else_if = {
				limit = {
					has_completed_focus = TUR_fully_integrate_the_is_bank
					has_country_leader = {
						name = "Adnan Menderes"
						ruling_only = yes
					}
				}
				add_ideas = TUR_legacy_of_ataturk_defiled
			}
			else = {
				custom_effect_tooltip = TUR_choices_will_decide_legacy_tt
			}
		}
	}

	focus = {
		id = TUR_the_hatay_issue
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = TUR_assess_our_future }
		x = 0
		y = 2
		relative_position_id = TUR_assess_our_future
		cost = 5
		ai_will_do = {
			base = 10
		}

		bypass = {
			TUR = { owns_state = 799 }
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			if = {
				limit = {
					FRA = { owns_state = 799 }
				}
				FRA = { country_event = { id = bftb_turkey.25 hours = 6 } }
			}
			else = {
				random_neighbor_country = { 
					limit = {
						owns_state = 799
					}
					country_event = { id = bftb_turkey.60 hours = 6 } 
				}
			}
			add_war_support = 0.05
		}
	}

	focus = {
		id = TUR_peace_in_the_world
		icon = GFX_goal_generic_defence
		prerequisite = { focus = TUR_the_hatay_issue }
		x = 0
		y = 1
		relative_position_id = TUR_the_hatay_issue
		cost = 5
		ai_will_do = {
			base = 10
		}

		bypass = {
			TUR = { has_war = yes }
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_ideas = kemalist_neutrality_idea
			add_stability = 0.05
		}
	}

	focus = {
		id = TUR_peace_at_home
		icon = GFX_goal_tripartite_pact
		mutually_exclusive = { focus = TUR_revive_turkish_revolutionism }
		prerequisite = { focus = TUR_ratify_the_six_arrows }
		available = {
			TUR = { 
				OR = { 
					has_country_leader = {
						name = "ﾄｰsmet ﾄｰnﾃｶnﾃｼ"
						ruling_only = yes
					}
					has_idea = TUR_ismet_inonu
				}
				NOT = { has_completed_focus = TUR_fully_integrate_the_is_bank }
			}
		}
		x = 3
		y = 1
		relative_position_id = TUR_ratify_the_six_arrows
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_TUR_TRADITIONALISM }
		completion_reward = {
			add_stability = 0.1
			unlock_decision_tooltip = TUR_counter_influence_of_fundamentalists_in_state
			unlock_decision_tooltip = TUR_offer_conscription_exceptions_to_kurdish_groups
		}
	}

	focus = {
		id = TUR_revive_turkish_revolutionism
		icon = GFX_goal_generic_dangerous_deal
		mutually_exclusive = { focus = TUR_peace_at_home }
		prerequisite = { focus = TUR_ratify_the_six_arrows }
		prerequisite = { focus = TUR_continue_the_policy_of_etatism }
		available = {
			OR = { 
				has_country_leader = {
					name = "ﾄｰsmet ﾄｰnﾃｶnﾃｼ"
					ruling_only = yes
				}
				has_idea = TUR_ismet_inonu
				has_country_leader = {
					name = "Fevzi ﾃ㌢kmak"
					ruling_only = yes
				}
				has_idea = TUR_fevzi_cakmak
			}
		}
		x = 7
		y = 2
		relative_position_id = TUR_continue_the_policy_of_etatism
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_stability = -0.05
			unlock_decision_tooltip = TUR_revolutionism_decision
		}
	}

	focus = {
		id = TUR_turkish_state_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = TUR_peace_at_home }
		x = 0
		y = 1
		relative_position_id = TUR_peace_at_home
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_TUR_KEMALISM }
		completion_reward = {
			show_ideas_tooltip = tcdd
			every_owned_state = {
				limit = { 
					has_dynamic_modifier = { modifier = kemalist_loyalties }
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = { 
					is_core_of = KUR
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = TUR_reinvigorate_turkish_nationalism
		icon = GFX_focus_generic_strike_at_democracy1
		mutually_exclusive = { focus = TUR_rehabilitate_the_kadro_movement }
		prerequisite = { focus = TUR_revive_turkish_revolutionism }
		x = -3
		y = 1
		relative_position_id = TUR_revive_turkish_revolutionism
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TUR_KURDISTAN FOCUS_FILTER_TUR_TRADITIONALISM }
		completion_reward = {
			if = {
				limit = {
					has_idea = TUR_ismet_inonu
					NOT = { has_idea = TUR_fevzi_cakmak_command }
				}
				remove_ideas = TUR_ismet_inonu
				add_ideas = TUR_fevzi_cakmak
			}
			else_if = {
				limit = {
					has_idea = TUR_ismet_inonu
					has_idea = TUR_fevzi_cakmak_command
				}
				remove_ideas = TUR_ismet_inonu
				remove_ideas = TUR_fevzi_cakmak_command
				add_ideas = TUR_fevzi_cakmak
			}
			else_if = {
				limit = {
					has_idea = TUR_celal_bayar
					NOT = { has_idea = TUR_fevzi_cakmak_command }
				}
				remove_ideas = TUR_celal_bayar
				add_ideas = TUR_fevzi_cakmak
			}
			else_if = {
				limit = {
					has_idea = TUR_celal_bayar
					has_idea = TUR_fevzi_cakmak_command
				}
				remove_ideas = TUR_celal_bayar
				remove_ideas = TUR_fevzi_cakmak_command
				add_ideas = TUR_fevzi_cakmak
			}
			else = {
				add_war_support = 0.1
			}
			random_owned_controlled_state = {
				limit = { 
					OR = {
						has_dynamic_modifier = { modifier = islamist_opposition }
						has_dynamic_modifier = { modifier = islamist_sedition }
						has_dynamic_modifier = { modifier = islamist_insurgency }
					}
				}
				save_global_event_target_as = TUR_fundamentalist_state
				TUR_downgrade_fundamentalist_defiance_effect = yes
			}
			random_owned_controlled_state = {
				limit = { 
					OR = {
						has_dynamic_modifier = { modifier = islamist_opposition }
						has_dynamic_modifier = { modifier = islamist_sedition }
						has_dynamic_modifier = { modifier = islamist_insurgency }
					}
				}
				save_global_event_target_as = TUR_fundamentalist_state
				TUR_downgrade_fundamentalist_defiance_effect = yes
			}
			random_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = kurdish_agitation }
						has_dynamic_modifier = { modifier = kurdish_separatism }
						has_dynamic_modifier = { modifier = kurdish_rebellion }
					}
				}
				save_event_target_as = TUR_kurdish_state_event_target
				TUR_agitate_kurdish_state_random_target_effect = yes
			}
		}
	}

	focus = {
		id = TUR_the_second_five_year_plan
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = TUR_turkish_state_railways focus = TUR_reinvigorate_turkish_nationalism }
		x = 2
		y = 1
		relative_position_id = TUR_turkish_state_railways
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					NOT = {
						OR = {
							has_idea = TUR_ismet_inonu
							has_idea = TUR_fevzi_cakmak
						}
						has_country_leader = {
							name = "Fevzi ﾃ㌢kmak"
							ruling_only = yes
						}
						has_country_leader = {
							name = "ﾄｰsmet ﾄｰnﾃｶnﾃｼ"
							ruling_only = yes
						}
					}
				}
				add_timed_idea = {
					idea = TUR_second_five_year_plan_inonu
					days = 1825
				}
			}
			else_if = { 
				limit = {
					has_country_leader = {
						name = "Fevzi ﾃ㌢kmak"
						ruling_only = yes
					}
				}
				add_timed_idea = {
					idea = TUR_second_five_year_plan_cakmak
					days = 1825
				}
			}
			else_if = { 
				limit = {
					has_country_leader = {
						name = "ﾄｰsmet ﾄｰnﾃｶnﾃｼ"
						ruling_only = yes
					}
				}
				add_timed_idea = {
					idea = TUR_second_five_year_plan_inonu
					days = 1825
				}
			}
			else_if = { 
				limit = {
					has_idea = TUR_fevzi_cakmak
				}
				add_timed_idea = {
					idea = TUR_second_five_year_plan_cakmak
					days = 1825
				}
			}
			else_if = { 
				limit = {
					has_idea = TUR_ismet_inonu
				}
				add_timed_idea = {
					idea = TUR_second_five_year_plan_inonu
					days = 1825
				}
			}
		}
	}

	focus = {
		id = TUR_the_guardians_of_kemalism
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = TUR_turkish_state_railways }
		prerequisite = { focus = TUR_the_second_five_year_plan }
		x = 0
		y = 2
		relative_position_id = TUR_turkish_state_railways
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			unlock_decision_tooltip = TUR_entrench_kemalism_in_state
			random_owned_state = {
				limit = {
					has_state_flag = TUR_ideological_battleground_state
					NOT = { has_dynamic_modifier = { modifier = kemalist_loyalties } }
				}
				add_dynamic_modifier = { modifier = kemalist_loyalties }
				clr_state_flag = TUR_ideological_battleground_state
			}
			random_owned_state = {
				limit = {
					has_state_flag = TUR_ideological_battleground_state
					NOT = { has_dynamic_modifier = { modifier = kemalist_loyalties } }
				}
				add_dynamic_modifier = { modifier = kemalist_loyalties }
				clr_state_flag = TUR_ideological_battleground_state
			}	
			hidden_effect = { 
				set_variable = { var = TUR_kemalist_officers_loyalty value = 3 }
				add_to_variable = { var = TUR_kemalist_power_variable value = 2 }
				TUR_kemalist_loyalty_and_power_update_effect = yes
			}
		}
	}

	focus = {
		id = TUR_the_sun_language_theory
		icon = GFX_focus_TUR_the_sun_language_theory
		prerequisite = { focus = TUR_reinvigorate_turkish_nationalism focus = TUR_the_second_five_year_plan }
		available = {
			OR = { 
				has_country_leader = {
					name = "Fevzi ﾃ㌢kmak"
					ruling_only = yes
				}
				has_idea = TUR_fevzi_cakmak
			}
		}
		x = 0
		y = 2
		relative_position_id = TUR_reinvigorate_turkish_nationalism
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TUR_halide_edib_adivar
		}
	}

	focus = {
		id = TUR_variant_turkish_tax_focus
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = TUR_the_guardians_of_kemalism focus = TUR_the_sun_language_theory }
		x = 2
		y = 1
		relative_position_id = TUR_the_guardians_of_kemalism
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM }
		completion_reward = {
			if = {
				limit = { 
					NOT = { 
						OR = { 
							has_country_leader = {
								name = "Mustafa Kemal Atatﾃｼrk"
								ruling_only = yes
							}
							has_country_leader = {
								name = "Mehmet Recep Peker"
								ruling_only = yes
							}
							has_country_leader = {
								name = "ﾅ枡vket Sﾃｼreyya Aydemir"
								ruling_only = yes
							}
						}
					}
				}
				add_ideas = TUR_varlik_vergisi_spirit
				unlock_decision_tooltip = TUR_repeal_the_wealth_tax
				unlock_decision_tooltip = TUR_acquiesce_to_fundamentalists
			}
			else = {
				add_ideas = TUR_inanc_vergisi_spirit
				unlock_decision_tooltip = TUR_repeal_the_faith_tax
				hidden_effect = { set_country_flag = TUR_taxed_religious_institutions }
			}
		}
	}

	focus = {
		id = TUR_turk_ulusu
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = TUR_the_guardians_of_kemalism focus = TUR_variant_turkish_tax_focus }
		prerequisite = { focus = TUR_the_hatay_issue }
		x = 0
		y = 2
		relative_position_id = TUR_the_guardians_of_kemalism
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			every_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = kurdish_agitation }
						has_dynamic_modifier = { modifier = kurdish_separatism }
						has_dynamic_modifier = { modifier = kurdish_rebellion }
					}
				}
				save_event_target_as = TUR_kurdish_state_event_target
				TUR_pacify_kurdish_state_effect = yes
			}
		}
	}

	focus = {
		id = TUR_loosen_the_laws_on_secularism
		icon = GFX_focus_TUR_loosen_the_laws_on_secularism
		prerequisite = { focus = TUR_reinvigorate_turkish_nationalism }
		x = 2
		y = 1
		relative_position_id = TUR_reinvigorate_turkish_nationalism
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_stability = -0.05
			random_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = islamist_opposition }
						has_dynamic_modifier = { modifier = islamist_sedition }
						has_dynamic_modifier = { modifier = islamist_insurgency }
					}
				}
				save_event_target_as = TUR_fundamentalist_state
				TUR_placate_fundamentalist_state_effect = yes
			}
			random_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = islamist_opposition }
						has_dynamic_modifier = { modifier = islamist_sedition }
						has_dynamic_modifier = { modifier = islamist_insurgency }
					}
				}
				save_event_target_as = TUR_fundamentalist_state
				TUR_placate_fundamentalist_state_effect = yes
			}
			random_owned_state = {
				limit = {
					OR = {
						has_dynamic_modifier = { modifier = islamist_opposition }
						has_dynamic_modifier = { modifier = islamist_sedition }
						has_dynamic_modifier = { modifier = islamist_insurgency }
					}
				}
				save_event_target_as = TUR_fundamentalist_state
				TUR_placate_fundamentalist_state_effect = yes
			}
			TUR_kemalist_turn_hostile_effect = yes
			hidden_effect = { 
				set_country_flag = TUR_truce_with_government_called_flag 
				if = {
					limit = {
						has_idea = TUR_sectarian_woes
					}
					swap_ideas = {
						remove_idea = TUR_sectarian_woes
						add_idea = TUR_sectarian_woes_2
					}
				}
				else_if = {
					limit = {
						has_idea = TUR_sectarian_woes_1
					}
					remove_ideas = TUR_sectarian_woes_1
				}
			}
		}
	}

	focus = {
		id = TUR_purify_the_diyanet
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = TUR_loosen_the_laws_on_secularism }
		x = 0
		y = 1
		relative_position_id = TUR_loosen_the_laws_on_secularism
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			effect_tooltip = { TUR_placate_fundamentalist_state_all_targets_effect = yes }
			custom_effect_tooltip = TUR_kemalist_officers_made_hostile_tt
			hidden_effect = { 
				every_owned_state = {
					limit = {
						OR = {
							has_dynamic_modifier = { modifier = islamist_opposition }
							has_dynamic_modifier = { modifier = islamist_sedition }
							has_dynamic_modifier = { modifier = islamist_insurgency }
						}
					}
					TUR_placate_fundamentalist_state_all_targets_effect = yes
				}
				random_owned_state = {
					limit = {
						AND = { 
							has_state_flag = TUR_ideological_battleground_state
							NOT = {
								OR = { 
									has_dynamic_modifier = { modifier = kemalist_loyalties }
									has_dynamic_modifier = { modifier = kemalist_schemers }
									has_dynamic_modifier = { modifier = islamist_opposition }
									has_dynamic_modifier = { modifier = islamist_sedition }
									has_dynamic_modifier = { modifier = islamist_insurgency }
									has_dynamic_modifier = { modifier = islamists_placated }
								}
							}
						}
					}
					save_event_target_as = TUR_kemalist_state_event_target
				}
				event_target:TUR_kemalist_state_event_target = { TUR_hostile_kemalists_influenced_state_effect = yes }
			}
		}
	}

	focus = {
		id = TUR_rehabilitate_the_kadro_movement
		icon = GFX_focus_generic_military_academy
		mutually_exclusive = { focus = TUR_reinvigorate_turkish_nationalism }
		prerequisite = { focus = TUR_revive_turkish_revolutionism }
		x = 5
		y = 1
		relative_position_id = TUR_revive_turkish_revolutionism
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_party_name = { 
				ideology = communism
				long_name = TUR_neutrality_party_long
				name = TUR_neutrality_party
			}
			retire_ideology_leader = communism
			create_country_leader = {
				name = "ﾅ枡vket Sﾃｼreyya Aydemir"
				desc = "POLITICS_SEVKET_AYDEMIR_DESC"
				picture = "GFX_portrait_tur_sevket_sureyya_aydemir"
				expire = "1965.1.1"
				ideology = marxism
				traits = {
					the_academic
				}
			}
			add_timed_idea = {
				idea = TUR_political_landscape_shifting
				days = 180
			}
		}
	}

	focus = {
		id = TUR_kemalism_and_the_modern_movement
		icon = GFX_focus_generic_diplomatic_treaty
		mutually_exclusive = { focus = TUR_kemalist_socialist_theory }
		prerequisite = { focus = TUR_rehabilitate_the_kadro_movement }
		x = -4
		y = 1
		relative_position_id = TUR_rehabilitate_the_kadro_movement
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_popularity = { 
				ideology = fascism
				popularity = 0.07
			}
			custom_effect_tooltip = TUR_kemalism_and_the_modern_movement_tt
			hidden_effect = { 
				for_each_scope_loop = {
					array = global.majors
					if = {
						limit = { 
							is_major = yes
							has_government = fascism
							any_owned_state = { is_on_continent = europe }
						}
						add_opinion_modifier = {
							target = TUR
							modifier = TUR_likeminded_ultranationalists
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_integrate_the_fascist_council
		icon = GFX_goal_support_fascism
		prerequisite = { focus = TUR_kemalism_and_the_modern_movement }
		x = 0
		y = 1
		relative_position_id = TUR_kemalism_and_the_modern_movement
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TUR_recep_peker
			set_party_name = { 
				ideology = fascism
				long_name = TUR_neutrality_party_long
				name = TUR_neutrality_party
			}
			if = {
				limit = {
					has_idea = TUR_ismet_inonu
				}
				remove_ideas = TUR_ismet_inonu
				add_ideas = TUR_recep_peker
			}
			else_if = {
				limit = {
					has_idea = TUR_fevzi_cakmak
					has_idea = TUR_fevzi_cakmak_command
				}
				remove_ideas = TUR_ismet_inonu
				add_ideas = TUR_recep_peker
			}
			else_if = {
				limit = {
					has_idea = TUR_sukru_saracoglu_prime_minister
				}
				remove_ideas = TUR_sukru_saracoglu_prime_minister
				add_ideas = TUR_recep_peker
			}
			else = {
				add_political_power = 120
			}
		}
	}

	focus = {
		id = TUR_restack_the_officer_corps
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = TUR_purify_the_diyanet focus = TUR_integrate_the_fascist_council }
		x = 0
		y = 1
		relative_position_id = TUR_purify_the_diyanet
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM }
		completion_reward = {
			custom_effect_tooltip = TUR_restack_the_officer_corps_tt
			hidden_effect = { 
				if = {
					limit = {
						check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = less_than }
					}
					set_variable = { var = TUR_kemalist_officers_loyalty value = 3 }
				}
				subtract_from_variable = { var = TUR_kemalist_power_variable value = 2 }
				TUR_kemalist_loyalty_and_power_update_effect = yes
				if = { 
					limit = {
						has_stability < 0.45
						check_variable = { var = TUR_kemalist_power_variable value = 5 compare = greater_than_or_equals }
						has_government = neutrality
					}
					start_civil_war = {
						ruling_party = neutrality
						ideology = democratic
						size = 0.45
						capital = 797
						states = { 797 341 354 339 340 }
					}
				}
				if = { 
					limit = {
						has_stability < 0.45
						check_variable = { var = TUR_kemalist_power_variable value = 5 compare = greater_than_or_equals }
						has_government = fascism
					}
					start_civil_war = {
						ruling_party = fascism
						ideology = neutrality
						size = 0.5
						capital = 797
						states = { 797 341 354 339 340 }
					}
				}
			}
		}
	}

	focus = {
		id = TUR_form_the_redshirts
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = TUR_integrate_the_fascist_council }
		x = 2
		y = 1
		relative_position_id = TUR_integrate_the_fascist_council
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = TUR_the_redshirts
		}
	}

	focus = {
		id = TUR_fatherland_first
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		available = {
			fascism > 0.3
		}
		prerequisite = { focus = TUR_integrate_the_fascist_council focus = TUR_restack_the_officer_corps }
		x = 0
		y = 2
		relative_position_id = TUR_integrate_the_fascist_council
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM FOCUS_FILTER_TUR_KEMALISM }
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {	
						has_country_leader = {
							name = "Mustafa Kemal Atatﾃｼrk"
							ruling_only = yes
						}
					}
					retire_country_leader = yes
					add_ideas = TUR_mustafa_kemal_ataturk_figurehead
					create_country_leader = {
						name = "ﾄｰsmet ﾄｰnﾃｶnﾃｼ"
						desc = "POLITICS_ISMET_INONU_DESC"
						picture = "Portrait_Turkey_Ismet_Inonu.dds"
						expire = "1965.1.1"
						ideology = centrism
						traits = {
							milli_sef
						}
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = TUR_kemalism_and_the_modern_movement
					NOT = {
						AND = {
							has_country_leader = {
								name = "Mehmet Recep Peker"
								ruling_only = yes
							}
							has_government = fascism
						}
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = yes
					election_frequency = 96
				}
			}
			if = {
				limit = {
					has_completed_focus = TUR_reinvigorate_turkish_nationalism
					NOT = {
						has_country_leader = {
							name = "Fevzi ﾃ㌢kmak"
							ruling_only = yes
						}
					}
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				create_country_leader = {
					name = "Fevzi ﾃ㌢kmak"
					desc = "POLITICS_FEVZI_CAKMAK_DESC"
					picture = "GFX_portrait_tur_fevzi_cakmak"
					expire = "1965.1.1"
					ideology = rexism
					traits = {
						maresal
					}
				}
			}
			custom_effect_tooltip = TUR_fatherland_first_tt
			hidden_effect = {
				country_event = { id = bftb_turkey.29 days = 14 }
				TUR_pacify_random_kurdish_state_effect = yes
				TUR_pacify_random_kurdish_state_effect = yes
				TUR_placate_fundamentalist_state_random_target_effect = yes
				TUR_placate_fundamentalist_state_random_target_effect = yes
				TUR_placate_fundamentalist_state_random_target_effect = yes
				TUR_placate_fundamentalist_state_random_target_effect = yes
				TUR_placate_fundamentalist_state_random_target_effect = yes
			}
		}
	}

	focus = {
		id = TUR_the_pontic_redoubt
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = TUR_the_sun_language_theory focus = TUR_variant_turkish_tax_focus focus = TUR_restack_the_officer_corps }
		available = {
			owns_state = 354
			owns_state = 800
			owns_state = 353
		}
		x = 0
		y = 2
		relative_position_id = TUR_the_sun_language_theory
		cost = 5
		ai_will_do = {
			base = 10
		}

		bypass = {
			NOT = {
				owns_state = 354
				owns_state = 800
				owns_state = 353
			}
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM FOCUS_FILTER_TUR_KEMALISM }
		completion_reward = {
			354 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_pontic_redoubt_trabzon_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 11753
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3714
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6976
							instant_build = yes
						}
					}
				}
			}
			800 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_pontic_redoubt_van_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 652
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12376
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4583
							instant_build = yes
						}
					}
				}
			}
			353 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_pontic_redoubt_erzurum_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11853
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_abuse_the_office_of_soil_products
		icon = GFX_goal_generic_production2
		prerequisite = { focus = TUR_turk_ulusu focus = TUR_fatherland_first focus = TUR_the_pontic_redoubt }
		x = 0
		y = 2
		relative_position_id = TUR_the_pontic_redoubt
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			49 = {
				add_extra_state_shared_building_slots = 2
			}
			every_owned_state = {
				limit = {
					is_core_of = TUR
					has_state_category = rural
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = TUR_deal_for_the_oniki_islands
		icon = GFX_focus_generic_aegean_sea_focus
		prerequisite = { focus = TUR_form_the_redshirts }
		prerequisite = { focus = TUR_fatherland_first }
		x = 0
		y = 2
		relative_position_id = TUR_form_the_redshirts
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			country_event = { id = bftb_turkey.30 }
		}
	}

	focus = {
		id = TUR_kemalist_socialist_theory
		icon = GFX_focus_generic_air_defense
		mutually_exclusive = { focus = TUR_kemalism_and_the_modern_movement }
		prerequisite = { focus = TUR_rehabilitate_the_kadro_movement }
		x = 4
		y = 1
		relative_position_id = TUR_rehabilitate_the_kadro_movement
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_popularity = { 
				ideology = communism
				popularity = 0.05
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TUR_sevket_sureyya_aydemir
		}
	}

	focus = {
		id = TUR_intervene_in_the_spanish_civil_war
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = TUR_kemalism_and_the_modern_movement focus = TUR_kemalist_socialist_theory }
		x = 0
		y = 2
		relative_position_id = TUR_rehabilitate_the_kadro_movement
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = TUR_turkish_interventionism
		}
	}

	focus = {
		id = TUR_a_common_destiny_for_all_of_turkey
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = TUR_intervene_in_the_spanish_civil_war }
		x = 0
		y = 1
		relative_position_id = TUR_intervene_in_the_spanish_civil_war
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM FOCUS_FILTER_TUR_KURDISTAN }
		completion_reward = {
			custom_effect_tooltip = TUR_unlock_kurdish_integration_decisions_tt
			custom_effect_tooltip = TUR_unlock_reconciliation_occupation_law_tt
		}
	}

	focus = {
		id = TUR_hunt_down_fifth_columnist_islamists
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = TUR_a_common_destiny_for_all_of_turkey }
		x = 0
		y = 1
		relative_position_id = TUR_a_common_destiny_for_all_of_turkey
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_TRADITIONALISM FOCUS_FILTER_TUR_KEMALISM }
		completion_reward = {
			unlock_decision_tooltip = TUR_entrench_kemalism_in_state
			unlock_decision_tooltip = TUR_hold_a_march_in_state
		}
	}

	focus = {
		id = TUR_patriotism_over_internationalism
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = TUR_kemalist_socialist_theory }
		x = 0
		y = 1
		relative_position_id = TUR_kemalist_socialist_theory
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
			add_political_power = 120
		}
	}

	focus = {
		id = TUR_create_the_turkish_workers_militia
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = TUR_patriotism_over_internationalism }
		x = 0
		y = 1
		relative_position_id = TUR_patriotism_over_internationalism
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_ideas = TUR_turkish_workers_militia
		}
	}

	focus = {
		id = TUR_halk_ve_devlet
		icon = GFX_goal_support_communism
		prerequisite = { focus = TUR_create_the_turkish_workers_militia }
		available = {
			communism > 0.3
		}
		x = 0
		y = 1
		relative_position_id = TUR_create_the_turkish_workers_militia
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KURDISTAN FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_stability = 0.1
			set_politics = {
				ruling_party = communism
			}
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}

	focus = {
		id = TUR_nationalise_all_private_industry
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = TUR_halk_ve_devlet }
		x = 0
		y = 1
		relative_position_id = TUR_halk_ve_devlet
		cost = 10
		ai_will_do = {
			base = 10
		}


		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			every_owned_state = {
				limit = { has_state_flag = TUR_nationalised_industry_flag }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}			
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = TUR
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_nationalised_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = TUR
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_nationalised_industry_flag
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = TUR
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_nationalised_industry_flag
			}
		}
	}

	focus = {
		id = TUR_georgian_manganese_extraction
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = TUR_halk_ve_devlet }
		x = -2
		y = 1
		relative_position_id = TUR_halk_ve_devlet
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					GEO = { exists = yes }
				}
				GEO = { country_event = { id = bftb_turkey.38 } }
			}
			else = { 
				SOV = { country_event = { id = bftb_turkey.38 } }
			}
		}
	}

	focus = {
		id = TUR_salt_the_scars_of_the_great_war
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = TUR_deal_for_the_oniki_islands focus = TUR_georgian_manganese_extraction }
		prerequisite = { focus = TUR_hunt_down_fifth_columnist_islamists }
		x = 0
		y = 2
		relative_position_id = TUR_hunt_down_fifth_columnist_islamists
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.1
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = TUR
						TUR_is_kemalist_state = yes
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = communism
					popularity = 0.1
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = TUR
						TUR_is_kemalist_state = yes
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_pivot_to_the_past
		icon = GFX_focus_TUR_pivot_to_the_past
		available = { 
			AND = { 
				has_country_flag = TUR_ottoman_officers_invited_back 
				has_civil_war = no
			}
		}
		mutually_exclusive = { focus = TUR_reconfigure_our_foreign_policy focus = TUR_continue_to_prioritise_balkan_integrity }
		prerequisite = { focus = TUR_democratic_capstone_focus }
		x = -12
		y = 1
		relative_position_id = TUR_democratic_capstone_focus
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.15
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_ally
					}
					remove_opinion_modifier = {
						target = TUR
						modifier = BFTB_balkan_pact_ally
					}
					ROOT = {
						remove_opinion_modifier = {
							target = PREV
							modifier = BFTB_balkan_pact_ally
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_purge_the_kemalists
		icon = GFX_focus_TUR_purge_the_kemalists
		prerequisite = { focus = TUR_pivot_to_the_past }
		x = 0
		y = 1
		relative_position_id = TUR_pivot_to_the_past
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KEMALISM FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = TUR_kemalists_purged_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = kemalist_loyalties }
					}
					remove_dynamic_modifier = { modifier = kemalist_loyalties }
				}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = { modifier = kemalist_schemers }
					}
					remove_dynamic_modifier = { modifier = kemalist_schemers }
				}
			}
		}
	}

	focus = {
		id = TUR_restore_the_divan
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = TUR_purge_the_kemalists }
		x = -1
		y = 1
		relative_position_id = TUR_purge_the_kemalists
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			add_political_power = 120
			if = {
				limit = {
					has_idea = TUR_celal_bayar
				}
				remove_ideas = TUR_celal_bayar
				add_ideas = TUR_said_i_nursi
			}
			else_if = {
				limit = {
					has_idea = TUR_adnan_menderes
				}
				remove_ideas = TUR_adnan_menderes
				add_ideas = TUR_said_i_nursi
			}
			else_if = {
				limit = {
					has_idea = TUR_fevzi_cakmak
				}
				remove_ideas = TUR_fevzi_cakmak
				add_ideas = TUR_said_i_nursi
			}
			else_if = {
				limit = {
					NOT = {
						OR = {
							has_idea = TUR_ismet_inonu
							has_idea = TUR_fevzi_cakmak
							has_idea = TUR_sukru_saracoglu_prime_minister
							has_idea = TUR_celal_bayar
							has_idea = TUR_sevket_sureyya_aydemir
							has_idea = TUR_recep_peker
							has_idea = TUR_adnan_menderes
							has_idea = TUR_nuri_demirag_prime_minister
							has_idea = TUR_sefik_husnu
							has_idea = TUR_said_i_nursi
							has_idea = TUR_nihal_atsiz
						}
					}
				}
				add_ideas = TUR_said_i_nursi
			}
			else = {
				add_war_support = 0.05
			}
			every_country_with_original_tag = {
				original_tag_to_check = GER
				limit = {
					has_completed_focus = GER_revive_the_kaiserreich
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = ENG
				limit = {
					has_completed_focus = ENG_the_kings_party
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = SPA
				limit = {
					has_completed_focus = SPA_restore_the_monarchy
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = FRA
				limit = {
					has_completed_focus = FRA_repeal_the_law_of_exile
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = POR
				limit = {
					has_completed_focus = POR_restoration_of_the_monarchy
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = GRE
				limit = {
					has_completed_focus = GRE_the_right_to_rule
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = HUN
				limit = {
					has_completed_focus = HUN_elect_a_king
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = ROM
				limit = {
					has_completed_focus = ROM_his_majestys_loyal_government
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_righteous_traditionalists
				}
			}
		}
	}

	focus = {
		id = TUR_rebuilding_our_nation
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = TUR_purge_the_kemalists }
		x = 1
		y = 1
		relative_position_id = TUR_purge_the_kemalists
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = {
				idea = TUR_rebuilding_our_home
				days = 180
			}
		}
	}

	focus = {
		id = TUR_return_of_the_sultan
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = TUR_restore_the_divan }
		prerequisite = { focus = TUR_rebuilding_our_nation }
		x = 0
		y = 2
		relative_position_id = TUR_purge_the_kemalists
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			news_event = { id = bftb_news.205 }
		}
	}

	focus = {
		id = TUR_reclaim_macedonia
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = TUR_return_of_the_sultan }
		x = 0
		y = 1
		relative_position_id = TUR_return_of_the_sultan
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			OR = {
				GRE = { 
					exists = no
					is_puppet_of = ROOT
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 184
			add_state_claim = 731
			create_wargoal = {
				type = take_state_focus
				target = GRE
			}
		}
	}

	focus = {
		id = TUR_join_the_central_powers
		icon = GFX_focus_ger_revive_kaiserreich
		available = {
			OR = {
				GER = { has_completed_focus = GER_the_central_powers }
				HUN = { has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary }
			}
		}
		mutually_exclusive = { focus = TUR_press_the_austro_hungarian_claim }
		prerequisite = { focus = TUR_reclaim_macedonia }
		x = -1
		y = 1
		relative_position_id = TUR_reclaim_macedonia
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					GER = { 
						has_government = neutrality
						has_completed_focus = GER_the_central_powers
					}
				}
				GER = {
					country_event = { id = generic.2 }
				}
			}
			else_if = {
				limit = {
					GER = { 
						has_government = neutrality
						NOT = { has_completed_focus = GER_the_central_powers }
					}
				}
				GER = {
					set_rule = { can_create_factions = yes }
					create_faction = "GER_central_powers_faction"
					country_event = { id = generic.2 }
				}
			}
			else_if = {
				limit = {
					HUN = { has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary }
				}
				set_rule = { can_create_factions = yes }
				create_faction = "GER_central_powers_faction"
				HUN = {
					if = {
						limit = { ROOT = { is_in_faction = yes } }
						country_event = generic.5 
					}
					else = { 
						custom_effect_tooltip = invite_to_faction_tt
					}
				}
			}
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = TUR_press_the_austro_hungarian_claim
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		available = {
			NOT = {
				HUN = { has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary }
			}
		}
		mutually_exclusive = { focus = TUR_join_the_central_powers }
		prerequisite = { focus = TUR_reclaim_macedonia }
		x = 1
		y = 1
		relative_position_id = TUR_reclaim_macedonia
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 106
			add_state_claim = 105
			add_state_claim = 108
			add_state_claim = 107
			add_state_core = 104
			create_wargoal = {
				type = take_state_focus
				target = YUG
			}
			add_state_claim = 46
			add_state_claim = 79
			add_state_claim = 77
			create_wargoal = {
				type = take_state_focus
				target = ROM
			}
			if = {
				limit = {
					AUS = { exists = yes }
				}
				AUS = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					HUN = { exists = yes }
				}
				HUN = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			if = {
				limit = {
					CZE = { exists = yes }
				}
				CZE = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 1095 }
				}
			}
			custom_effect_tooltip = GER_rekindle_imperial_sentiment_tt
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = TUR_aligning_bulgaria
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = { focus = TUR_join_the_central_powers focus = TUR_press_the_austro_hungarian_claim }
		x = 0
		y = 2
		relative_position_id = TUR_reclaim_macedonia
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = { 
				OR = {
					exists = no
					has_capitulated = yes
					has_war_with = ROOT
					is_in_faction_with = ROOT
					is_puppet_of = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			BUL = { country_event = { id = bftb_turkey.97 } }
		}
	}

	focus = {
		id = TUR_reclaiming_our_lost_empire
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = TUR_aligning_bulgaria }
		x = -2
		y = 1
		relative_position_id = TUR_aligning_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						name = "Abdulmejid II"
						ruling_only = yes
					}
				}
				add_country_leader_trait = caliph
			}
			else_if = {
				limit = {
					has_country_leader = {
						name = "Dﾃｼrrﾃｼﾅ歹hvar I"
						ruling_only = yes
					}
				}
				add_country_leader_trait = calipha
			}
			else = { 
				effect_tooltip = { add_country_leader_trait = caliph }
			}

			#Set appropriate cosmetic tag to work with dynamic 3D models
			set_country_flag = TUR_ott_unified_flag
			TUR_set_appropriate_cosmetic_tag = yes
			unlock_decision_category_tooltip = form_ottoman_empire_category
		}
	}

	focus = {
		id = TUR_expanding_the_saadabad_pact
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = TUR_aligning_bulgaria }
		x = 0
		y = 1
		relative_position_id = TUR_aligning_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			custom_trigger_tooltip = { 
				tooltip = TUR_no_faction_members_tt
				NOT = {
					has_global_flag = TUR_saadabad_pact
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = the_saadabad_concordat
				every_country = {
					limit = {
						has_country_flag = TUR_saadabad_pact_member
					}
					custom_effect_tooltip = invite_to_faction_tt
					hidden_effect = { country_event = { id = generic.5 } }
				}
			}
			else_if = {
				limit = {
					is_in_faction = yes
					is_faction_leader = yes
				}
				every_country = {
					limit = {
						has_country_flag = TUR_saadabad_pact_member
					}
					country_event = { id = generic.5 }
				}
			}
			else_if = {
				limit = {
					is_in_faction = yes
					is_faction_leader = no
				}
				effect_tooltip = { 
					every_country = {
						limit = {
							has_country_flag = TUR_saadabad_pact_member
						}
						random_country = {
							limit = {
								is_in_faction_with = TUR
								is_faction_leader = yes
							}
							PREV = { country_event = { id = generic.5 } }
						}
					}
				}
				hidden_effect = { 
					random_country = {
						limit = {
							is_in_faction_with = TUR
							is_faction_leader = yes
						}
						country_event = bftb_turkey.142
					}
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = TUR_treaty_of_saadabad }
				}
				custom_effect_tooltip = TUR_saadabad_pact_faction_tt
			}
		}
	}

	focus = {
		id = TUR_the_damascus_diktat
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = TUR_aligning_bulgaria }
		x = 2
		y = 1
		relative_position_id = TUR_aligning_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ROOT = {
				controls_state = 677
				controls_state = 554
				controls_state = 553
				controls_state = 680
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			677 = {
				controller = {
					if = {
						limit = {
							controls_state = 554
							controls_state = 553
							controls_state = 680
						}
						country_event = { id = bftb_turkey.102 }
					}
				}
			}
		}
	}

	focus = {
		id = TUR_supporting_the_east
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = TUR_reclaiming_our_lost_empire }
		x = -1
		y = 1
		relative_position_id = TUR_reclaiming_our_lost_empire
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			354 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			800 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			352 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			353 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			350 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			344 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = TUR_desert_camel_corps
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = TUR_supporting_the_east }
		x = 0
		y = 1
		relative_position_id = TUR_supporting_the_east
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			custom_effect_tooltip = TUR_unlock_camelry_effect_tt
			hidden_effect = { set_technology = { camelry = 1 } } 
		}
	}

	focus = {
		id = TUR_the_pan_national_association_of_ulemas
		icon = GFX_goal_anschluss
		prerequisite = { focus = TUR_expanding_the_saadabad_pact }
		prerequisite = { focus = TUR_reclaiming_our_lost_empire focus = TUR_the_damascus_diktat }
		x = 0
		y = 1
		relative_position_id = TUR_expanding_the_saadabad_pact
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			custom_trigger_tooltip = { 
				tooltip = TUR_no_faction_alliance_members_tt
				AND = {
					AFG = {
						NOT = { is_in_faction_with = TUR }
					}
					PER = {
						NOT = { is_in_faction_with = TUR }
					}
					IRQ = {
						NOT = { is_in_faction_with = TUR }
					}
					SYR = {
						NOT = { is_in_faction_with = TUR }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = { 
				limit = {
					NOT = { has_completed_focus = TUR_treaty_of_saadabad }
				}
				effect_tooltip = {
					puppet = AFG
					puppet = PER
					puppet = IRQ
				}
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					AFG = {
						AND = {
							NOT = { is_in_faction_with = TUR }
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				effect_tooltip = { TUR = { puppet = AFG } }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					PER = {
						AND = {
							NOT = { is_in_faction_with = TUR }
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				effect_tooltip = { TUR = { puppet = PER } }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					IRQ = {
						AND = {
							NOT = { is_in_faction_with = TUR }
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				effect_tooltip = { TUR = { puppet = IRQ } }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					SYR = {
						AND = {
							NOT = { is_in_faction_with = TUR }
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				effect_tooltip = { TUR = { puppet = SYR } }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					AFG = {
						AND = {
							is_in_faction_with = TUR
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				TUR = { puppet = AFG }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					PER = {
						AND = {
							is_in_faction_with = TUR
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				TUR = { puppet = PER }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					IRQ = {
						AND = {
							is_in_faction_with = TUR
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				TUR = { puppet = IRQ }
			}
			if = { 
				limit = {
					has_completed_focus = TUR_treaty_of_saadabad
					SYR = {
						AND = {
							is_in_faction_with = TUR
							has_country_flag = TUR_saadabad_pact_member
						}
					}
				}
				TUR = { puppet = SYR }
			}
		}
	}

	focus = {
		id = TUR_reinstate_the_darulfununu_sahane
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = TUR_the_pan_national_association_of_ulemas }
		x = -1
		y = 1
		relative_position_id = TUR_the_pan_national_association_of_ulemas
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction = no
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = TUR_imperial_factories
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = TUR_the_pan_national_association_of_ulemas }
		x = 1
		y = 1
		relative_position_id = TUR_the_pan_national_association_of_ulemas
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_in_faction_with = GER
				}
				add_offsite_building = { type = arms_factory level = 3 }
			}
		}
	}

	focus = {
		id = TUR_refining_our_strategies
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = TUR_the_damascus_diktat }
		x = 3
		y = 1
		relative_position_id = TUR_the_pan_national_association_of_ulemas
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_refining_our_strategies
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				name = TUR_refining_our_strategies
				bonus = 1.00
				uses = 2
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = TUR_refining_our_strategies
				bonus = 1.00
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_the_red_apples_of_sevres
		icon = GFX_focus_focus_fra_ratify_stresa
		prerequisite = { focus = TUR_desert_camel_corps }
		prerequisite = { focus = TUR_imperial_factories }
		prerequisite = { focus = TUR_reinstate_the_darulfununu_sahane }
		prerequisite = { focus = TUR_refining_our_strategies }
		x = 0
		y = 2
		relative_position_id = TUR_the_pan_national_association_of_ulemas
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ENG = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
			FRA = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
			ITA = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.15
			create_wargoal = {
				type = topple_government
				target = ENG
			}
			create_wargoal = {
				type = topple_government
				target = FRA
			}
			create_wargoal = {
				type = topple_government
				target = ITA
			}
		}
	}

	focus = {
		id = TUR_realize_the_nightmare_of_meiji
		icon = GFX_focus_jap_pacific_guardian
		prerequisite = { focus = TUR_the_red_apples_of_sevres }
		x = 0
		y = 1
		relative_position_id = TUR_the_red_apples_of_sevres
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			JAP = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_tech_bonus = {
				name = TUR_realize_the_nightmare_of_meiji
				bonus = 1.0
				uses = 1
				technology = marines
				technology = marines2
				technology = marines3
			}
			add_tech_bonus = {
				name = TUR_realize_the_nightmare_of_meiji
				bonus = 1.0
				uses = 1
				category = tp_tech 
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			}
		}
	}

	focus = {
		id = TUR_continue_to_prioritise_balkan_integrity
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = { focus = TUR_reconfigure_our_foreign_policy focus = TUR_pivot_to_the_past }
		available = {
			NOT = {
				OR = { 
					AND = {
						has_war_with = GRE
						has_war_with = HUN
						has_war_with = ROM
						has_war_with = YUG
					}
					AND = {
						GRE = { exists = no }
						HUN = { exists = no }
						ROM = { exists = no }
						YUG = { exists = no }
					}
					is_in_faction = yes
					is_puppet = yes
					has_country_flag = TUR_ottoman_officers_invited_back
				}
			}
		}
		prerequisite = { focus = TUR_democratic_capstone_focus focus = TUR_abuse_the_office_of_soil_products focus = TUR_salt_the_scars_of_the_great_war }
		x = 30
		y = 1
		relative_position_id = TUR_democratic_capstone_focus
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			add_stability = 0.05
			every_country = {
				limit = {
					AND = {
						OR = {
							original_tag = GRE
							original_tag = HUN
							original_tag = ROM
							original_tag = YUG
						}
						OR = {
							has_opinion_modifier = BFTB_balkan_pact_ally
							has_idea = HUN_his_majestys_government
						}
					}
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_assertive_regional_defender
				}
				hidden_effect = {
					add_ai_strategy = {
						type = alliance
						id = TUR
						value = 500
					}
				}
			}
			every_country = {
				limit = {
					AND = {
						OR = {
							original_tag = BUL
							original_tag = HUN
						}
						has_opinion_modifier = BFTB_incongruous_neighbors
					}
				}
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_turkish_meddlers
				}
			}
			hidden_effect = {
				news_event = { id = bftb_news.207 hours = 6 }
			}
		}
	}

	focus = {
		id = TUR_reaffirm_the_balkan_pact
		icon = GFX_focus_TUR_reform_the_balkan_pact
		available = {
			NOT = {
				OR = { 
					AND = {
						has_war_with = GRE
						has_war_with = HUN
						has_war_with = ROM
						has_war_with = YUG
					}
					AND = {
						GRE = { exists = no }
						HUN = { exists = no }
						ROM = { exists = no }
						YUG = { exists = no }
					}
					is_in_faction = yes
					is_puppet = yes
				}
			}
		}
		prerequisite = { focus = TUR_continue_to_prioritise_balkan_integrity }
		x = 0
		y = 1
		relative_position_id = TUR_continue_to_prioritise_balkan_integrity
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = TUR_balkan_pact
			every_country = {
				limit = {
					AND = {
						OR = {
							original_tag = GRE
							original_tag = HUN
							original_tag = ROM
							original_tag = YUG
						}
						has_opinion_modifier = TUR_assertive_regional_defender
					}
				}
				country_event = { id = bftb_turkey.41 }
			}
		}
	}

	focus = {
		id = TUR_balkan_defense_council
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = TUR_reaffirm_the_balkan_pact }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = TUR_reaffirm_the_balkan_pact
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_balkan_defense_council_spirit
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = YUG
							original_tag = ROM
						}
					}
					add_ideas = TUR_balkan_defense_council_spirit
				}
			}
		}
	}

	focus = {
		id = TUR_three_year_industrial_plan
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = TUR_reaffirm_the_balkan_pact }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = TUR_reaffirm_the_balkan_pact
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = {
				idea = TUR_three_year_plan_balkans
				days = 1095
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = YUG
							original_tag = ROM
						}
					}
					add_timed_idea = {
						idea = TUR_three_year_plan_balkans
						days = 1095
					}
				}
			}
		}
	}

	focus = {
		id = TUR_united_against_imperialism
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = TUR_balkan_defense_council }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = TUR_balkan_defense_council
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
			hidden_effect = {
				if = {
					limit = {
						has_government = neutrality
					}
					add_popularity = {
						ideology = neutrality 
						popularity = 0.1
					}
				}
				else_if = {
					limit = {
						has_government = democratic
					}
					add_popularity = {
						ideology = democratic 
						popularity = 0.1
					}
				}
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = YUG
							original_tag = ROM
						}
					}
					add_stability = 0.05
					hidden_effect = {
						if = {
							limit = {
								has_government = neutrality
							}
							add_popularity = {
								ideology = neutrality 
								popularity = 0.1
							}
						}
						else_if = {
							limit = {
								has_government = democratic
							}
							add_popularity = {
								ideology = democratic 
								popularity = 0.1
							}
						}
					}
				}
			}
			custom_effect_tooltip = TUR_united_against_imperialism_tt
		}
	}

	focus = {
		id = TUR_create_the_balkan_central_bank
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = TUR_balkan_defense_council }
		prerequisite = { focus = TUR_three_year_industrial_plan }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = TUR_reaffirm_the_balkan_pact
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					GRE = { 
						has_completed_focus = GRE_bedrock_of_balkan_financial_stability
						is_in_faction_with = TUR
					}
				}
				add_ideas = TUR_central_balkan_bank_wealthy_greece
				for_each_scope_loop = {
					array = faction_members
					if = {
						limit = {
							NOT = { tag = ROOT }
							OR = {
								original_tag = GRE
								original_tag = YUG
								original_tag = ROM
							}
						}
						add_ideas = TUR_central_balkan_bank_wealthy_greece
					}
				}
			}
			else = {
				add_ideas = TUR_central_balkan_bank
				for_each_scope_loop = {
					array = faction_members
					if = {
						limit = {
							NOT = { tag = ROOT }
							OR = {
								original_tag = GRE
								original_tag = YUG
								original_tag = ROM
							}
						}
						add_ideas = TUR_central_balkan_bank
					}
				}
			}
		}
	}

	focus = {
		id = TUR_the_treaty_for_prosperity_and_trade
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = TUR_three_year_industrial_plan }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = TUR_three_year_industrial_plan
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			if = { 
				limit = {
					NOT = { has_idea = free_trade }
				}
				add_ideas = free_trade
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			add_political_power = 120
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = ROM
							original_tag = YUG
						}
					}
					add_ideas = export_focus
					add_political_power = 75
				}
			}
		}
	}

	focus = {
		id = TUR_joint_budgets_on_fortifications
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = TUR_united_against_imperialism }
		prerequisite = { focus = TUR_create_the_balkan_central_bank }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = TUR_united_against_imperialism
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = TUR_joint_fortification_budget
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = ROM
							original_tag = YUG
						}
					}
					add_ideas = TUR_joint_fortification_budget
				}
			}
		}
	}

	focus = {
		id = TUR_connecting_our_capitals
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = TUR_create_the_balkan_central_bank }
		prerequisite = { focus = TUR_the_treaty_for_prosperity_and_trade }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = TUR_the_treaty_for_prosperity_and_trade
		cost = 10
		ai_will_do = {
			base = 10
		}	

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			#Turkey
			if = {
				limit = {
					TUR = {
						AND = {
							controls_state = 49
							controls_state = 347
							controls_state = 797
							controls_state = 341
						}
					}
				}
				49 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
				347 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				797 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				341 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			#Greece
			if = {
				limit = {
					GRE = {
						is_in_faction_with = TUR
						AND = {
							controls_state = 47
							controls_state = 731
							controls_state = 184
						}
					}
				}
				47 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
				731 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				184 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			#Yugoslavia
			if = {
				limit = {
					YUG = {
						is_in_faction_with = TUR
						AND = {
							controls_state = 106
							controls_state = 108
							controls_state = 107
						}
					}
				}
				106 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
				108 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				107 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			#Romania
			if = {
				limit = {
					ROM = {
						is_in_faction_with = TUR
						AND = {
							controls_state = 82
							controls_state = 81
							controls_state = 46
						}
					}
				}
				82 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
				81 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				46 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					GRE = {
						is_in_faction_with = TUR
						OR = {
							has_completed_focus = GRE_connecting_our_prefectures
							has_completed_focus = GRE_rejuvenating_athens
							has_completed_focus = GRE_clear_the_slums
						}
						AND = {
							controls_state = 47
							controls_state = 731
							controls_state = 184
						}
					}
				}
				custom_effect_tooltip = TUR_connect_capitals_greece_tt
				hidden_effect = {
					47 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}	
					}
					731 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					184 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_to_variable = { var = TUR_balkan_pact_connectivity value = 1 }
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = TUR
						has_completed_focus = ROM_danubian_transport_network
						AND = {
							controls_state = 82
							controls_state = 81
							controls_state = 46
						}
					}
				}
				custom_effect_tooltip = TUR_connect_capitals_romania_tt
				hidden_effect = { 
					82 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}	
					}
					81 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					46 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_to_variable = { var = TUR_balkan_pact_connectivity value = 1 }
				}
			}
			if = {
				limit = {
					YUG = {
						is_in_faction_with = TUR
						OR = {
							has_completed_focus = YUG_integrated_rail_network
							has_completed_focus = YUG_improve_serbian_rail_network
						}
						AND = {
							controls_state = 106
							controls_state = 108
							controls_state = 107
						}
					}
				}
				custom_effect_tooltip = TUR_connect_capitals_greece_tt
				hidden_effect = { 
					106 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}	
					}
					108 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					107 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_to_variable = { var = TUR_balkan_pact_connectivity value = 1 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = TUR_balkan_pact_connectivity
						value = 3
						compare = equals
					}
				}
				add_ideas = TUR_balkan_pact_innovative_transport_techniques
				for_each_scope_loop = {
					array = faction_members
					if = {
						limit = {
							NOT = { tag = ROOT }
							OR = {
								original_tag = GRE
								original_tag = ROM
								original_tag = YUG
							}
						}
						add_ideas = TUR_balkan_pact_innovative_transport_techniques
					}
				}
			}
		}
	}

	focus = {
		id = TUR_fortifying_contentious_areas
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = TUR_joint_budgets_on_fortifications }
		prerequisite = { focus = TUR_connecting_our_capitals }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = TUR_joint_budgets_on_fortifications
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			342 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_fortify_the_south_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 10122
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9941
							instant_build = yes
						}
					}
				}
			}
			354 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_fortify_the_north_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 10472
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10403
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11753
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3714
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6976
							instant_build = yes
						}
					}
				}
			}
			800 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_fortify_the_east_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 4583
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12376
							instant_build = yes
						}
					}
				}
			}
			add_timed_idea = {
				idea = TUR_emergency_fortification_directive
				days = 180
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = ROM
							original_tag = YUG
						}
					}
					add_timed_idea = {
						idea = TUR_emergency_fortification_directive
						days = 180
					}
				}
			}
		}
	}

	focus = {
		id = TUR_integrated_armed_forces
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = TUR_fortifying_contentious_areas }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = TUR_fortifying_contentious_areas
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				remove_idea = TUR_balkan_defense_council_spirit
				add_idea = TUR_united_balkan_security_forces
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = ROM
							original_tag = YUG
						}
					}
					swap_ideas = {
						remove_idea = TUR_balkan_defense_council_spirit
						add_idea = TUR_united_balkan_security_forces
					}
				}
			}
		}
	}

	focus = {
		id = TUR_the_balkan_academy_of_science
		icon = GFX_focus_research2
		prerequisite = { focus = TUR_fortifying_contentious_areas }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 2
		y = 1
		relative_position_id = TUR_fortifying_contentious_areas
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					GRE = { 
						is_in_faction_with = TUR
						has_completed_focus = GRE_academy_of_athens
					}
				}
				add_to_tech_sharing_group = TUR_athenian_balkan_academy
				for_each_scope_loop = {
					array = faction_members
					if = {
						limit = {
							NOT = { tag = ROOT }
							OR = {
								original_tag = GRE
								original_tag = ROM
								original_tag = YUG
							}
						}
						add_to_tech_sharing_group = TUR_athenian_balkan_academy 
					}
				}
			}
			else = {
				add_to_tech_sharing_group = TUR_balkan_academy_of_sciences
				for_each_scope_loop = {
					array = faction_members
					if = {
						limit = {
							NOT = { tag = ROOT }
							OR = {
								original_tag = GRE
								original_tag = ROM
								original_tag = YUG
							}
						}
						add_to_tech_sharing_group = TUR_balkan_academy_of_sciences 
					}
				}
			}
		}
	}

	focus = {
		id = TUR_extend_an_olive_branch_to_bulgaria
		icon = GFX_focus_generic_befriend_bulgaria
		available = {
			NOT = {
				BUL = {
					OR = {
						has_government = communism
						has_government = fascism
					}
				}
			}
		}
		mutually_exclusive = { focus = TUR_preempt_bulgarian_alignment }
		prerequisite = { focus = TUR_integrated_armed_forces }
		x = -1
		y = 1
		relative_position_id = TUR_integrated_armed_forces
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			BUL = { 
				if = {
					limit = { ROOT = { is_in_faction = yes } }
					country_event = { id = bftb_turkey.41 }
					remove_opinion_modifier = {
						target = TUR
						modifier = TUR_turkish_meddlers
					}
				}
				else = { 
					custom_effect_tooltip = invite_to_faction_tt
					effect_tooltip = {
						remove_opinion_modifier = {
							target = ROOT
							modifier = TUR_turkish_meddlers
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_preempt_bulgarian_alignment
		icon = GFX_focus_generic_attack_bulgaria
		mutually_exclusive = { focus = TUR_extend_an_olive_branch_to_bulgaria }
		prerequisite = { focus = TUR_integrated_armed_forces }
		x = 1
		y = 1
		relative_position_id = TUR_integrated_armed_forces
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = BUL
			}
		}
	}

	focus = {
		id = TUR_peninsular_network_of_factories
		icon = GFX_goal_generic_production
		prerequisite = { focus = TUR_extend_an_olive_branch_to_bulgaria focus = TUR_preempt_bulgarian_alignment }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = -1
		y = 1
		relative_position_id = TUR_extend_an_olive_branch_to_bulgaria
		cost = 10
		ai_will_do = {
			base = 30
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = TUR_peninsular_network_of_factories_flag }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}	
			}
		}		

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_country = {
				limit = {
					NOT = { original_tag = TUR }
					is_in_faction_with = TUR
					has_opinion_modifier = BFTB_balkan_pact_ally
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
			if = {
				limit = {
					original_tag = TUR
					BUL = { is_in_faction_with = TUR }
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
			if = {
				limit = {
					original_tag = TUR
					GRE = { is_in_faction_with = TUR }
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
			if = {
				limit = {
					original_tag = TUR
					ROM = { is_in_faction_with = TUR }
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
			if = {
				limit = {
					original_tag = TUR
					YUG = { is_in_faction_with = TUR }
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
			if = {
				limit = {
					original_tag = TUR
					AND = {
						NOT = {
							BUL = { is_in_faction_with = TUR }
							GRE = { is_in_faction_with = TUR }
							ROM = { is_in_faction_with = TUR }
							YUG = { is_in_faction_with = TUR }
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = TUR_peninsular_network_of_factories_flag
				}
			}
		}
	}

	focus = {
		id = TUR_combined_operational_strategies
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = TUR_extend_an_olive_branch_to_bulgaria focus = TUR_preempt_bulgarian_alignment }
		available = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = GRE
					GRE = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = ROM
					ROM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YUG
					YUG = { is_faction_leader = yes }
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = TUR_integrated_armed_forces
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = TUR_united_balkan_security_forces
				add_idea = TUR_the_coordinated_armed_forces_of_the_balkan_pact
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = GRE
							original_tag = YUG
							original_tag = ROM
							original_tag = BUL
						}
					}
					swap_ideas = {
						remove_idea = TUR_united_balkan_security_forces
						add_idea = TUR_the_coordinated_armed_forces_of_the_balkan_pact
					}
				}
			}
		}
	}

	focus = {
		id = TUR_edirne_research_exchange
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = TUR_the_balkan_academy_of_science }
		prerequisite = { focus = TUR_extend_an_olive_branch_to_bulgaria focus = TUR_preempt_bulgarian_alignment }
		x = 0
		y = 2
		relative_position_id = TUR_the_balkan_academy_of_science
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = TUR_crush_the_warmongers_in_rome
		icon = GFX_focus_attack_italy
		prerequisite = { focus = TUR_peninsular_network_of_factories }
		prerequisite = { focus = TUR_combined_operational_strategies }
		prerequisite = { focus = TUR_edirne_research_exchange }
		x = -1
		y = 1
		relative_position_id = TUR_combined_operational_strategies
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}
		}
	}

	focus = {
		id = TUR_brace_against_the_red_menace
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = TUR_peninsular_network_of_factories }
		prerequisite = { focus = TUR_combined_operational_strategies }
		prerequisite = { focus = TUR_edirne_research_exchange }
		x = 1
		y = 1
		relative_position_id = TUR_combined_operational_strategies
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV
			}
		}
	}

	focus = {
		id = TUR_reconfigure_our_foreign_policy
		icon = GFX_focus_TUR_reconfigure_turkish_foreign_policy
		available = { has_civil_war = no }
		mutually_exclusive = { focus = TUR_continue_to_prioritise_balkan_integrity focus = TUR_pivot_to_the_past }
		prerequisite = { focus = TUR_democratic_capstone_focus focus = TUR_abuse_the_office_of_soil_products focus = TUR_salt_the_scars_of_the_great_war }
		x = 8
		y = 1
		relative_position_id = TUR_democratic_capstone_focus
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_political_power = 120
			ROM = {
				diplomatic_relation = {
					country = TUR
					relation = guarantee
					active = no
				}
			}
			every_other_country = {
				limit = {
					has_opinion_modifier = BFTB_balkan_pact_ally
				}
				remove_opinion_modifier = {
					target = TUR
					modifier = BFTB_balkan_pact_ally
				}
				hidden_effect = {
					ROOT = {
						remove_opinion_modifier = {
							target = PREV
							modifier = BFTB_balkan_pact_ally
						}
					}
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						capital_scope = { is_on_continent = europe }
						is_major = yes
						is_faction_leader = yes
					}
					add_ai_strategy = {
						type = befriend
						id = TUR
						value = 50
					}
					add_ai_strategy = {
						type = alliance
						id = TUR
						value = 25
					}
				}
			}
		}
	}

	focus = {
		id = TUR_the_anglo_turkish_agreement
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = TUR_reconfigure_our_foreign_policy }
		available = { 
			NOT = { has_war_with = ENG }
		}
		x = -12
		y = 1
		relative_position_id = TUR_reconfigure_our_foreign_policy
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ENG = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_regional_force_of_stability
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_regional_force_of_stability
				}
			}
			ENG = {
				diplomatic_relation = {
					country = TUR
					relation = guarantee
					active = yes
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_medium_tank
					}
				}
				hidden_effect = { set_technology = { basic_medium_tank = 1 } }
				custom_effect_tooltip = TUR_add_medium_tank_technology_tt
			}
			add_equipment_to_stockpile = { type = medium_tank_equipment_1 amount = 25 }
		}
	}

	focus = {
		id = TUR_applying_british_oil_embargoes_on_iraq
		icon = GFX_goal_generic_trade
		prerequisite = { focus = TUR_the_anglo_turkish_agreement }
		available = { 
			NOT = { has_war_with = ENG }
		}
		x = -1
		y = 1
		relative_position_id = TUR_the_anglo_turkish_agreement
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			IRQ = {
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ENG = {
				add_opinion_modifier = {
					target = TUR
					modifier = offered_support
				}
			}
			IRQ = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_imperialist_puppets
				}
				add_opinion_modifier = {
					target = GER
					modifier = embargo
				}
			}
			GER = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_aiding_our_enemies
				}
				add_opinion_modifier = {
					target = IRQ
					modifier = embargo
				}
			}
			hidden_effect = {
				if = {
					limit = {
						PER = { 
							NOT = { has_government = fascism }  
						}
					}
					PER = {
						add_opinion_modifier = {
							target = GER
							modifier = embargo
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_host_exiled_scientists
		icon = GFX_focus_research2
		prerequisite = { focus = TUR_the_anglo_turkish_agreement }
		x = 1
		y = 1
		relative_position_id = TUR_the_anglo_turkish_agreement
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = TUR_sheltered_foreign_outcasts
		}
	}

	focus = {
		id = TUR_the_chester_concession
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = TUR_applying_british_oil_embargoes_on_iraq }
		prerequisite = { focus = TUR_host_exiled_scientists }
		available = { 
			NOT = { has_war_with = USA }
		}
		x = 0
		y = 2
		relative_position_id = TUR_the_anglo_turkish_agreement
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			USA = { country_event = { id = bftb_turkey.55 } }
			custom_effect_tooltip = TUR_raise_opinion_of_america_tt
		}
	}

	focus = {
		id = TUR_american_motor_factories
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = TUR_the_chester_concession }
		available = { 
			NOT = { has_war_with = USA }
		}
		x = -1
		y = 1
		relative_position_id = TUR_the_chester_concession
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = TUR_american_motor_factories
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
			if = {
				limit = {
					has_full_control_of_state = 797
				}
				797 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			add_equipment_to_stockpile = { type = motorized_equipment amount = 275 }
		}
	}

	focus = {
		id = TUR_bomber_schematics
		icon = GFX_focus_usa_escort_fighters
		prerequisite = { focus = TUR_the_chester_concession }
		available = { 
			OR = {
				NOT = { has_war_with = ENG }
				NOT = { has_war_with = USA }
			}
		}
		x = 1
		y = 1
		relative_position_id = TUR_the_chester_concession
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_bomber_schematics
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = TUR_bomber_schematics
				bonus = 1.5
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_join_the_allies
		icon = GFX_goal_support_democracy
		mutually_exclusive = { focus = TUR_the_mediterranean_entente focus = TUR_join_the_axis focus = TUR_anti_bolshevik_mediterranean_bloc focus = TUR_readdress_the_montreux_convention }
		prerequisite = { focus = TUR_american_motor_factories }
		prerequisite = { focus = TUR_bomber_schematics }
		available = {
			ENG = {
				NOT = {
					OR = {
						has_completed_focus = ENG_the_kings_party
						has_completed_focus = ENG_concessions_to_the_trade_unions
					}
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = TUR_the_chester_concession
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ENG = {
				country_event = { id = generic.2 }
			}
		}
	}

	focus = {
		id = TUR_controlling_the_skies_of_europe
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = TUR_join_the_allies }
		x = -1
		y = 1
		relative_position_id = TUR_join_the_allies
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_controlling_the_skies_of_europe
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = TUR_controlling_the_skies_of_europe
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_expanding_our_navy
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = TUR_join_the_allies }
		x = 1
		y = 1
		relative_position_id = TUR_join_the_allies
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_expanding_our_navy
				bonus = 1.5
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = TUR_expanding_our_navy
				bonus = 1.0
				uses = 1
				category = ca_tech
			}
			add_tech_bonus = {
				name = TUR_expanding_our_navy
				bonus = 0.75
				uses = 3
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = TUR_the_petra_proposal
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = TUR_join_the_allies }
		available = { is_in_faction_with = ENG }
		x = 3
		y = 1
		relative_position_id = TUR_join_the_allies
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			OR = {
				ENG = { has_completed_focus = ENG_revisit_colonial_policy }
				ENG = {
					NOT = {
						controls_state = 455
						controls_state = 454
						controls_state = 453
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			ENG = {
				country_event = { id = bftb_turkey.44 }
			}
		}
	}

	focus = {
		id = TUR_expanded_credit_on_our_debts
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = TUR_controlling_the_skies_of_europe }
		prerequisite = { focus = TUR_expanding_our_navy }
		x = 0
		y = 2
		relative_position_id = TUR_join_the_allies
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					has_idea = TUR_debt_council
				}
				remove_ideas = TUR_debt_council
			}
			else_if = {
				limit = {
					has_idea = TUR_tpda
				}
				remove_ideas = TUR_tpda
			}
			else = {
				add_political_power = 120
			}
			add_research_slot = 1
		}
	}

	focus = {
		id = TUR_partnership_pact_with_bulgaria
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = { focus = TUR_expanded_credit_on_our_debts }
		x = 0
		y = 1
		relative_position_id = TUR_expanded_credit_on_our_debts
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
					has_government = communism
					has_government = fascism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			effect_tooltip = { 
				BUL = {
					country_event = { id = generic.5 }
				}
			}
			hidden_effect = { 
				random_country = {
					limit = {
						is_in_faction_with = TUR
						is_faction_leader = yes
					}
					country_event = bftb_turkey.143
				}
			}
		}
	}

	focus = {
		id = TUR_seizing_the_romanian_oil_fields
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		available = {
			ROM = {
				OR = {
					has_government = fascism
					has_government = communism
					has_added_tension_amount > 5
				}
			}
		}
		prerequisite = { focus = TUR_partnership_pact_with_bulgaria }
		x = -2
		y = 1
		relative_position_id = TUR_partnership_pact_with_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ROM = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROM
			}
		}
	}

	focus = {
		id = TUR_securing_iran
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = TUR_partnership_pact_with_bulgaria }
		x = 0
		y = 1
		relative_position_id = TUR_partnership_pact_with_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			PER = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = PER
			}
			if = {
				limit = {
					is_in_faction_with = ENG
				}
				ENG = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PER
					}
				}
			}
			add_war_support = 0.05
		}
	}

	focus = {
		id = TUR_british_dockyards_in_turkey
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = TUR_the_petra_proposal }
		available = { is_in_faction_with = ENG }
		x = 0
		y = 2
		relative_position_id = TUR_the_petra_proposal
		cost = 10
		ai_will_do = {
			base = 10
		}

		complete_tooltip = {
			every_owned_state = {
				limit = { has_state_flag = TUR_british_dockyards }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_british_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_british_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = TUR_british_dockyards
			}
		}
	}

	focus = {
		id = TUR_taking_over_defense_of_the_gulf
		icon = GFX_focus_TUR_taking_over_defense_of_the_gulf
		prerequisite = { focus = TUR_british_dockyards_in_turkey }
		prerequisite = { focus = TUR_securing_iran }
		available = { is_in_faction_with = ENG }
		x = 0
		y = 2
		relative_position_id = TUR_british_dockyards_in_turkey
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ENG = { has_completed_focus = ENG_revisit_colonial_policy }
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			ENG = {
				country_event = { id = bftb_turkey.47 }
			}
		}
	}

	focus = {
		id = TUR_we_must_not_fall
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = TUR_securing_iran }
		x = 0
		y = 2
		relative_position_id = TUR_securing_iran
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_TUR_KURDISTAN FOCUS_FILTER_TUR_TRADITIONALISM }
		completion_reward = {
			add_ideas = TUR_victory_at_all_costs
		}
	}

	focus = {
		id = TUR_the_german_turkish_friendship_treaty
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = TUR_reconfigure_our_foreign_policy }
		available = { 
			NOT = { has_war_with = GER }
		}
		x = 0
		y = 1
		relative_position_id = TUR_reconfigure_our_foreign_policy
		cost = 5
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			GER = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_valued_strategic_partners
				}
				diplomatic_relation = {
					country = TUR
					relation = guarantee
					active = yes
				}
			}
			hidden_effect = {
				GER = { set_country_flag = TUR_germany_gets_strait_access }
			}
		}
	}

	focus = {
		id = TUR_the_clodius_agreement
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = TUR_the_german_turkish_friendship_treaty }
		available = { 
			NOT = { 
				OR = {
					has_war_with = GER
					has_war_with = ITA
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = TUR_the_german_turkish_friendship_treaty
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			GER = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_clodius_agreement
				}
			}
			ITA = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_clodius_agreement
				}
			}
			custom_effect_tooltip = TUR_clodius_agreement_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_resources_amount = {
							resource = chromium
							amount > 64
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_purchase_italian_light_tanks
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = TUR_the_clodius_agreement }
		available = { 
			NOT = { has_war_with = ITA }
		}
		x = -2
		y = 1
		relative_position_id = TUR_the_clodius_agreement
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			ITA = {
				country_event = { id = bftb_turkey.50 }
			}
		}
	}

	focus = {
		id = TUR_approve_the_funkplan
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = TUR_the_clodius_agreement }
		available = { 
			NOT = { has_war_with = GER }
		}
		x = 2
		y = 1
		relative_position_id = TUR_the_clodius_agreement
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = TUR_funkplan
			GER = { add_stability = 0.1 }
		}
	}

	focus = {
		id = TUR_the_italo_turkish_naval_academy
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = TUR_purchase_italian_light_tanks }
		available = { 
			NOT = { has_war_with = ITA }
		}
		x = 0
		y = 1
		relative_position_id = TUR_purchase_italian_light_tanks
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			create_navy_leader = {
				name = "Ferdinando Umberto Filippo Adalberto"
				gfx = "GFX_portrait_ITA_ferdinando_adalberto"
				traits = { gentlemanly media_personality career_officer superior_tactician }
				skill = 4 #13
				id = 77
				attack_skill = 3
				defense_skill = 3
				maneuvering_skill = 4
				coordination_skill = 3
			}
			add_ideas = TUR_the_antalya_naval_academy
		}
	}

	focus = {
		id = TUR_invite_german_officers_to_izmir
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = TUR_approve_the_funkplan }
		available = { 
			NOT = { has_war_with = GER }
		}
		x = 0
		y = 1
		relative_position_id = TUR_approve_the_funkplan
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			create_corps_commander = {
				name = "Hans von Luck"
				gfx = "GFX_portrait_GER_hans_von_luck"
				traits = { career_officer armor_officer brilliant_strategist trickster }
				skill = 3 #10
				id = 75
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
			if = {
				limit = {
					OR = {
						SPA = { 
							exists = no
							NOT = { has_completed_focus = SPA_the_condor_legion } 
						}
					}
				}
				create_corps_commander = {
					name = "Wilhelm Ritter von Thoma"
					gfx = "GFX_portrait_GER_wilhelm_ritter_von_thoma"
					traits = { war_hero brilliant_strategist armor_officer hill_fighter }
					skill = 4 #13
					id = 76
					attack_skill = 5
					defense_skill = 2
					planning_skill = 4
					logistics_skill = 2
				}
			}
			add_ideas = TUR_german_advisors
		}
	}

	focus = {
		id = TUR_the_mediterranean_entente
		icon = GFX_focus_generic_italy_first
		mutually_exclusive = { focus = TUR_join_the_axis focus = TUR_join_the_allies focus = TUR_anti_bolshevik_mediterranean_bloc focus = TUR_readdress_the_montreux_convention }
		prerequisite = { focus = TUR_the_italo_turkish_naval_academy }
		available = { 
			NOT = { has_war_with = ITA }
		}
		x = -1
		y = 1
		relative_position_id = TUR_the_italo_turkish_naval_academy
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction = yes
			is_faction_leader = yes
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = TUR_covenant_of_the_mediterranean
			ITA = { country_event = { id = bftb_turkey.41 } }
		}
	}

	focus = {
		id = TUR_join_the_axis
		icon = GFX_focus_ger_reichskommisariats
		mutually_exclusive = { focus = TUR_the_mediterranean_entente focus = TUR_join_the_allies focus = TUR_anti_bolshevik_mediterranean_bloc focus = TUR_readdress_the_montreux_convention }
		prerequisite = { focus = TUR_invite_german_officers_to_izmir }
		prerequisite = { focus = TUR_the_italo_turkish_naval_academy }
		available = { 
			NOT = { has_war_with = GER }
		}
		x = -1
		y = 1
		relative_position_id = TUR_invite_german_officers_to_izmir
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction_with = GER
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			GER = {
				country_event = { id = generic.2 }
			}
		}
	}

	focus = {
		id = TUR_invite_bulgaria
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = { focus = TUR_the_mediterranean_entente }
		x = -2
		y = 1
		relative_position_id = TUR_the_mediterranean_entente
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			BUL = {
				country_event = { id = generic.5 }
			}
		}
	}

	focus = {
		id = TUR_entice_the_greeks
		icon = GFX_focus_generic_befriend_greece
		mutually_exclusive = { focus = TUR_carve_up_greece }
		prerequisite = { focus = TUR_invite_bulgaria }
		x = 0
		y = 1
		relative_position_id = TUR_invite_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction_with = GRE
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			GRE = { 
				if = {
					limit = { ROOT = { is_in_faction = yes } }
					country_event = generic.5
				}
				else = { 
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}

	focus = {
		id = TUR_carve_up_greece
		icon = GFX_focus_generic_attack_greece
		mutually_exclusive = { focus = TUR_entice_the_greeks }
		prerequisite = { focus = TUR_invite_bulgaria }
		x = -2
		y = 1
		relative_position_id = TUR_invite_bulgaria
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			GRE = {
				OR = {
					exists = no
					has_capitulated = yes
					has_war_with = TUR
					is_puppet_of = TUR
					is_puppet_of = ITA
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = { 
				limit = { 
					is_in_faction_with = ITA
				}
				ITA = { country_event = { id = bftb_turkey.66 hours = 6 } }
			}
			else = {
				create_wargoal = {
					target = GRE
					type = annex_everything
				}
			}
		}
	}

	focus = {
		id = TUR_pressure_portugal_to_join
		icon = GFX_focus_generic_befriend_portugal
		prerequisite = { focus = TUR_entice_the_greeks focus = TUR_carve_up_greece }
		x = -1
		y = 1
		relative_position_id = TUR_entice_the_greeks
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			POR = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			POR = { 
				if = {
					limit = { ROOT = { is_in_faction = yes } }
					country_event = generic.5
				}
				else = { 
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}

	focus = {
		id = TUR_collaborative_civil_works_programme
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = TUR_the_mediterranean_entente }
		x = 0
		y = 1
		relative_position_id = TUR_the_mediterranean_entente
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ITA = {
				custom_trigger_tooltip = { 
					tooltip = ger_ita_tech_treaty_rejected 
					has_country_flag = ITA_rejected_faction_with_TUR
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			ITA = { 
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					BUL = { is_in_faction_with = TUR }
				}
				BUL = { 
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_fortifying_the_bosporus
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = TUR_collaborative_civil_works_programme }
		x = 0
		y = 1
		relative_position_id = TUR_collaborative_civil_works_programme
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			797 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_fortifying_the_bosporus_istanbul_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 9833
							instant_build = yes
						}
					}
				}
			}
			341 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = TUR_fortifying_the_bosporus_edirne_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 849
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 3893
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11842
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 849
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = TUR_mediterranean_merchant_fleet
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = TUR_fortifying_the_bosporus }
		x = 0
		y = 1
		relative_position_id = TUR_fortifying_the_bosporus
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ITA = {
				NOT = { is_in_faction_with = TUR }
			}
		}

		completion_reward = {
			add_timed_idea = {
				days = 360
				idea = TUR_italo_turkish_merchant_fleet
			}
			for_each_scope_loop = {
				array = faction_members
				if = {
					limit = {
						NOT = { tag = TUR }
					}
					add_timed_idea = {
						days = 360
						idea = TUR_italo_turkish_merchant_fleet
					}
				}
			}
		}
	}

	focus = {
		id = TUR_court_the_spanish
		icon = GFX_focus_intervention_spain_nationalists
		mutually_exclusive = { focus = TUR_cleanse_iberia_of_bolshevism }
		prerequisite = { focus = TUR_pressure_portugal_to_join }
		prerequisite = { focus = TUR_mediterranean_merchant_fleet }
		x = 1
		y = 1
		relative_position_id = TUR_pressure_portugal_to_join
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			SPA = { 
				OR = {
					exists = no 
					is_puppet = yes
					is_in_faction_with = ROOT
					has_war_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SPA = { 
				if = {
					limit = { ROOT = { is_in_faction = yes } }
					country_event = generic.5
				}
				else = { 
					custom_effect_tooltip = invite_to_faction_tt
				}
			}
		}
	}

	focus = {
		id = TUR_cleanse_iberia_of_bolshevism
		icon = GFX_focus_spr_war_of_independence
		mutually_exclusive = { focus = TUR_court_the_spanish }
		prerequisite = { focus = TUR_pressure_portugal_to_join }
		prerequisite = { focus = TUR_mediterranean_merchant_fleet }
		x = -1
		y = 1
		relative_position_id = TUR_pressure_portugal_to_join
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			SPR = { 
				OR = {
					exists = no 
					has_government = fascism
					has_government = neutrality
					has_war_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					SPR = { 
						exists = yes 
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SPR
				}
			}
		}
	}

	focus = {
		id = TUR_end_the_british_hegemony
		icon = GFX_focus_attack_britain
		mutually_exclusive = { focus = TUR_punish_french_weakness }
		prerequisite = { focus = TUR_court_the_spanish focus = TUR_cleanse_iberia_of_bolshevism }
		x = 0
		y = 1
		relative_position_id = TUR_cleanse_iberia_of_bolshevism
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ENG = {
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
					has_war_with = TUR
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			}
		}
	}

	focus = {
		id = TUR_punish_french_weakness
		icon = GFX_focus_attack_france
		mutually_exclusive = { focus = TUR_end_the_british_hegemony }
		prerequisite = { focus = TUR_court_the_spanish focus = TUR_cleanse_iberia_of_bolshevism }
		x = 0
		y = 1
		relative_position_id = TUR_court_the_spanish
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			FRA = {
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
					has_war_with = TUR
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
			}
		}
	}

	focus = {
		id = TUR_victory_or_death_against_communism
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = TUR_end_the_british_hegemony focus = TUR_punish_french_weakness focus = TUR_integrate_german_officers_into_the_army focus = TUR_taking_over_defense_of_the_gulf }
		x = 1
		y = 1
		relative_position_id = TUR_end_the_british_hegemony
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			SOV = {
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
					has_war_with = TUR
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV
			}
		}
	}

	focus = {
		id = TUR_increase_german_military_aid
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = TUR_join_the_axis }
		available = { is_in_faction_with = GER }
		x = 2
		y = 1
		relative_position_id = TUR_join_the_axis
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			GER = { 
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_cooperative_research_centers
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = TUR_increase_german_military_aid focus = TUR_collaborative_civil_works_programme }
		x = 2
		y = 1
		relative_position_id = TUR_collaborative_civil_works_programme
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1	
		}
	}

	focus = {
		id = TUR_the_tuz_golu_training_facility
		icon = GFX_goal_generic_small_arms
		mutually_exclusive = { focus = TUR_pack_for_a_long_winter }
		prerequisite = { focus = TUR_join_the_axis }
		x = 0
		y = 2
		relative_position_id = TUR_join_the_axis
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_tuz_golu_training_facility
			custom_effect_tooltip = TUR_unlock_camelry_effect_tt
			hidden_effect = { set_technology = { camelry = 1 } } 
		}
	}

	focus = {
		id = TUR_pack_for_a_long_winter
		icon = GFX_goal_generic_more_territorial_claims
		mutually_exclusive = { focus = TUR_the_tuz_golu_training_facility }
		prerequisite = { focus = TUR_increase_german_military_aid }
		x = 2
		y = 1
		relative_position_id = TUR_increase_german_military_aid
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_sub_zero_survival_training
		}
	}

	focus = {
		id = TUR_support_the_golden_square
		icon = GFX_focus_TUR_support_the_golden_square
		mutually_exclusive = { focus = TUR_secure_the_iraqi_oil }
		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		prerequisite = { focus = TUR_the_tuz_golu_training_facility }
		x = -1
		y = 1
		relative_position_id = TUR_the_tuz_golu_training_facility
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			IRQ = { country_event = { id = bftb_turkey.67 hours = 8 } }
		}
	}

	focus = {
		id = TUR_secure_the_iraqi_oil
		icon = GFX_goal_generic_major_war
		mutually_exclusive = { focus = TUR_support_the_golden_square }
		prerequisite = { focus = TUR_the_tuz_golu_training_facility }
		x = 1
		y = 1
		relative_position_id = TUR_the_tuz_golu_training_facility
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			IRQ = {
				OR = { 
					exists = no
					has_capitulated = yes
					is_puppet = yes
					is_in_faction_with = ROOT
					has_war_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
		}
	}

	focus = {
		id = TUR_rebuke_the_treaty_of_lausanne
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = TUR_support_the_golden_square focus = TUR_secure_the_iraqi_oil }
		x = 1
		y = 1
		relative_position_id = TUR_support_the_golden_square
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			GRE = {
				OR = {
					is_puppet = yes
					exists = no
					has_capitulated = yes
					is_in_faction_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 184
			add_state_claim = 731
			add_state_claim = 187
			create_wargoal = {
				type = annex_everything
				target = GRE
			}
			if = { 
				limit = {
					ITA = { is_in_faction_with = TUR }
				}
				ITA = {
					add_state_claim = 185
					add_state_claim = 47
					add_state_claim = 186
					add_state_claim = 182
					create_wargoal = {
						type = annex_everything
						target = GRE
					}
				}
			}
		}
	}

	focus = {
		id = TUR_turkish_panzers
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = TUR_pack_for_a_long_winter }
		x = 0
		y = 1
		relative_position_id = TUR_pack_for_a_long_winter
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = { 
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					TUR = { is_in_faction_with = GER }
					GER = { has_tech = advanced_medium_tank }
				}
				GER = { 
					create_production_license = {
						target = TUR
						equipment = {
						    type = advanced_medium_tank
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "Death or Dishonor"
					TUR = { is_in_faction_with = GER }
					GER = { has_tech = improved_medium_tank }
				}
				GER = { 
					create_production_license = {
						target = TUR
						equipment = {
						    type = improved_medium_tank
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "Death or Dishonor"
					TUR = { is_in_faction_with = GER }
					GER = { has_tech = basic_medium_tank }
				}
				GER = { 
					create_production_license = {
						target = TUR
						equipment = {
						    type = basic_medium_tank
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "Death or Dishonor"
					TUR = { is_in_faction_with = GER }
				}
				GER = { 
					create_production_license = {
						target = TUR
						equipment = {
						    type = light_tank_equipment_1
						}
						cost_factor = 0
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "Death or Dishonor" }
					TUR = { is_in_faction_with = GER }
				}
				add_tech_bonus = {
					name = TUR_turkish_panzers
					bonus = 0.75
					uses = 2
					category = armor
				}
			}
			add_tech_bonus = {
				name = TUR_turkish_panzers
				bonus = 1.5
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = TUR_establish_the_committee_of_pan_turkism
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = TUR_turkish_panzers }
		x = 0
		y = 1
		relative_position_id = TUR_turkish_panzers
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TUR_zeki_velidi_togan
			add_timed_idea = {
				idea = TUR_turkic_volunteers_from_abroad
				days = 90
			}
		}
	}

	focus = {
		id = TUR_integrate_german_officers_into_the_army
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = TUR_rebuke_the_treaty_of_lausanne focus = TUR_establish_the_committee_of_pan_turkism }
		x = 2
		y = 1
		relative_position_id = TUR_rebuke_the_treaty_of_lausanne
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			GER = {
				NOT = { is_in_faction_with = TUR }
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = TUR_german_advisors
				add_idea = TUR_integrated_german_officers
			}
		}
	}

	focus = {
		id = TUR_restoring_our_nations_pride
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = TUR_end_the_british_hegemony focus = TUR_punish_french_weakness focus = TUR_integrate_german_officers_into_the_army }
		x = 0
		y = 4
		relative_position_id = TUR_cooperative_research_centers
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_golden_age_of_the_wolf
		}
	}

	focus = {
		id = TUR_renew_the_turkish_soviet_non_aggression_pact
		icon = GFX_focus_chi_mission_to_the_soviet_union
		available = { NOT = { has_country_flag = TUR_ottoman_officers_invited_back } }
		prerequisite = { focus = TUR_reconfigure_our_foreign_policy }
		x = 14
		y = 1
		relative_position_id = TUR_reconfigure_our_foreign_policy
		cost = 5
		ai_will_do = {
			base = 10
		}

		bypass = {
			OR = {
				has_non_aggression_pact_with = SOV
				is_in_faction_with = SOV
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = { country_event = { id = bftb_turkey.79 } }
		}
	}

	focus = {
		id = TUR_the_batumi_accord
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = TUR_renew_the_turkish_soviet_non_aggression_pact }
		available = {
			NOT = { has_war_with = SOV }
		}
		x = 0
		y = 1
		relative_position_id = TUR_renew_the_turkish_soviet_non_aggression_pact
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			354 = {
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			SOV = {
				231 = {
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_provide_refuge_to_the_victims_of_fascism
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = TUR_the_batumi_accord }
		x = -2
		y = 1
		relative_position_id = TUR_the_batumi_accord
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_timed_idea = {
				idea = TUR_refugees_from_the_fascist_menace
				days = 180
			}
		}
	}

	focus = {
		id = TUR_soviet_tank_factories
		icon = GFX_goal_generic_soviet_construction
		available = {
			SOV = {
				has_opinion = {
					target = TUR
					value > 74
				}
			}
		}
		prerequisite = { focus = TUR_the_batumi_accord }
		x = 2
		y = 1
		relative_position_id = TUR_the_batumi_accord
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = TUR_dissolve_the_ODPA
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = TUR_provide_refuge_to_the_victims_of_fascism }
		x = -2
		y = 1
		relative_position_id = TUR_provide_refuge_to_the_victims_of_fascism
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			NOT = {
				has_idea = TUR_debt_council
				has_idea = TUR_tpda
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = TUR_debt_council
				}
				remove_ideas = TUR_debt_council
			}
			else_if = {
				limit = {
					has_idea = TUR_tpda
				}
				remove_ideas = TUR_tpda
			}
			every_country_with_original_tag = {
				original_tag_to_check = ENG
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_unreliable_debt_ditchers
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = FRA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_unreliable_debt_ditchers
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = ITA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_unreliable_debt_ditchers
				}
			}
			every_country_with_original_tag = {
				original_tag_to_check = USA
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_unreliable_debt_ditchers
				}
			}
		}
	}

	focus = {
		id = TUR_adana_to_baku_highway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = TUR_provide_refuge_to_the_victims_of_fascism }
		prerequisite = { focus = TUR_soviet_tank_factories }
		available = {
			NOT = { has_war_with = SOV }
		}
		x = 0
		y = 2
		relative_position_id = TUR_the_batumi_accord
		cost = 10
		ai_will_do = {
			base = 10
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = TUR_baku_adana_highway }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}	
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			SOV = {
				229 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = TUR_baku_adana_highway
				}
				230 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = TUR_baku_adana_highway
				}
			}
			800 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = TUR_baku_adana_highway
			}
			352 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = TUR_baku_adana_highway
			}
			353 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = TUR_baku_adana_highway
			}
			350 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = TUR_baku_adana_highway
			}
			344 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = TUR_baku_adana_highway
			}
		}
	}

	focus = {
		id = TUR_anti_bolshevik_mediterranean_bloc
		icon = GFX_focus_intervention_spain_republic
		mutually_exclusive = { focus = TUR_the_mediterranean_entente focus = TUR_join_the_axis focus = TUR_join_the_allies focus = TUR_readdress_the_montreux_convention }
		prerequisite = { focus = TUR_dissolve_the_ODPA }
		available = {
			NOT = { is_in_faction_with = SOV }
		}
		x = 0
		y = 1
		relative_position_id = TUR_dissolve_the_ODPA
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = {
				add_opinion_modifier = {
					target = TUR
					modifier = TUR_traitors_of_the_revolution
				}
			}
			if = {
				limit = {
					SPR = { 
						AND = {
							exists = yes 
							is_puppet = no
							NOT = { is_in_faction_with = SOV }
						}
					}
				}
				SPR = { country_event = { id = generic.5 } }
			}
			set_rule = { can_create_factions = yes }
			create_faction = TUR_anti_bolshevik_accord
		}
	}

	focus = {
		id = TUR_readdress_the_montreux_convention
		icon = GFX_focus_generic_black_sea_focus
		mutually_exclusive = { focus = TUR_the_mediterranean_entente focus = TUR_join_the_axis focus = TUR_join_the_allies focus = TUR_anti_bolshevik_mediterranean_bloc }
		prerequisite = { focus = TUR_adana_to_baku_highway }
		x = 0
		y = 1
		relative_position_id = TUR_adana_to_baku_highway
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			is_in_faction_with = SOV
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			SOV = {
				country_event = { id = generic.2 }
			}
		}
	}

	focus = {
		id = TUR_the_international_of_proletarian_freethinkers
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = TUR_anti_bolshevik_mediterranean_bloc focus = TUR_readdress_the_montreux_convention }
		x = 2
		y = 1
		relative_position_id = TUR_anti_bolshevik_mediterranean_bloc
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = TUR_strengthening_our_navies
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = TUR_anti_bolshevik_mediterranean_bloc }
		prerequisite = { focus = TUR_the_international_of_proletarian_freethinkers }
		x = -2
		y = 2
		relative_position_id = TUR_anti_bolshevik_mediterranean_bloc
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_timed_idea = { idea = TUR_construct_a_red_navy days = 480 }
			every_country = {
				limit = {
					is_in_faction_with = TUR
					has_government = communism
					any_owned_state = {
						is_coastal = yes
					}
				}
				add_timed_idea = { idea = TUR_construct_a_red_navy days = 360 }
			}
		}
	}

	focus = {
		id = TUR_avenge_the_treaty_of_sevres
		icon = GFX_focus_attack_france
		mutually_exclusive = { focus = TUR_strike_at_the_fascist_menace }
		prerequisite = { focus = TUR_strengthening_our_navies }
		x = -1
		y = 1
		relative_position_id = TUR_strengthening_our_navies
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			FRA = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
			}
		}
	}

	focus = {
		id = TUR_strike_at_the_fascist_menace
		icon = GFX_focus_generic_anti_fascist_diplomacy
		mutually_exclusive = { focus = TUR_avenge_the_treaty_of_sevres }
		prerequisite = { focus = TUR_strengthening_our_navies }
		x = 1
		y = 1
		relative_position_id = TUR_strengthening_our_navies
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ITA = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}
		}
	}

	focus = {
		id = TUR_learning_from_the_tripolitanian_war
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = TUR_avenge_the_treaty_of_sevres focus = TUR_strike_at_the_fascist_menace }
		x = 0
		y = 2
		relative_position_id = TUR_strengthening_our_navies
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_learning_from_tripolitania
				bonus = 1.0
				uses = 1
				category = engineers_tech
			}
			add_tech_bonus = {
				name = TUR_learning_from_tripolitania
				bonus = 1.0
				uses = 1
				category = recon_tech
			}
		}
	}

	focus = {
		id = TUR_stop_the_stalinist_charade
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = TUR_learning_from_the_tripolitanian_war }
		x = -1
		y = 1
		relative_position_id = TUR_learning_from_the_tripolitanian_war
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			SOV = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SOV
			}
		}
	}

	focus = {
		id = TUR_strike_the_british_imperialists
		icon = GFX_focus_attack_britain
		prerequisite = { focus = TUR_learning_from_the_tripolitanian_war }
		x = 1
		y = 1
		relative_position_id = TUR_learning_from_the_tripolitanian_war
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			ENG = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			}
		}
	}

	focus = {
		id = TUR_foreign_brigades_for_the_revolution
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = TUR_stop_the_stalinist_charade focus = TUR_strike_the_british_imperialists }
		x = 0
		y = 2
		relative_position_id = TUR_learning_from_the_tripolitanian_war
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = TUR_revolutionary_brigades_from_abroad
		}
	}

	focus = {
		id = TUR_joint_caucasian_turkish_officer_school
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = TUR_readdress_the_montreux_convention }
		available = { is_in_faction_with = SOV }
		x = 2
		y = 1
		relative_position_id = TUR_readdress_the_montreux_convention
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			create_corps_commander = {
				name = "Hazi Aslanov"
				gfx = "GFX_portrait_sov_hazi_aslanov"
				traits = { war_hero inflexible_strategist armor_officer winter_specialist }
				skill = 4 #13
				id = 78
				attack_skill = 4
				defense_skill = 4
				planning_skill = 2
				logistics_skill = 3
			}
			add_ideas = TUR_the_revolutionary_officer_college_of_kars
		}
	}

	focus = {
		id = TUR_arctic_wolves_training_program
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = TUR_joint_caucasian_turkish_officer_school }
		x = 1
		y = 1
		relative_position_id = TUR_joint_caucasian_turkish_officer_school
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_arctic_wolves_training
		}
	}

	focus = {
		id = TUR_seize_religious_property
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = TUR_the_international_of_proletarian_freethinkers focus = TUR_joint_caucasian_turkish_officer_school }
		x = 1
		y = 1
		relative_position_id = TUR_the_international_of_proletarian_freethinkers
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			798 = { add_extra_state_shared_building_slots = 1 }
			345 = { add_extra_state_shared_building_slots = 1 }
			344 = { add_extra_state_shared_building_slots = 1 }
			342 = { add_extra_state_shared_building_slots = 1 }
			356 = { add_extra_state_shared_building_slots = 1 }
			349 = { add_extra_state_shared_building_slots = 2 }
			348 = { add_extra_state_shared_building_slots = 2 }
			355 = { add_extra_state_shared_building_slots = 2 }
			add_popularity = { 
				ideology = communism
				popularity = 0.07
			}
		}
	}

	focus = {
		id = TUR_guarding_our_western_frontiers
		icon = GFX_focus_generic_aegean_sea_focus
		prerequisite = { focus = TUR_the_international_of_proletarian_freethinkers focus = TUR_joint_caucasian_turkish_officer_school }
		x = -1
		y = 1
		relative_position_id = TUR_joint_caucasian_turkish_officer_school
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			339 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 4112
						instant_build = yes
					}
				}
			}
			342 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 10122
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 1005
						instant_build = yes
					}
				}
			}
			340 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 6864
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 6864
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9799
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 9887
						instant_build = yes
					}
				}
			}
			341 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 849
						instant_build = yes
					}
				}
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 849
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_lift_the_turkiye_komunist_partisis_exile
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = TUR_seize_religious_property }
		prerequisite = { focus = TUR_guarding_our_western_frontiers }
		x = 2
		y = 2
		relative_position_id = TUR_the_international_of_proletarian_freethinkers
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = TUR_readdress_the_montreux_convention
				}
				country_event = { id = bftb_turkey.83 }
			}
			else_if = {
				limit = {
					has_completed_focus = TUR_anti_bolshevik_mediterranean_bloc
				}
				country_event = { id = bftb_turkey.82 }
			}
			else = {
				effect_tooltip = { country_event = { id = bftb_turkey.83 } }
			}
		}
	}

	focus = {
		id = TUR_reconciling_kemalism_with_bolshevism
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = TUR_lift_the_turkiye_komunist_partisis_exile }
		x = 0
		y = 1
		relative_position_id = TUR_lift_the_turkiye_komunist_partisis_exile
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			NOT = { has_government = communism }
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						name = "ﾅ枡vket Sﾃｼreyya Aydemir"
						ruling_only = no
					}
				}
				add_ideas = TUR_kemalism_with_socialist_characteristics
			}
			else_if = {
				limit = {
					has_country_leader = {
						name = "Sefik Hﾃｼsnﾃｼ"
						ruling_only = yes
					}
				}
				add_ideas = TUR_turkish_bolshevism
			}
			else = {
				effect_tooltip = {
					add_ideas = TUR_turkish_bolshevism
				}
			}
		}
	}

	focus = {
		id = TUR_the_turkish_tank_project
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = TUR_arctic_wolves_training_program }
		x = 0
		y = 1
		relative_position_id = TUR_arctic_wolves_training_program
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			348 = {
				if = { 
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = TUR_the_turkish_tank_project
				bonus = 1.5
				uses = 1
				category = cat_heavy_armor
			}
		}
	}

	focus = {
		id = TUR_taking_responsibility_for_the_air_war
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = TUR_peninsular_network_of_factories focus = TUR_the_turkish_tank_project }
		x = 0
		y = 1
		relative_position_id = TUR_the_turkish_tank_project
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_taking_responsibility_for_the_air_war
				bonus = 0.75
				uses = 3
				category = air_doctrine
			}
			air_experience = 15
		}
	}

	focus = {
		id = TUR_officers_of_the_revolution
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = TUR_the_international_of_proletarian_freethinkers }
		x = -1
		y = 1
		relative_position_id = TUR_the_international_of_proletarian_freethinkers
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_ideas = TUR_red_officers
		}
	}

	focus = {
		id = TUR_scrapping_our_debts
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = TUR_officers_of_the_revolution }
		x = 0
		y = 1
		relative_position_id = TUR_officers_of_the_revolution
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_timed_idea = {
				idea = TUR_reappropriated_exploitative_finance
				days = 180
			}
		}
	}

	focus = {
		id = TUR_collectivising_our_agriculture
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = TUR_scrapping_our_debts }
		prerequisite = { focus = TUR_reconciling_kemalism_with_bolshevism }
		x = 1
		y = 2
		relative_position_id = TUR_scrapping_our_debts
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = { add_extra_state_shared_building_slots = 1 }
			random_owned_controlled_state = { add_extra_state_shared_building_slots = 1 }
			random_owned_controlled_state = { add_extra_state_shared_building_slots = 1 }
			random_owned_controlled_state = { add_extra_state_shared_building_slots = 1 }
		}
	}

	focus = {
		id = TUR_capitalise_on_rising_kurdish_nationalism
		icon = GFX_focus_generic_attack_kurdistan
		prerequisite = { focus = TUR_the_turkish_tank_project }
		prerequisite = { focus = TUR_reconciling_kemalism_with_bolshevism }
		x = -1
		y = 2
		relative_position_id = TUR_the_turkish_tank_project
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 680
			add_state_claim = 676
			add_state_claim = 291
			add_state_claim = 419
			add_state_claim = 421
			create_wargoal = {
				type = take_claimed_state
				target = PER
			}
		}
	}

	focus = {
		id = TUR_issue_an_ultimatium_to_the_bulgarians
		icon = GFX_focus_generic_attack_bulgaria
		prerequisite = { focus = TUR_capitalise_on_rising_kurdish_nationalism focus = TUR_collectivising_our_agriculture }
		x = 0
		y = 3
		relative_position_id = TUR_lift_the_turkiye_komunist_partisis_exile
		cost = 10
		ai_will_do = {
			base = 10
		}

		bypass = {
			BUL = {
				OR = {
					is_in_faction_with = TUR
					is_puppet_of = TUR
					has_war_with = TUR
					exists = no
					has_capitulated = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			BUL = { country_event = { id = bftb_turkey.84 } }
		}
	}

	focus = {
		id = TUR_misak_i_milli
		icon = GFX_focus_TUR_misak_i_milli
		prerequisite = { focus = TUR_we_must_not_fall focus = TUR_victory_or_death_against_communism focus = TUR_restoring_our_nations_pride focus = TUR_foreign_brigades_for_the_revolution focus = TUR_issue_an_ultimatium_to_the_bulgarians }
		x = 1
		y = 13
		relative_position_id = TUR_reconfigure_our_foreign_policy
		cost = 10
		ai_will_do = {
			base = 0
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_stability = -0.15
			add_war_support = 0.1
			news_event = { id = bftb_news.208 hours = 6 }
			if = {
				limit = {
					TUR = { is_in_faction = yes }
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.137 }
				}
			}
			custom_effect_tooltip = TUR_alienate_our_allies_tt
			set_rule = { can_create_factions = yes }
		}
	}
	focus = {
		id = TUR_recover_the_kardzhali_vilayet
		icon = GFX_focus_BUL_promote_bulgarian_nationalism
		prerequisite = { focus = TUR_misak_i_milli }
		x = -4
		y = 1
		relative_position_id = TUR_misak_i_milli
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 48
			add_state_claim = 801
			add_state_claim = 803
			add_state_claim = 212
			add_state_claim = 77
			if = {
				limit = {
					BUL = {
						exists = yes
						is_puppet = no
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BUL
				}
			}
			if = {
				limit = {
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					BUL = {
						NOT = { is_puppet_of = TUR }
						is_in_faction_with = TUR
						is_in_faction_with = SOV
					}
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					BUL = {
						NOT = { is_puppet_of = TUR }
						is_in_faction_with = TUR
						is_in_faction_with = SOV
					}
					has_global_flag = TUR_soviets_faction_warning
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
					}
					BUL = {
						NOT = { is_puppet_of = TUR }
						is_in_faction_with = TUR
					}
					var:faction_leader = {
						has_government = fascism
						is_in_faction_with = TUR
						is_in_faction_with = BUL
					}
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
					}
					BUL = {
						NOT = { is_puppet_of = TUR }
						is_in_faction_with = TUR
					}
					var:faction_leader = {
						has_government = fascism
						is_in_faction_with = TUR
						is_in_faction_with = BUL
					}
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
			else_if = {
				limit = {
					BUL = { is_puppet_of = TUR }
				}
				annex_country = {
					target = BUL
					transfer_troops = no
				}
			}
		}
	}

	focus = {
		id = TUR_cypriot_and_oniki_ilhak
		icon = GFX_focus_generic_attack_cyprus
		prerequisite = { focus = TUR_recover_the_kardzhali_vilayet }
		x = -1
		y = 1
		relative_position_id = TUR_recover_the_kardzhali_vilayet
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			164 = { add_core_of = TUR } 
			183 = { add_core_of = TUR } 
			GRE = {
				add_opinion_modifier = {
					target = TUR
					modifier = BFTB_incongruous_neighbors
				}
			}
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							OR = {
								AND = {
									controls_state = 164
									NOT = { controls_state = 183 }
								}
								AND = {
									controls_state = 183
									NOT = { controls_state = 164 }
								}
								AND = {
									controls_state = 183
									controls_state = 164
								}
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							OR = {
								AND = {
									controls_state = 164
									NOT = { controls_state = 183 }
								}
								AND = {
									controls_state = 183
									NOT = { controls_state = 164 }
								}
								AND = {
									controls_state = 183
									controls_state = 164
								}
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							OR = {
								AND = {
									controls_state = 164
									NOT = { controls_state = 183 }
								}
								AND = {
									controls_state = 183
									NOT = { controls_state = 164 }
								}
								AND = {
									controls_state = 183
									controls_state = 164
								}
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
						NOT = { controls_state = 164 }
	
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							OR = {
								AND = {
									controls_state = 164
									NOT = { controls_state = 183 }
								}
								AND = {
									controls_state = 183
									NOT = { controls_state = 164 }
								}
								AND = {
									controls_state = 183
									controls_state = 164
								}
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}

	focus = {
		id = TUR_reuniting_thrace_through_force
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = TUR_recover_the_kardzhali_vilayet }
		x = 1
		y = 1
		relative_position_id = TUR_recover_the_kardzhali_vilayet
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_core = 184
			add_state_claim = 230
			add_state_claim = 187
			add_state_claim = 731
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 184
								controls_state = 230
								controls_state = 187
								controls_state = 731
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 184
								controls_state = 230
								controls_state = 187
								controls_state = 731
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 184
								controls_state = 230
								controls_state = 187
								controls_state = 731
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 184
								controls_state = 230
								controls_state = 187
								controls_state = 731
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}

	focus = {
		id = TUR_rebuke_the_treaty_of_kars
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = TUR_misak_i_milli }
		x = 0
		y = 1
		relative_position_id = TUR_misak_i_milli
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 231
			add_state_claim = 230
			add_state_claim = 229
			add_state_claim = 233
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 231
								controls_state = 230
								controls_state = 229
								controls_state = 233
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 231
								controls_state = 230
								controls_state = 229
								controls_state = 233
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 231
								controls_state = 230
								controls_state = 229
								controls_state = 233
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 231
								controls_state = 230
								controls_state = 229
								controls_state = 233
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}

	focus = {
		id = TUR_unite_the_azeri_diaspora
		icon = GFX_goal_generic_occupy_states_ongoing_war
		mutually_exclusive = { focus = TUR_konfederasyon focus = TUR_liberate_the_kurdish_diaspora }
		prerequisite = { focus = TUR_rebuke_the_treaty_of_kars }
		x = 1
		y = 1
		relative_position_id = TUR_rebuke_the_treaty_of_kars
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_core = 229
			add_state_core = 231
			add_state_core = 420
			add_state_core = 419
			add_state_core = 417
			add_state_claim = 413
			add_state_claim = 232
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 229
								controls_state = 231
								controls_state = 420
								controls_state = 419
								controls_state = 417
								controls_state = 413
								controls_state = 232
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 229
								controls_state = 231
								controls_state = 420
								controls_state = 419
								controls_state = 417
								controls_state = 413
								controls_state = 232
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 229
								controls_state = 231
								controls_state = 420
								controls_state = 419
								controls_state = 417
								controls_state = 413
								controls_state = 232
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 229
								controls_state = 231
								controls_state = 420
								controls_state = 419
								controls_state = 417
								controls_state = 413
								controls_state = 232
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}

	focus = {
		id = TUR_konfederasyon
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = { focus = TUR_unite_the_azeri_diaspora }
		prerequisite = { focus = TUR_rebuke_the_treaty_of_kars }
		x = -1
		y = 1
		relative_position_id = TUR_rebuke_the_treaty_of_kars
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			229 = {
				add_core_of = TUR
				add_extra_state_shared_building_slots = 3
			}
			add_war_support = 0.1
			add_stability = 0.1
		}
	}


	focus = {
		id = TUR_annul_the_ankara_anlasmasi
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = TUR_misak_i_milli }
		x = 4
		y = 1
		relative_position_id = TUR_misak_i_milli
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			add_state_claim = 677
			add_state_claim = 680
			add_state_claim = 291
			add_state_core = 676
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 677
								controls_state = 680
								controls_state = 676
								controls_state = 291
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 677
								controls_state = 680
								controls_state = 676
								controls_state = 291
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 677
								controls_state = 680
								controls_state = 676
								controls_state = 291
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 677
								controls_state = 680
								controls_state = 676
								controls_state = 291
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}
	
	focus = {
		id = TUR_liberate_the_kurdish_diaspora
		icon = GFX_focus_generic_attack_kurdistan
		mutually_exclusive = { focus = TUR_unite_the_azeri_diaspora }
		prerequisite = { focus = TUR_annul_the_ankara_anlasmasi }
		x = 0
		y = 1
		relative_position_id = TUR_annul_the_ankara_anlasmasi
		cost = 10
		ai_will_do = {
			base = 10
		}
	
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			effect_tooltip = {
				every_state = {
					limit = { is_core_of = KUR }
					add_core_of = TUR
				}
			}
			hidden_effect = { 
				for_each_scope_loop = {
					array = KUR.core_states
					tooltip = EFFECT_EVERY_STATE_STARTS
					add_core_of = TUR
				}
			}
			if = {
				limit = {
					has_global_flag = TUR_soviets_keeping_eye_on_turkey
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 419
								controls_state = 680
								controls_state = 676
								controls_state = 421
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.138 } } #Turkey violates fellow faction member's sovereignty
			}
			else_if = {
				limit = {
					has_global_flag = TUR_soviets_faction_warning
					TUR = { 
						is_in_faction_with = SOV
						is_faction_leader = no
					}
					SOV = {
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 419
								controls_state = 680
								controls_state = 676
								controls_state = 421
							}
						}
					}
				}
				SOV = { country_event = { id = bftb_turkey.139 } } #Turkey violates fellow faction member's sovereignty again!
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_keeping_eye_on_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 419
								controls_state = 680
								controls_state = 676
								controls_state = 421
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.138 } #Turkey violates fellow faction member's sovereignty
				}
			}
			else_if = {
				limit = {
					has_global_flag = TUR_fascist_faction_leader_warned_turkey
					var:faction_leader = {
						has_government = fascism
					}
					TUR = { 
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = TUR }
							OR = {
								controls_state = 419
								controls_state = 680
								controls_state = 676
								controls_state = 421
							}
						}
					}
				}
				var:faction_leader = {
					country_event = { id = bftb_turkey.139 } #Turkey violates fellow faction member's sovereignty again!
				}
			}
		}
	}	

	focus = {
		id = TUR_turanist_ambition
		icon = GFX_focus_TUR_turanist_ambition
		prerequisite = { focus = TUR_cypriot_and_oniki_ilhak focus = TUR_reuniting_thrace_through_force focus = TUR_konfederasyon focus = TUR_unite_the_azeri_diaspora focus = TUR_liberate_the_kurdish_diaspora }
		x = 0
		y = 3
		relative_position_id = TUR_misak_i_milli
		cost = 20
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
			add_stability = -0.15
			if = {
				limit = {
					TUR = { 
						is_in_faction = yes 
					}
				}
				TUR = { leave_faction = yes }
			}
			unlock_decision_category_tooltip = form_turan_category
		}
	}

	focus = {
		id = TUR_subdue_the_magyars
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = TUR_turanist_ambition }
		x = -2
		y = 1
		relative_position_id = TUR_turanist_ambition
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			if = {
				limit = {
					NOT = { HUN = { has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary } }
				}
				every_state = { 
					limit = { 
						OR = {
							is_core_of = HUN 
							is_claimed_by = HUN
						}
					}
					add_claim_by = TUR
				}
			}
			else = {
				43 = { add_claim_by = TUR }
				154 = { add_claim_by = TUR }
				155 = { add_claim_by = TUR }
				76 = { add_claim_by = TUR }
				84 = { add_claim_by = TUR }
				83 = { add_claim_by = TUR }
				82 = { add_claim_by = TUR }
				764 = { add_claim_by = TUR }
				45 = { add_claim_by = TUR }
				664 = { add_claim_by = TUR }
			}
			create_wargoal = {
				type = annex_everything
				target = HUN
			}
			if = { 
				limit = {
					ROM = { any_owned_state = { is_core_of = HUN } }
				}
				create_wargoal = {
					type = annex_everything
					target = ROM
				}
			}
		}
	}

	focus = {
		id = TUR_cin_turkleri
		icon = GFX_focus_attack_china
		prerequisite = { focus = TUR_turanist_ambition }
		x = 2
		y = 1
		relative_position_id = TUR_turanist_ambition
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SIK
						is_core_of = XSM
						is_core_of = MON
						is_core_of = MEN
						is_core_of = TAN
					}
				}
				add_claim_by = TUR
			}
			if = { 
				limit = {
					SIK = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = SIK
				}
			}
			if = { 
				limit = {
					XSM = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = XSM
				}
			}
			if = { 
				limit = {
					MON = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = MON
				}
			}
			if = { 
				limit = {
					MEN = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = MEN
				}
			}
			if = { 
				limit = {
					TAN = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = TAN
				}
			}
		}
	}

	focus = {
		id = TUR_crowning_ourselves_with_the_fin_ugor
		icon = GFX_focus_TUR_crowning_ourselves_with_the_fin_ugor
		prerequisite = { focus = TUR_turanist_ambition }
		x = 0
		y = 2
		relative_position_id = TUR_turanist_ambition
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			every_state = {
				limit = {
					OR = {
						is_core_of = FIN
						is_core_of = EST
					}
				}
				add_claim_by = TUR
			}
			216 = { add_claim_by = TUR }
			215 = { add_claim_by = TUR }
			213 = { add_claim_by = TUR }
			if = { 
				limit = {
					FIN = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = FIN
				}
			}
			if = { 
				limit = {
					EST = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = EST
				}
			}
			if = { 
				limit = {
					SOV = { exists = yes }
				}
				create_wargoal = {
					type = take_state_focus
					generator = { 216 215 213 }
					target = SOV
				}
			}
		}
	}

	focus = {
		id = TUR_learning_from_the_great_war
		icon = GFX_goal_generic_attack_allies
		x = 30
		y = 0
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					NOT = { has_completed_focus = TUR_hava_okulu }
				}
				unlock_decision_category_tooltip = TUR_reforming_our_armed_forces_category
			}
		}
	}

	focus = {
		id = TUR_modernising_the_army
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = TUR_learning_from_the_great_war }
		x = 0
		y = 1
		relative_position_id = TUR_learning_from_the_great_war
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_modernising_the_army
				bonus = 1.0
				uses = 2
				category = land_doctrine
			}
			unlock_decision_tooltip = TUR_modernize_our_tactics
			unlock_decision_tooltip = TUR_commence_an_overhaul_of_our_training_methods
		}
	}

	focus = {
		id = TUR_hava_okulu
		icon = GFX_goal_generic_air_fighter
		x = 45
		y = 0
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			air_experience = 5
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TUR_sabiha_gokcen_bftb
			if = {
				limit = {
					NOT = { has_completed_focus = TUR_learning_from_the_great_war }
				}
				unlock_decision_category_tooltip = TUR_reforming_our_armed_forces_category
			}
		}
	}

	focus = {
		id = TUR_expand_the_air_bases
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = TUR_hava_okulu }
		x = 0
		y = 1
		relative_position_id = TUR_hava_okulu
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			354 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
							include_locked = yes
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			49 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
							include_locked = yes
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			344 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
							include_locked = yes
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			49 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 2
							include_locked = yes
						}
					}
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			unlock_decision_tooltip = TUR_teach_the_proper_use_of_modern_infrastructure
			unlock_decision_tooltip = TUR_put_new_safety_regulations_regarding_the_operation_of_aircraft_into_effect
		}
	}

	focus = {
		id = TUR_mechanising_our_army
		icon = GFX_goal_generic_build_tank
		mutually_exclusive = { focus = TUR_embrace_military_tradition }
		prerequisite = { focus = TUR_modernising_the_army }
		x = -2
		y = 1
		relative_position_id = TUR_modernising_the_army
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_mechanising_our_army
				bonus = 2.0
				uses = 1
				category = motorized_equipment
			}
			add_tech_bonus = {
				name = TUR_mechanising_our_army
				bonus = 3.0
				uses = 2
				category = support_tech
			}
		}
	}

	focus = {
		id = TUR_embrace_military_tradition
		icon = GFX_goal_generic_occupy_states_ongoing_war
		mutually_exclusive = {  focus = TUR_mechanising_our_army }
		prerequisite = { focus = TUR_modernising_the_army }
		x = 2
		y = 1
		relative_position_id = TUR_modernising_the_army
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_embrace_military_tradition
				bonus = 2.0
				uses = 1
				category = support_tech
			}
			add_tech_bonus = {
				name = TUR_embrace_military_tradition
				bonus = 1.5
				uses = 1
				category = recon_tech
			}
		}
	}

	focus = {
		id = TUR_the_kirikkale_tank
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = TUR_mechanising_our_army }
		x = -1
		y = 1
		relative_position_id = TUR_mechanising_our_army
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			49 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = TUR_the_kirikkale_tank
				bonus = 1.0
				uses = 1
				category = cat_light_armor
			}
		}
	}

	focus = {
		id = TUR_superiority_of_arms
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = TUR_embrace_military_tradition focus = TUR_mechanising_our_army }
		x = 0
		y = 2
		relative_position_id = TUR_modernising_the_army
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_superiority_of_arms
				bonus = 1.5
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = TUR_utilising_our_terrain
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = TUR_embrace_military_tradition }
		x = 1
		y = 1
		relative_position_id = TUR_embrace_military_tradition
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_utilising_our_terrain
				bonus = 1.0
				uses = 2
				technology = tech_mountaineers
				technology = tech_mountaineers2
			}
			add_tech_bonus = {
				name = TUR_utilising_our_terrain
				bonus = 1.0
				uses = 1
				category = engineers_tech
			}
		}
	}

	focus = {
		id = TUR_construct_the_cakmak_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = TUR_superiority_of_arms }
		x = 0
		y = 1
		relative_position_id = TUR_superiority_of_arms
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			341 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3893
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11842
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 922
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_accelerate_native_fighter_designs
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = TUR_expand_the_air_bases }
		x = 0
		y = 1
		relative_position_id = TUR_expand_the_air_bases
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_accelerate_native_fighter_designs
				bonus = 1.5
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = TUR_patrol_the_seas
		icon = GFX_goal_generic_air_naval_bomber
		mutually_exclusive = { focus = TUR_invoke_the_methods_of_mehmed_ii }
		prerequisite = { focus = TUR_accelerate_native_fighter_designs }
		x = -2
		y = 1
		relative_position_id = TUR_accelerate_native_fighter_designs
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_patrol_the_seas
				bonus = 1.5
				uses = 1
				category = naval_bomber
			}
			add_tech_bonus = {
				name = TUR_patrol_the_seas
				bonus = 1.0
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_invoke_the_methods_of_mehmed_ii
		icon = GFX_goal_generic_army_artillery
		mutually_exclusive = {  focus = TUR_patrol_the_seas }
		prerequisite = { focus = TUR_accelerate_native_fighter_designs }
		x = 2
		y = 1
		relative_position_id = TUR_accelerate_native_fighter_designs
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_invoke_the_methods_of_mehmed_ii
				bonus = 1.5
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = TUR_invoke_the_methods_of_mehmed_ii
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_turkish_air_defense_platforms
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = TUR_patrol_the_seas focus = TUR_invoke_the_methods_of_mehmed_ii }
		x = 0
		y = 2
		relative_position_id = TUR_accelerate_native_fighter_designs
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			797 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			354 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			340 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = TUR_turkish_air_defense_platforms
				bonus = 0.75
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = TUR_expand_the_golcuk_naval_base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = TUR_modernising_the_army }
		prerequisite = { focus = TUR_expand_the_air_bases }
		x = 7
		y = 1
		relative_position_id = TUR_modernising_the_army
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			340 = { 
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 3851
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			navy_experience = 5
			unlock_decision_tooltip = TUR_streamline_communication_methods_between_ships
		}
	}

	focus = {
		id = TUR_relocate_from_yildiz_palace
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = TUR_expand_the_golcuk_naval_base }
		x = 0
		y = 1
		relative_position_id = TUR_expand_the_golcuk_naval_base
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			341 = { 
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			345 = { 
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 4
						province = 10056
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = TUR_the_legacy_of_osmanli_donanmasi
		icon = GFX_focus_generic_navy_battleship2
		mutually_exclusive = { focus = TUR_the_path_of_the_wolf }
		prerequisite = { focus = TUR_relocate_from_yildiz_palace }
		x = -2
		y = 1
		relative_position_id = TUR_relocate_from_yildiz_palace
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_the_legacy_of_osmanli_donanmasi
				bonus = 1.50
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = TUR_the_legacy_of_osmanli_donanmasi
				bonus = 1.75
				uses = 1
				category = bb_tech
			}
		}
	}

	focus = {
		id = TUR_the_path_of_the_wolf
		icon = GFX_goal_generic_wolf_pack
		mutually_exclusive = {  focus = TUR_the_legacy_of_osmanli_donanmasi }
		prerequisite = { focus = TUR_relocate_from_yildiz_palace }
		x = 2
		y = 1
		relative_position_id = TUR_relocate_from_yildiz_palace
		cost = 5
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_the_path_of_the_wolf
				bonus = 1.00
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = TUR_the_path_of_the_wolf
				bonus = 1.50
				uses = 2
				category = trade_interdiction_tree
			}
		}
	}

	focus = {
		id = TUR_fortified_defensive_bases
		icon = GFX_goal_generic_radar
		prerequisite = { focus = TUR_construct_the_cakmak_line }
		prerequisite = { focus = TUR_the_legacy_of_osmanli_donanmasi focus = TUR_the_path_of_the_wolf }
		prerequisite = { focus = TUR_turkish_air_defense_platforms }
		x = 0
		y = 2
		relative_position_id = TUR_relocate_from_yildiz_palace
		cost = 10
		ai_will_do = {
			base = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = TUR_fortified_defensive_bases
				bonus = 1.00
				uses = 2
				category = radar_tech
			}
			add_timed_idea = {
				idea = TUR_emergency_deployment_of_defensive_bases
				days = 720
			}
		}
	}

	focus = {
		id = TUR_turk_silahli_kuvvetleri
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = TUR_fortified_defensive_bases }
		x = 0
		y = 1
		relative_position_id = TUR_fortified_defensive_bases
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.15
			if = {
				limit = {
					OR = {
						has_idea = TUR_disorganised_armed_forces
						has_idea = TUR_disorganised_armed_forces_1
						has_idea = TUR_disorganised_armed_forces_2
						has_idea = TUR_disorganised_armed_forces_3
						has_idea = TUR_disorganised_armed_forces_4
						has_idea = TUR_disorganised_armed_forces_5
						has_idea = TUR_disorganised_armed_forces_6
						has_idea = TUR_disorganised_armed_forces_7
						has_idea = TUR_disorganised_armed_forces_8
						has_idea = TUR_disorganised_armed_forces_9
						has_idea = TUR_disorganised_armed_forces_10
						has_idea = TUR_disorganised_armed_forces_11
						has_idea = TUR_disorganised_armed_forces_12
						has_idea = TUR_disorganised_armed_forces_13
						has_idea = TUR_disorganised_armed_forces_14
						has_idea = TUR_disorganised_armed_forces_15
						has_idea = TUR_disorganised_armed_forces_16
						has_idea = TUR_disorganised_armed_forces_17
						has_idea = TUR_disorganised_armed_forces_18
						has_idea = TUR_disorganised_armed_forces_19
						has_idea = TUR_disorganised_armed_forces_20
						has_idea = TUR_disorganised_armed_forces_21
						has_idea = TUR_disorganised_armed_forces_22
						has_idea = TUR_disorganised_armed_forces_23
						has_idea = TUR_disorganised_armed_forces_24
						has_idea = TUR_disorganised_armed_forces_25
						has_idea = TUR_disorganised_armed_forces_26
						has_idea = TUR_disorganised_armed_forces_27
						has_idea = TUR_disorganised_armed_forces_28
						has_idea = TUR_disorganised_armed_forces_29
						has_idea = TUR_disorganised_armed_forces_30
					}
				}
				effect_tooltip = {
					remove_ideas = TUR_disorganised_armed_forces
				}
			}
			else = {
				add_manpower = 125000
			}
			hidden_effect = { 
				if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces
					}
					remove_ideas = TUR_disorganised_armed_forces
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_1
					}
					remove_ideas = TUR_disorganised_armed_forces_1
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_2
					}
					remove_ideas = TUR_disorganised_armed_forces_2
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_3
					}
					remove_ideas = TUR_disorganised_armed_forces_3
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_4
					}
					remove_ideas = TUR_disorganised_armed_forces_4
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_5
					}
					remove_ideas = TUR_disorganised_armed_forces_5
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_6
					}
					remove_ideas = TUR_disorganised_armed_forces_6
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_7
					}
					remove_ideas = TUR_disorganised_armed_forces_7
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_8
					}
					remove_ideas = TUR_disorganised_armed_forces_8
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_9
					}
					remove_ideas = TUR_disorganised_armed_forces_9
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_10
					}
					remove_ideas = TUR_disorganised_armed_forces_10
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_11
					}
					remove_ideas = TUR_disorganised_armed_forces_11
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_12
					}
					remove_ideas = TUR_disorganised_armed_forces_12
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_13
					}
					remove_ideas = TUR_disorganised_armed_forces_13
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_14
					}
					remove_ideas = TUR_disorganised_armed_forces_14
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_15
					}
					remove_ideas = TUR_disorganised_armed_forces_15
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_16
					}
					remove_ideas = TUR_disorganised_armed_forces_16
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_17
					}
					remove_ideas = TUR_disorganised_armed_forces_17
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_18
					}
					remove_ideas = TUR_disorganised_armed_forces_18
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_19
					}
					remove_ideas = TUR_disorganised_armed_forces_19
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_20
					}
					remove_ideas = TUR_disorganised_armed_forces_20
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_21
					}
					remove_ideas = TUR_disorganised_armed_forces_21
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_22
					}
					remove_ideas = TUR_disorganised_armed_forces_22
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_23
					}
					remove_ideas = TUR_disorganised_armed_forces_23
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_24
					}
					remove_ideas = TUR_disorganised_armed_forces_24
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_25
					}
					remove_ideas = TUR_disorganised_armed_forces_25
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_26
					}
					remove_ideas = TUR_disorganised_armed_forces_26
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_27
					}
					remove_ideas = TUR_disorganised_armed_forces_27
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_28
					}
					remove_ideas = TUR_disorganised_armed_forces_28
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_29
					}
					remove_ideas = TUR_disorganised_armed_forces_29
				}
				else_if = {
					limit = {
						has_idea = TUR_disorganised_armed_forces_30
					}
					remove_ideas = TUR_disorganised_armed_forces_30
				}
			}
		}
	}
}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_USA_CONGRESS}

focus_tree = {
	id = usa_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = USA
			always = no
		}
		
		modifier = {
			add = 10
			original_tag = USA
			always = no
		}
	}
	continuous_focus_position = { x = 50 y = 1600 }
	default = no
#	focus = {
#		id = USA_
#		#icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	focus = {
		id = USA_continue_the_new_deal
		icon = GFX_focus_generic_self_management
		x = 14
		y = 0
		offset = {
			x = -12
			y = 0
			trigger = {
				not = { has_dlc = "Man the Guns" }
			}
		}

		mutually_exclusive = { focus = USA_reestablish_the_gold_standard }
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = democratic
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 150
		}
	}

	focus = {
		id = USA_suspend_the_presecution
		icon = GFX_focus_generic_diplomatic_treaty
		x = -7
		y = 1
		prerequisite = { focus = USA_continue_the_new_deal }
		relative_position_id = USA_continue_the_new_deal
		cost = 10

		ai_will_do = {
			factor = 1
		}
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = -0.05
			custom_effect_tooltip = available_political_advisor
		    show_ideas_tooltip = earl_browder
		    if = {
		    	limit = {
		    		is_ai = yes
		    		OR = {
						has_country_flag = USA_AI_RANDOM_COMMUNIST
						has_game_rule = {
							rule = USA_ai_behavior
							option = COMMUNIST
						}
					}
		    	}
		    	add_ideas = earl_browder
		    }
		}
	}
	focus = {
		id = USA_desegregate_the_armed_forces
		icon = GFX_goal_generic_small_arms
		x = -6
		y = 1
		prerequisite = { focus = USA_suspend_the_presecution }
		relative_position_id = USA_suspend_the_presecution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				communism > 0.1
				has_country_leader = { ruling_only = yes name = "Harry S. Truman" }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = USA_armed_forces_desegregation
		}
	}
	focus = {
		id = USA_full_desegregation
		icon = GFX_focus_generic_support_the_left_right
		x = -1
		y = 1
		prerequisite = { focus = USA_desegregate_the_armed_forces }
		relative_position_id = USA_desegregate_the_armed_forces
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			communism > 0.2
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			swap_ideas = {
				remove_idea = USA_armed_forces_desegregation
				add_idea = USA_full_desegregation
			}
			if = {
				limit = {
					not = { has_government = communism }
				}
				USA_congress_large_opposition = yes
			}
			if = {
				limit = {
					has_country_flag = mtg_usa_civil_war_fascists_1
					not = { has_country_flag = mtg_usa_civil_war_fascists_2 }
				}
				country_event = mtg_usa_civil_war_fascists.2
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
			else_if = {
				limit = { not = { has_country_flag = mtg_usa_civil_war_fascists_1 } }
				country_event = mtg_usa_civil_war_fascists.1
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
		}
	}
	focus = {
		id = USA_democratic_socialism
		icon = GFX_focus_generic_soviet_politics
		x = 1
		y = 1
		prerequisite = { focus = USA_desegregate_the_armed_forces }
		relative_position_id = USA_desegregate_the_armed_forces
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			communism > 0.35
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			set_politics = { ruling_party = communism elections_allowed = yes } #good and nice communism has elections
			add_popularity = { ideology = communism popularity = 0.25 }
			hidden_effect = {
				if = {
					limit = {
						has_war = no
						has_country_flag = mtg_usa_civil_war_fascists_2
						not = {
							has_country_flag = mucwf4
						}
					}
					country_event = mtg_usa_civil_war_fascists.4
				}
			}
		}
	}
	focus = {
		id = USA_liberty_for_the_philippines
		icon = GFX_goal_generic_alliance
		x = 0
		y = 2
		prerequisite = { focus = USA_democratic_socialism }
		prerequisite = { focus = USA_full_desegregation }
		relative_position_id = USA_desegregate_the_armed_forces
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = communism
			country_exists = "PHI"
		}
		
		bypass = {
			"PHI" = {
				not = { is_subject_of = ROOT }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					"PHI" = {
						is_subject_of = ROOT
					}
				}
				set_autonomy = { target = "PHI" autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				add_to_faction = "PHI"
			}
		}
	}
	focus = {
		id = USA_pacific_decolonisation
		icon = GFX_goal_generic_national_unity
		x = 0
		y = 3
		prerequisite = { focus = USA_liberty_for_the_philippines }
		relative_position_id = USA_desegregate_the_armed_forces
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		

		completion_reward = {
			if = {
				limit = {
					INS = {
						exists = yes
						is_subject = yes
					}
				}
				create_wargoal = {
					target = INS
					type = puppet_wargoal_focus
					expire = 0
				}
			}
			if = {
				limit = { 
					523 = {
						not = {
							is_owned_by = PNG #already decolonized
						}	
					}
				}
			}
			523 = {
				OWNER = {
					ROOT = {
						create_wargoal = {
							target = PREV
							type = take_state
							expire = 0
							generator = { 523 }
						}
					}
				}
			}
		}
	}
	
#  # #  # ###  ##  #  #     ###  ### ###  ###  ###  ## ### #  # ###  ##  ### ###  ##  #  # 
#  # ## #  #  #  # ## #     #  # #   #  # #  # #   #   #   ## #  #  #  #  #   #  #  # ## # 
#  # # ##  #  #  # # ##     ###  ##  ###  ###  ##   #  ##  # ##  #  ####  #   #  #  # # ## 
#  # #  #  #  #  # #  #     #  # #   #    #  # #     # #   #  #  #  #  #  #   #  #  # #  # 
 ##  #  # ###  ##  #  #     #  # ### #    #  # ### ##  ### #  #  #  #  #  #  ###  ##  #  # 

	
	focus = {
		id = USA_union_representation_act
		icon = GFX_focus_usa_union_representation_act
		x = -3
		y = 1
		prerequisite = { focus = USA_suspend_the_presecution }
		relative_position_id = USA_suspend_the_presecution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
			OR = {
				has_idea_with_trait = communist_revolutionary
				has_government = communism
			}
			not = { has_completed_focus = USA_limited_intervention }
			not = { has_completed_focus = USA_neutrality_act }
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					not = { congress_high_support_trigger = yes }
				}
				add_stability = -0.1
			}
			USA_return_majority = yes
			if = {
				limit = {
					has_country_flag = mtg_usa_civil_war_fascists_1
					not = {
						has_country_flag = mtg_usa_civil_war_fascists_2
					}
				}
				country_event = mtg_usa_civil_war_fascists.2
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
			else_if = {
				limit = { not = { has_country_flag = mtg_usa_civil_war_fascists_1 } }
				country_event = mtg_usa_civil_war_fascists.1
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = mtg_usa_civil_war_fascists_2
						has_war = no
						not = { has_country_flag = mucwf4 }
					}
					country_event = mtg_usa_civil_war_fascists.4
				}
			}
		}
	}
	focus = {
		id = USA_old_age_pension_act
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 1
		prerequisite = { focus = USA_union_representation_act }
		relative_position_id = USA_union_representation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_stability = 0.1
			USA_congress_small_opposition = yes
		}
	}
	focus = {
		id = USA_accumulated_wealth_tax_act
		icon = GFX_focus_rom_parties_end
		x = 2
		y = 1
		prerequisite = { focus = USA_union_representation_act }
		relative_position_id = USA_union_representation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_idea_with_trait = communist_revolutionary
				has_government = communism
			}
			congress_high_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_ideas = USA_accumulated_wealth_tax_act
			if = {
				limit = {
					communism > 0.3
					not = { has_government = communism }
				}
				USA_congress_medium_opposition = yes
			}
			else_if = {
				limit = {
					communism < 0.3
					not = { has_government = communism }
				}
				USA_congress_large_opposition = yes
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			USA_great_depression_level_down = yes
		}
	}
	focus = {
		id = USA_guarantee_the_american_dream
		icon = GFX_focus_usa_guarantee_the_american_dream
		x = 0
		y = 2
		#prerequisite = { focus = USA_democratic_socialism }
		prerequisite = { focus = USA_old_age_pension_act }
		prerequisite = { focus = USA_accumulated_wealth_tax_act }
		relative_position_id = USA_union_representation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = {
			add_war_support = 0.1
		}
	}
	focus = {
		id = USA_worker_management_act
		icon = GFX_goal_generic_production
		x = 0
		y = 1
		prerequisite = { focus = USA_guarantee_the_american_dream }
		relative_position_id = USA_guarantee_the_american_dream
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
			OR = {
				has_idea_with_trait = communist_revolutionary
				has_government = communism
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_ideas = USA_worker_management_act
			if = {
				limit = {
					communism > 0.3
					not = { has_government = communism }
				}
				USA_congress_medium_opposition = yes
			}
			else_if = {
				limit = {
					communism < 0.3
					not = { has_government = communism }
				}
				USA_congress_large_opposition = yes
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			USA_great_depression_level_down = yes
		}
	}
	focus = {
		id = USA_militia_organization_act
		icon = GFX_focus_secret_rearmament
		x = 2
		y = 1
		prerequisite = { focus = USA_guarantee_the_american_dream }
		relative_position_id = USA_guarantee_the_american_dream
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_ideas = USA_militia_organization_act
			USA_congress_small_opposition = yes
		}
	}
	focus = {
		id = USA_communal_property_act
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 2
		prerequisite = { focus = USA_worker_management_act }
		prerequisite = { focus = USA_militia_organization_act }
		relative_position_id = USA_guarantee_the_american_dream
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			if = {
				limit = {
					communism > 0.3
					not = { has_government = communism }
				}
				USA_congress_medium_opposition = yes
			}
			else_if = {
				limit = {
					communism < 0.3
					not = { has_government = communism }
				}
				USA_congress_large_opposition = yes
			}
			USA_great_depression_level_down = yes
			unlock_decision_tooltip = { decision = USA_communal_domain show_effect_tooltip = yes }

		}
	}
	focus = {
		id = USA_reintegration
		icon = GFX_goal_generic_intelligence_exchange
		x = 0
		y = 3
		prerequisite = { focus = USA_communal_property_act }
		relative_position_id = USA_guarantee_the_american_dream
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_war_with = CSA
				has_global_flag = USA_civil_war_fired
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			unlock_decision_tooltip = { decision = USA_readmit_state show_effect_tooltip = yes }
		}
	}
	
#   #  ##  ###  ###      ##  ###   ##  #  # ###  
#   # #  # #  # #       #    #  # #  # #  # #  # 
# # # #### ###  ##      # ## ###  #  # #  # ###  
# # # #  # #  # #       #  # #  # #  # #  # #    
 # #  #  # #  # ###      ##  #  #  ##   ##  #    

	
	focus = {
		id = USA_reach_out_to_the_ware_group
		icon = GFX_goal_generic_propaganda
		x = 0
		y = 3
		prerequisite = { focus = USA_suspend_the_presecution }
		prerequisite = { focus = USA_agricultural_adjustment_act }
		relative_position_id = USA_suspend_the_presecution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_government = democratic
				has_government = communism
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = harry_white
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = victor_perlo
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = whittaker_chambers
		}
	}
	focus = {
		id = USA_us_ussr_economic_cooperation
		icon = GFX_goal_generic_soviet_construction
		x = 0
		y = 5
		prerequisite = { focus = USA_reach_out_to_the_ware_group }
		relative_position_id = USA_suspend_the_presecution
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			not = {
				has_war_with = SOV
			}
		}
		
		bypass = {
			SOV = {
				OR = {
					exists = no
					has_war_with = USA
					is_subject = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { add_to_tech_sharing_group = USA_SOV_tech_group }
			add_to_tech_sharing_group = USA_SOV_tech_group
		}	
	}

	focus = {
		id = USA_unholy_alliance
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = USA_us_ussr_economic_cooperation }
		mutually_exclusive = { focus = USA_secure_china }
		available = {
			not = {
				has_war_with = SOV
			}
			SOV = {
				is_faction_leader = yes
			}
			is_in_faction = no
		}

		x = 0
		y = 3
		relative_position_id = USA_reach_out_to_the_ware_group
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = {
				country_event = generic.2
			}
		}
	}
	focus = {
		id = USA_secure_china
		icon = GFX_focus_chi_cooperation_with_the_communists
		x = 2
		y = 3
		prerequisite = { focus = USA_reach_out_to_the_ware_group }
		mutually_exclusive = { focus = USA_unholy_alliance }
		relative_position_id = USA_reach_out_to_the_ware_group
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			not = {
				has_war_with = event_target:WTT_communist_china
			}
			OR = {
				is_faction_leader = yes
				event_target:WTT_communist_china = {
					is_faction_leader = yes
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					event_target:WTT_communist_china = {
						is_faction_leader = yes
					}
				}
				event_target:WTT_communist_china = {
					country_event = generic.2
				}
			}
			else_if = {
				limit = {
					is_faction_leader = yes
				}
				event_target:WTT_communist_china = {
					country_event = generic.5
				}
			}
		}
	}
	focus = {
		id = USA_end_monarchism
		icon = GFX_focus_rom_abdicate
		x = 4
		y = 1
		prerequisite = { focus = USA_reach_out_to_the_ware_group }
		relative_position_id = USA_reach_out_to_the_ware_group
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			communism > 0.3
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			if = {
				limit = {
					ENG = {
						not = { has_government = communism }
						not = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
					target = ENG
					type = topple_government
					expire = 0
				}
			}
			if = {
				limit = {
					GER = {
						OR = {
							has_completed_focus = GER_return_of_the_kaiser
							has_completed_focus = GER_the_monarchy_compromise
						}
						not = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
					target = GER
					type = topple_government
					expire = 0
				}
			}
			if = {
				limit = {
					HUN = {
						has_cosmetic_tag = HUN_EMPIRE
						not = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
					target = HUN
					type = topple_government
					expire = 0
				}
			}
			if = {
				limit = {
					JAP = {
						not = { has_government = communism }
						not = { has_government = democratic }
						not = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
					target = JAP
					type = topple_government
					expire = 0
				}
			}
			if = {
				limit = {
					MAN = {
						has_completed_focus = MAN_imperial_divinity
						not = { is_in_faction_with = ROOT }
					}
				}
				create_wargoal = {
					target = MAN
					type = topple_government
					expire = 0
				}
			}
		}
	}
	focus = {
		id = USA_shatter_the_empires
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 4
		y = 2
		prerequisite = { focus = USA_end_monarchism }
		relative_position_id = USA_reach_out_to_the_ware_group
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				ENG = {
					exists = yes
					not = { has_war_with = ROOT }
					not = { is_in_faction_with = ROOT }
					not = { has_completed_focus = ENG_decolonization }
				}
				ITA = {
					exists = yes
					not = { has_war_with = ROOT }
					not = { is_in_faction_with = ROOT }
					any_state = {
						is_controlled_by = ITA
						not = { is_core_of = ITA }
					}
				}
				FRA = {
					exists = yes
					not = { has_war_with = ROOT }
					not = { is_in_faction_with = ROOT }
					any_state = {
						is_controlled_by = FRA
						not = { is_core_of = FRA }
					}
				}
				GER = {
					exists = yes
					not = { has_war_with = ROOT }
					not = { is_in_faction_with = ROOT }
					any_state = {
						is_controlled_by = GER
						not = { is_core_of = GER }
					}
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					ENG = {
						exists = yes
						not = { has_war_with = ROOT }
						not = { is_in_faction_with = ROOT }
						not = { has_completed_focus = ENG_decolonization }
					}
				}
				every_country = {
					limit = {
						OR = {
							original_tag = ENG
							is_subject_of = ENG
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
							expire = 0
						}
					}
				}
			}
			if = {
				limit = {
					ITA = {
						exists = yes
						not = { has_war_with = ROOT }
						not = { is_in_faction_with = ROOT }
						any_state = {
							is_controlled_by = ITA
							not = { is_core_of = ITA }
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							original_tag = ITA
							is_subject_of = ITA
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
							expire = 0
						}
					}
				}
			}
			if = {
				limit = {
					FRA = {
						exists = yes
						not = { has_war_with = ROOT }
						not = { is_in_faction_with = ROOT }
						any_state = {
							is_controlled_by = FRA
							not = { is_core_of = FRA }
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							original_tag = FRA
							is_subject_of = FRA
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
							expire = 0
						}
					}
				}
			}
			if = {
				limit = {
					GER = {
						exists = yes
						not = { has_war_with = ROOT }
						not = { is_in_faction_with = ROOT }
						any_state = {
							is_controlled_by = GER
							not = { is_core_of = GER }
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							original_tag = GER
							is_subject_of = GER
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
							expire = 0
						}
					}
				}
			}
		}
	}
#	#   # ## #  
#   # #  # #  # 
# # # ###  #### 
# # # #    #  # 
 # #  #    #  # 

	focus = {
		id = USA_wpa
		icon = GFX_goal_generic_production
		prerequisite = { focus = USA_continue_the_new_deal }
		relative_position_id = USA_continue_the_new_deal
		x = -4
		y = 1
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_political_power = 150
		}
	}
	focus = {
		id = USA_agricultural_adjustment_act
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 1
		prerequisite = { focus = USA_wpa }
		relative_position_id = USA_wpa
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
			has_government = democratic
		}
		
		bypass = {
			not = {
				OR = {
					has_idea = great_depression
					has_idea = great_depression_2
					has_idea = great_depression_3
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_great_depression_level_down = yes
			set_country_flag = { flag = USA_great_depression_cooldown value = 1 days = 230 }
			USA_congress_medium_opposition = yes
			custom_effect_tooltip = USA_great_depression_cooldown_tt
			unlock_decision_tooltip = { decision = USA_pay_farm_subsidies show_effect_tooltip = yes }
		}
	}
	focus = {
		id = USA_fair_labour_standards_act
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 0
		y = 2
		prerequisite = { focus = USA_agricultural_adjustment_act }
		relative_position_id = USA_wpa
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
			has_government = democratic
			not = { has_country_flag = USA_great_depression_cooldown }
		}
		
		bypass = {
			not = {
				OR = {
					has_idea = great_depression
					has_idea = great_depression_2
					has_idea = great_depression_3
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_great_depression_level_down = yes
			set_country_flag = { flag = USA_great_depression_cooldown value = 1 days = 230 }
			custom_effect_tooltip = USA_great_depression_cooldown_tt
			USA_congress_medium_opposition = yes
		}
	}
	focus = {
		id = USA_federal_housing_act
		icon = GFX_goal_generic_construct_civilian
		x = 0
		y = 3
		prerequisite = { focus = USA_fair_labour_standards_act }
		relative_position_id = USA_wpa
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
			has_government = democratic
			not = { has_country_flag = USA_great_depression_cooldown }
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		complete_tooltip = {
			every_owned_state = {
				limit = {
					has_state_flag = USA_federal_housing_act
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_great_depression_level_down = yes
			USA_congress_medium_opposition = yes
			custom_effect_tooltip = federal_housing_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = USA_federal_housing_act
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_core_of = ROOT
						not = { has_state_flag = USA_federal_housing_act }
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = USA_federal_housing_act
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_core_of = ROOT
						not = { has_state_flag = USA_federal_housing_act }
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = USA_federal_housing_act
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_core_of = ROOT
						not = { has_state_flag = USA_federal_housing_act }
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = USA_federal_housing_act
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_core_of = ROOT
						not = { has_state_flag = USA_federal_housing_act }
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = USA_federal_housing_act
				}
			}
		}
	}
	focus = {
		id = USA_office_of_scientific_research_and_development
		icon = GFX_focus_research
		x = 2
		y = 1
		prerequisite = { focus = USA_wpa }
		relative_position_id = USA_wpa
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = USA_rubber_reserve_company
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = USA_office_of_scientific_research_and_development }
		available = {
			
		}
		x = 2
		y = 2
		relative_position_id = USA_wpa
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_rubber_reserve_company
				bonus = 1.0
				uses = 2
				technology = rubber_processing
				technology = improved_rubber_processing
				technology = advanced_rubber_processing
				technology = modern_rubber_processing
			}
		}
	}
#   ### #   # ### ### ### ###      ### #  # ### ### ###  #   # ### #  # ### ###  ##  #  # 
#    #  ## ##  #   #  #   #  #      #  ## #  #  #   #  # #   # #   ## #  #   #  #  # ## # 
#    #  # # #  #   #  ##  #  #      #  # ##  #  ##  ###   # #  ##  # ##  #   #  #  # # ## 
#    #  #   #  #   #  #   #  #      #  #  #  #  #   #  #  # #  #   #  #  #   #  #  # #  # 
### ### #   # ###  #  ### ###      ### #  #  #  ### #  #   #   ### #  #  #  ###  ##  #  # 

	focus = {
		id = USA_limited_intervention
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = USA_continue_the_new_deal focus = USA_reestablish_the_gold_standard }
		mutually_exclusive = { focus = USA_neutrality_act }
		continue_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = USA_continue_the_new_deal
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = no
		cancel_if_invalid = no
		continue_if_invalid = yes
		available = {
			congress_high_support_trigger = yes 
			has_government = democratic
			NOT = { has_idea_with_trait = fascist_demagogue }
			NOT = { has_idea_with_trait = communist_revolutionary }
		}
		bypass = {
			
		}
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						is_major = yes
						has_government = ROOT
					}
					ROOT = {
						add_ai_strategy = {
							type = support
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = 200
						}
					}
				}
			}
			set_rule = { can_send_volunteers = yes }
			add_ideas = USA_limited_intervention
			USA_congress_medium_opposition = yes
			if = {
				limit = {
					has_war_support < 0.4
					has_war_support > 0.2
				}
				add_stability = -0.1
			}
			else_if = {
				limit = {
					has_war_support < 0.2
				}
				add_stability = -0.2
			}
			custom_effect_tooltip = USA_limited_intervention_tt
			hidden_effect = {
				news_event = { id = mtg_news.4 days = 3 }
			}
		}
	}

	focus = {
		id = USA_war_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = USA_limited_intervention }
		available = {
			has_government = democratic
		}

		bypass = {
			
		}

		available_if_capitulated = yes
		relative_position_id = USA_limited_intervention
		continue_if_invalid = yes
		x = 0
		y = 2
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_war_support = 0.1
			if = {
				limit = {
					has_war_support < 0.4
				}
				USA_congress_small_opposition = yes
			}
		}
	}
	focus = {
		id = USA_focus_on_europe
		icon = GFX_focus_usa_focus_on_europe
		x = -1
		y = 3
		prerequisite = { focus = USA_war_propaganda }
		mutually_exclusive = { focus = USA_focus_on_asia }
		relative_position_id = USA_limited_intervention
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_government = democratic
		}
		
		bypass = {
			OR = {
				has_war_with = GER
				has_war_with = ENG
				has_war_with = FRA
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = USA_intervention_mandate
			custom_effect_tooltip = USA_intervention_mandate_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						is_major = yes
						capital_scope = {
							is_on_continent = europe
						}
						not = { has_government = ROOT }
					}
					ROOT = {
						add_ai_strategy = {
							type = contain
							id = PREV
							value = 200
						}
					}
				}
			}
		}
	}
	focus = {
		id = USA_office_of_strategic_services
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = USA_focus_on_europe }
		available = {
			
		}
		x = -1
		y = 4
		relative_position_id = USA_limited_intervention
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_dlc = "La Resistance"
					}
				}
				add_ideas = office_of_strategic_services
			}
			else = {
				add_ideas = office_of_strategic_services_lar
			}
		}
	}
	focus = {
		id = USA_focus_on_asia
		icon = GFX_focus_usa_focus_on_asia
		x = 1
		y = 3
		prerequisite = { focus = USA_war_propaganda }
		mutually_exclusive = { focus = USA_focus_on_europe }
		relative_position_id = USA_limited_intervention
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				OR = {
					has_war_with = JAP
					has_war_with = CHI
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = USA_intervention_mandate
			custom_effect_tooltip = USA_intervention_mandate_tt
		}
	}
	focus = {
		id = USA_magic
		icon = GFX_goal_generic_radar
		x = 1
		y = 4
		prerequisite = { focus = USA_focus_on_asia }
		relative_position_id = USA_limited_intervention
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_magic
		}
	}
	focus = {
		id = USA_black_chamber
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = USA_magic focus = USA_office_of_strategic_services}
		available = { }
		x = 1
		y = 3
		relative_position_id = USA_war_propaganda
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_dlc = "La Resistance"
					}
				}
				add_tech_bonus = {
					name = USA_black_chamber
					bonus = 1.0
					uses = 2
					category = encryption_tech
					category = decryption_tech
				}
			}
			else = {
				add_ideas = USA_black_chamber
			}
		}
	}

	focus = {
		id = USA_scientist_haven
		icon = GFX_focus_research
		prerequisite = { focus = USA_black_chamber focus = USA_arsenal_of_democracy }
		x = 1
		y = 1
		relative_position_id = USA_black_chamber
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		available = {
			has_government = democratic
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = USA_manhattan_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = USA_scientist_haven }
		
		x = 0
		y = 1
		relative_position_id = USA_scientist_haven
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_manhattan_project
				bonus = 1.0
				uses = 1
				category = nuclear
			}
			add_tech_bonus = {
				name = USA_manhattan_project
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}
	focus = {
		id = USA_neutrality_act
		icon = GFX_goal_generic_neutrality_focus
		x = 4
		y = 1
		prerequisite = { focus = USA_continue_the_new_deal focus = USA_reestablish_the_gold_standard }
		mutually_exclusive = { focus = USA_limited_intervention }
		relative_position_id = USA_continue_the_new_deal
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_low_support_trigger = yes
			democratic > 0.95
			NOT = { has_idea_with_trait = fascist_demagogue }
			NOT = { has_idea_with_trait = communist_revolutionary }
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_political_power = 200
			add_ideas = USA_neutrality_act 
			add_war_support = -0.05
			if = {
				limit = {
					has_war_support < 0.4
				}
				USA_congress_small_support = yes
			}
			custom_effect_tooltip = USA_lend_lease_act_neutrality_tt
			hidden_effect = {
				news_event = { id = mtg_news.3 days = 3 random_days = 5 }
			}
		}
	}
	focus = {
		id = USA_lend_lease_act
		icon = GFX_focus_generic_treaty
		x = 2
		y = 2
		prerequisite = { focus = USA_neutrality_act focus = USA_limited_intervention }
		relative_position_id = USA_limited_intervention
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					has_war_support > 0.4
				}
				congress_medium_support_trigger = yes
			}
			else = {
				congress_high_support_trigger = yes
			}
			democratic > 0.95
			custom_trigger_tooltip = {
				tooltip = USA_lend_lease_act_neutrality_tt
			}
			if = {
				limit = {
					has_completed_focus = USA_neutrality_act
				}
				any_other_country = {
					is_major = yes
					has_government = ROOT
					has_war = yes
					surrender_progress > 0
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					has_government = ROOT
				}
				ROOT = {
					add_ai_strategy = {
						type = support
						id = PREV
						value = 200
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = USA_limited_intervention
				}
				swap_ideas = {
					remove_idea = USA_limited_intervention
					add_idea = USA_lend_lease_act_li
				}
			}
			else_if = {
				limit = { has_completed_focus = USA_neutrality_act }
				swap_ideas = {
					remove_idea = USA_neutrality_act
					add_idea = USA_lend_lease_act_na
				}
			}
			else = {
				add_ideas = USA_lend_lease_act_dummy #should never get here, just for tooltip purposes
			}
			if = {
				limit = {
					has_war_support > 0.6
					has_war = no
				}
				USA_congress_small_support = yes
			}
			else_if = {
				limit = {
					has_war_support > 0.4
					has_war = no
				}
				USA_congress_small_opposition = yes
			}
			else_if = {
				limit = {
					has_war_support < 0.4
					has_war = no
				}
				USA_congress_large_opposition = yes
			}
			else = {
				USA_congress_medium_opposition = yes
			}
		}
	}
	focus = {
		id = USA_arsenal_of_democracy
		icon = GFX_goal_support_democracy
		prerequisite = { focus = USA_neutrality_act }
		x = 0
		y = 2
		relative_position_id = USA_neutrality_act
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			democratic > 0.95
		}
		bypass = {
			AND = {
				custom_trigger_tooltip =  {
					tooltip = production_effort_tt
					all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 3
							include_locked = yes
						}
					}
				}
				custom_trigger_tooltip =  {
					tooltip = naval_effort_tt
					all_owned_state = {
						free_building_slots = {
							building = dockyard
							size < 3
							include_locked = yes
						}
					}
				}			
			}
		}
		complete_tooltip = {
			navy_experience = 50
			army_experience = 50
			air_experience = 10
			every_state = {
				limit = { has_state_flag = USA_arsenal_of_democracy_3AF }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 50
			army_experience = 50
			air_experience = 10
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_arsenal_of_democracy_3AF
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_arsenal_of_democracy_3AF
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_arsenal_of_democracy_3AF
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_arsenal_of_democracy_3AF
			}
			play_arsenal_of_democracy_effect = yes
		}
	}
	focus = {
		id = USA_the_giant_wakes
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = USA_arsenal_of_democracy }
		available = {
			OR = {
				has_war = yes
				has_war_support > 0.3
			}
			democratic > 0.95
		}
		continue_if_invalid = yes
		x = 0
		y = 2
		relative_position_id = USA_arsenal_of_democracy
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			has_idea = USA_homeland_defense
		}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = undisturbed_isolation }
					NOT = { has_idea = isolation }
					NOT = { has_country_flag = USA_the_giant_wakes_added_civ_eco }
				}
				add_political_power = 100
			}
			if = {
				limit = {
					OR = {
						has_idea = isolation 
						has_idea = undisturbed_isolation 
						has_country_flag = USA_the_giant_wakes_added_civ_eco
					}
				}
				add_ideas = civilian_economy
				set_country_flag = USA_the_giant_wakes_added_civ_eco
			}
		}
	}
	focus = {
		id = USA_wartime_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = USA_the_giant_wakes }
		x = 0
		y = 2
		relative_position_id = USA_the_giant_wakes
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		available = {
			democratic > 0.95
		}
		completion_reward = {
			add_ideas = wartime_industry_focus
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = USA_general_motors
		}
	}
	

	focus = {
		id = USA_military_construction
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = USA_arsenal_of_democracy }
		
		available = {
			OR = {
				has_war = yes
				has_war_support > 0.3
			}
		}

		continue_if_invalid = yes
		available_if_capitulated = yes

		x = 1
		y = 1
		relative_position_id = USA_arsenal_of_democracy
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		complete_tooltip = {
			army_experience = 10
			every_state = {
				limit = { has_state_flag = USA_military_construction_5MF }
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = USA_military_construction_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			army_experience = 10
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 4
						include_locked = yes
					}
					OR = {
						region = 117
						region = 118
						region = 119
						region = 120
					}
				}
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				set_state_flag = USA_military_construction_5MF
			}
			if = {
				limit = {
					371 = {
						OR = {
							NOT = { is_owned_and_controlled_by = USA }
							AND = {
								is_owned_and_controlled_by = USA
								free_building_slots = {
									building = infrastructure
									size < 3
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 2
						}
						OR = {
							region = 117
							region = 118
							region = 119
							region = 120
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}
			371 = {
				if = {
					limit = { 
						is_owned_and_controlled_by = USA
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}
			if = {
				limit = {
					375 = {
						OR = {
							NOT = { is_owned_and_controlled_by = USA }
							AND = {
								is_owned_and_controlled_by = USA
								free_building_slots = {
									building = infrastructure
									size < 3
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 2
						}
						OR = {
							region = 117
							region = 118
							region = 119
							region = 120
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}
			375 = {
				if = {
					limit = { 
						is_owned_and_controlled_by = USA
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}			
			if = {
				limit = {
					378 = {
						OR = {
							NOT = { is_owned_and_controlled_by = USA }
							AND = {
								is_owned_and_controlled_by = USA
								free_building_slots = {
									building = infrastructure
									size < 3
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 2
						}
						OR = {
							region = 117
							region = 118
							region = 119
							region = 120
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}
			378 = {
				if = {
					limit = { 
						is_owned_and_controlled_by = USA
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					set_state_flag = USA_military_construction_3Inf
				}
			}			
		}
	}

	focus = {
		id = USA_USACE_projects
		icon = GFX_goal_generic_production
		prerequisite = { focus = USA_military_construction }
		available = {
			OR = {
				has_war_support > 0.3
				has_war = yes
			}
		}

		continue_if_invalid = yes
		
		x = 0
		y = 2
		relative_position_id = USA_military_construction
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = USA_USACE_projects_3AF }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = USA_USACE_projects_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			add_ideas = extensive_conscription
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					OR = {
						region = 117
						region = 118
						region = 119
						region = 120
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_USACE_projects_3AF
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
						include_locked = yes
					}
					OR = {
						region = 117
						region = 118
						region = 119
						region = 120
					}
					state_population > 3000000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_USACE_projects_3Inf
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 2
						include_locked = yes
					}
					OR = {
						region = 117
						region = 118
						region = 119
						region = 120
					}
					state_population > 3000000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = USA_USACE_projects_3Inf
			}
			air_experience = 50
			navy_experience = 50
			army_experience = 10			
		}
	}
###  ## ###  ##  ###  #   ###  ## #  #     ### #  # ###      ##   ##  #   ###       ## ###  ##  #  # ###   ##  ###  ###  
#   #    #  #  # #  # #    #  #   #  #      #  #  # #       #    #  # #   #  #     #    #  #  # ## # #  # #  # #  # #  # 
##   #   #  #### ###  #    #   #  ####      #  #### ##      # ## #  # #   #  #      #   #  #### # ## #  # #### ###  #  # 
#     #  #  #  # #  # #    #    # #  #      #  #  # #       #  # #  # #   #  #       #  #  #  # #  # #  # #  # #  # #  # 
### ##   #  #  # ###  ### ### ##  #  #      #  #  # ###      ##   ##  ### ###      ##   #  #  # #  # ###  #  # #  # ###  

	focus = {
		id = USA_reestablish_the_gold_standard
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 18
		y = 0
		offset = {
			x = -12
			y = 0
			trigger = {
				not = { has_dlc = "Man the Guns" }
			}
		}
		cost = 10

		ai_will_do = {
			factor = 1
		}
		mutually_exclusive = { focus = USA_continue_the_new_deal }
		available = {
			has_government = democratic
			NOT = {
				has_country_leader = { ruling_only = yes name = "Franklin Delano Roosevelt" }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_ideas = USA_gold_standard
			USA_congress_small_opposition = yes
		}
	}
	focus = {
		id = USA_adjusted_compensation_act
		icon = GFX_goal_generic_consumer_goods
		x = 2
		y = 1
		prerequisite = { focus = USA_reestablish_the_gold_standard }
		relative_position_id = USA_reestablish_the_gold_standard
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_timed_idea = { idea = USA_adjusted_compensation_payment days = 180 }
			USA_great_depression_level_down = yes
			if = {
				limit = {
					not = { congress_medium_support_trigger = yes }
				}
				USA_congress_small_opposition = yes
			}
		}
	}
	focus = {
		id = USA_labour_management_relations_act
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 1
		prerequisite = { focus = USA_adjusted_compensation_act }
		relative_position_id = USA_adjusted_compensation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			add_ideas = USA_labour_management_relations_act
			if = {
				limit = {
					communism < 0.1 
				}
				USA_congress_small_opposition = yes
			}
			else = {
				USA_congress_medium_opposition = yes
			}
		}
	}
	focus = {
		id = USA_protectionist_tariffs
		icon = GFX_goal_generic_defence
		x = 0
		y = 2
		prerequisite = { focus = USA_labour_management_relations_act }
		relative_position_id = USA_adjusted_compensation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER}
		completion_reward = {
			USA_great_depression_level_down = yes
			if = {
				limit = {
					has_idea = free_trade
				}
				add_ideas = export_focus
			}
		}
	}
	focus = {
		id = USA_income_tax_reform
		icon = GFX_goal_generic_intelligence_exchange
		x = 0
		y = 4
		prerequisite = { focus = USA_protectionist_tariffs }
		relative_position_id = USA_adjusted_compensation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_great_depression_level_down = yes
			USA_congress_medium_opposition = yes
			unlock_decision_tooltip = { decision = USA_give_tax_break show_effect_tooltip = yes }
		}
	}
	focus = {
		id = USA_institute_of_american_sciences
		icon = GFX_focus_research
		x = 0
		y = 6
		prerequisite = { focus = USA_income_tax_reform }
		relative_position_id = USA_adjusted_compensation_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_research_slot = 1
		}
	}
 ## ### ###  ### #  #  ##  ### #  # ### #  #     ### #  # ###      ##  #   # ### ###  ###  ##   ##  #  #     #   ###  ##  ###  ##  #  # 
#    #  #  # #   ## # #     #  #  # #   ## #      #  #  # #       #  # ## ## #   #  #  #  #  # #  # ## #     #   #   #     #  #  # ## # 
 #   #  ###  ##  # ## # ##  #  #### ##  # ##      #  #### ##      #### # # # ##  ###   #  #    #### # ##     #   ##  # ##  #  #  # # ## 
  #  #  #  # #   #  # #  #  #  #  # #   #  #      #  #  # #       #  # #   # #   #  #  #  #  # #  # #  #     #   #   #  #  #  #  # #  # 
##   #  #  # ### #  #  ##   #  #  # ### #  #      #  #  # ###     #  # #   # ### #  # ###  ##  #  # #  #     ### ###  ##  ###  ##  #  # 

	focus = {
		id = USA_america_first
		icon = GFX_goal_generic_political_pressure
		x = 4
		y = 1
		prerequisite = { focus = USA_reestablish_the_gold_standard }
		relative_position_id = USA_reestablish_the_gold_standard
		cost = 10

		ai_will_do = {
			factor = 1
		}
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
		    show_ideas_tooltip = charles_coughlin
		    add_popularity = { ideology = fascism popularity = 0.05 }
		     if = {
		    	limit = {
		    		is_ai = yes
		    		OR = {
						has_country_flag = USA_AI_RANDOM_FASCIST
						has_game_rule = {
							rule = USA_ai_behavior
							option = FASCIST
						}
					}
		    	}
		    	add_ideas = charles_coughlin
		    }
		}
	}
	focus = {
		id = USA_extend_the_chinese_exclusion_acts
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1
		prerequisite = { focus = USA_america_first }
		relative_position_id = USA_america_first
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_low_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_congress_large_support = yes
			event_target:WTT_current_china_leader = {
				add_opinion_modifier = { modifier = USA_extend_the_chinese_exclusion_acts target = ROOT }
			}
		}
	}
	focus = {
		id = USA_empower_the_huac
		icon = GFX_goal_generic_war_with_comintern
		x = 0
		y = 3
		prerequisite = { focus = USA_extend_the_chinese_exclusion_acts }
		prerequisite = { focus = USA_labour_management_relations_act }
		relative_position_id = USA_america_first
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
		    show_ideas_tooltip = USA_joseph_mccarthy
		    unlock_decision_tooltip = { decision = USA_use_huac show_effect_tooltip = yes }
		}
		
	}
	focus = {
		id = USA_voter_registration_act
		icon = GFX_focus_usa_voter_registration_act
		x = 0
		y = 5
		prerequisite = { focus = USA_empower_the_huac }
		relative_position_id = USA_america_first
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			fascism > 0.15
			congress_high_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			USA_return_majority = yes
			if = {
				limit = {
					democratic > 0.75
				}
				add_stability = -0.1
			}
			if = {
				limit = {
					has_country_flag = mtg_usa_civil_war_democrats_1
					not = { has_country_flag = mtg_usa_civil_war_democrats_2 }
				}
				country_event = mtg_usa_civil_war_democrats.2
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
			else_if = {
				limit = { not = { has_country_flag = mtg_usa_civil_war_democrats_1 } }
				country_event = mtg_usa_civil_war_democrats.1
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
		}
	}

 ##  #   #   #   #     #   # ### ### #  #     ### #  # ###      ## ### #   #   # ### ###       ## #  # ### ###  ###  ## 
#  # #   #    # #      #   #  #   #  #  #      #  #  # #       #    #  #   #   # #   #  #     #   #  #  #  #  #  #  #   
#### #   #     #       # # #  #   #  ####      #  #### ##       #   #  #    # #  ##  ###       #  ####  #  ###   #   #  
#  # #   #     #       # # #  #   #  #  #      #  #  # #         #  #  #    # #  #   #  #       # #  #  #  #  #  #    # 
#  # ### ###   #        # #  ###  #  #  #      #  #  # ###     ##  ### ###   #   ### #  #     ##  #  # ### #  #  #  ##  

	focus = {
		id = USA_ally_with_the_silver_shirts
		icon = GFX_focus_generic_diplomatic_treaty
		x = 5
		y = 1
		prerequisite = { focus = USA_america_first }
		relative_position_id = USA_america_first
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			fascism > 0.1
			has_idea_with_trait = fascist_demagogue
			not = { has_completed_focus = USA_limited_intervention }
			not = { has_completed_focus = USA_neutrality_act }
		}
		
		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			USA_congress_medium_support = yes
			unlock_decision_tooltip = { decision = USA_beat_up_opposition show_effect_tooltip = yes }
			if = {
				limit = {
					has_country_flag = mtg_usa_civil_war_democrats_1
					not = { has_country_flag = mtg_usa_civil_war_democrats_2 }
				}
				country_event = mtg_usa_civil_war_democrats.2
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
			else_if = {
				limit = { not = { has_country_flag = mtg_usa_civil_war_democrats_1 } }
				country_event = mtg_usa_civil_war_democrats.1
				custom_effect_tooltip = mtg_usa_civil_war_warning_tt
			}
		}
	}

	focus = {
		id = USA_national_prosperity_program
		icon = GFX_goal_generic_consumer_goods
		x = -2
		y = 1
		prerequisite = { focus = USA_ally_with_the_silver_shirts }
		relative_position_id = USA_ally_with_the_silver_shirts
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			fascism > 0.2
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
		}
	}
	focus = {
		id = USA_privatize_the_TVA
		icon = GFX_focus_generic_industry_1
		x = -3
		y = 2
		prerequisite = { focus = USA_national_prosperity_program }
		relative_position_id = USA_ally_with_the_silver_shirts
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			368 = {
				add_extra_state_shared_building_slots = 2
			}
			add_ideas = USA_privatization
		}
	}
	focus = {
		id = USA_de_regulate_the_banking_sector
		icon = GFX_focus_generic_industry_2
		x = -1
		y = 2
		prerequisite = { focus = USA_national_prosperity_program }
		relative_position_id = USA_ally_with_the_silver_shirts
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_banking_sector_deregulation
		}
	}
	focus = {
		id = USA_national_employment_strategy
		icon = GFX_focus_generic_industry_3
		x = -2
		y = 3
		prerequisite = { focus = USA_privatize_the_TVA }
		prerequisite = { focus = USA_de_regulate_the_banking_sector }
		relative_position_id = USA_ally_with_the_silver_shirts
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			swap_ideas = {
				remove_idea = USA_banking_sector_deregulation
				add_idea = USA_national_employment_strategy
			}
			USA_great_depression_level_down = yes
		}
	}
	focus = {
		id = USA_invite_foreign_support
		icon = GFX_goal_generic_military_deal
		x = 3
		y = 1
		prerequisite = { focus = USA_ally_with_the_silver_shirts }
		relative_position_id = USA_ally_with_the_silver_shirts
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = USA_foreign_support
			custom_effect_tooltip = USA_foreign_support_tt
		}
	}
	focus = {
		id = USA_send_lindbergh_to_germany
		icon = GFX_focus_chi_mission_to_germany
		x = 0
		y = 1
		prerequisite = { focus = USA_invite_foreign_support }
		relative_position_id = USA_invite_foreign_support
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			air_experience = 75
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = USA_charles_lindbergh
		}
	}
	focus = {
		id = USA_work_with_the_bund
		icon = GFX_goal_generic_dangerous_deal
		x = -2
		y = 2
		prerequisite = { focus = USA_send_lindbergh_to_germany }
		relative_position_id = USA_invite_foreign_support
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			not = {
				has_war_with = GER
			}
		}
		
		bypass = {
			has_civil_war = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_stability = 0.05
			GER = { add_opinion_modifier = { target = ROOT modifier = USA_work_with_the_bund } }
			set_country_flag = MTG_work_with_the_bund # to check if the focus was completed regularly or bypassed
			custom_effect_tooltip = USA_work_with_the_bund_tt
		}
	}
	focus = {
		id = USA_recruit_the_free_corps
		icon = GFX_focus_usa_recruit_the_free_corps
		x = 0
		y = 2
		prerequisite = { focus = USA_send_lindbergh_to_germany }
		relative_position_id = USA_invite_foreign_support
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = USA_raise_the_free_corps 
			custom_effect_tooltip = USA_raise_the_free_corps_tt
		}
	}
	focus = {
		id = USA_honor_the_confederacy
		icon = GFX_focus_usa_honor_the_confederacy
		x = -4
		y = 3
		prerequisite = { focus = USA_work_with_the_bund }
		prerequisite = { focus = USA_national_employment_strategy }
		relative_position_id = USA_invite_foreign_support
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_civil_war = yes
				has_government = fascism
				has_government = neutrality
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = USA_honor_the_confederacy
			custom_effect_tooltip = USA_honor_the_confederacy_tt
		}
	}



#   #  ##  ###      ###   ##  #   # ### ###   ##      ##   ##  ### 
#   # #  # #  #     #  # #  # #   # #   #  # #       #  # #  #  #  
# # # #### ###      ###  #  # # # # ##  ###   #      #### #     #  
# # # #  # #  #     #    #  # # # # #   #  #   #     #  # #  #  #  
 # #  #  # #  #     #     ##   # #  ### #  # ##      #  #  ##   #  

	focus = {
		id = USA_war_powers_act
		icon = GFX_goal_generic_forceful_treaty
		x = 11
		y = 1
		prerequisite = { focus = USA_america_first }
		relative_position_id = USA_america_first
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_high_support_trigger = yes
			fascism > 0.3
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_war_powers_act
			set_rule = {
				can_create_factions = yes
			}
			hidden_effect = {
				news_event = { id = mtg_news.5 days = 3 random_days = 6 }
			}
		}
	}
	focus = {
		id = USA_seize_cuba
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -1
		y = 1
		prerequisite = { focus = USA_war_powers_act }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war_support > 0.35
		}
		
		bypass = {
			OR = {
				owns_state = 315
				has_war_with = CUB
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					CUB = {
						owns_state = 315
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CUB
					expire = 0
				}
			}
			else_if = {
				limit = {
					315 = { CONTROLLER = { not = { is_in_faction_with = ROOT } } }
				}
				315 = { 
					CONTROLLER = {
						ROOT = {
							create_wargoal = {
								type = take_state
								target = PREV
								expire = 0
								generator = { 315 }
							}
						}
					} 
				}
			}
		}
	}
	focus = {
		id = USA_manifest_destiny
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = USA_war_powers_act }
		available = { }
		x = 1
		y = 1
		relative_position_id = USA_war_powers_act
		cost = 10
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = USA_world_police
		}
	}
	focus = {
		id = USA_eliminate_the_southern_threat
		icon = GFX_goal_generic_military_sphere
		x = -1
		y = 2
		prerequisite = { focus = USA_seize_cuba }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {
			MEX = {
				OR = {
					is_subject_of = ROOT
					exists = no
					has_War_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			MEX = {
				country_event = mtg_usa_southern_threat.1
			}
		}
	}
	focus = {
		id = USA_the_canadian_corridor
		icon = GFX_goal_generic_position_armies
		x = 1
		y = 2
		prerequisite = { focus = USA_manifest_destiny }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_other_country = {
				owns_state = 473
				owns_state = 471
			}
		}
		
		bypass = {
			OR = {
				AND = {
					controls_state = 473
					controls_state = 471
				}
				AND = {
					473 = { OWNER = { has_war_with = ROOT } }
					471 = { OWNER = { has_war_with = ROOT } }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			473 = { CONTROLLER = { country_event = mtg_usa_canadian_corridor.1 } }
		}
	}
	focus = {
		id = USA_north_american_dominion
		icon = GFX_goal_generic_political_pressure
		x = 0
		y = 3
		prerequisite = { focus = USA_the_canadian_corridor }
		prerequisite = { focus = USA_eliminate_the_southern_threat }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						original_tag = CUB
						original_tag = HAI
						original_tag = DOM
						original_tag = GUA
						original_tag = MEX
						original_tag = CAN
						original_tag = HON
						original_tag = NIC
						original_tag = PAN
						original_tag = COS
						original_tag = ELS
					}
					not = { has_war_with = ROOT }
					not = { is_subject_of = ROOT }
					exists = yes
				}
				country_event = mtg_usa_north_american_dominion.1
			}
		}
	}
	focus = {
		id = USA_strategic_interests
		icon = GFX_goal_generic_more_territorial_claims
		x = -1
		y = 4
		prerequisite = { focus = USA_north_american_dominion }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {
			336 = { CONTROLLER = { has_war_with = ROOT } }
			326 = { CONTROLLER = { has_war_with = ROOT } }
			118 = { CONTROLLER = { has_war_with = ROOT } }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			IF = {
				limit = {
					any_other_country = {
						has_full_control_of_state = 118
						has_full_control_of_state = 326
						not = { has_war_with = ROOT }
						336 = { 
							CONTROLLER = { 
								OR = {
									is_subject_of = PREV.PREV 
									tag = PREV.PREV
								}
							} 
						}
					}
				}
				118 = {
					CONTROLLER = {
						country_event = mtg_usa_strategic_interests.1
					}
				}
			}
			else = {
				if = {
					limit = {
						336 = { 
							CONTROLLER = { 
								is_subject = no 
								NOT = { has_full_control_of_state = 118 }
								not = { has_war_with = ROOT }
							} 
						}
					}
					336 = { CONTROLLER = { country_event = mtg_usa_strategic_interests.1 } }
					118 = { CONTROLLER = { country_event = mtg_usa_strategic_interests.1 } }
					if = {
						limit = {
							336 = {
								CONTROLLER = {
									NOT = { has_full_control_of_state = 326 }
									not = { has_war_with = ROOT }		
								}
							}
							326 = { 
								CONTROLLER = {
									NOT = { has_full_control_of_state = 118 }
									not = { has_war_with = ROOT }			
								}
							}
						}
						326 = { CONTROLLER = { country_event = mtg_usa_strategic_interests.1 } }
					}
				}
				else_if = {
					limit = {
						336 = { 
							CONTROLLER = { 
								is_subject = yes 
								not = { has_war_with = ROOT }
							} 
						}
					}
					336 = { CONTROLLER = { OVERLORD = { country_event = mtg_usa_strategic_interests.1 } } }
					if = { 
						limit = {
							336 = { 
								CONTROLLER = { 
									OVERLORD = { 
										not = { controls_state = 326 }
										not = { has_war_with = ROOT }
									} 
								} 
							}
						}
						326 = { CONTROLLER = { country_event = mtg_usa_strategic_interests.1 } }
					}
					if = { 
						limit = {
							336 = { 
								CONTROLLER = { 
									OVERLORD = { 
										not = { controls_state = 118 }
										not = { has_war_with = ROOT }
									} 
								} 
							}
						}
						118 = { CONTROLLER = { country_event = mtg_usa_strategic_interests.1 } }
					}
				}
			}
		}
	}
	focus = {
		id = USA_protect_south_america
		icon = GFX_goal_generic_attack_allies
		x = -1
		y = 5
		prerequisite = { focus = USA_strategic_interests }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						original_tag = BRA
						original_tag = VEN
						original_tag = COL
						original_tag = ECU
						original_tag = PRU
						original_tag = BOL
						original_tag = PAR
						original_tag = ARG
						original_tag = CHL
						original_tag = URG
					}
					not = { has_war_with = ROOT }
					not = { is_subject_of = ROOT }
					exists = yes
				}
				country_event = mtg_usa_protect_south_america.1
			}
		}
	}
	focus = {
		id = USA_pacific_pacification
		icon = GFX_focus_generic_coastal_fort
		x = 1
		y = 4
		prerequisite = { focus = USA_north_american_dominion }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			country_exists = AST
			country_exists = NZL
		}
		
		bypass = {
			OR = {
				AND = {
					AST = { is_subject_of = ROOT }
					NZL = { is_subject_of = ROOT }
				}
				AND = {
					AST = { exists = no }
					NZL = { exists = no }	
				}
				AND = {
					AST = { has_war_with = ROOT }
					NZL = { has_war_with = ROOT }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					AST = {
						is_subject = yes
						OVERLORD = {
							not = { tag = NZL }
							not = { tag = ROOT }
						}
					}
					NZL = {
						is_subject = no
					}
				}
				AST = { OVERLORD = { country_event = mtg_usa_pacific_pacification.1 } }
				NZL = { country_event = mtg_usa_pacific_pacification.1 }
			}
			else_if = {
				limit = {
					AST = {
						is_subject = no
					}
					NZL = {
						is_subject = yes
						OVERLORD = {
							not = { tag = AST }
							not = { tag = ROOT }
						}
					}
				}
				NZL = { OVERLORD = { country_event = mtg_usa_pacific_pacification.1 } }
				AST = { country_event = mtg_usa_pacific_pacification.1 }
			}
			else_if = {
				limit = {
					AST = {
						is_subject = yes
						OVERLORD = {
							not = { tag = ROOT }
						}
					}
					NZL = {
						is_subject = yes
						OVERLORD = {
							not = { tag = ROOT }
						}
					}
				}
				AST = { OVERLORD = { country_event = mtg_usa_pacific_pacification.1 } }
				if = {
					limit = {
						AST = { OVERLORD = { NZL = { OVERLORD = { not = { tag = PREV.PREV } } } } } #NZL and AST both subjects but of different people
					}
					NZL = { OVERLORD = { country_event = mtg_usa_pacific_pacification.1 } }
				}
			}
			else = {
				AST = { country_event = mtg_usa_pacific_pacification.1 }
				NZL = { country_event = mtg_usa_pacific_pacification.1 }
			}	
		}
	}
	focus = {
		id = USA_secure_asia
		icon = GFX_focus_generic_strike_at_democracy1
		x = 1
		y = 5
		prerequisite = { focus = USA_pacific_pacification }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {
			SIA = {
				OR = {
					has_war_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
			INS = {
				OR = {
					has_war_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
			671 = {
				CONTROLLER = {
					OR = {
						has_war_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			670 = {
				CONTROLLER = {
					OR = {
						has_war_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			741 = {
				CONTROLLER = {
					OR = {
						has_war_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = { 
					SIA = { 
						is_subject = no 
						not = { has_war_with = ROOT }
					} 
				}
				SIA = {
					country_event = mtg_usa_secure_asia.1
				}
			}
			if = {
				limit = {
					INS = { is_subject = yes }
				}
				INS = { OVERLORD = { country_event = mtg_usa_secure_asia.4 } }
			}
			else = {
				INS = { country_event = mtg_usa_secure_asia.1 }
			}
			if = {
				limit = {
					671 = { 
						CONTROLLER = { 
							is_subject = no 
							controls_state = 670
							controls_state = 286
							controls_state = 741
							not = { has_war_with = ROOT }
						} 
					}
				}
				671 = { CONTROLLER = { country_event = mtg_usa_secure_asia.7 } }
			}
			else = {
				if = {
					limit = {
						country_exists = VIN
						VIN = {
							is_subject = no
							not = { has_war_with = ROOT }
						}
					}
					VIN = {
						country_event = mtg_usa_secure_asia.1
					}
				}
				if = {
					limit = {
						country_exists = LAO
						LAO = {
							is_subject = no
							not = { has_war_with = ROOT }
						}
					}
					LAO = {
						country_event = mtg_usa_secure_asia.1
					}
				}
				if = {
					limit = {
						country_exists = CAM
						CAM = {
							is_subject = no
							not = { has_war_with = ROOT }
						}
					}
					CAM = {
						country_event = mtg_usa_secure_asia.1
					}
				}
			}
		}
	}
	focus = {
		id = USA_global_hegemony
		icon = GFX_focus_generic_diplomatic_treaty
		x = 0
		y = 6
		prerequisite = { focus = USA_secure_asia }
		prerequisite = { focus = USA_protect_south_america }
		relative_position_id = USA_war_powers_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_country = {
				limit = {
					is_major = yes
					is_subject = no
					not = { original_tag = USA }
					not = { has_war_with = ROOT }
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
						expire = 0
					}
				}
			}
		}
	}




#   #  ##  ###      ###  #    ##  #  #  ## 
#   # #  # #  #     #  # #   #  # ## # #   
# # # #### ###      ###  #   #### # ##  #  
# # # #  # #  #     #    #   #  # #  #   # 
 # #  #  # #  #     #    ### #  # #  # ##  

 	focus = {
		id = USA_war_plans_division
		icon = GFX_goal_generic_position_armies
		x = 42
		y = 0
		offset = {
			x = -26
			y = 0
			trigger = {
				not = { has_dlc = "Man the Guns" }
			}
		}
		
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = walter_krueger
			unlock_decision_category_tooltip = USA_war_plans
		}
	}
	focus = {
		id = USA_intervention_in_the_americas
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -4
		y = 1
		prerequisite = { focus = USA_war_plans_division }
		relative_position_id = USA_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_intervention_in_the_americas
		}
	}
	focus = {
		id = USA_war_plan_green
		icon = GFX_focus_attack_mexico
		x = -1
		y = 1
		prerequisite = { focus = USA_intervention_in_the_americas }
		relative_position_id = USA_intervention_in_the_americas
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_green show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_crimson
		icon = GFX_focus_attack_canada
		x = 1
		y = 1
		prerequisite = { focus = USA_intervention_in_the_americas }
		relative_position_id = USA_intervention_in_the_americas
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_crimson show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_reinforce_monroe_doctrine
		icon = GFX_goal_generic_positive_trade_relations
		x = 0
		y = 2
		prerequisite = { focus = USA_intervention_in_the_americas }
		relative_position_id = USA_intervention_in_the_americas
		cost = 10
		ai_will_do = {
			factor = 2
		}
		completion_reward = {
			custom_effect_tooltip = USA_reinforce_monroe_doctrine_tt
			unlock_decision_category_tooltip = USA_intervention_mandate
			hidden_effect = {
				CUB = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				HAI = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				DOM = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				GUA = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				ELS = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				HON = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				NIC = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				COS = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				CAN = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				MEX = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				COL = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				VEN = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				ECU = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				PRU = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				BRA = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				BOL = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				PAR = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				URG = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				ARG = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				CHL = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
				"PAN" = { add_opinion_modifier =  { target = USA modifier = monroe_doctrine_trade } }
			}
		}
	}

	focus = {
		id = USA_war_plan_gray
		icon = GFX_goal_generic_more_territorial_claims
		x = 0
		y = 3
		prerequisite = { focus = USA_reinforce_monroe_doctrine }
		relative_position_id = USA_intervention_in_the_americas
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_gray show_effect_tooltip = yes show_modifiers = yes } 
		}
	}
	focus = {
		id = USA_hemisphere_defense
		icon = GFX_goal_generic_defence
		x = 0
		y = 4
		prerequisite = { focus = USA_war_plan_gray }
		relative_position_id = USA_intervention_in_the_americas
		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = USA_hemisphere_defense_faction
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				every_country = {
					limit = {
						is_in_faction = no
						has_government = ROOT
						not = { has_war_with = ROOT }
						OR = {
							original_tag = CUB
							original_tag = CAN
							original_tag = MEX
							original_tag = BRA
							original_tag = ARG
							original_tag = URG
							original_tag = CHL
							original_tag = "PAN"
							original_tag = PAR
							original_tag = VEN
							original_tag = PRU
							original_tag = BOL
							original_tag = COL
							original_tag = ECU
							original_tag = HON
							original_tag = DOM
							original_tag = HAI
							original_tag = GUA
							original_tag = COS
							original_tag = ELS
							original_tag = NIC
						}
					}
					country_event = generic.5
				}
			}
		}
	}
	focus = {
		id = USA_intervention_in_europe
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 1
		prerequisite = { focus = USA_war_plans_division }
		relative_position_id = USA_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_intervention_in_europe
		}
	}
	focus = {
		id = USA_war_plan_gold
		icon = GFX_focus_attack_france
		x = -2
		y = 2
		prerequisite = { focus = USA_intervention_in_europe }
		relative_position_id = USA_intervention_in_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_gold show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_silver
		icon = GFX_focus_attack_italy
		x = -1
		y = 1
		prerequisite = { focus = USA_intervention_in_europe }
		mutually_exclusive = { }
		relative_position_id = USA_intervention_in_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}
	
		available = {
			
		}
			
		bypass = {
	
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_silver show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_black
		icon = GFX_focus_attack_germany
		prerequisite = { focus = USA_intervention_in_europe }
		available = {
		}

		continue_if_invalid = yes
		available_if_capitulated = yes

		x = 0
		y = 2
		relative_position_id = USA_intervention_in_europe
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		completion_reward = {
			GER = {
				add_opinion_modifier = { target = USA modifier = war_plan_black }
			}
			unlock_decision_tooltip = { decision = USA_execute_war_plan_black show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_destroyers_for_bases
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = USA_war_plan_black }
		available = {
			country_exists = GER
			is_subject = no
			ENG = {
				NOT = { is_in_faction_with = GER }
			}
			ENG = {
				has_government = ROOT
				has_war = yes
				not = { has_war_with = ROOT }
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		bypass = {
			NOT = { 696 = { is_controlled_by = ENG } }
			NOT = { 331 = { is_controlled_by = ENG } }
			NOT = { 308 = { is_controlled_by = ENG } } 
			NOT = { 693 = { is_controlled_by = ENG } } 
			NOT = { 689 = { is_controlled_by = ENG } } 
			NOT = { 691 = { is_controlled_by = ENG } } 
			ENG = { exists = no }
		}

		x = 0
		y = 1
		relative_position_id = USA_war_plan_black
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			ENG = {
				custom_effect_tooltip = needs_approval
				country_event = { id = usa.4 days = 1 }
			}
			
			effect_tooltip = {
				custom_effect_tooltip = USA_destroyers_for_bases_tt
				transfer_state = 696
				transfer_state = 331
				transfer_state = 308
				transfer_state = 693
				transfer_state = 689
				transfer_state = 691
				
			}
		}
	}
	focus = {
		id = USA_war_plan_white
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = USA_intervention_in_europe }
		available = {
			
		}
		x = 2
		y = 2
		relative_position_id = USA_intervention_in_europe
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		completion_reward = {
			SOV = {
				add_opinion_modifier = { target = USA modifier = war_plan_white }
			}
			unlock_decision_tooltip = { decision = USA_execute_war_plan_white show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_anti_bolshevist_aid
		icon = GFX_goal_generic_war_with_comintern
		x = 2
		y = 3
		prerequisite = { focus = USA_war_plan_white }
		relative_position_id = USA_intervention_in_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = mtg_usa_anti_bolshevist_aid_tt 
		}
	}
	focus = {
		id = USA_war_plan_red
		icon = GFX_focus_attack_britain
		prerequisite = { focus = USA_intervention_in_europe }
		available = {
			
		}
		x = 4
		y = 2
		relative_position_id = USA_intervention_in_europe
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		completion_reward = {
			ENG = {
				add_opinion_modifier = { target = USA modifier = war_plan_red }
			}
			unlock_decision_tooltip = { decision = USA_execute_war_plan_red show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_ruby
		icon = GFX_focus_attack_india
		x = 4
		y = 3
		prerequisite = { focus = USA_war_plan_red }
		relative_position_id = USA_intervention_in_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_ruby show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_scarlet_garnet
		icon = GFX_focus_attack_australia
		x = 6
		y = 3
		prerequisite = { focus = USA_war_plan_red }
		relative_position_id = USA_intervention_in_europe
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_scarlet_garnet show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_intervention_in_asia
		icon = GFX_goal_generic_major_war
		x = 6
		y = 1
		prerequisite = { focus = USA_war_plans_division }
		relative_position_id = USA_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			create_corps_commander = {
				name = "Alexander Vandegrift"
				gfx = GFX_portrait_usa_alexander_vandegrift
				skill = 3
				attack_skill = 3
				defense_skill = 1
				planning_skill = 3
				logistics_skill = 3
				traits = { naval_invader }
			}
		}
	}
	focus = {
		id = USA_war_plan_orange
		icon = GFX_focus_attack_japan
		prerequisite = { focus = USA_intervention_in_asia }
		available = {
			
		}
		continue_if_invalid = yes
		available_if_capitulated = yes

		x = -1
		y = 1
		relative_position_id = USA_intervention_in_asia
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}


		completion_reward = {
			JAP = {
				add_opinion_modifier = { target = USA modifier = war_plan_orange }
			}
			unlock_decision_tooltip = { decision = USA_execute_war_plan_orange show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_war_plan_yellow
		icon = GFX_focus_attack_china
		x = 1
		y = 1
		prerequisite = { focus = USA_intervention_in_asia }
		relative_position_id = USA_intervention_in_asia
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_tooltip = { decision = USA_execute_war_plan_yellow show_effect_tooltip = yes show_modifiers = yes }
		}
	}
	focus = {
		id = USA_defense_of_the_pacific
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = USA_war_plan_yellow }
		prerequisite = { focus = USA_war_plan_orange }
		available = {
			JAP = {
				exists = yes
				NOT = { has_government = ROOT }
			}
		}
		will_lead_to_war_with = JAP
		x = 0
		y = 2
		relative_position_id = USA_intervention_in_asia
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		completion_reward = {
			650 = {
				#Fortify naval bases
				add_building_construction = {
					type = coastal_bunker
					province = 13067
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 13067
					level = 2
					instant_build = yes
				}
			}
			631 = {
				#Fortify naval bases
				add_building_construction = {
					type = coastal_bunker
					province = 13052
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 13052
					level = 2
					instant_build = yes
				}
			}
			632 = {
				#Fortify naval bases
				add_building_construction = {
					type = coastal_bunker
					province = 13047
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 13047
					level = 2
					instant_build = yes
				}
			}
			638 = {
				#Fortify naval bases
				add_building_construction = {
					type = coastal_bunker
					province = 12140
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 12140
					level = 2
					instant_build = yes
				}
			}
			642 = {
				#Fortify naval bases
				add_building_construction = {
					type = coastal_bunker
					province = 13050
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 13050
					level = 2
					instant_build = yes
				}
			}
		}
	}

#   #  ##  ###      ###  ### ###   ##  ###  ### #   # ### #  # ### 
#   # #  # #  #     #  # #   #  # #  # #  #  #  ## ## #   ## #  #  
# # # #### ###      #  # ##  ###  #### ###   #  # # # ##  # ##  #  
# # # #  # #  #     #  # #   #    #  # #  #  #  #   # #   #  #  #  
 # #  #  # #  #     ###  ### #    #  # #  #  #  #   # ### #  #  #  


	focus = {
		id = USA_war_department
		icon = GFX_goal_generic_army_doctrines
		x = 58
		y = 0
		offset = {
			x = -26
			y = 0
			trigger = {
				not = { has_dlc = "Man the Guns" }
			}
		}
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_war_department
		}
	}
	focus = {
		id = USA_selective_training_act
		icon = GFX_focus_generic_military_mission
		x = -5
		y = 1
		prerequisite = { focus = USA_war_department }
		relative_position_id = USA_war_department
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					threat < 0.5
					has_war = no
				}
				congress_high_support_trigger = yes
			}
			else = {
				congress_low_support_trigger = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
				}
				add_ideas = limited_conscription
			}
			else = {
				add_political_power = 150
			}
			if = {
				limit = {
					has_war_support < 0.1
				}
				set_war_support = 0.1
			}
			if = {
				limit = {
					has_war_support < 0.4 
				}
				USA_congress_medium_opposition = yes
			}
		}
	}
	focus = {
		id = USA_first_special_service_force
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = USA_selective_training_act }
		x = -2
		y = 1
		relative_position_id = USA_selective_training_act
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 5
			add_tech_bonus = {
				name = special_bonus
				bonus = 1.0
				uses = 1
				technology = paratroopers
				technology = paratroopers2
				technology = tech_mountaineers
				technology = tech_mountaineers2
				technology = tech_engineers
				technology = tech_engineers2
				technology = tech_engineers3
				technology = tech_recon
				technology = tech_recon2
				technology = tech_recon3
			}
		}
	}
	focus = {
		id = USA_louisiana_maneuvers
		icon = GFX_goal_generic_cavalry
		x = 0
		y = 1
		prerequisite = { focus = USA_selective_training_act }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			army_experience = 20
			add_tech_bonus = {
				name = USA_louisiana_maneuvers
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = USA_airborne_divisions
		icon = GFX_focus_generic_paratrooper
		x = -2
		y = 2
		prerequisite = { focus = USA_louisiana_maneuvers }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_airborne_divisions
		}
	}
	focus = {
		id = USA_army_of_the_united_states
		icon = GFX_focus_generic_little_entente
		x = 0
		y = 2
		prerequisite = { focus = USA_louisiana_maneuvers }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_army_of_the_united_states
		}
	}
	focus = {
		id = USA_womens_armed_service_integration_act
		icon = GFX_focus_generic_treaty
		x = 0
		y = 3
		prerequisite = { focus = USA_army_of_the_united_states }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			congress_medium_support_trigger = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = USA_womens_armed_service_integration_act
		}
	}
	
	focus = {
		id = USA_support_rock_island
		icon = GFX_goal_generic_army_artillery
		x = 2
		y = 1
		relative_position_id = USA_selective_training_act
		cost = 10
		prerequisite = { focus = USA_selective_training_act }
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_support_rock_island
				uses = 2
				bonus = 1.0
				category = artillery
				category = support_tech
			}
		}
	}
	focus = {
		id = USA_tank_experiments
		icon = GFX_goal_generic_army_tanks
		x = 2
		y = 2
		prerequisite = { focus = USA_support_rock_island }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_tank_experiments
				uses = 1
				bonus = 1.0
				category = armor
			}
		}
	}
	focus = {
		id = USA_tank_destroyer_doctrine
		icon = GFX_focus_usa_tank_destroyer_doctrine
		x = 2
		y = 3
		prerequisite = { focus = USA_tank_experiments }
		mutually_exclusive = { focus = USA_main_battle_tanks }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = tank_destroyer_board
		}
	}
	focus = {
		id = USA_main_battle_tanks
		icon = GFX_focus_generic_combined_arms
		x = 4
		y = 3
		prerequisite = { focus = USA_tank_experiments }
		mutually_exclusive = { focus = USA_tank_destroyer_doctrine }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = detroit_arsenal
		}
	}
	focus = {
		id = USA_armored_infantry
		icon = GFX_goal_generic_build_tank
		x = 2
		y = 4
		prerequisite = { focus = USA_main_battle_tanks focus = USA_tank_destroyer_doctrine }
		relative_position_id = USA_selective_training_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_armored_infantry
				uses = 2
				bonus = 1.0
				category = motorized_equipment
			}
		}
	}
	focus = {
		id = USA_build_the_pentagon
		icon = GFX_focus_usa_build_the_pentagon
		x = -1
		y = 1
		prerequisite = { focus = USA_war_department }
		relative_position_id = USA_war_department
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_the_pentagon
		}
	}
	focus = {
		id = USA_department_of_defense
		icon = GFX_goal_generic_military_sphere
		x = -1
		y = 2
		prerequisite = { focus = USA_build_the_pentagon }
		relative_position_id = USA_war_department
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = USA_war_department
				add_idea = USA_department_of_defense
			}
		}
	}



 ##  ### ###       ## ###  ##  ### ###  ##  #  # 
#  #  #  #  #     #   #   #  #  #   #  #  # ## # 
####  #  ###       #  ##  #     #   #  #  # # ## 
#  #  #  #  #       # #   #  #  #   #  #  # #  # 
#  # ### #  #     ##  ###  ##   #  ###  ##  #  # 

	focus = {
		id = USA_air_war_plans_division
		icon = GFX_goal_generic_build_airforce
		x = 2
		y = 1
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		prerequisite = { focus = USA_war_department }
		relative_position_id = USA_war_department
		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
	
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = USA_air_war_plans_division
				bonus = 1.0
				uses = 2
				category = air_doctrine
			} # REVISIT May use modifier?
			add_ideas = air_war_plans_division_focus
		}
	}

	focus = {
		id = USA_air_support
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = USA_air_war_plans_division }
		mutually_exclusive = { focus = USA_strategic_bombing }
		x = -1
		y = 1
		relative_position_id = USA_air_war_plans_division
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		completion_reward = {
			air_experience = 25
			add_ideas = air_support_focus
		}
	}

	focus = {
		id = USA_strategic_bombing
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = USA_air_war_plans_division }
		mutually_exclusive = { focus = USA_air_support }
		x = 1
		y = 1
		relative_position_id = USA_air_war_plans_division
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 25
			add_ideas = strategic_bombing_focus
		}
	}

	focus = {
		id = USA_TAC
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = USA_air_support }
		x = 0
		y = 2
		relative_position_id = USA_air_support
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = USA_TAC
				uses = 1
				bonus = 1.0
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = USA_CAS
		text = CAS_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = USA_air_support }
		x = -1
		y = 1
		relative_position_id = USA_air_support
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = CAS_effort
				uses = 1
				bonus = 1.0
				category = cas_bomber
			}
		}
	}

	focus = {
		id = USA_combined_bomber_offensive
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = USA_strategic_bombing }
		available = {
			has_war = yes
			OR = {
				is_in_faction_with = GER
				is_in_faction_with = JAP
				is_in_faction_with = ITA
				is_in_faction_with = SOV
				is_in_faction_with = FRA
				is_in_faction_with = ENG
			}
		}
		x = 0
		y = 2
		relative_position_id = USA_strategic_bombing
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = USA_combined_bomber_offensive
				bonus = 1.0
				uses = 1
				category = heavy_air
			}
			add_ideas = combined_bomber_offensive
		}
	}
	focus = {
		id = USA_escort_fighters
		icon = GFX_focus_usa_escort_fighters
		x = 0
		y = 2
		prerequisite = { focus = USA_air_support focus = USA_strategic_bombing }
		relative_position_id = USA_air_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = USA_escort_fighters
				bonus = 3.0
				uses = 1
				technology = heavy_fighter1
				technology = heavy_fighter2
				technology = heavy_fighter3
			}
		}
	}
	focus = {
		id = USA_us_army_airforce
		icon = GFX_focus_generic_strike_at_democracy1
		x = -1
		y = 4
		prerequisite = { focus = USA_TAC }
		relative_position_id = USA_air_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = USA_us_army_airforce
				uses = 2
				bonus = 1.0
				category = air_doctrine
			}
		}
	}
	focus = {
		id = USA_us_air_force
		icon = GFX_goal_generic_build_airforce
		x = 1
		y = 4
		prerequisite = { focus = USA_combined_bomber_offensive }
		relative_position_id = USA_air_war_plans_division
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = USA_us_air_force
		}
	}

#  #  ##  #   # #   #      ## ###  ##  ### ###  ##  #  # 
## # #  # #   #  # #      #   #   #  #  #   #  #  # ## # 
# ## ####  # #    #        #  ##  #     #   #  #  # # ## 
#  # #  #  # #    #         # #   #  #  #   #  #  # #  # 
#  # #  #   #     #       ##  ###  ##   #  ###  ##  #  # 

	focus = {
		id = USA_two_ocean_navy_act
		icon = GFX_focus_generic_navy_battleship2
		x = 8
		y = 1
		prerequisite = { focus = USA_war_department }
		relative_position_id = USA_war_department
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					threat < 0.5
					has_war = no
				}
				congress_high_support_trigger = yes
			}
			else = {
				congress_low_support_trigger = yes
			}
			controls_state = 378
			controls_state = 358
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		complete_tooltip = {
			378 = { 
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = dockyard
					level = 5
					instant_build = yes
				}
			}
			358 = { 
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = dockyard
					level = 5
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_USA_CONGRESS}
		completion_reward = {
			if = {
				limit = {
					 has_war_support < 0.4 
				}
				USA_congress_medium_opposition = yes
			}
			if = { 
				limit = { 
					378 = {
						free_building_slots = {
							building = dockyard
							size > 4
							include_locked = yes
						}
					}
				}
				378 = { 
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = dockyard
						level = 5
						instant_build = yes
					}
				}
			}
			if = { 
				limit = { 
					358 = {
						free_building_slots = {
							building = dockyard
							size > 4
							include_locked = yes
						}
					}
				}
				358 = { 
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = dockyard
						level = 5
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = USA_maritime_commission
		icon = GFX_goal_generic_production2
		x = -3
		y = 1
		prerequisite = { focus = USA_two_ocean_navy_act }
		relative_position_id = USA_two_ocean_navy_act
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_maritime_commission
		}
	}
	
	focus = {
		id = USA_liberty_ships
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = USA_maritime_commission }
		x = -3
		y = 2
		relative_position_id = USA_two_ocean_navy_act
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = liberty_ships_focus
		}
	}

	focus = {
		id = USA_bureau_of_ships
		icon = GFX_goal_generic_build_navy
		x = 2
		y = 1
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}
		prerequisite = { focus = USA_two_ocean_navy_act }
		relative_position_id = USA_two_ocean_navy_act
		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 50
			add_ideas = bureau_of_ships_focus
		}
	}
	
	focus = {
		id = USA_battleship_primacy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = USA_bureau_of_ships }
		mutually_exclusive = { focus = USA_carrier_primacy }
		x = -3
		y = 1
		relative_position_id = USA_bureau_of_ships
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = USA_battleship_primacy
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = USA_advanced_mahanian_doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = USA_battleship_primacy }
		x = 0
		y = 1
		relative_position_id = USA_battleship_primacy
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_advanced_mahanian_doctrine
				bonus = 1.0
				uses = 1
				category = cat_base_strike
			}
		}
	}

	focus = {
		id = USA_advanced_basing
		icon = GFX_goal_generic_occupy_states_coastal
		x = 0
		y = 2
		prerequisite = { focus = USA_advanced_mahanian_doctrine }
		relative_position_id = USA_battleship_primacy
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			638 = {
				add_building_construction = {
					type = naval_base
					province = 12140
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					327 = {
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
				327 = {
					add_building_construction = {
						type = naval_base
						province = 10265
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = USA_carrier_primacy
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = USA_bureau_of_ships }
		mutually_exclusive = { focus = USA_battleship_primacy }
		x = -1
		y = 1
		relative_position_id = USA_bureau_of_ships
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_carrier_primacy
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = USA_bureau_of_aeronautics
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = USA_carrier_primacy }
		x = 0
		y = 1
		relative_position_id = USA_carrier_primacy
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_bureau_of_aeronautics
				bonus = 1.0
				uses = 1
				category = naval_bomber
				category = naval_air
			}
		}
	}
	focus = {
		id = USA_naval_radar
		icon = GFX_goal_generic_radar
		x = 0
		y = 1
		prerequisite = { focus = USA_bureau_of_aeronautics }
		relative_position_id = USA_bureau_of_aeronautics
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_naval_radar
				uses = 2
				bonus = 1.0
				category = radar_tech
			}
			
		}
	}

	focus = {
		id = USA_escort_effort
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = USA_bureau_of_ships }
		x = 1
		y = 1
		relative_position_id = USA_bureau_of_ships
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = escort_effort_focus
			
		}
	}

	focus = {
		id = USA_convoy_tactics
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = USA_escort_effort }
		x = 0
		y = 1
		relative_position_id = USA_escort_effort
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = USA_convoy_tactics
				bonus = 1.0
				uses = 2
				category = convoy_defense_tree
			}
		}
	}
	focus = {
		id = USA_fleet_submarines
		icon = GFX_goal_generic_navy_submarine
		x = 3
		y = 1
		prerequisite = { focus = USA_bureau_of_ships }
		relative_position_id = USA_bureau_of_ships
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_fleet_submarines
				bonus = 1.0
				uses = 2
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }
			}
		}
	}

	focus = {
		id = USA_unrestricted_submarine_warfare
		icon = GFX_goal_generic_wolf_pack
		x = 3
		y = 2
		prerequisite = { focus = USA_fleet_submarines }
		relative_position_id = USA_bureau_of_ships
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = USA_unrestricted_submarine_warfare
		}
	}

	focus = {
		id = USA_fund_the_navy
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 7
		y = 1
		relative_position_id = USA_two_ocean_navy_act
		cost = 10
		prerequisite = { focus = USA_two_ocean_navy_act }
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
				completion_reward = {
			add_tech_bonus = {
				name = USA_fund_the_navy
				uses = 3
				bonus = 1.0
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = USA_expand_the_USMC
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = USA_fund_the_navy }
		x = 0
		y = 1
		relative_position_id = USA_fund_the_navy
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_expand_the_USMC
				bonus = 1.0
				uses = 1
				technology = marines2
				technology = marines3
			}
		}
	}

	focus = {
		id = USA_amphibious_operations
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = USA_expand_the_USMC }
		x = 0
		y = 1
		relative_position_id = USA_expand_the_USMC
		cost = 10
		#ai_will_do = {
		#	factor = 1
		#}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = USA_amphibious_operations
				bonus = 1.0
				uses = 2
				category = tp_tech 
			}
		}
	}

	

	

	

	
}
focus_tree = {
	id = vichy_french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 1
			tag = FRA
			always = no
		}
	}
	
	default = no
	focus = {
		id = VIC_emergency_powers_to_petain
		icon = GFX_goal_generic_demand_territory
		x = 18
		y = 0
		offset = {
			x = 0
			y = 0
		}
		prerequisite = {}
		mutually_exclusive = { }
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_leader = { ruling_only = yes name = "Philippe Pétain" }
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_country_leader_trait = emergency_powers
			if = {
				limit = {
					has_idea = FRA_disjointed_government
				}
				remove_ideas = { FRA_disjointed_government }
			}
		}
	}
	focus = {
		id = VIC_the_national_revolution
		icon = GFX_focus_generic_strike_at_democracy1
		x = -5
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_emergency_powers_to_petain
		}
		relative_position_id = VIC_emergency_powers_to_petain
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = VIC_long_term_economic_planning
		icon = GFX_goal_generic_construct_civilian
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_the_national_revolution
		}
		relative_position_id = VIC_the_national_revolution
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = VIC_long_term_economic_planning
				category = industry
				uses = 2
				bonus = 1
			}
		}
	}
	focus = {
		id = VIC_aid_small_businesses
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_long_term_economic_planning
		}
		relative_position_id = VIC_long_term_economic_planning
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = VIC_venerate_the_craftsman
		icon = GFX_goal_generic_production
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_aid_small_businesses
		}
		relative_position_id = VIC_aid_small_businesses
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = { FRA_venerate_the_craftsman }
		}
	}
	focus = {
		id = VIC_down_with_marianne
		icon = GFX_focus_focus_fra_down_marianne
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_the_national_revolution
		}
		relative_position_id = VIC_the_national_revolution
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_timed_idea = { 
				idea = FRA_down_with_marianne 
				days = 730
			}
		}
	}
	focus = {
		id = VIC_up_with_jean_darc
		icon = GFX_focus_up_joan_of_arc
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_down_with_marianne
		}
		relative_position_id = VIC_down_with_marianne
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_timed_idea = { 
				idea = FRA_up_with_jean_darc 
				days = 730
			}
		}
	}
	focus = {
		id = VIC_celebrate_motherhood
		icon = GFX_goal_generic_propaganda
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_up_with_jean_darc
		}
		relative_position_id = VIC_up_with_jean_darc
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.05
		}
	}
	focus = {
		id = VIC_prosecute_the_losers
		icon = GFX_goal_generic_neutrality_focus
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_the_national_revolution
		}
		relative_position_id = VIC_the_national_revolution
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05
		}
	}
	focus = {
		id = VIC_concessions_to_the_germans
		icon = GFX_focus_chi_mission_to_germany
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_prosecute_the_losers
		}
		relative_position_id = VIC_prosecute_the_losers
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			16 = {
				is_controlled_by = GER
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_FRA_OCCUPATION_COST }
		completion_reward = {
			unlock_decision_category_tooltip = VIC_concessions_to_the_germans
		}
	}
	focus = {
		id = VIC_mandatory_work_service
		icon = GFX_goal_generic_construction2
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_concessions_to_the_germans
		}
		relative_position_id = VIC_concessions_to_the_germans
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_FRA_OCCUPATION_COST }
		completion_reward = {
			reduce_occupation_cost_effect = yes
			add_ideas = { FRA_mandatory_work_service }
		}
	}
	focus = {
		id = VIC_a_nation_reborn
		icon = GFX_goal_support_fascism
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_celebrate_motherhood
		}
		prerequisite = { 
			focus = VIC_venerate_the_craftsman
		}
		prerequisite = { 
			focus = VIC_mandatory_work_service
		}
		relative_position_id = VIC_celebrate_motherhood
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = VIC_end_the_occupation
		icon = GFX_goal_generic_territory_or_war
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_a_nation_reborn
		}
		relative_position_id = VIC_a_nation_reborn
		
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				NOT = {
					GER = { owns_state = 219 } 
				}
				factor = 0
			}
		}
		available = {
			16 = {
				NOT = {
					is_controlled_by = ROOT
				}
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			set_rule = {
				can_join_factions = yes
				can_not_declare_war = no
				can_create_factions = yes
			}
			remove_occupation_cost_effect = yes
			if = {
				limit = {
					has_idea = VIC_produce_aircraft_parts
				}
				remove_ideas = VIC_produce_aircraft_parts
			}
			GER = { 
				country_event = lar_end_the_occupation.1 
				if = { limit = { has_idea = VIC_aircraft_parts }
					remove_ideas = VIC_aircraft_parts
				}
			}
		}
	}
	focus = {
		id = VIC_the_national_bureau_of_statistics
		icon = GFX_focus_generic_treaty
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_emergency_powers_to_petain
		}
		relative_position_id = VIC_emergency_powers_to_petain
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_national_bureau_of_statistics }
		}
	}

	focus = {
		id = VIC_the_legionary_service_order
		icon = GFX_goal_generic_small_arms
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_emergency_powers_to_petain
		}
		relative_position_id = VIC_emergency_powers_to_petain
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_legionary_service_order }
			hidden_effect = { add_named_threat = { threat = 10 name = VIC_the_legionary_service_order } }
		}
	}
	focus = {
		id = VIC_form_the_milice
		icon = GFX_focus_fra_milice
		x = -1
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_the_legionary_service_order
		}
		relative_position_id = VIC_the_legionary_service_order
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_legionary_service_order
				add_idea = FRA_milice
			}
		}
	}
	focus = {
		id = VIC_anti_bolshevist_volunteers
		icon = GFX_focus_generic_military_mission
		x = 1
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_the_legionary_service_order
		}
		relative_position_id = VIC_the_legionary_service_order
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			16 = { # Controller of paris is in a war against any communist major
				CONTROLLER = {
					NOT = {
						tag = ROOT
					}
					NOT = { has_war_with = ROOT }
					any_enemy_country = {
						is_major = yes
						has_government = communism
					}
				}
			}
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_anti_bolshevist_volunteers }
		}
	}
	focus = {
		id = VIC_rebuild_the_military
		icon = GFX_goal_generic_construct_mil_factory
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_emergency_powers_to_petain
		}
		relative_position_id = VIC_emergency_powers_to_petain
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {
			num_of_military_factories > 34
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_rebuild_the_military }
		}
	}
	focus = {
		id = VIC_finish_the_naval_buildup
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_rebuild_the_military
		}
		relative_position_id = VIC_rebuild_the_military
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			navy_experience = 50
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = VIC_hidden_materials
		icon = GFX_focus_secret_rearmament
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_rebuild_the_military
		}
		relative_position_id = VIC_rebuild_the_military
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_hidden_materials }
		}
	}
	focus = {
		id = VIC_analyze_our_defeat
		icon = GFX_goal_generic_army_doctrines
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_hidden_materials
		}
		relative_position_id = VIC_hidden_materials
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = VIC_analyze_our_defeat
				category = land_doctrine
				uses = 2
				bonus = 1
			}
		}
	}
	focus = {
		id = VIC_modernize_the_airforce
		icon = GFX_goal_generic_air_doctrine
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_rebuild_the_military
		}
		relative_position_id = VIC_rebuild_the_military
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_tech_bonus = {
				name = VIC_modernize_the_airforce
				category = light_fighter
				category = cas_bomber
				category = tactical_bomber
				bonus = 2
				uses = 2
			}
		}
	}
	focus = {
		id = VIC_learn_from_the_enemy
		icon = GFX_focus_research2
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = VIC_modernize_the_airforce
		}
		relative_position_id = VIC_modernize_the_airforce
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_to_tech_sharing_group = VIC_learn_from_the_enemy
			GER = { add_to_tech_sharing_group = VIC_learn_from_the_enemy }
		}
	}
	focus = {
		id = VIC_buy_from_the_enemy
		icon = GFX_goal_generic_air_fighter
		x = 0
		y = 2
		offset = {
			x = 0
			y = 0
		}
		allow_branch = { has_dlc = "Death or Dishonor" }
		prerequisite = { 
			focus = VIC_learn_from_the_enemy
		}
		relative_position_id = VIC_learn_from_the_enemy
		
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			add_ideas = { FRA_buy_from_the_enemy }
		}
	}

}
focus_tree = {
	id = yugoslavian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = YUG
			has_dlc = "Death or Dishonor"
			always = no
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1650 }

#	focus = {
#		id = YUG_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	###############################
	##### Democratic/Fascist ######
	###############################

	focus = {
		id = YUG_western_focus
		icon = GFX_goal_generic_position_armies
		mutually_exclusive = { focus = YUG_recognize_the_soviet_union }
		x = 2
		y = 0

		cost = 10

		ai_will_do = {
			factor = 200
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }


		completion_reward = {
			add_political_power = 120
			add_ideas = king_peter_1
		}
	}

	focus = {
		id = YUG_friendship_treaty_with_italy
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = YUG_western_focus }
		mutually_exclusive = { focus = YUG_reinforce_old_alliances }
		x = -1
		y = 1
		relative_position_id = YUG_western_focus

		cost = 5

		ai_will_do = {
			factor = 80
		}

		available = {
			ITA = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			ITA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_increase
				}
			}
		}
	}

	focus = {
		id = YUG_reinforce_old_alliances
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = YUG_western_focus }
		mutually_exclusive = { focus = YUG_friendship_treaty_with_italy }
		x = 2
		y = 1
		relative_position_id = YUG_western_focus

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			ENG = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
			FRA = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			ENG = {
				add_opinion_modifier = { 
						target = ROOT
						modifier = large_increase
					}
				add_ai_strategy = {
					type = protect
					id = "YUG"
					value = 100
				}
			}
			add_relation_modifier = {
				target = ENG
				modifier = YUG_western_license
			}
			FRA = {
				add_opinion_modifier = { 
						target = ROOT
						modifier = large_increase
					}
				add_ai_strategy = {
					type = protect
					id = "YUG"
					value = 100
				}
			}
			add_relation_modifier = {
				target = FRA
				modifier = YUG_western_license
			}
		}
	}

	focus = {
		id = YUG_attract_allied_capital
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = YUG_friendship_treaty_with_italy focus = YUG_reinforce_old_alliances }
		x = 1
		y = 1
		relative_position_id = YUG_reinforce_old_alliances

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_foreign_capital
		}
	}

	focus = {
		id = YUG_attract_axis_capital
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = YUG_friendship_treaty_with_italy focus = YUG_reinforce_old_alliances }
		x = -1
		y = 1
		relative_position_id = YUG_friendship_treaty_with_italy

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
			OR = {
				GER = {
					NOT = { has_war_with = ROOT }
				}
				ITA = {
					NOT = { has_war_with = ROOT }
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_axis_capital
		}
	}
	
	focus = {
		id = YUG_local_militias
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = YUG_reinforce_old_alliances focus = YUG_friendship_treaty_with_italy focus = YUG_form_peasant_councils }
		x = 4
		y = 1
		relative_position_id = YUG_reinforce_old_alliances

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_ideas = YUG_idea_local_militias
		}
	}
	
	############################
	##### SELF GOVERNMENT ######
	############################

	focus = {
		id = YUG_limited_self_government
		icon = GFX_goal_anschluss
		prerequisite = { focus = YUG_attract_allied_capital focus = YUG_attract_axis_capital }
		mutually_exclusive = { focus = YUG_evolution }
		x = 0
		y = 1
		relative_position_id = YUG_attract_allied_capital

		cost = 5

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			remove_ideas = YUG_idea_slovene_nationalism
			
			#tooltip
			effect_tooltip ={
				release_puppet = SLV
				SLV = {
					custom_effect_tooltip = create_two_units_tt
				}
			}
			
			hidden_effect = {
				if = {
					limit = { SLV = { exists = no } }
					release_puppet = SLV 
					set_autonomy = { target = SLV autonomy_state = autonomy_integrated_puppet }
					SLV = { save_event_target_as = released_nation_target }
				}
				else = {
					create_dynamic_country = {
						original_tag = SLV
						
						save_event_target_as = released_nation_target
						PREV = {
							every_owned_state = {
								limit = { is_core_of = SLV }
								PREV.PREV = { transfer_state = PREV }
							}
						}
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
					}
				}
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Slovene Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Slovene Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_united_autonomous_croatia
		icon = GFX_focus_YUG_banovina_of_croatia
		prerequisite = { focus = YUG_limited_self_government }
		mutually_exclusive = { focus = YUG_devolved_croatia }
		x = -2
		y = 1
		relative_position_id = YUG_limited_self_government

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				controls_state = 109
				controls_state = 103
				controls_state = 736
				controls_state = 163
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			remove_ideas = YUG_idea_croatian_opposition
			
			#tooltip
			effect_tooltip ={
				release_puppet = CRO
				CRO = {
					custom_effect_tooltip = create_four_units_tt
				}
			}
			
			#actual effect
			hidden_effect = {
				if = {
					limit = { CRO = { exists = no } }
					release_puppet = CRO
					set_autonomy = { target = CRO autonomy_state = autonomy_integrated_puppet }
					CRO = { save_event_target_as = released_nation_target }
				}
				else = {
					create_dynamic_country = {
						original_tag = CRO
						
						save_event_target_as = released_nation_target
						PREV = {
							every_owned_state = {
								limit = { is_core_of = CRO }
								PREV.PREV = { transfer_state = PREV }
							}
						}
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
					}
				}
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_devolved_croatia
		icon = GFX_focus_YUG_devolved_croatia
		prerequisite = { focus = YUG_limited_self_government }
		mutually_exclusive = { focus = YUG_united_autonomous_croatia }
		x = 0
		y = 1
		relative_position_id = YUG_limited_self_government
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			controls_state = 109
			controls_state = 103
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			remove_ideas = YUG_idea_croatian_opposition
			
			#tooltip
			effect_tooltip ={
				release_puppet = CRO
				CRO = {
					custom_effect_tooltip = create_two_units_tt
				}
			}
			custom_effect_tooltip = release_dalmatia_tt
			custom_effect_tooltip = release_dalmatia_units_tt
			
			hidden_effect = {
				if = {
					limit = { CRO = { exists = no } }
					release_puppet = CRO 
					set_autonomy = { target = CRO autonomy_state = autonomy_integrated_puppet }
					CRO = { save_event_target_as = released_nation_target }
				}
				else = {
					create_dynamic_country = {
						original_tag = CRO
						
						save_event_target_as = released_nation_target
						PREV = {
							every_owned_state = {
								limit = { is_core_of = CRO }
								PREV.PREV = { transfer_state = PREV }
							}
						}
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
					}
				}
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Croatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
			
			hidden_effect = {
				create_dynamic_country = {
					original_tag = CRO
					
					set_cosmetic_tag = dalmatia
					transfer_state = 103
					PREV = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Dalmatian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_safeguard_bosnia
		icon = GFX_focus_YUG_safeguard_bosnia
		prerequisite = { focus = YUG_united_autonomous_croatia focus = YUG_devolved_croatia }
		mutually_exclusive = { focus = YUG_divide_bosnia }
		x = 0
		y = 1
		relative_position_id = YUG_devolved_croatia

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			controls_state = 104
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		completion_reward = {
		
			#tooltip
			effect_tooltip ={
				release_puppet = BOS
				BOS = {
					custom_effect_tooltip = create_three_units_tt
				}
			}
			
			hidden_effect = {
				if = {
					limit = { BOS = { exists = no } }
					release_puppet = BOS 
					set_autonomy = { target = BOS autonomy_state = autonomy_integrated_puppet }
					BOS = { save_event_target_as = released_nation_target }
				}
				else = {
					create_dynamic_country = {
						original_tag = BOS
						
						save_event_target_as = released_nation_target
						PREV = {
							every_owned_state = {
								limit = { is_core_of = BOS }
								PREV.PREV = { transfer_state = PREV }
							}
						}
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
					}
				}
				event_target:released_nation_target = {
					division_template = {
						name = "Bosnian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Bosnian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Bosnian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Bosnian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_divide_bosnia
		icon = GFX_focus_YUG_divide_bosnia
		prerequisite = { focus = YUG_united_autonomous_croatia focus = YUG_devolved_croatia }
		mutually_exclusive = { focus = YUG_safeguard_bosnia }
		x = 0
		y = 1
		relative_position_id = YUG_united_autonomous_croatia

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			controls_state = 104
			controls_state = 804
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		completion_reward = {
			release_puppet = HRZ 
			set_autonomy = { target = HRZ autonomy_state = autonomy_integrated_puppet }
			HRZ = { custom_effect_tooltip = create_one_units_tt }
			
			effect_tooltip ={
				release_puppet = BOS
				BOS = {
					set_cosmetic_tag = BOS_without_HRZ
					custom_effect_tooltip = create_one_units_tt
				}
			}
			
			hidden_effect = {
				HRZ = { save_event_target_as = released_nation_target }
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Herzegovinan Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
				if = {
					limit = { BOS = { exists = no } }
					release_puppet = BOS 
					set_autonomy = { target = BOS autonomy_state = autonomy_integrated_puppet }
					BOS = { save_event_target_as = released_nation_target }
				}
				else = {
					create_dynamic_country = {
						original_tag = BOS
						
						save_event_target_as = released_nation_target
						PREV = {
							every_owned_state = {
								limit = { is_core_of = BOS }
								PREV.PREV = { transfer_state = PREV }
							}
						}
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
					}
				}
				event_target:released_nation_target = {
					set_cosmetic_tag = BOS_without_HRZ
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Bosnian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_dissolve_serbia
		icon = GFX_focus_YUG_dissolve_serbia
		prerequisite = { focus = YUG_limited_self_government }
		x = 2
		y = 2
		relative_position_id = YUG_limited_self_government

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				controls_state = 108
				controls_state = 106
			}
		}

		bypass = {
			NOT = { controls_state = 108 }
			NOT = { controls_state = 106 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_ideas = YUG_idea_macedonian_opposition
			remove_ideas = YUG_idea_serbian_general_staff
			release_puppet = MAC
			MAC = {
				custom_effect_tooltip = create_two_units_tt
			}
			hidden_effect = {
				MAC = { save_event_target_as = released_nation_target }
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Macedonian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Macedonian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
			release_puppet = KOS 
			KOS = {
				custom_effect_tooltip = create_one_units_tt
			}
			hidden_effect = {
				KOS = { save_event_target_as = released_nation_target }
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Kosovan Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
			release_puppet = MNT
			MNT = {
				custom_effect_tooltip = create_one_units_tt
			}
			hidden_effect = {
				MNT = { save_event_target_as = released_nation_target }
				event_target:released_nation_target = {
					division_template = {
						name = "Yugoslavian Division"
						priority = 1
						division_names_group = YUG_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						limit = { PREV = { has_full_control_of_state = PREV } }
						create_unit = {
							division = "name = \"Montenegrin Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
							owner = PREV
						}
					}
				}
			}
			set_autonomy = { target = MAC autonomy_state = autonomy_integrated_puppet }
			set_autonomy = { target = KOS autonomy_state = autonomy_integrated_puppet }
			set_autonomy = { target = MNT autonomy_state = autonomy_integrated_puppet }
			
		}
	}
	
	focus = {
		id = YUG_banat_for_support
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = YUG_dissolve_serbia }
		prerequisite = { focus = YUG_safeguard_bosnia focus = YUG_divide_bosnia }
		mutually_exclusive = { focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		x = 0
		y = 1
		relative_position_id = YUG_safeguard_bosnia

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			OR = {
				controls_state = 764
				controls_state = 45
			}
		}

		bypass = {
			NOT = { controls_state = 764 }
			NOT = { controls_state = 45 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					controls_state = 764
				}
				ROM = {
					add_opinion_modifier = { 
						target = ROOT
						modifier = huge_increase
					}
					transfer_state = 764
				}
				diplomatic_relation = {
						country = YUG
						relation = non_aggression_pact
						active = yes
				}
				764 = {
					remove_core_of = ROOT
					add_core_of = ROM
				}
			}
			if = {
				limit = {
					controls_state = 45
				}
				HUN = {
					add_opinion_modifier = { 
						target = ROOT
						modifier = huge_increase
					}
					diplomatic_relation = {
						country = YUG
						relation = non_aggression_pact
						active = yes
					}
					transfer_state = 45
				}
				45 = {
					remove_core_of = ROOT
					add_core_of = ROM
				}
			}
			hidden_effect = { 
				set_cosmetic_tag = SER
				every_state = {
					limit = {
						is_core_of = YUG
						NOT = { is_core_of = SER }
					}
					remove_core_of = YUG
				}
				every_state = {
					limit = {
						is_core_of = SER
					}
					remove_core_of = SER
				}
			}
		}
	}
	
	focus = {
		id = YUG_autonomous_transylvania
		icon = GFX_focus_YUG_autonomous_transylvania
		prerequisite = { focus = YUG_dissolve_serbia }
		prerequisite = { focus = YUG_safeguard_bosnia focus = YUG_divide_bosnia }
		mutually_exclusive = { focus = YUG_banat_for_support focus = YUG_fortify_banat }
		x = 2
		y = 1
		relative_position_id = YUG_safeguard_bosnia

		cost = 5

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				controls_state = 764
				controls_state = 45
			}
		}

		bypass = {
			NOT = { controls_state = 764 }
			NOT = { controls_state = 45 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = {
					controls_state = 764
				}
				custom_effect_tooltip = release_transylvania_tt
				custom_effect_tooltip = transylvania_create_one_units_tt
			}
			if = {
				limit = {
					controls_state = 45
				}
				custom_effect_tooltip = release_vojvodina_tt
				custom_effect_tooltip = vojvodina_create_one_units_tt
			}
			
			hidden_effect = {
				if = {
					limit = {
						controls_state = 764
					}
					hidden_effect = {
					764 = { add_core_of = TRA }
					if = {
						limit = { TRA = { exists = no } }
						release_puppet = TRA 
						set_autonomy = { target = TRA autonomy_state = autonomy_integrated_puppet }
						TRA = { save_event_target_as = released_nation_target }
					}
					else = {
						create_dynamic_country = {
							original_tag = TRA
							save_event_target_as = released_nation_target
							PREV = {
								every_owned_state = {
									limit = { is_core_of = TRA }
									PREV.PREV = { transfer_state = PREV }
								}
							}
							PREV = {
								puppet = PREV
								set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
							}
						}
					}
					event_target:released_nation_target = {
							82 = {
								add_core_of = PREV
							}
							83 = {
								add_core_of = PREV
							}
							84 = {
								add_core_of = PREV
							}
							76 = {
								add_core_of = PREV
							}
							division_template = {
								name = "Yugoslavian Division"
								priority = 1
								division_names_group = ROM_INF_01
								regiments = {
									infantry = { x = 0 y = 0 }
									infantry = { x = 0 y = 1 }
									infantry = { x = 0 y = 2 }
						
									infantry = { x = 1 y = 0 }
									infantry = { x = 1 y = 1 }
									infantry = { x = 1 y = 2 }
						
									infantry = { x = 2 y = 0 }
									infantry = { x = 2 y = 1 }
								}
								support = {
									engineer = { x = 0 y = 0 }
								}
							}
							random_owned_controlled_state = {
								limit = { PREV = { has_full_control_of_state = PREV } }
								create_unit = {
									division = "name = \"Transylvanian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
									owner = PREV
								}
							}
							set_party_name = { 
								ideology = neutrality 
								long_name = neutrality 
								name = neutrality 
							}
							set_party_name = { 
								ideology = fascism 
								long_name = transylvania_fascism_party_long 
								name = transylvania_fascism_party 
							}
							set_party_name = { 
								ideology = democratic 
								long_name = democratic 
								name = democratic 
							}
							set_party_name = { 
								ideology = communism 
								long_name = communism 
								name = communism 
							}
						}
					}
				}
				if = {
					limit = {
						controls_state = 45
					}
					create_dynamic_country = {
						original_tag = HUN
						
						45 = {
							add_core_of = PREV
						}
						every_state = {
							limit = {
								is_core_of = HUN
								NOT = { is_controlled_by = YUG }
							}
							remove_core_of = PREV
						}
						transfer_state = 45
						set_cosmetic_tag = vojvodina
						PREV = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
						division_template = {
							name = "Yugoslavian Division"
							priority = 1
							division_names_group = HUN_INF_01
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
					
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
					
								infantry = { x = 2 y = 0 }
								infantry = { x = 2 y = 1 }
							}
							support = {
								engineer = { x = 0 y = 0 }
							}
						}
						random_owned_controlled_state = {
							limit = { PREV = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Vojvodinian Division\" division_template = \"Yugoslavian Division\" start_experience_factor = 0.9" 
								owner = PREV
							}
						}
						set_party_name = { 
							ideology = neutrality 
							long_name = neutrality 
							name = neutrality 
						}
						set_party_name = { 
							ideology = fascism 
							long_name = fascism 
							name = fascism 
						}
						set_party_name = { 
							ideology = democratic 
							long_name = democratic 
							name = democratic 
						}
						set_party_name = { 
							ideology = communism 
							long_name = communism 
							name = communism 
						}
					}
				}
				set_cosmetic_tag = SER
				every_state = {
					limit = {
						is_core_of = YUG
						NOT = { is_core_of = SER }
					}
					remove_core_of = YUG
				}
				45 = {
					remove_core_of = YUG
				}
				every_state = {
					limit = {
						is_core_of = SER
					}
					remove_core_of = SER
				}
			}
		}
	}
	
	focus = {
		id = YUG_fortify_banat
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = YUG_dissolve_serbia }
		prerequisite = { focus = YUG_safeguard_bosnia focus = YUG_divide_bosnia }
		mutually_exclusive = { focus = YUG_autonomous_transylvania focus = YUG_banat_for_support }
		x = -2
		y = 1
		relative_position_id = YUG_safeguard_bosnia

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				controls_state = 764
				controls_state = 45
			}
		}

		bypass = {
			NOT = { controls_state = 764 }
			NOT = { controls_state = 45 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					controls_state = 764
				}
				764 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 45
				}
				45 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
			hidden_effect = { 
				set_cosmetic_tag = SER
				every_state = {
					limit = {
						is_core_of = YUG
						NOT = { is_core_of = SER }
					}
					remove_core_of = YUG
				}
				every_state = {
					limit = {
						is_core_of = SER
					}
					remove_core_of = SER
				}
			}
		}
	}
	
	##############################
	##### CRUSH NATIONALISM ######
	##############################
	
	focus = {
		id = YUG_evolution
		icon = GFX_goal_anschluss
		prerequisite = { focus = YUG_attract_allied_capital focus = YUG_attract_axis_capital }
		mutually_exclusive = { focus = YUG_limited_self_government }
		x = 0
		y = 1
		relative_position_id = YUG_attract_axis_capital

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_stability = -0.10
			every_owned_state = {
				limit = {
					is_core_of = SER
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = YUG_crush_the_ustasa
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = YUG_evolution }
		mutually_exclusive = { focus = YUG_establish_the_banovina_of_croatia }
		x = -1
		y = 1
		relative_position_id = YUG_evolution

		cost = 5

		ai_will_do = {
			factor = 60
		}

		available = {
			ITA = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			activate_mission = YUG_ustasa_uprising
			activate_mission = YUG_ustasa_crushed_mission
		}
	}

	focus = {
		id = YUG_establish_the_banovina_of_croatia
		icon = GFX_focus_YUG_banovina_of_croatia
		prerequisite = { focus = YUG_evolution }
		mutually_exclusive = { focus = YUG_crush_the_ustasa }
		x = 1
		y = 1
		relative_position_id = YUG_evolution

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			controls_state = 109
			controls_state = 103
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			remove_ideas = YUG_idea_croatian_opposition
			add_timed_idea = {
				idea = YUG_idea_croats_suppressed
				days = 1060
			}
		}
	}

	focus = {
		id = YUG_ban_slovene_nationalist_parties
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = YUG_crush_the_ustasa focus = YUG_establish_the_banovina_of_croatia }
		mutually_exclusive = { focus = YUG_slovenia_for_support }
		x = 0
		y = 1
		relative_position_id = YUG_establish_the_banovina_of_croatia

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {

		}

		completion_reward = {
			remove_ideas = YUG_idea_slovene_nationalism
			add_timed_idea = {
				idea = YUG_idea_slovene_nationalism_2
				days = 1060
			}
			ITA = {
				add_opinion_modifier = { 
						target = ROOT
						modifier = small_increase
				}
			}
		}
	}

	focus = {
		id = YUG_slovenia_for_support
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = YUG_crush_the_ustasa focus = YUG_establish_the_banovina_of_croatia }
		mutually_exclusive = { focus = YUG_ban_slovene_nationalist_parties }
		x = -2
		y = 1
		relative_position_id = YUG_establish_the_banovina_of_croatia

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {

		}

		completion_reward = {
			remove_ideas = YUG_idea_slovene_nationalism
			if = { #if Italy has made a puppet of Slovenia, it should go to them instead
				limit = {
					any_other_country = {
						is_subject_of = ITA
						102 = {
							is_core_of = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ITA
						102 = {
							is_core_of = PREV
						}
					}
					transfer_state = 102
				}
			}
			else = {
				ITA = {
					transfer_state = 102
				}
			}
			ITA = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = YUG_gave_away_slovenia
				}
			}
			hidden_effect = {
				add_opinion_modifier = { 
					target = ITA
					modifier = YUG_gave_away_slovenia
				}
			}
			102 = {
				remove_core_of = ROOT
			}
		}
	}
	
	focus = {
		id = YUG_concessions_for_macedonians
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = YUG_slovenia_for_support focus = YUG_ban_slovene_nationalist_parties }
		mutually_exclusive = { focus = YUG_surrender_macedonia }
		x = 0
		y = 1
		relative_position_id = YUG_ban_slovene_nationalist_parties

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			BUL = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			remove_ideas = YUG_idea_macedonian_opposition
			add_timed_idea = {
				idea = YUG_idea_macedonian_opposition_1
				days = 1060
			}
		}
	}
	
	focus = {
		id = YUG_surrender_macedonia
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = YUG_slovenia_for_support focus = YUG_ban_slovene_nationalist_parties }
		mutually_exclusive = { focus = YUG_concessions_for_macedonians }
		x = -2
		y = 1
		relative_position_id = YUG_ban_slovene_nationalist_parties

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			BUL = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
			owns_state = 106
			owns_state = 803
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			remove_ideas = YUG_idea_macedonian_opposition
			BUL = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = huge_increase
				}
				transfer_state = 106
				transfer_state = 803
			}
			106 = {
				remove_core_of = ROOT
			}
		}
	}

	focus = {
		id = YUG_invite_german_military_mission
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = YUG_concessions_for_macedonians focus = YUG_surrender_macedonia focus = YUG_banat_for_support focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		x = 0
		y = 1
		relative_position_id = YUG_surrender_macedonia

		cost = 5

		ai_will_do = {
			factor = 50
		}

		available = {
			GER = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			remove_ideas = anti_german_military
		}
	}

	focus = {
		id = YUG_join_axis
		icon = GFX_goal_support_fascism
		prerequisite = { focus = YUG_concessions_for_macedonians focus = YUG_surrender_macedonia focus = YUG_banat_for_support focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		mutually_exclusive = { focus = YUG_end_the_regency }
		x = 0
		y = 1
		relative_position_id = YUG_concessions_for_macedonians

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				GER = {
					NOT = { has_war_with = ROOT }
					has_government = fascism
					has_capitulated = no
					is_faction_leader = yes
				}
				any_other_country = {
					is_major = yes
					has_government = fascism
					is_faction_leader = yes
				}
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = YUG
				}
			}
		}

		bypass = {
			is_in_faction_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						GER = {
							exists = yes
							has_capitulated = no
							has_government = fascism
							is_faction_leader = yes
						}
					}
					GER = { country_event = DOD_yugoslavia.70 }
				}
				else = {
					get_best_alliance_match_fascism_effect = yes
					var:best_leader = {
						country_event = DOD_yugoslavia.70
					}
				}
			}
			effect_tooltip = {
				if = {
					limit = {
						GER = {
							exists = yes
							has_capitulated = no
							has_government = fascism
							is_faction_leader = yes
						}
					}
					GER = {
						add_opinion_modifier = { target = YUG modifier = tripartite_pact_opinion }
						reverse_add_opinion_modifier = { target = YUG modifier = tripartite_pact_opinion }
					}
				}
				else = {
					get_best_alliance_match_fascism_effect = yes
					var:best_leader = {
						add_opinion_modifier = { target = YUG modifier = tripartite_pact_opinion }
						reverse_add_opinion_modifier = { target = YUG modifier = tripartite_pact_opinion }
					}
				}
			}
			create_country_leader = {
				name = "Prince Paul"
				desc = "POLITICS_PRINCE_PAUL_DESC"
				picture = "Portrait_Yugoslavia_Prince_Paul.dds"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
					#
				}
			}
		}
	}

	focus = {
		id = YUG_zara_for_axis
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = YUG_join_axis }
		mutually_exclusive = { focus = YUG_surrender_italian_claims }
		x = 0
		y = 1
		relative_position_id = YUG_join_axis

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			ITA = {
				NOT = { has_war_with = ROOT }
				has_government = fascism
				has_capitulated = no
				controls_state = 163
				is_in_faction = yes
			}
			NOT = { has_completed_focus = YUG_end_the_regency }
		}

		bypass = {
			is_in_faction_with = ITA
			controls_state = 163
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			ITA = { country_event = { id = DOD_yugoslavia.80 days = 5 } }
		}
	}

	focus = {
		id = YUG_surrender_italian_claims
		icon = GFX_goal_support_fascism
		prerequisite = { focus = YUG_join_axis }
		mutually_exclusive = { focus = YUG_zara_for_axis }
		x = -2
		y = 1
		relative_position_id = YUG_join_axis

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				GER = {
					NOT = { has_war_with = ROOT }
					has_government = fascism
					has_capitulated = no
					is_faction_leader = yes
				}
				any_other_country = {
					is_major = yes
					has_government = fascism
					is_faction_leader = yes
				}
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = YUG
				}
			}
			NOT = { has_completed_focus = YUG_end_the_regency }
		}

		bypass = {
			is_in_faction_with = GER
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			163 = { remove_core_of = ROOT }
			736 = { remove_core_of = ROOT }
			if = {
				limit = {
					GER = {
						exists = yes
						has_capitulated = no
						has_government = fascism
						is_faction_leader = yes
					}
				}
				GER = { country_event = generic.2 }
			}
			else = {
				get_best_alliance_match_fascism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}

	focus = {
		id = YUG_claim_macedonia
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = YUG_zara_for_axis focus = YUG_surrender_italian_claims }
		x = -2
		y = 1
		relative_position_id = YUG_zara_for_axis

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			OR = {
				owns_state = 106
				any_country = {
					is_subject_of = ROOT
					owns_state = 106
				}
				MAC = {
					is_in_faction_with = ROOT
				}
			}
			NOT = { has_completed_focus = YUG_end_the_regency }
		}

		bypass = {
			NOT = {
				owns_state = 106
				any_country = {
					is_subject_of = ROOT
					owns_state = 106
				}
				MAC = {
					is_in_faction_with = ROOT
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					owns_state = 106
				}
				add_state_core = 731
			}
			else_if = {
				limit = {
					any_country = {
						is_subject_of = ROOT
						owns_state = 106
					}
				}
				random_country = {
					limit = {
						is_subject_of = ROOT
						owns_state = 106
					}
					add_state_core = 731
				}
			}
			else = {
				MAC = {
					add_state_core = 731
				}
			}
			news_event = { id = news.327 }
		}
	}

	
	focus = {
		id = YUG_greater_yugoslavia
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = YUG_claim_macedonia }
		x = 0
		y = 1
		relative_position_id = YUG_claim_macedonia

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		complete_tooltip = {

		}

		completion_reward = {
			BUL = {
				every_owned_state = {
					limit = { is_core_of = BUL }
					add_claim_by = YUG
				}
			}
			news_event = { id = news.325 }
		}
	}

	focus = {
		id = YUG_invite_italian_naval_experts
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = YUG_zara_for_axis focus = YUG_surrender_italian_claims }
		x = 0
		y = 1
		relative_position_id = YUG_zara_for_axis

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			ITA = {
				is_in_faction_with = ROOT
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_to_tech_sharing_group = YUG_naval_research_group
			ITA = {
				add_to_tech_sharing_group = YUG_naval_research_group
			}
			navy_experience = 50
		}
	}

	focus = {
		id = YUG_all_yugoslavian_regiments
		icon = GFX_goal_rhineland
		prerequisite = { focus = YUG_greater_yugoslavia }
		x = 0
		y = 1
		relative_position_id = YUG_greater_yugoslavia

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {
		
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }

		complete_tooltip = {

		}

		completion_reward = {
			add_ideas = YUG_idea_all_yugoslavian_regiments
		}
	}

	

	
	focus = {
		id = YUG_end_the_regency
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = YUG_concessions_for_macedonians focus = YUG_surrender_macedonia focus = YUG_banat_for_support focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		mutually_exclusive = { focus = YUG_join_axis }
		x = 0
		y = 1
		relative_position_id = YUG_banat_for_support

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			date > 1938.09.06
		}

		bypass = {
			has_country_leader = {
				name = "Peter II"
				ruling_only = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			retire_country_leader = yes
			if = {
				limit = {
					date < 1941.09.06
				}
				create_country_leader = {
					name = "Peter II"
					desc = "POLITICS_PETER_II_DESC"
					picture = "portrait_YUG_peter_II_young.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						underage_monarch
					}
				}
				create_country_leader = {
					name = "Peter II"
					desc = "POLITICS_PETER_II_DESC"
					picture = "portrait_YUG_peter_II_young.dds"
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						underage_monarch
					}
				}
			}
			else = {
				create_country_leader = {
					name = "Peter II"
					desc = "POLITICS_PETER_II_DESC"
					picture = "Portrait_Yugoslavia_Peter_II.dds"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						legitimate_heir
					}
				}
				create_country_leader = {
					name = "Peter II"
					desc = "POLITICS_PETER_II_DESC"
					picture = "Portrait_Yugoslavia_Peter_II.dds"
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						legitimate_heir
					}
				}
				hidden_effect = { set_country_flag = peter_is_of_age }
			}
		}
	}
	
	focus = {
		id = YUG_coronation
		icon = GFX_goal_support_democracy
		prerequisite = { focus = YUG_end_the_regency focus = YUG_join_axis }
		x = -2
		y = 1
		relative_position_id = YUG_end_the_regency

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				AND = {
					has_country_leader = {
						name = "Peter II"
						ruling_only = yes
					}
					NOT = { has_country_leader_with_trait = underage_monarch }
				}
				AND = {
					NOT = { has_idea = king_peter_1 }
					has_country_leader = {
						name = "Prince Paul"
						ruling_only = yes
					}
				}
			}
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_idea = king_peter_1
						NOT = { has_completed_focus = YUG_western_focus }
					}
				}
				set_party_name = { 
					ideology = neutrality
					name = YUG_kardocevik
					long_name = YUG_kardocevik
				}
			}
			hidden_effect = {
				country_event = { id = DOD_yugoslavia.60 }
			}
			effect_tooltip = { #This is what the actual event does. It's better to give the player a tooltip that tells them what the event does than to just tell them "X event happens"
				if = {
					limit = {
						has_country_leader = {
							name = "Prince Paul"
							ruling_only = yes
						}
						NOT = { has_idea = king_peter_1 }
						has_completed_focus = YUG_western_focus
					}
					create_country_leader = {
						name = "Paul I"
						desc = "POLITICS_PRINCE_PAUL_DESC"
						picture = "Portrait_Yugoslavia_Prince_Paul.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							collaborator_king
						}
					}
					set_party_name = { 
						ideology = fascism
						name = YUG_kardocevik
						long_name = YUG_kardocevik
					}
					set_party_name = { 
						ideology = neutrality
						name = YUG_peters_loyalists
						long_name = YUG_peters_loyalists
					}
					custom_effect_tooltip = all_subjects_become_fascist_tt
					if = {
						limit = {
							has_government = neutrality
						}
						custom_effect_tooltip = neutral_to_fascist_tt
						set_politics = {
							ruling_party = fascism
						}
					}
				}
				add_stability = 0.1
				add_war_support = 0.2
			}
		}
	}
	
	focus = {
		id = YUG_royal_wedding
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = YUG_end_the_regency }
		x = 0
		y = 1
		relative_position_id = YUG_end_the_regency

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			has_country_leader = {
				name = "Peter II"
				ruling_only = yes
			}
			NOT = { has_country_leader_with_trait = underage_monarch }
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			country_event = { id = DOD_yugoslavia.50 }
		}
	}

	focus = { #Yugoslavia joining the faction of the country they married
		id = YUG_join_allies
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = YUG_royal_wedding }
		prerequisite = { focus = YUG_coronation }
		mutually_exclusive = { focus = YUG_enforced_neutrality }
		x = 0
		y = 1
		relative_position_id = YUG_royal_wedding

		cost = 10 

		ai_will_do = {
			factor = 50
		}

		available = {
			hidden_trigger = {
				OR = {
					event_target:yugoslavia_wedding_partner = {
						NOT = { original_tag = YUG }
						is_in_faction = yes
					}
					AND = {
						hidden_trigger = { event_target:yugoslavia_wedding_partner = { original_tag = YUG } }
						any_other_country = {
							NOT = { has_war_with = ROOT }
							is_faction_leader = yes
							is_major = yes
							has_government = democratic
						}
						
						NOT = {
							any_other_country = {
								is_in_faction_with = ENG
								has_war_with = YUG
							}
						}
					}
				}
			}
		}

		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = YUG_royal_alliance_tt
			hidden_effect = {
				if = {
					limit = {
						event_target:yugoslavia_wedding_partner = {
							NOT = { original_tag = YUG }
							NOT = { has_war_with = ROOT }
							is_in_faction = yes
						}
					}
					if = {
						limit = {
							event_target:yugoslavia_wedding_partner = { is_faction_leader = yes }
						}
						event_target:yugoslavia_wedding_partner = {
							country_event = generic.2
						}
					}
					else = {
						random_other_country = {
							limit = {
								is_in_faction_with = event_target:yugoslavia_wedding_partner
								is_faction_leader = yes
							}
							country_event = generic.2
						}
					}
				}
				else = {
					if = {
						limit = { 
							ENG = {
								is_faction_leader = yes
								has_government = democratic
								not = { has_war_with = ROOT }
							}
						}
						ENG = { country_event = generic.2 }
					}
					else = {
						get_best_alliance_match_democratic_effect = yes
						var:best_leader = {
							country_event = generic.2
						}
					}
					if = {
						limit = {
							has_idea = YUG_idea_croatian_opposition
						}
						country_event = DOD_yugoslavia.10
					}
				}
			}
		}
	}

	focus = {
		id = YUG_allied_air_combat_school
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = YUG_join_allies }
		x = 0
		y = 1
		relative_position_id = YUG_join_allies

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_in_faction_with = ENG
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_to_tech_sharing_group = YUG_air_research_group
			ENG = {
				add_to_tech_sharing_group = YUG_air_research_group
			}
		}
	}
	
	focus = {
		id = YUG_enforced_neutrality
		icon = GFX_goal_generic_defence
		prerequisite = { focus = YUG_royal_wedding }
		prerequisite = { focus = YUG_coronation }
		mutually_exclusive = { focus = YUG_join_allies }
		x = 0
		y = 1
		relative_position_id = YUG_coronation

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = YUG_neutral_foreign_policy
			add_ideas = neutrality_idea
		}
	}
	
	focus = {
		id = YUG_fortress_yugoslavia
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = YUG_enforced_neutrality }
		x = 0
		y = 1
		relative_position_id = YUG_enforced_neutrality

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = {
					controls_state = 102
				}
				102 = {
					add_building_construction = { type = bunker province = 9627 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3631 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 596 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 665 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 6672 level = 3 instant_build = yes }
				}
				103 = {
					add_building_construction = { type = bunker province = 11564 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 11901 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 984 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3974 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3924 level = 3 instant_build = yes }
				}
				109 = {
					add_building_construction = { type = bunker province = 11594 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 9611 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3627 level = 3 instant_build = yes }
				}
			}
			else = {
				103 = {
					add_building_construction = { type = bunker province = 11564 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 11901 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 984 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3974 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3924 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3601 level = 3 instant_build = yes }
				}
				109 = {
					add_building_construction = { type = bunker province = 11564 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 9611 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3627 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 11581 level = 3 instant_build = yes }
					add_building_construction = { type = bunker province = 3592 level = 3 instant_build = yes }
				}
			}
		}
	}
	
	
	
	focus = {
		id = YUG_towards_independence
		icon = GFX_goal_tfv_sever_ties_with_uk
		prerequisite = { focus = YUG_banat_for_support focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		mutually_exclusive = { focus = YUG_united_kingdom }
		x = 0
		y = 1
		relative_position_id = YUG_autonomous_transylvania

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					NOT = { original_tag = YUG }
					is_subject_of = ROOT
				}
				add_autonomy_score = {
					value = 25
					localization = YUG_towards_independence_mod
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = huge_increase
				}
			}
		}
	}
	
	focus = {
		id = YUG_defence_army_of_yugoslavia
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = YUG_towards_independence }
		x = 0
		y = 1
		relative_position_id = YUG_towards_independence

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			division_template = {
				name = "Yugoslavian Defence Army"
				priority = 1
				division_names_group = YUG_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
		
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
		
					artillery_brigade = { x = 2 y = 0 }
					artillery_brigade = { x = 2 y = 1 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			set_division_template_lock = {
				division_template = "Yugoslavian Defence Army"
				is_locked = yes
			}
			random_owned_controlled_state = {
				limit = { PREV = { has_full_control_of_state = PREV } }
				create_unit = {
					division = "name = \"Yugoslavian Defence Army\" division_template = \"Yugoslavian Defence Army\" start_experience_factor = 0.9" 
					owner = PREV
				}
			}
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					NOT = { original_tag = YUG }
					is_subject_of = ROOT
				}
				division_template = {
					name = "Yugoslavian Defence Army"
					priority = 1
					division_names_group = YUG_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
			
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
			
						artillery_brigade = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
				}
				set_division_template_lock = {
					division_template = "Yugoslavian Defence Army"
					is_locked = yes
				}
				random_owned_controlled_state = {
					limit = { PREV = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"Yugoslavian Defence Army\" division_template = \"Yugoslavian Defence Army\" start_experience_factor = 0.9" 
						owner = PREV
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_defence_league
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_defence_army_of_yugoslavia }
		x = 0
		y = 1
		relative_position_id = YUG_defence_army_of_yugoslavia
		
		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			set_rule = {
				can_create_factions = yes
			}
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = YUGOSLAV_DEFENCE_LEAGUE
			}
			set_division_template_lock = {
				division_template = "Yugoslavian Defence Army"
				is_locked = no
			}
			random_owned_controlled_state = {
				limit = { PREV = { has_full_control_of_state = PREV } }
				create_unit = {
					division = "name = \"Yugoslavian Defence Army\" division_template = \"Yugoslavian Defence Army\" start_experience_factor = 0.9" 
					owner = PREV
				}
			}
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					NOT = { original_tag = YUG }
					is_subject_of = ROOT
				}
				PREV = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
				if = {
					limit = { PREV = { is_faction_leader = no } }
					random_other_country = {
						limit = {
							is_in_faction_with = PREV.PREV
							is_faction_leader = yes
						}
						add_to_faction = PREV
					}
				}
				else = {
					PREV = { add_to_faction = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
				set_division_template_lock = {
					division_template = "Yugoslavian Defence Army"
					is_locked = no
				}
				random_owned_controlled_state = {
					limit = { PREV = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"Yugoslavian Defence Army\" division_template = \"Yugoslavian Defence Army\" start_experience_factor = 0.9" 
						owner = PREV
					}
				}
			}
		}
	}
	
	focus = {
		id = YUG_united_kingdom
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = YUG_banat_for_support focus = YUG_autonomous_transylvania focus = YUG_fortify_banat }
		mutually_exclusive = { focus = YUG_towards_independence }
		x = 2
		y = 1
		relative_position_id = YUG_autonomous_transylvania

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			every_other_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					NOT = { original_tag = YUG }
					is_subject_of = ROOT
				}
				add_autonomy_score = {
					value = -25
					localization = YUG_towards_independence_mod
				}
				add_opinion_modifier = { 
					target = ROOT
					modifier = medium_decrease
				}
			}
		}
	}
	
	focus = {
		id = YUG_guarantee_religious_liberties
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = YUG_united_kingdom }
		mutually_exclusive = {  }
		x = 0
		y = 1
		relative_position_id = YUG_united_kingdom

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_ideas = YUG_idea_religious_freedoms_guaranteed
		}
	}
	
	focus = {
		id = YUG_reunite_the_kingdom
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = YUG_guarantee_religious_liberties }
		mutually_exclusive = {  }
		x = 0
		y = 1
		relative_position_id = YUG_guarantee_religious_liberties

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			drop_cosmetic_tag = yes
			every_other_country = {
				limit = {
					OR = {
						original_tag = SER
						original_tag = SLV
						original_tag = CRO
						original_tag = MNT
						original_tag = KOS
						original_tag = BOS
						original_tag = HRZ
						original_tag = MAC
						original_tag = TRA
						original_tag = HUN
						original_tag = BUL
					}
					is_subject_of = ROOT
				}
				every_state = {
					limit = { is_core_of = PREV }
					add_core_of = PREV.PREV
				}
				PREV = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
		}
	}


	############################
	#### RECOGNIZE SOVIET ######
	############################

	focus = {
		id = YUG_recognize_the_soviet_union
		icon = GFX_focus_generic_soviet_politics
		mutually_exclusive = { focus = YUG_western_focus }
		x = 11
		y = 0

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			SOV = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			SOV = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = medium_increase
				}
			}
			if = {
				limit = { 
					#has_dlc = "Battle for the Bosporus" #TODO
				}
				every_other_country = {
					limit = {
						has_opinion_modifier = BFTB_balkan_pact_ally
					}
					remove_opinion_modifier = {
						target = YUG
						modifier = BFTB_balkan_pact_ally
					}
					hidden_effect = {
						ROOT = {
							remove_opinion_modifier = {
								target = PREV
								modifier = BFTB_balkan_pact_ally
							}
						}
					}
				}
			}
			hidden_effect = { 
				news_event = { id = news.329 days = 3 random = 6 }
			}
		}
	}

	focus = {
		id = YUG_form_peasant_councils
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = YUG_recognize_the_soviet_union }
		x = -1
		y = 1
		relative_position_id = YUG_recognize_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 200
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_timed_idea = { idea = YUG_idea_peasant_councils days = 730 }
		}
	}

	focus = {
		id = YUG_mutual_economic_aid
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = YUG_recognize_the_soviet_union }
		x = 1
		y = 1
		relative_position_id = YUG_recognize_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 200
		}

		available = {
			SOV = {
				NOT = { has_war_with = ROOT }
				exists = yes
				has_capitulated = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = { idea = YUG_idea_economic_aid days = 720 }
			SOV = {
				add_timed_idea = { idea = YUG_idea_economic_aid days = 365 }
				add_ai_strategy = {
					type = protect
					id = "YUG"
					value = 100
				}
				add_ai_strategy = {
					type = support
					id = "YUG"
					value = 100
				}
			}
		}
	}

	focus = {
		id = YUG_abolish_the_monarchy
		icon = GFX_goal_tfv_burn_the_royal_portraits
		prerequisite = { focus = YUG_form_peasant_councils }
		prerequisite = { focus = YUG_mutual_economic_aid }
		x = 0
		y = 2
		relative_position_id = YUG_recognize_the_soviet_union

		cost = 10

		ai_will_do = {
			factor = 150
		}

		available = {
			communism > 0.4
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			add_popularity = {
				ideology = neutrality
				popularity = -0.2
			}
			effect_tooltip = {
				swap_ideas = { remove_idea = YUG_idea_peasant_councils add_idea = YUG_idea_empowered_peasant_councils }
			}
			hidden_effect = {
				remove_ideas = { YUG_idea_peasant_councils }
				add_ideas = { YUG_idea_empowered_peasant_councils }
			}
		}
	}

	focus = {
		id = YUG_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = YUG_abolish_the_monarchy }
		mutually_exclusive = { focus = YUG_yugoslavian_path_to_communism }
		x = -1
		y = 1
		relative_position_id = YUG_abolish_the_monarchy

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			is_in_faction = no
			OR = {
				SOV = {
					NOT = { has_war_with = ROOT }
					exists = yes
					has_capitulated = no
				}
				any_other_country = {
					is_major = yes
					has_government = communism
					is_faction_leader = yes
				}
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = YUG
				}
			}
		}

		bypass = {
			is_in_faction_with = SOV
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {
				limit = {
					SOV = {
						exists = yes
						has_government = communism
						is_faction_leader = yes
					}
				}
				SOV = {
					country_event = generic.2
				}
			}
			else = {
				get_best_alliance_match_communism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}

	focus = {
		id = YUG_yugoslavian_path_to_communism
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = YUG_abolish_the_monarchy }
		mutually_exclusive = { focus = YUG_join_comintern }
		x = 1
		y = 1
		relative_position_id = YUG_abolish_the_monarchy

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			is_in_faction = no
		}

		bypass = {
			is_in_faction = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			swap_ideas = { remove_idea = YUG_idea_empowered_peasant_councils add_idea = YUG_idea_very_empowered_peasant_councils }
		}
	}

	focus = {
		id = YUG_form_the_federal_republic
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = YUG_yugoslavian_path_to_communism focus = YUG_join_comintern }
		x = 0
		y = 1
		relative_position_id = YUG_yugoslavian_path_to_communism

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			remove_ideas = YUG_idea_croatian_opposition
			remove_ideas = YUG_idea_macedonian_opposition
			remove_ideas = YUG_idea_slovene_nationalism
		}
	}

	focus = {
		id = YUG_pan_slavic_workers_congress
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = YUG_yugoslavian_path_to_communism }
		x = 3
		y = 1
		relative_position_id = YUG_yugoslavian_path_to_communism

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = panslavic_workers_congress
			unlock_decision_tooltip = YUG_instigate_in_bulgaria
			unlock_decision_tooltip = YUG_instigate_in_albania
			hidden_effect = { news_event = { id = news.330 } }
		}
	}

	focus = {
		id = YUG_research_collaboration
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = YUG_join_comintern }
		x = 0
		y = 1
		relative_position_id = YUG_join_comintern

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_in_faction_with = SOV
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_to_tech_sharing_group = YUG_SOV_research_group
			SOV = {
				add_to_tech_sharing_group = YUG_SOV_research_group
			}
		}
	}

	focus = {
		id = YUG_federal_defense_council
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = YUG_form_the_federal_republic }
		x = 0
		y = 2
		relative_position_id = YUG_yugoslavian_path_to_communism

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			if = {
				limit = {
					has_idea = YUG_idea_serbian_general_staff
				}
				swap_ideas = { remove_idea = YUG_idea_serbian_general_staff add_idea = YUG_idea_federal_defense_council }
			}
			if = {
				limit = {
					has_idea = YUG_idea_yugoslavian_general_staff
				}
				swap_ideas = { remove_idea = YUG_idea_yugoslavian_general_staff add_idea = YUG_idea_federal_defense_council }
			}
		}
	}

	focus = {
		id = YUG_invite_bulgaria
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_pan_slavic_workers_congress }
		x = -1
		y = 1
		relative_position_id = YUG_pan_slavic_workers_congress

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			BUL = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			BUL = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			BUL = {
				country_event = generic.5
			}
		}
	}

	focus = {
		id = YUG_invite_albania
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_pan_slavic_workers_congress }
		x = 1
		y = 1
		relative_position_id = YUG_pan_slavic_workers_congress

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			ALB = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			ALB = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			ALB = {
				country_event = generic.5
			}
		}
	}

	focus = {
		id = YUG_pan_balkan_workers_congress
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = YUG_invite_bulgaria }
		prerequisite = { focus = YUG_invite_albania }
		prerequisite = { focus = YUG_federal_defense_council }
		x = -1
		y = 1
		relative_position_id = YUG_invite_bulgaria

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			is_faction_leader = yes
			is_subject = no
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			set_faction_name = panbalkan_workers_congress
			unlock_decision_tooltip = YUG_instigate_in_greece
			unlock_decision_tooltip = YUG_instigate_in_romania
			unlock_decision_tooltip = YUG_instigate_in_hungary
		}
	}

	focus = {
		id = YUG_invite_romania
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_pan_balkan_workers_congress }
		x = -2
		y = 1
		relative_position_id = YUG_pan_balkan_workers_congress

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			ROM = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			ROM = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			ROM = {
				country_event = generic.5
			}
			if = {
				limit = {
					has_completed_focus = YUG_invite_greece
					has_completed_focus = YUG_invite_hungary
				}
				unlock_decision_tooltip = YUG_instigate_in_turkey
			}
		}
	}

	focus = {
		id = YUG_invite_greece
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_pan_balkan_workers_congress }
		x = 0
		y = 1
		relative_position_id = YUG_pan_balkan_workers_congress

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			GRE = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			GRE = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			GRE = {
				country_event = generic.5
			}
			if = {
				limit = {
					has_completed_focus = YUG_invite_hungary
					has_completed_focus = YUG_invite_romania
				}
				unlock_decision_tooltip = YUG_instigate_in_turkey
			}
		}
	}

	focus = {
		id = YUG_invite_hungary
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_pan_balkan_workers_congress }
		x = 2
		y = 1
		relative_position_id = YUG_pan_balkan_workers_congress

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			HUN = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			HUN = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			HUN = {
				country_event = generic.5
			}
			if = {
				limit = {
					has_completed_focus = YUG_invite_greece
					has_completed_focus = YUG_invite_romania
				}
				unlock_decision_tooltip = YUG_instigate_in_turkey
			}
		}
	}

	focus = {
		id = YUG_invite_turkey
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = YUG_invite_greece }
		prerequisite = { focus = YUG_invite_hungary }
		prerequisite = { focus = YUG_invite_romania }
		x = 0
		y = 1
		relative_position_id = YUG_invite_greece

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			TUR = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
				has_government = communism
			}
			is_faction_leader = yes
		}

		bypass = {
			TUR = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
					AND = {
						NOT = {
							has_government = communism
						}
						hidden_trigger = { has_country_flag = had_yugo_civil_war_flag }
						has_civil_war = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }

		complete_tooltip = {

		}

		completion_reward = {
			TUR = {
				country_event = generic.5
			}
		}
	}


	############################
	######### INDUSTRY #########
	############################

	focus = {
		id = YUG_industrialization_program
		icon = GFX_goal_generic_construction
		x = 20
		y = 0

		cost = 10

		ai_will_do = {
			factor = 80
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}

	focus = {
		id = YUG_expand_the_mining_industry
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = YUG_industrialization_program }
		x = 0
		y = 1
		relative_position_id = YUG_industrialization_program

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_expanded_mining_industry
		}
	}

	focus = {
		id = YUG_rare_minerals_exploitation
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = YUG_expand_the_mining_industry }
		x = -3
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
			}
		}

		available = {
			
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					105 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									tag = MNT
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				105 = {
					add_resource = {
						type = tungsten
						amount = 8
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 105 }
					add_resource = {
						type = tungsten
						amount = 8
					}
				}
			}
			if = {
				limit = {
					109 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									tag = MNT
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				109 = {
					add_resource = {
						type = chromium
						amount = 8
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 109 }
					add_resource = {
						type = chromium
						amount = 8
					}
				}
			}
		}
	}

	focus = {
		id = YUG_exploit_the_pannonian_deposits
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = YUG_rare_minerals_exploitation }
		x = 0
		y = 1
		relative_position_id = YUG_rare_minerals_exploitation

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
			}
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 45 }
				add_resource = {
					type = oil
					amount = 8
				}
			}
		}
	}

	focus = {
		id = YUG_develop_civilian_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = YUG_expand_the_mining_industry }
		mutually_exclusive = { focus = YUG_develop_military_industry }
		x = -1
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 60
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 102 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 109 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_expand_the_university_of_zagreb
		icon = GFX_focus_research
		prerequisite = { focus = YUG_develop_civilian_industry focus = YUG_develop_military_industry }
		x = 0
		y = 3
		relative_position_id = YUG_industrialization_program

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_idea = YUG_idea_croatian_opposition
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_integrated_rail_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = YUG_expand_the_university_of_zagreb }
		mutually_exclusive = { focus = YUG_improve_serbian_rail_network }
		x = 0
		y = 2
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			every_owned_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					owner = {
						NOT = { tag = ROOT }
						OR = {
							original_tag = SER
							original_tag = SLV
							original_tag = CRO
							original_tag = MNT
							original_tag = KOS
							original_tag = BOS
							original_tag = HRZ
							original_tag = MAC
							original_tag = TRA
							original_tag = HUN
							original_tag = BUL
						}
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_improve_light_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = YUG_integrated_rail_network focus = YUG_improve_serbian_rail_network }
		x = 1
		y = 3
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 80
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 104 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 106 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_develop_slovenian_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = YUG_integrated_rail_network }
		x = 0
		y = 4
		relative_position_id = YUG_develop_civilian_industry

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
		
		}

		completion_reward = {
			if = {
				limit = {
					102 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									tag = SLV
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				102 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 102 }
					limit = {
						ROOT = { has_full_control_of_state = PREV }
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = YUG_local_self_management
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = YUG_develop_slovenian_industry }
		x = 0
		y = 1
		relative_position_id = YUG_develop_slovenian_industry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_local_self_management
		}
	}

	focus = {
		id = YUG_expand_the_university_of_ljubljana
		icon = GFX_focus_research
		prerequisite = { focus = YUG_develop_slovenian_industry }
		x = -2
		y = 1
		relative_position_id = YUG_develop_slovenian_industry

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_idea = YUG_idea_slovene_nationalism
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_develop_military_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = YUG_expand_the_mining_industry }
		mutually_exclusive = { focus = YUG_develop_civilian_industry }
		x = 1
		y = 1
		relative_position_id = YUG_expand_the_mining_industry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_improve_serbian_rail_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = YUG_expand_the_university_of_zagreb }
		mutually_exclusive = { focus = YUG_integrated_rail_network }
		x = 0
		y = 2
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		available = {
			OR = {
				has_full_control_of_state = 45
				has_full_control_of_state = 105
				has_full_control_of_state = 107
				has_full_control_of_state = 108
				has_full_control_of_state = 764
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					45 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				45 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					105 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				105 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					107 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				107 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					108 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				108 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					764 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				764 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					803 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				803 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = YUG_serbian_steel
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = YUG_improve_serbian_rail_network }
		x = 1
		y = 3
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {
			has_full_control_of_state = 108
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			108 = {
				add_resource = {
					type = steel
					amount = 16
				}
			}
		}
	}

	focus = {
		id = YUG_expand_the_university_of_belgrad
		icon = GFX_focus_research
		prerequisite = { focus = YUG_improve_serbian_rail_network }
		x = 0
		y = 4
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = YUG_central_management
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = YUG_expand_the_university_of_belgrad }
		x = 0
		y = 5
		relative_position_id = YUG_develop_military_industry

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			add_ideas = YUG_idea_central_management
		}
	}

	focus = {
		id = YUG_expand_the_sarajevo_arsenals
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = YUG_local_self_management focus = YUG_central_management }
		x = 1
		y = 1
		relative_position_id = YUG_local_self_management

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			if = {
				limit = {
					104 = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									tag = BOS
									is_in_faction_with = ROOT
								}
							}
						}
					}
				}
				104 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 104 }
					limit = {									
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	
	############################
	######## AIR FORCE #########
	############################

	focus = {
		id = YUG_modernize_the_air_force
		icon = GFX_goal_generic_air_doctrine
		x = 27
		y = 0

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 1.0
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = YUG_local_developers
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = YUG_modernize_the_air_force }
		mutually_exclusive = { focus = YUG_purchase_foreign }
		x = -2
		y = 1
		relative_position_id = YUG_modernize_the_air_force

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_ideas = HUN_indigenous_designs #emergency fix
		}
	}

	focus = {
		id = YUG_ikarus
		icon = GFX_focus_YUG_ikarus
		prerequisite = { focus = YUG_local_developers }
		x = -2
		y = 1
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt

			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_rogozarski
		icon = GFX_focus_YUG_rogozarski
		prerequisite = { focus = YUG_local_developers }
		x = 0
		y = 1
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_zmaj
		icon = GFX_focus_YUG_zmaj
		prerequisite = { focus = YUG_local_developers }
		x = 2
		y = 1
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			custom_effect_tooltip = YUG_designer_tt
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_the_ik_3
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = YUG_ikarus focus = YUG_rogozarski focus = YUG_zmaj }
		x = 0
		y = 2
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_the_ik_3
				bonus = 3.0
				ahead_reduction = 2
				uses = 1
				category = light_fighter
			}
		}
	}

	focus = {
		id = YUG_heavy_fighter_project
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = YUG_the_ik_3 }
		x = -1
		y = 3
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_heavy_fighter_project
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter
			}
		}
	}

	focus = {
		id = YUG_bomber_project
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = YUG_the_ik_3 }
		x = 1
		y = 3
		relative_position_id = YUG_local_developers

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_bomber_project
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
		}
	}

	focus = {
		id = YUG_purchase_foreign
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = YUG_modernize_the_air_force }
		mutually_exclusive = { focus = YUG_local_developers }
		x = 2
		y = 1
		relative_position_id = YUG_modernize_the_air_force

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_war_with = GER
					}
				}
				GER = { country_event = DOD_yugoslavia.20 }
			}
			if = {
				limit = {
					NOT = {
						has_war_with = ITA
					}
				}
				ITA = { country_event = DOD_yugoslavia.20 }
			}
			if = {
				limit = {
					NOT = {
						has_war_with = ENG
					}
				}
				ENG = { country_event = DOD_yugoslavia.20 }
			}
			if = {
				limit = {
					NOT = {
						has_war_with = FRA
					}
				}
				FRA = { country_event = DOD_yugoslavia.20 }
			}
		}
	}

	focus = {
		id = YUG_license_production
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = YUG_purchase_foreign }
		x = 0
		y = 1
		relative_position_id = YUG_purchase_foreign

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = YUG_license_production
		}
	}

	focus = {
		id = YUG_fighter_license
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = YUG_license_production }
		mutually_exclusive = { focus = YUG_bomber_license }
		x = -1
		y = 2
		relative_position_id = YUG_purchase_foreign

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {
			NOT = {
				has_tech = fighter3
				has_tech = heavy_fighter3
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_YUG = yes
							is_available_heavy_fighter_YUG = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_YUG = yes
							is_available_heavy_fighter_YUG = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_YUG = yes
							is_available_heavy_fighter_YUG = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_YUG = yes
							is_available_heavy_fighter_YUG = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_YUG = yes
							is_available_heavy_fighter_YUG = yes
						}
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = DOD_yugoslavia.150
		}
	}

	focus = {
		id = YUG_bomber_license
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = YUG_license_production }
		mutually_exclusive = { focus = YUG_fighter_license }
		x = 1
		y = 2
		relative_position_id = YUG_purchase_foreign

		cost = 10

		ai_will_do = {
			factor = 25
		}

		
		available = {
			NOT = {
				has_tech = CAS3
				has_tech = tactical_bomber3
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_YUG = yes
							is_available_tac_YUG = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_YUG = yes
							is_available_tac_YUG = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_YUG = yes
							is_available_tac_YUG = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_YUG = yes
							is_available_tac_YUG = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = bomber_tt
						OR = {
							is_available_cas_YUG = yes
							is_available_tac_YUG = yes
						}
					}
				}
			}
		}
		

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = DOD_yugoslavia.160
		}
	}

	############################
	######## LAND FORCE ########
	############################

	focus = {
		id = YUG_army_modernization
		icon = GFX_goal_generic_army_doctrines
		x = 37
		y = 0

		cost = 10

		ai_will_do = {
			factor = 70
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			army_experience = 25
		}
	}

	focus = {
		id = YUG_motorize_the_cavalry
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = YUG_army_modernization }
		x = -3
		y = 1
		relative_position_id =  YUG_army_modernization

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_motorize_the_cavalry
				bonus = 3.0
				technology = motorised_infantry
			}
		}
	}

	focus = {
		id = YUG_motorized_logistics
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = YUG_motorize_the_cavalry }
		x = -2
		y = 1
		relative_position_id = YUG_motorize_the_cavalry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_motorized_logistics
				bonus = 1.0
				uses = 2
				category = hospital_tech
				category = logistics_tech
			}
		}
	}

	focus = {
		id = YUG_armored_cavalry
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = YUG_motorize_the_cavalry }
		x = 0
		y = 1
		relative_position_id = YUG_motorize_the_cavalry

		cost = 10

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_armored_cavalry
				bonus = 1.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = YUG_tank_conversions
		icon = GFX_goal_generic_production2
		prerequisite = { focus = YUG_armored_cavalry }
		mutually_exclusive = { focus = YUG_modern_tanks }
		x = -2
		y = 2
		relative_position_id = YUG_motorize_the_cavalry

		cost = 10

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = YUG_idea_tank_conversions
		}
	}

	focus = {
		id = YUG_modern_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = YUG_armored_cavalry }
		mutually_exclusive = { focus = YUG_tank_conversions }
		x = 0
		y = 2
		relative_position_id = YUG_motorize_the_cavalry

		cost = 10

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 3
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_tanks
				bonus = 1.0
				uses = 1
				category = armor
			}
		}
	}

	focus = {
		id = YUG_tank_licenses
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = YUG_modern_tanks }
		x = 0
		y = 3
		relative_position_id = YUG_motorize_the_cavalry

		cost = 10

		ai_will_do = {
			factor = 60
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = YUG_tank_licenses
		}
	}

	focus = {
		id = YUG_small_arms
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = YUG_army_modernization }
		x = -1
		y = 1
		relative_position_id = YUG_army_modernization

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_small_arms
				bonus = 1.00
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = YUG_domestic_artillery_production
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = YUG_small_arms }
		x = 0
		y = 1
		relative_position_id = YUG_small_arms

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_domestic_artillery_production
				bonus = 1.00
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = YUG_anti_tank_defenses
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = YUG_domestic_artillery_production }
		x = 0
		y = 2
		relative_position_id = YUG_small_arms

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_anti_tank_defenses
				bonus = 3.0
				uses = 1
				category = cat_anti_tank
			}
		}
	}

	focus = {
		id = YUG_mountain_brigades
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = YUG_army_modernization }
		x = 1
		y = 1
		relative_position_id = YUG_army_modernization

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_mountain_brigades
				bonus = 3.0
				uses = 1
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = YUG_independent_engineer_regiments
		icon = GFX_goal_generic_production
		prerequisite = { focus = YUG_mountain_brigades }
		x = 0
		y = 1
		relative_position_id = YUG_mountain_brigades

		cost = 10

		ai_will_do = {
			factor = 50
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_independent_engineer_regiments
				bonus = 3.0
				uses = 1
				category = engineers_tech
			}
		}
	}

	focus = {
		id = YUG_motorized_recon_companies
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = YUG_independent_engineer_regiments }
		x = 0
		y = 2
		relative_position_id = YUG_mountain_brigades

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_motorized_recon_companies
				bonus = 3.0
				uses = 1
				category = recon_tech
			}
		}
	}

	focus = {
		id = YUG_form_parachute_battalions
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = YUG_motorized_recon_companies }
		x = 0
		y = 3
		relative_position_id = YUG_mountain_brigades

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_form_parachute_battalions
				bonus = 3.0
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = YUG_army_maneuvers
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = YUG_army_modernization }
		x = 4
		y = 1
		relative_position_id = YUG_army_modernization

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_army_maneuvers
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = YUG_supremacy_of_offense
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = YUG_army_maneuvers }
		mutually_exclusive = { focus = YUG_supremacy_of_defense }
		x = -1
		y = 1
		relative_position_id = YUG_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_supremacy_of_offense
				bonus = 1.0
				uses = 2
				category = cat_mobile_warfare
				category = cat_superior_firepower
			}
		}
	}

	focus = {
		id = YUG_supremacy_of_defense
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = YUG_army_maneuvers }
		mutually_exclusive = { focus = YUG_supremacy_of_offense }
		x = 1
		y = 1
		relative_position_id = YUG_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 60
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_supremacy_of_defense
				bonus = 1.0
				uses = 2
				category = cat_grand_battle_plan
				category = cat_mass_assault
			}
		}
	}

	focus = {
		id = YUG_artillery_regiments
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = YUG_supremacy_of_offense focus = YUG_supremacy_of_defense }
		x = 0
		y = 2
		relative_position_id = YUG_army_maneuvers

		cost = 10

		ai_will_do = {
			factor = 70
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = YUG_artillery_regiments
		}
	}

	############################
	######## BOAT FORCE ########
	############################

	focus = {
		id = YUG_expand_the_split_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		mutually_exclusive = { focus = YUG_expand_the_serbian_shipyards }
		x = 45
		y = 0

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				has_full_control_of_state = 103
				any_other_country = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					has_full_control_of_state = 103
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			103 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_contest_the_adriatic
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = YUG_expand_the_split_shipyards }
		x = 0
		y = 1
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_contest_the_adriatic
				bonus = 1.0
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = YUG_replace_the_dalmacija
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = YUG_contest_the_adriatic }
		x = -1
		y = 2
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_replace_the_dalmacija
				bonus = 1.0
				uses = 1
				category = cl_tech
			}
		}
	}

	focus = {
		id = YUG_naval_bombers
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = YUG_contest_the_adriatic focus = YUG_coastal_defense }
		x = 1
		y = 2
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_naval_bombers
				bonus = 1.0
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = YUG_heavy_cruiser_project
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = YUG_replace_the_dalmacija }
		x = -1
		y = 3
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_heavy_cruiser_project
				bonus = 1.0
				uses = 1
				category = ca_tech
			}
		}
	}

	focus = {
		id = YUG_modern_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = YUG_naval_bombers }
		x = 1
		y = 3
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_destroyers
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = YUG_expand_the_serbian_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		mutually_exclusive = { focus = YUG_expand_the_split_shipyards }
		x = 3
		y = 0
		relative_position_id = YUG_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {
			OR = {
				has_full_control_of_state = 105
				any_other_country = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					has_full_control_of_state = 105
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
			105 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = YUG_coastal_defense
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = YUG_expand_the_serbian_shipyards }
		x = -1
		y = 1
		relative_position_id = YUG_expand_the_serbian_shipyards

		cost = 10

		ai_will_do = {
			factor = 30
		}

		available = {
			OR = {
				has_full_control_of_state = 103
				any_other_country = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					has_full_control_of_state = 103
				}
				has_full_control_of_state = 105
				any_other_country = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					has_full_control_of_state = 105
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			#forts on coast and harbor
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 103
						any_other_country = {
							OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
							has_full_control_of_state = 103
						}
					}
				}
				103 = {
					custom_effect_tooltip = YUG_coastal_defense_effect_tt1
					custom_effect_tooltip = YUG_coastal_defense_effect_tt2
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_coastal = yes
							}
							level = 2
							instant_build = yes
						}			
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 105
						any_other_country = {
							OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
							has_full_control_of_state = 105
						}
					} 
				}
				105 = {
					custom_effect_tooltip = YUG_coastal_defense_effect_tt1
					custom_effect_tooltip = YUG_coastal_defense_effect_tt2
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_coastal = yes
							}
							level = 2
							instant_build = yes
						}			
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = YUG_expand_the_submarine_fleet
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = YUG_coastal_defense }
		x = 0
		y = 2
		relative_position_id = YUG_expand_the_serbian_shipyards

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			add_tech_bonus = {
				name = YUG_expand_the_submarine_fleet
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		}
	}

}